<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="R语言, JackHCC">
    <meta name="description" content="R语言详解">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>R语言 | JackHCC</title>
    <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/favicon.png">

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/css/matery.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/css/my.css">
    
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/jquery/jquery.min.js"></script>
    
<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="JackHCC" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-hopscotch.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper head-container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/me.jpg" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">JackHCC</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-list" style="zoom: 0.6;"></i>
      
      <span>Tools</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="https://creativecc.cn/" target="_blank" rel="noopener">
          
          <i class="fas fa-book" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Creative工具导航</span>
        </a>
      </li>
      
      <li>
        <a href="https://blog.creativecc.cn/Arxiv-NLP-Reporter/" target="_blank" rel="noopener">
          
          <i class="fas fa-film" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>NLP每日论文</span>
        </a>
      </li>
      
      <li>
        <a href="http://chat.creativecc.cn/" target="_blank" rel="noopener">
          
          <i class="fas fa-music" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>RocketChat聊天室</span>
        </a>
      </li>
      
      <li>
        <a href="/contact">
          
          <i class="fas fa-comments" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Contact留言板</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/me.jpg" class="logo-img circle responsive-img">
        
        <div class="logo-name">JackHCC</div>
        <div class="logo-desc">
            
            Make the world betterrrr!!!
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-list"></i>
			
			Tools
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>   
				
                  <a href="https://creativecc.cn/ " target="_blank" rel="noopener" style="margin-left:75px";>
				  
				   <i class="fa fas fa-book" style="position: absolute;left:50px" ></i>
			      
		          <span>Creative工具导航</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="https://blog.creativecc.cn/Arxiv-NLP-Reporter/ " target="_blank" rel="noopener" style="margin-left:75px";>
				  
				   <i class="fa fas fa-film" style="position: absolute;left:50px" ></i>
			      
		          <span>NLP每日论文</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="http://chat.creativecc.cn/ " target="_blank" rel="noopener" style="margin-left:75px";>
				  
				   <i class="fa fas fa-music" style="position: absolute;left:50px" ></i>
			      
		          <span>RocketChat聊天室</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/contact " style="margin-left:75px";>
				  
				   <i class="fa fas fa-comments" style="position: absolute;left:50px" ></i>
			      
		          <span>Contact留言板</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/JackHCC/JackHCC.github.io" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/JackHCC/JackHCC.github.io" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/featureimages/5.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">R语言</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 30px;
        bottom: 146px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/R/">
                                <span class="chip bg-color">R</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Language/" class="post-category">
                                Language
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-03-24
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2021-11-06
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    808
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    3 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>

        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="基础篇"><a href="#基础篇" class="headerlink" title="基础篇"></a>基础篇</h1><h1 id="一-R环境设置"><a href="#一-R环境设置" class="headerlink" title="一.R环境设置"></a>一.R环境设置</h1><h3 id="尝试在线环境"><a href="#尝试在线环境" class="headerlink" title="尝试在线环境"></a>尝试在线环境</h3><p>你真的不需要设置自己的环境来开始学习R编程语言。 原因很简单，我们已经在线设置了R编程环境，以便您可以在进行理论工作的同时在线编译和执行所有可用的示例。 这给你对你正在阅读的信心，并用不同的选项检查结果。 随意修改任何示例并在线执行。<br>实例：</p>
<pre class="line-numbers language-R"><code class="language-R"># Print Hello World. 
print("Hello World") 

# Add two numbers. 
print(23.9 + 11.6)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Windows安装"><a href="#Windows安装" class="headerlink" title="Windows安装"></a>Windows安装</h3><p>您可以从<a href="https://cran.r-project.org/bin/windows/base/" target="_blank" rel="noopener">R-3.2.2 for Windows（32/64位）</a>下载R的Windows安装程序版本，并将其保存在本地目录中。</p>
<p>因为它是一个名为“R-version-win.exe”的Windows安装程序（.exe）。 您只需双击并运行安装程序接受默认设置即可。 如果您的Windows是32位版本，它将安装32位版本。 但是如果你的窗口是64位，那么它安装32位和64位版本。</p>
<p>安装后，您可以找到该图标，以在Windows程序文件下的目录结构“R \ R3.2.2 \ bin \ i386 \ Rgui.exe”中运行程序。 单击此图标会打开R-GUI，它是R控制台来执行R编程。</p>
<h3 id="Linux安装"><a href="#Linux安装" class="headerlink" title="Linux安装"></a>Linux安装</h3><p><a href="https://cran.r-project.org/bin/linux/" target="_blank" rel="noopener">R</a>语言适用于多版本的Linux系统。</p>
<p>各版本Linux的各有不同。具体的安装步骤在上述资源中有对应的教程。但是，如果你是在赶时间，那么你可以用<strong>yum</strong>命令，如下所示的安装指令<br>安装R</p>
<pre><code>$ yum install R</code></pre><p>以上命令将安装R编程的核心功能与标准包，额外的包需要另外安装，而后你可以按如下提示启动R。</p>
<pre><code>$ R

R version 3.2.0 (2015-04-16) -- "Full of  Ingredients"          
Copyright (C) 2015 The R Foundation for Statistical Computing
Platform: x86_64-redhat-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many  contributors.                    
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

&gt;  </code></pre><p>现在，您可以在R语言提示符下使用install命令安装所需的软件包。 例如，以下命令将安装为3D图表所需的plotrix软件包。</p>
<pre><code>&gt; install.packages("plotrix")</code></pre><h1 id="二-R语言-基本语法"><a href="#二-R语言-基本语法" class="headerlink" title="二.R语言 基本语法"></a>二.R语言 基本语法</h1><h3 id="命令提示符"><a href="#命令提示符" class="headerlink" title="命令提示符"></a>命令提示符</h3><p>如果你已经配置好R语言环境，那么你只需要按一下的命令便可轻易开启命令提示符</p>
<pre><code>$ R</code></pre><p>这将启动R语言解释器，你会得到一个提示 &gt; 在那里你可以开始输入你的程序，具体如下。</p>
<pre><code>&gt; myString &lt;- "Hello, World!"
&gt; print ( myString)
[1] "Hello, World!"</code></pre><p>在这里，第一个语句先定义一个字符串变量myString，并将“Hello，World！”赋值其中，第二句则使用print()语句将变量myString的内容进行打印。</p>
<h3 id="脚本文件"><a href="#脚本文件" class="headerlink" title="脚本文件"></a>脚本文件</h3><p>通常，您将通过在脚本文件中编写程序来执行编程，然后在命令提示符下使用R解释器（称为Rscript）来执行这些脚本。 所以让我们开始在一个命名为test.R的文本文件中编写下面的代码</p>
<pre class="line-numbers language-R"><code class="language-R"># My first program in R Programming
myString <- "Hello, World!"

print ( myString)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>将上述代码保存在test.R文件中，并在Linux命令提示符下执行，如下所示。 即使您使用的是Windows或其他系统，语法也将保持不变。</p>
<pre><code>$ Rscript test.R </code></pre><p>当我们运行上面的程序，它产生以下结果。</p>
<pre><code>[1] "Hello, World!"</code></pre><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><p>注释能帮助您解释R语言程序中的脚本，它们在实际执行程序时会被解释器忽略。 单个注释使用＃在语句的开头写入，如下所示</p>
<pre><code># My first program in R Programming</code></pre><p>R语言不支持多行注释，但你可以使用一个小技巧，如下</p>
<pre class="line-numbers language-R"><code class="language-R">if(FALSE) {
   "This is a demo for multi-line comments and it should be put inside either a single
      OR double quote"
}

myString <- "Hello, World!"
print ( myString)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>虽然上面的注释将由R解释器执行，但它们不会干扰您的实际程序。 但是你必须为内容加上单引号或双引号。</p>
<h1 id="三-数据结构"><a href="#三-数据结构" class="headerlink" title="三.数据结构"></a>三.数据结构</h1><p>通常，在使用任何编程语言进行编程时，您需要使用各种变量来存储各种信息。 变量只是保留值的存储位置。 这意味着，当你创建一个变量，你必须在内存中保留一些空间来存储它们。</p>
<p>您可能想存储各种数据类型的信息，如字符，宽字符，整数，浮点，双浮点，布尔等。基于变量的数据类型，操作系统分配内存并决定什么可以存储在保留内存中。</p>
<p>与其他编程语言（如C中的C和java）相反，变量不会声明为某种数据类型。 变量分配有R对象，R对象的数据类型变为变量的数据类型。尽管有很多类型的R对象，但经常使用的是：</p>
<ul>
<li><p>矢量</p>
</li>
<li><p>列表</p>
</li>
<li><p>矩阵</p>
</li>
<li><p>数组</p>
</li>
<li><p>因子</p>
</li>
<li><p>数据帧<br>这些对象中最简单的是向量对象，并且这些原子向量有六种数据类型，也称为六类向量。 其他R对象建立在原子向量之上。</p>
</li>
<li><p>Logical（逻辑型）：TRUE, FALSE </p>
</li>
<li><p>Numeric（数字）    12.3，5，999</p>
</li>
<li><p>Integer（整型）    2L，34L，0L</p>
</li>
<li><p>Complex（复合型）    3 + 2i</p>
</li>
<li><p>Character（字符）    ‘a’ , ‘“good”, “TRUE”, ‘23.4’</p>
</li>
<li><p>Raw（原型）    “Hello” 被存储为 48 65 6c 6c 6f<br>在R编程中，非常基本的数据类型是称为向量的R对象，其保存如上所示的不同类的元素。 请注意，在R中，类的数量不仅限于上述六种类型。 例如，我们可以使用许多原子向量并创建一个数组，其类将成为数组。</p>
<h3 id="Vectors-向量"><a href="#Vectors-向量" class="headerlink" title="Vectors 向量"></a>Vectors 向量</h3><p>当你想用多个元素创建向量时，你应该使用c()函数，这意味着将元素组合成一个向量。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a vector.
apple <- c('red','green',"yellow")
print(apple)
# Get the class of the vector.
print(class(apple))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果</p>
<pre><code>[1] "red"    "green"  "yellow"
[1] "character"</code></pre><h3 id="Lists-列表"><a href="#Lists-列表" class="headerlink" title="Lists 列表"></a>Lists 列表</h3><p>列表是一个R对象，它可以在其中包含许多不同类型的元素，如向量，函数甚至其中的另一个列表。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a list.
list1 <- list(c(2,5,3),21.3,sin)
# Print the list.
print(list1)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果</p>
<pre><code>[[1]]
[1] 2 5 3
[[2]]
[1] 21.3
[[3]]
function (x)  .Primitive("sin")
### Matrices 矩阵</code></pre><p>矩阵是二维矩形数据集。 它可以使用矩阵函数的向量输入创建。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a matrix.
M = matrix( c('a','a','b','c','b','a'), nrow = 2, ncol = 3, byrow = TRUE)
print(M)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果</p>
<pre><code>   [,1] [,2] [,3]
[1,] "a"  "a"  "b" 
[2,] "c"  "b"  "a"</code></pre><h3 id="Arrays-数组"><a href="#Arrays-数组" class="headerlink" title="Arrays 数组"></a>Arrays 数组</h3><p>虽然矩阵被限制为二维，但阵列可以具有任何数量的维度。 数组函数使用一个dim属性创建所需的维数。 在下面的例子中，我们创建了一个包含两个元素的数组，每个元素为3x3个矩阵。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create an array.
a <- array(c('green','yellow'),dim = c(3,3,2))
print(a)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果</p>
<pre><code>, , 1

   [,1]     [,2]     [,3]    
[1,] "green"  "yellow" "green" 
[2,] "yellow" "green"  "yellow"
[3,] "green"  "yellow" "green" 
, , 2

   [,1]     [,2]     [,3]    
[1,] "yellow" "green"  "yellow"
[2,] "green"  "yellow" "green" 
[3,] "yellow" "green"  "yellow"  </code></pre><h3 id="Factors-因子"><a href="#Factors-因子" class="headerlink" title="Factors 因子"></a>Factors 因子</h3><p>因子是使用向量创建的r对象。 它将向量与向量中元素的不同值一起存储为标签。 标签总是字符，不管它在输入向量中是数字还是字符或布尔等。 它们在统计建模中非常有用。<br>使用factor()函数创建因子。nlevels函数给出级别计数。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a vector.
apple_colors <- c('green','green','yellow','red','red','red','green')
# Create a factor object.
factor_apple <- factor(apple_colors)
# Print the factor.
print(factor_apple)
print(nlevels(factor_apple))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果</p>
<pre><code>[1] green  green  yellow red    red    red    yellow green 
Levels: green red yellow
# applying the nlevels function we can know the number of distinct values
[1] 3</code></pre><h3 id="Data-Frames-数据帧"><a href="#Data-Frames-数据帧" class="headerlink" title="Data Frames 数据帧"></a>Data Frames 数据帧</h3><p>数据帧是表格数据对象。 与数据帧中的矩阵不同，每列可以包含不同的数据模式。 第一列可以是数字，而第二列可以是字符，第三列可以是逻辑的。 它是等长度的向量的列表。<br>使用data.frame()函数创建数据帧。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create the data frame.
BMI <-     data.frame(
 gender = c("Male", "Male","Female"), 
 height = c(152, 171.5, 165), 
 weight = c(81,93, 78),
 Age = c(42,38,26)
)
print(BMI)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果</p>
<pre><code>gender height weight Age
1   Male  152.0     81  42
2   Male  171.5     93  38
3 Female  165.0     78  26  </code></pre><h1 id="四-变量"><a href="#四-变量" class="headerlink" title="四.变量"></a>四.变量</h1><p>变量为我们提供了我们的程序可以操作的命名存储。 R语言中的变量可以存储原子向量，原子向量组或许多Robject的组合。 有效的变量名称由字母，数字和点或下划线字符组成。 变量名以字母或不以数字后跟的点开头。<br>注：有字母，数字，点和下划线，其中只能字母开头</p>
<h3 id="变量赋值"><a href="#变量赋值" class="headerlink" title="变量赋值"></a>变量赋值</h3><p>可以使用向左，向右和等于运算符来为变量分配值。 可以使用print()或cat()函数打印变量的值。 cat()函数将多个项目组合成连续打印输出。</p>
<pre class="line-numbers language-R"><code class="language-R"># Assignment using equal operator.
var.1 = c(0,1,2,3)           
# Assignment using leftward operator.
var.2 <- c("learn","R")   
# Assignment using rightward operator.   
c(TRUE,1) -> var.3           
print(var.1)
cat ("var.1 is ", var.1 ,"
")
cat ("var.2 is ", var.2 ,"
")
cat ("var.3 is ", var.3 ,"
")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 0 1 2 3
var.1 is  0 1 2 3 
var.2 is  learn R 
var.3 is  1 1 </code></pre><p>注 - 向量c（TRUE，1）具有逻辑和数值类的混合。 因此，逻辑类强制转换为数字类，使TRUE为1。</p>
<h3 id="变量的数据类型"><a href="#变量的数据类型" class="headerlink" title="变量的数据类型"></a>变量的数据类型</h3><p>在R语言中，变量本身没有声明任何数据类型，而是获取分配给它的R - 对象的数据类型。 所以R称为动态类型语言，这意味着我们可以在程序中使用同一个变量时，一次又一次地更改变量的数据类型。</p>
<pre class="line-numbers language-R"><code class="language-R">var_x <- "Hello"
cat("The class of var_x is ",class(var_x),"
")
var_x <- 34.5
cat("  Now the class of var_x is ",class(var_x),"
")
var_x <- 27L
cat("   Next the class of var_x becomes ",class(var_x),"
")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>The class of var_x is  character 
 Now the class of var_x is  numeric 
    Next the class of var_x becomes  integer</code></pre><h3 id="查找变量"><a href="#查找变量" class="headerlink" title="查找变量"></a>查找变量</h3><p>要知道工作空间中当前可用的所有变量，我们使用ls()函数。 ls()函数也可以使用模式来匹配变量名。</p>
<pre class="line-numbers language-R"><code class="language-R">print(ls())<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] "my var"     "my_new_var" "my_var"     "var.1"      
[5] "var.2"      "var.3"      "var.name"   "var_name2."
[9] "var_x"      "varname" </code></pre><p>注意 - 它是一个示例输出，取决于在您的环境中声明的变量。<br>ls()函数可以使用模式来匹配变量名。<br>ls()函数可以使用模式来匹配变量名。</p>
<pre class="line-numbers language-R"><code class="language-R"># List the variables starting with the pattern "var".
print(ls(pattern = "var"))   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] "my var"     "my_new_var" "my_var"     "var.1"      
[5] "var.2"      "var.3"      "var.name"   "var_name2."
[9] "var_x"      "varname"    </code></pre><p>以点(.)开头的变量被隐藏，它们可以使用ls()函数的“all.names = TRUE”参数列出。</p>
<pre class="line-numbers language-R"><code class="language-R">print(ls(all.name = TRUE))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] ".cars"        ".Random.seed" ".var_name"    ".varname"     ".varname2"   
[6] "my var"       "my_new_var"   "my_var"       "var.1"        "var.2"        
[11]"var.3"        "var.name"     "var_name2."   "var_x"  </code></pre><h3 id="删除变量"><a href="#删除变量" class="headerlink" title="删除变量"></a>删除变量</h3><p>可以使用rm()函数删除变量。 下面我们删除变量var.3。 打印时，抛出变量错误的值。</p>
<pre class="line-numbers language-R"><code class="language-R">rm(var.3)
print(var.3)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] "var.3"
Error in print(var.3) : object 'var.3' not found</code></pre><p>所有的变量可以通过使用rm()和ls()函数一起删除。</p>
<pre class="line-numbers language-R"><code class="language-R">rm(list = ls())
print(ls())<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>character(0)</code></pre><h1 id="五-运算符"><a href="#五-运算符" class="headerlink" title="五.运算符"></a>五.运算符</h1><p>运算符是一个符号，通知编译器执行特定的数学或逻辑操作。 R语言具有丰富的内置运算符，并提供以下类型的运算符。</p>
</li>
</ul>
<h3 id="运算符的类型"><a href="#运算符的类型" class="headerlink" title="运算符的类型"></a>运算符的类型</h3><p>R语言中拥有如下几种运算符类型：</p>
<ul>
<li>算术运算符</li>
<li>关系运算符</li>
<li>逻辑运算符</li>
<li>赋值运算符</li>
<li>其他运算符</li>
<li>算术运算符<br>下表显示了R语言支持的算术运算符。 操作符对向量的每个元素起作用。<br>除了加减乘除</li>
<li>%%    两个向量求余</li>
<li>％/％    两个向量相除求商</li>
<li>^    将第二向量作为第一向量的指数<h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3>即大于小于等于以及不等于<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3>下表显示了R语言支持的逻辑运算符。 它只适用于逻辑，数字或复杂类型的向量。 所有大于1的数字被认为是逻辑值TRUE。<br>将第一向量的每个元素与第二向量的相应元素进行比较。 比较的结果是布尔值。</li>
<li>&amp;    它被称为元素逻辑AND运算符。 它将第一向量的每个元素与第二向量的相应元素组合，并且如果两个元素都为TRUE，则给出输出TRUE。</li>
<li>|    它被称为元素逻辑或运算符。 它将第一向量的每个元素与第二向量的相应元素组合，并且如果元素为真，则给出输出TRUE。</li>
<li>!    它被称为逻辑非运算符。 取得向量的每个元素，并给出相反的逻辑值。<br>逻辑运算符&amp;&amp;和|| 只考虑向量的第一个元素，给出单个元素的向量作为输出。</li>
<li>&amp;&amp;    称为逻辑AND运算符。 取两个向量的第一个元素，并且只有两个都为TRUE时才给出TRUE。</li>
<li>||    称为逻辑OR运算符。 取两个向量的第一个元素，如果其中一个为TRUE，则给出TRUE。<h3 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h3>这些运算符用于向向量赋值。</li>
<li>&lt;− or = or &lt;&lt;−  称为左分配</li>
<li>-&gt; or -&gt;&gt;    称为右分配<h3 id="其他运算符"><a href="#其他运算符" class="headerlink" title="其他运算符"></a>其他运算符</h3>这些运算符用于特定目的，而不是一般的数学或逻辑计算。</li>
<li>:    冒号运算符。 它为向量按顺序创建一系列数字。</li>
<li>%in%    此运算符用于标识元素是否属于向量。</li>
<li>%*%    此运算符用于将矩阵与其转置相乘。<h1 id="六-决策"><a href="#六-决策" class="headerlink" title="六.决策"></a>六.决策</h1>决策结构要求程序员指定要由程序评估或测试的一个或多个条件，以及如果条件被确定为真则要执行的一个或多个语句，如果条件为假则执行其他语句。</li>
</ul>
<p>以下是在大多数编程语言中的典型决策结构的一般形式</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627230867553720" alt=""></p>
<p>R提供以下类型的决策语句。 单击以下链接以检查其详细信息。</p>
<ul>
<li><a href="https://www.w3cschool.cn/r/r_if_statement.html" target="_blank" rel="noopener">if语句</a></li>
</ul>
<p>if语句由一个布尔表达式后跟一个或多个语句组成。</p>
<ul>
<li><a href="https://www.w3cschool.cn/r/r_if_else_statement.html" target="_blank" rel="noopener">if … else语句</a></li>
</ul>
<p>if语句后面可以有一个可选的else语句，当布尔表达式为false时执行。</p>
<ul>
<li><a href="https://www.w3cschool.cn/r/r_switch_statement.html" target="_blank" rel="noopener">switch语句</a></li>
</ul>
<p>switch语句允许根据值列表测试变量的相等性。</p>
<h1 id="七-包"><a href="#七-包" class="headerlink" title="七.包"></a>七.包</h1><p>R语言的包是R函数，编译代码和样本数据的集合。 它们存储在R语言环境中名为“library”的目录下。 默认情况下，R语言在安装期间安装一组软件包。 随后添加更多包，当它们用于某些特定目的时。 当我们启动R语言控制台时，默认情况下只有默认包可用。 已经安装的其他软件包必须显式加载以供将要使用它们的R语言程序使用。</p>
<p>所有可用的R语言包都列在<a href="https://cran.r-project.org/web/packages/available_packages_by_name.html" target="_blank" rel="noopener">R语言的包</a>。<br>下面是用于检查，验证和使用R包的命令列表。</p>
<h3 id="检查可用R语言的包"><a href="#检查可用R语言的包" class="headerlink" title="检查可用R语言的包"></a>检查可用R语言的包</h3><p>获取包含R包的库位置</p>
<pre class="line-numbers language-R"><code class="language-R">.libPaths()<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果。 它可能会根据您的电脑的本地设置而有所不同。</p>
<pre><code>[2] "C:/Program Files/R/R-3.2.2/library"</code></pre><p>获取已安装的所有软件包列表</p>
<pre class="line-numbers language-R"><code class="language-R">library()<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果。 它可能会根据您的电脑的本地设置而有所不同。</p>
<pre><code>Packages in library ‘C:/Program Files/R/R-3.2.2/library’:

base                    The R Base Package
boot                    Bootstrap Functions (Originally by Angelo Canty
                        for S)
class                   Functions for Classification
cluster                 "Finding Groups in Data": Cluster Analysis
                        Extended Rousseeuw et al.
codetools               Code Analysis Tools for R
compiler                The R Compiler Package</code></pre><p>获取当前在R环境中加载的所有包</p>
<pre class="line-numbers language-R"><code class="language-R">search()<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>当我们执行上述代码时，它产生了以下结果。它会根据你的个人电脑的本地设置而异。</p>
<pre><code>[1] ".GlobalEnv"        "package:stats"     "package:graphics" 
[4] "package:grDevices" "package:utils"     "package:datasets" 
[7] "package:methods"   "Autoloads"         "package:base" </code></pre><h3 id="安装一个新的软件包"><a href="#安装一个新的软件包" class="headerlink" title="安装一个新的软件包"></a>安装一个新的软件包</h3><p>有两种方法来添加新的R包。 一个是直接从CRAN目录安装，另一个是将软件包下载到本地系统并手动安装它。</p>
<h5 id="直接从CRAN安装"><a href="#直接从CRAN安装" class="headerlink" title="直接从CRAN安装"></a>直接从CRAN安装</h5><p>以下命令直接从CRAN网页获取软件包，并将软件包安装在R环境中。 可能会提示您选择最近的镜像。 根据您的位置选择一个。</p>
<pre class="line-numbers language-R"><code class="language-R"># Install the package named "XML".
 install.packages("XML")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h5 id="手动安装包"><a href="#手动安装包" class="headerlink" title="手动安装包"></a>手动安装包</h5><p>转到链接<a href="https://cran.r-project.org/web/packages/available_packages_by_name.html" target="_blank" rel="noopener">R Packages</a>下载所需的包。 将包作为.zip文件保存在本地系统中的适当位置。<br>现在您可以运行以下命令在R环境中安装此软件包。</p>
<pre class="line-numbers language-R"><code class="language-R"># Install the package named "XML"
install.packages("E:/XML_3.98-1.3.zip", repos = NULL, type = "source")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="装载包到库中"><a href="#装载包到库中" class="headerlink" title="装载包到库中"></a>装载包到库中</h3><p>在包可以在代码中使用之前，必须将其加载到当前R环境中。 您还需要加载先前已安装但在当前环境中不可用的软件包。</p>
<p>使用以下命令加载包：</p>
<pre class="line-numbers language-R"><code class="language-R">library("package Name", lib.loc = "path to library")

# Load the package named "XML"
install.packages("E:/XML_3.98-1.3.zip", repos = NULL, type = "source")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="九-循环"><a href="#九-循环" class="headerlink" title="九.循环"></a>九.循环</h1><p>可能有一种情况，当你需要执行一段代码几次。 通常，顺序执行语句。 首先执行函数中的第一个语句，然后执行第二个语句，依此类推。</p>
<p>编程语言提供允许更复杂的执行路径的各种控制结构。</p>
<p>循环语句允许我们多次执行一个语句或一组语句，以下是大多数编程语言中循环语句的一般形式 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627230873169722" alt=""><br>R编程语言提供以下种类的循环来处理循环需求。 单击以下链接以检查其详细信息。</p>
<ul>
<li><a href="https://www.w3cschool.cn/r/r_repeat_loop.html" target="_blank" rel="noopener">repeat循环</a></li>
</ul>
<p>多次执行一系列语句，并简化管理循环变量的代码。</p>
<ul>
<li><a href="https://www.w3cschool.cn/r/r_while_loop.html" target="_blank" rel="noopener">while循环</a></li>
</ul>
<p>在给定条件为真时，重复语句或语句组。 它在执行循环体之前测试条件。</p>
<ul>
<li><a href="https://www.w3cschool.cn/r/r_for_loop.html" target="_blank" rel="noopener">for循环</a></li>
</ul>
<p>像while语句，不同之处在于它测试在循环体的端部的条件。</p>
<h3 id="循环控制语句"><a href="#循环控制语句" class="headerlink" title="循环控制语句"></a>循环控制语句</h3><p>循环控制语句从其正常序列改变执行。 当执行离开作用域时，在该作用域中创建的所有自动对象都将被销毁。<br>R语言支持以下控制语句。 单击以下链接以检查其详细信息。</p>
<ul>
<li><a href="https://www.w3cschool.cn/r/r_break_statement.html" target="_blank" rel="noopener">break语句</a></li>
</ul>
<p>终止循环语句，并将执行转移到循环后立即执行的语句。</p>
<ul>
<li><a href="https://www.w3cschool.cn/r/r_next_statement.html" target="_blank" rel="noopener">next语句</a></li>
</ul>
<p>next语句模拟R语言switch语句的行为。</p>
<h1 id="十-数据重塑"><a href="#十-数据重塑" class="headerlink" title="十.数据重塑"></a>十.数据重塑</h1><p>R语言中的数据重塑是关于改变数据被组织成行和列的方式。 大多数时间R语言中的数据处理是通过将输入数据作为数据帧来完成的。 很容易从数据帧的行和列中提取数据，但是在某些情况下，我们需要的数据帧格式与我们接收数据帧的格式不同。 R语言具有许多功能，在数据帧中拆分，合并和将行更改为列，反之亦然。</p>
<h3 id="于数据帧中加入列和行"><a href="#于数据帧中加入列和行" class="headerlink" title="于数据帧中加入列和行"></a>于数据帧中加入列和行</h3><p>我们可以使用cbind()函数连接多个向量来创建数据帧。 此外，我们可以使用rbind()函数合并两个数据帧。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create vector objects.
city <- c("Tampa","Seattle","Hartford","Denver")
state <- c("FL","WA","CT","CO")
zipcode <- c(33602,98104,06161,80294)

# Combine above three vectors into one data frame.
addresses <- cbind(city,state,zipcode)

# Print a header.
cat("# # # # The First data frame
") 

# Print the data frame.
print(addresses)

# Create another data frame with similar columns
new.address <- data.frame(
   city = c("Lowry","Charlotte"),
   state = c("CO","FL"),
   zipcode = c("80230","33949"),
   stringsAsFactors = FALSE
)

# Print a header.
cat("# # # The Second data frame
") 

# Print the data frame.
print(new.address)

# Combine rows form both the data frames.
all.addresses <- rbind(addresses,new.address)

# Print a header.
cat("# # # The combined data frame
") 

# Print the result.
print(all.addresses)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code># # # # The First data frame
     city       state zipcode
[1,] "Tampa"    "FL"  "33602"
[2,] "Seattle"  "WA"  "98104"
[3,] "Hartford" "CT"   "6161" 
[4,] "Denver"   "CO"  "80294"

# # # The Second data frame
       city       state   zipcode
1      Lowry      CO      80230
2      Charlotte  FL      33949

# # # The combined data frame
       city      state zipcode
1      Tampa     FL    33602
2      Seattle   WA    98104
3      Hartford  CT     6161
4      Denver    CO    80294
5      Lowry     CO    80230
6     Charlotte  FL    33949</code></pre><h3 id="合并数据帧"><a href="#合并数据帧" class="headerlink" title="合并数据帧"></a>合并数据帧</h3><p>我们可以使用merge()函数合并两个数据帧。 数据帧必须具有相同的列名称，在其上进行合并。</p>
<p>在下面的例子中，我们考虑图书馆名称“MASS”中有关Pima Indian Women的糖尿病的数据集。 我们基于血压（“bp”）和体重指数（“bmi”）的值合并两个数据集。 在选择这两列用于合并时，其中这两个变量的值在两个数据集中匹配的记录被组合在一起以形成单个数据帧。</p>
<pre class="line-numbers language-R"><code class="language-R">library(MASS)
merged.Pima <- merge(x = Pima.te, y = Pima.tr,
   by.x = c("bp", "bmi"),
   by.y = c("bp", "bmi")
)
print(merged.Pima)
nrow(merged.Pima)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>   bp  bmi npreg.x glu.x skin.x ped.x age.x type.x npreg.y glu.y skin.y ped.y
1  60 33.8       1   117     23 0.466    27     No       2   125     20 0.088
2  64 29.7       2    75     24 0.370    33     No       2   100     23 0.368
3  64 31.2       5   189     33 0.583    29    Yes       3   158     13 0.295
4  64 33.2       4   117     27 0.230    24     No       1    96     27 0.289
5  66 38.1       3   115     39 0.150    28     No       1   114     36 0.289
6  68 38.5       2   100     25 0.324    26     No       7   129     49 0.439
7  70 27.4       1   116     28 0.204    21     No       0   124     20 0.254
8  70 33.1       4    91     32 0.446    22     No       9   123     44 0.374
9  70 35.4       9   124     33 0.282    34     No       6   134     23 0.542
10 72 25.6       1   157     21 0.123    24     No       4    99     17 0.294
11 72 37.7       5    95     33 0.370    27     No       6   103     32 0.324
12 74 25.9       9   134     33 0.460    81     No       8   126     38 0.162
13 74 25.9       1    95     21 0.673    36     No       8   126     38 0.162
14 78 27.6       5    88     30 0.258    37     No       6   125     31 0.565
15 78 27.6      10   122     31 0.512    45     No       6   125     31 0.565
16 78 39.4       2   112     50 0.175    24     No       4   112     40 0.236
17 88 34.5       1   117     24 0.403    40    Yes       4   127     11 0.598
   age.y type.y
1     31     No
2     21     No
3     24     No
4     21     No
5     21     No
6     43    Yes
7     36    Yes
8     40     No
9     29    Yes
10    28     No
11    55     No
12    39     No
13    39     No
14    49    Yes
15    49    Yes
16    38     No
17    28     No
[1] 17</code></pre><h3 id="melt-拆分数据和cast-数据重构"><a href="#melt-拆分数据和cast-数据重构" class="headerlink" title="melt()拆分数据和cast()数据重构"></a>melt()拆分数据和cast()数据重构</h3><p>R语言编程的一个最有趣的方面是关于在多个步骤中改变数据的形状以获得期望的形状。 用于执行此操作的函数称为melt()和cast()。</p>
<p>我们考虑称为船舶的数据集称为“MASS”。</p>
<pre class="line-numbers language-R"><code class="language-R">library(MASS)
print(ships)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>     type year   period   service   incidents
1     A   60     60        127         0
2     A   60     75         63         0
3     A   65     60       1095         3
4     A   65     75       1095         4
5     A   70     60       1512         6
.............
.............
8     A   75     75       2244         11
9     B   60     60      44882         39
10    B   60     75      17176         29
11    B   65     60      28609         58
............
............
17    C   60     60      1179          1
18    C   60     75       552          1
19    C   65     60       781          0
............
............</code></pre><h3 id="melt-拆分数据"><a href="#melt-拆分数据" class="headerlink" title="melt()拆分数据"></a>melt()拆分数据</h3><p>现在我们拆分数据进行重组，将除类型和年份以外的所有列转换为多行展示。</p>
<pre class="line-numbers language-R"><code class="language-R">molten.ships <- melt(ships, id = c("type","year"))
print(molten.ships)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>      type year  variable  value
1      A   60    period      60
2      A   60    period      75
3      A   65    period      60
4      A   65    period      75
............
............
9      B   60    period      60
10     B   60    period      75
11     B   65    period      60
12     B   65    period      75
13     B   70    period      60
...........
...........
41     A   60    service    127
42     A   60    service     63
43     A   65    service   1095
...........
...........
70     D   70    service   1208
71     D   75    service      0
72     D   75    service   2051
73     E   60    service     45
74     E   60    service      0
75     E   65    service    789
...........
...........
101    C   70    incidents    6
102    C   70    incidents    2
103    C   75    incidents    0
104    C   75    incidents    1
105    D   60    incidents    0
106    D   60    incidents    0
...........
...........</code></pre><h3 id="cast-重构数据"><a href="#cast-重构数据" class="headerlink" title="cast()重构数据"></a>cast()重构数据</h3><p>我们可以将被拆分的数据转换为一种新形式，使用cast()函数创建每年每种类型的船的总和。</p>
<pre class="line-numbers language-R"><code class="language-R">recasted.ship <- cast(molten.ships, type+year~variable,sum)
print(recasted.ship)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>     type year  period  service  incidents
1     A   60    135       190      0
2     A   65    135      2190      7
3     A   70    135      4865     24
4     A   75    135      2244     11
5     B   60    135     62058     68
6     B   65    135     48979    111
7     B   70    135     20163     56
8     B   75    135      7117     18
9     C   60    135      1731      2
10    C   65    135      1457      1
11    C   70    135      2731      8
12    C   75    135       274      1
13    D   60    135       356      0
14    D   65    135       480      0
15    D   70    135      1557     13
16    D   75    135      2051      4
17    E   60    135        45      0
18    E   65    135      1226     14
19    E   70    135      3318     17
20    E   75    135       542      1</code></pre><h1 id="十一-函数"><a href="#十一-函数" class="headerlink" title="十一.函数"></a>十一.函数</h1><p>函数是一组组合在一起以执行特定任务的语句。 R语言具有大量内置函数，用户可以创建自己的函数。</p>
<p>在R语言中，函数是一个对象，因此R语言解释器能够将控制传递给函数，以及函数完成动作所需的参数。</p>
<p>该函数依次执行其任务并将控制返回到解释器以及可以存储在其他对象中的任何结果。</p>
<h3 id="函数定义"><a href="#函数定义" class="headerlink" title="函数定义"></a>函数定义</h3><p>使用关键字函数创建R语言的函数。 R语言的函数定义的基本语法如下</p>
<pre class="line-numbers language-R"><code class="language-R">function_name <- function(arg_1, arg_2, ...) {
   Function body 
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="函数组件"><a href="#函数组件" class="headerlink" title="函数组件"></a>函数组件</h3><p>函数的不同部分 -</p>
<ul>
<li><p>函数名称 -这是函数的实际名称。 它作为具有此名称的对象存储在R环境中。</p>
</li>
<li><p>参数 -参数是一个占位符。 当函数被调用时，你传递一个值到参数。 参数是可选的; 也就是说，一个函数可能不包含参数。 参数也可以有默认值。</p>
</li>
<li><p>函数体 -函数体包含定义函数的功能的语句集合。</p>
</li>
<li><p>返回值 -函数的返回值是要评估的函数体中的最后一个表达式。<br>R语言有许多内置函数，可以在程序中直接调用而无需先定义它们。我们还可以创建和使用我们自己的函数，称为用户定义的函数。</p>
</li>
</ul>
<h3 id="内置功能"><a href="#内置功能" class="headerlink" title="内置功能"></a>内置功能</h3><p>内置函数的简单示例是seq()，mean()，max()，sum(x)和paste(…)等。它们由用户编写的程序直接调用。 您可以参考最广泛使用的R函数。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a sequence of numbers from 32 to 44.
print(seq(32,44))

# Find mean of numbers from 25 to 82.
print(mean(25:82))

# Find sum of numbers frm 41 to 68.
print(sum(41:68))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 32 33 34 35 36 37 38 39 40 41 42 43 44
[1] 53.5
[1] 1526</code></pre><h3 id="用户定义的函数"><a href="#用户定义的函数" class="headerlink" title="用户定义的函数"></a>用户定义的函数</h3><p>我们可以在R语言中创建用户定义的函数。它们特定于用户想要的，一旦创建，它们就可以像内置函数一样使用。 下面是一个创建和使用函数的例子。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a function to print squares of numbers in sequence.
new.function <- function(a) {
   for(i in 1:a) {
      b <- i^2
      print(b)
   }
}    <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a>调用函数</h3><pre class="line-numbers language-R"><code class="language-R"># Create a function to print squares of numbers in sequence.
new.function <- function(a) {
   for(i in 1:a) {
      b <- i^2
      print(b)
   }
}

# Call the function new.function supplying 6 as an argument.
new.function(6)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 1
[1] 4
[1] 9
[1] 16
[1] 25
[1] 36</code></pre><p>调用没有参数的函数</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a function without an argument.
new.function <- function() {
   for(i in 1:5) {
      print(i^2)
   }
}    

# Call the function without supplying an argument.
new.function()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 1
[1] 4
[1] 9
[1] 16
[1] 25</code></pre><p>使用参数值调用函数（按位置和名称）<br>函数调用的参数可以按照函数中定义的顺序提供，也可以以不同的顺序提供，但分配给参数的名称。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a function with arguments.
new.function <- function(a,b,c) {
   result <- a * b + c
   print(result)
}

# Call the function by position of arguments.
new.function(5,3,11)

# Call the function by names of the arguments.
new.function(a = 11, b = 5, c = 3)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 26
[1] 58</code></pre><p>使用默认参数调用函数<br>我们可以在函数定义中定义参数的值，并调用函数而不提供任何参数以获取默认结果。 但是我们也可以通过提供参数的新值来获得非默认结果来调用这样的函数。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a function with arguments.
new.function <- function(a = 3, b = 6) {
   result <- a * b
   print(result)
}

# Call the function without giving any argument.
new.function()

# Call the function with giving new values of the argument.
new.function(9,5)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 18
[1] 45</code></pre><p>功能的延迟计算<br>对函数的参数进行延迟评估，这意味着它们只有在函数体需要时才进行评估。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a function with arguments.
new.function <- function(a, b) {
   print(a^2)
   print(a)
   print(b)
}

# Evaluate the function without supplying one of the arguments.
new.function(6)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 36
[1] 6
Error in print(b) : argument "b" is missing, with no default</code></pre><h1 id="十二-字符串"><a href="#十二-字符串" class="headerlink" title="十二.字符串"></a>十二.字符串</h1><p>在R语言中的单引号或双引号对中写入的任何值都被视为字符串.R语言存储的每个字符串都在双引号内，即使是使用单引号创建的依旧如此。</p>
<h3 id="在字符串构造中应用的规则"><a href="#在字符串构造中应用的规则" class="headerlink" title="在字符串构造中应用的规则"></a>在字符串构造中应用的规则</h3><p>在字符串的开头和结尾的引号应该是两个双引号或两个单引号。它们不能被混合。</p>
<ul>
<li><p>双引号可以插入到以单引号开头和结尾的字符串中。</p>
</li>
<li><p>单引号可以插入以双引号开头和结尾的字符串。</p>
</li>
<li><p>双引号不能插入以双引号开头和结尾的字符串。</p>
</li>
<li><p>单引号不能插入以单引号开头和结尾的字符串。</p>
</li>
</ul>
<h5 id="有效字符串的示例"><a href="#有效字符串的示例" class="headerlink" title="有效字符串的示例"></a>有效字符串的示例</h5><p>以下示例阐明了在ř 语言中创建³³字符串的规则。</p>
<pre class="line-numbers language-R"><code class="language-R">a <- 'Start and end with single quote'
print(a)

b <- "Start and end with double quotes"
print(b)

c <- "single quote ' in between double quotes"
print(c)

d <- 'Double quotes " in between single quote'
print(d)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当运行上面的代码，我们得到以下输出 -</p>
<pre><code>[1] "Start and end with single quote"
[1] "Start and end with double quotes"
[1] "single quote ' in between double quote"
[1] "Double quote " in between single quote"</code></pre><h5 id="无效字符串的示例"><a href="#无效字符串的示例" class="headerlink" title="无效字符串的示例"></a>无效字符串的示例</h5><pre class="line-numbers language-R"><code class="language-R">e <- 'Mixed quotes" 
print(e)

f <- 'Single quote ' inside single quote'
print(f)

g <- "Double quotes " inside double quotes"
print(g)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们运行脚本失败给下面的结果。</p>
<pre><code>...: unexpected INCOMPLETE_STRING

.... unexpected symbol 
1: f &lt;- 'Single quote ' inside

unexpected symbol
1: g &lt;- "Double quotes " inside</code></pre><h3 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h3><h5 id="连接字符串-paste（）函数"><a href="#连接字符串-paste（）函数" class="headerlink" title="连接字符串 - paste（）函数"></a>连接字符串 - paste（）函数</h5><p>R 语言中的许多字符串使用paste（）函数组合。它可以采取任何数量的参数组合在一起。</p>
<p>#####语法<br>对于粘贴功能的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">paste(..., sep = " ", collapse = NULL)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的说明 -</p>
<ul>
<li><p>…表示要组合的任意数量的自变量。</p>
</li>
<li><p>九月表示参数之间的任何分隔符。它是可选的。</p>
</li>
<li><p>collapse用于消除两个字符串之间的空格。但不是一个字符串的两个字内的空间。</p>
</li>
</ul>
<p>例</p>
<pre class="line-numbers language-R"><code class="language-R">a <- "Hello"
b <- 'How'
c <- "are you? "

print(paste(a,b,c))

print(paste(a,b,c, sep = "-"))

print(paste(a,b,c, sep = "", collapse = ""))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] "Hello How are you? "
[1] "Hello-How-are you? "
[1] "HelloHoware you? "</code></pre><h5 id="格式化数字和字符串-format（）函数"><a href="#格式化数字和字符串-format（）函数" class="headerlink" title="格式化数字和字符串 - format（）函数"></a>格式化数字和字符串 - format（）函数</h5><p>可以使用格式（）函数将数字和字符串格式化为特定样式。</p>
<h5 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h5><p>格式化函数的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">format(x, digits, nsmall, scientific, width, justify = c("left", "right", "centre", "none")) <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>X是向量输入。</p>
</li>
<li><p>数字是显示的总位数。</p>
</li>
<li><p>nsmall是小数点右边的最小位数。</p>
</li>
<li><p>科学设置为TRUE以显示科学记数法。</p>
</li>
<li><p>宽度指示通过在开始处填充空白来显示的最小宽度。</p>
</li>
<li><p>理由是字符串向左，右或中心的显示。</p>
</li>
</ul>
<p>例</p>
<pre class="line-numbers language-R"><code class="language-R"># Total number of digits displayed. Last digit rounded off.
result <- format(23.123456789, digits = 9)
print(result)

# Display numbers in scientific notation.
result <- format(c(6, 13.14521), scientific = TRUE)
print(result)

# The minimum number of digits to the right of the decimal point.
result <- format(23.47, nsmall = 5)
print(result)

# Format treats everything as a string.
result <- format(6)
print(result)

# Numbers are padded with blank in the beginning for width.
result <- format(13.7, width = 6)
print(result)

# Left justify strings.
result <- format("Hello", width = 8, justify = "l")
print(result)

# Justfy string with center.
result <- format("Hello", width = 8, justify = "c")
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] "23.1234568"
[1] "6.000000e+00" "1.314521e+01"
[1] "23.47000"
[1] "6"
[1] "  13.7"
[1] "Hello   "
[1] " Hello  "</code></pre><h5 id="计算字符串中的字符数-nchar（）函数"><a href="#计算字符串中的字符数-nchar（）函数" class="headerlink" title="计算字符串中的字符数 - nchar（）函数"></a>计算字符串中的字符数 - nchar（）函数</h5><p>此函数计算字符串中包含空格的字符数。</p>
<h5 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h5><p>nchar（）函数的基本语法是 -</p>
<p>nchar(x)<br>以下是所使用的参数的描述 - </p>
<ul>
<li>X是向量输入。</li>
</ul>
<p>例</p>
<pre class="line-numbers language-R"><code class="language-R">result <- nchar("Count the number of characters")
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 30</code></pre><h5 id="更改案例-toupper（）和tolower（）函数"><a href="#更改案例-toupper（）和tolower（）函数" class="headerlink" title="更改案例 - toupper（）和tolower（）函数"></a>更改案例 - toupper（）和tolower（）函数</h5><p>这些函数改变字符串的字符的大小写。</p>
<h5 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h5><p>toupper（）和tolower（）函数的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">toupper(x)
tolower(x)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li>X是向量输入。</li>
</ul>
<p>例</p>
<pre class="line-numbers language-R"><code class="language-R"># Changing to Upper case.
result <- toupper("Changing To Upper")
print(result)

# Changing to lower case.
result <- tolower("Changing To Lower")
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] "CHANGING TO UPPER"
[1] "changing to lower"</code></pre><h5 id="提取字符串的一部分-substring（）函数"><a href="#提取字符串的一部分-substring（）函数" class="headerlink" title="提取字符串的一部分 - substring（）函数"></a>提取字符串的一部分 - substring（）函数</h5><p>此函数提取字符串的部分。</p>
<h5 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h5><p>substring（）函数的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">substring(x,first,last)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>X是字符向量输入。</p>
</li>
<li><p>首先是要提取的第一个字符的位置。</p>
</li>
<li><p>最后是要提取的最后一个字符的位置。</p>
</li>
</ul>
<p>例</p>
<pre class="line-numbers language-R"><code class="language-R"># Extract characters from 5th to 7th position.
result <- substring("Extract", 5, 7)
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] "act"</code></pre><h1 id="十三-向量"><a href="#十三-向量" class="headerlink" title="十三.向量"></a>十三.向量</h1><p>向量是最基本的R语言数据对象，有六种类型的原子向量。 它们是逻辑，整数，双精度，复杂，字符和原始。</p>
<h3 id="创建向量"><a href="#创建向量" class="headerlink" title="创建向量"></a>创建向量</h3><h5 id="单元素向量"><a href="#单元素向量" class="headerlink" title="单元素向量"></a>单元素向量</h5><p>即使在R语言中只写入一个值，它也将成为长度为1的向量，并且属于上述向量类型之一。</p>
<pre class="line-numbers language-R"><code class="language-R"># Atomic vector of type character.
print("abc");

# Atomic vector of type double.
print(12.5)

# Atomic vector of type integer.
print(63L)

# Atomic vector of type logical.
print(TRUE)

# Atomic vector of type complex.
print(2+3i)

# Atomic vector of type raw.
print(charToRaw('hello'))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] "abc"
[1] 12.5
[1] 63
[1] TRUE
[1] 2+3i
[1] 68 65 6c 6c 6f</code></pre><h5 id="多元素向量"><a href="#多元素向量" class="headerlink" title="多元素向量"></a>多元素向量</h5><p>对数值数据使用冒号运算符</p>
<pre class="line-numbers language-R"><code class="language-R"># Creating a sequence from 5 to 13.
v <- 5:13
print(v)

# Creating a sequence from 6.6 to 12.6.
v <- 6.6:12.6
print(v)

# If the final element specified does not belong to the sequence then it is discarded.
v <- 3.8:11.4
print(v)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1]  5  6  7  8  9 10 11 12 13
[1]  6.6  7.6  8.6  9.6 10.6 11.6 12.6
[1]  3.8  4.8  5.8  6.8  7.8  8.8  9.8 10.8</code></pre><h5 id="使用sequence-Seq-序列运算符"><a href="#使用sequence-Seq-序列运算符" class="headerlink" title="使用sequence (Seq.)序列运算符"></a>使用sequence (Seq.)序列运算符</h5><pre class="line-numbers language-R"><code class="language-R"># Create vector with elements from 5 to 9 incrementing by 0.4.
print(seq(5, 9, by = 0.4))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 5.0 5.4 5.8 6.2 6.6 7.0 7.4 7.8 8.2 8.6 9.0</code></pre><h5 id="使用C-函数"><a href="#使用C-函数" class="headerlink" title="使用C()函数"></a>使用C()函数</h5><p>如果其中一个元素是字符，则非字符值被强制转换为字符类型。</p>
<pre class="line-numbers language-R"><code class="language-R"># The logical and numeric values are converted to characters.
s <- c('apple','red',5,TRUE)
print(s)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] "apple" "red"   "5"     "TRUE" </code></pre><h3 id="访问向量元素"><a href="#访问向量元素" class="headerlink" title="访问向量元素"></a>访问向量元素</h3><p>使用索引访问向量的元素。 []括号用于建立索引。 索引从位置1开始。在索引中给出负值会丢弃来自result.TRUE，FALSE或0和1的元素，也可用于索引。</p>
<pre class="line-numbers language-R"><code class="language-R"># Accessing vector elements using position.
t <- c("Sun","Mon","Tue","Wed","Thurs","Fri","Sat")
u <- t[c(2,3,6)]
print(u)

# Accessing vector elements using logical indexing.
v <- t[c(TRUE,FALSE,FALSE,FALSE,FALSE,TRUE,FALSE)]
print(v)

# Accessing vector elements using negative indexing.
x <- t[c(-2,-5)]
print(x)

# Accessing vector elements using 0/1 indexing.
y <- t[c(0,0,0,0,0,0,1)]
print(y)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] "Mon" "Tue" "Fri"
[1] "Sun" "Fri"
[1] "Sun" "Tue" "Wed" "Fri" "Sat"
[1] "Sun"</code></pre><h3 id="向量操作"><a href="#向量操作" class="headerlink" title="向量操作"></a>向量操作</h3><h5 id="向量运算"><a href="#向量运算" class="headerlink" title="向量运算"></a>向量运算</h5><p>可以添加，减去，相乘或相除两个相同长度的向量，将结果作为向量输出。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create two vectors.
v1 <- c(3,8,4,5,0,11)
v2 <- c(4,11,0,8,1,2)

# Vector addition.
add.result <- v1+v2
print(add.result)

# Vector substraction.
sub.result <- v1-v2
print(sub.result)

# Vector multiplication.
multi.result <- v1*v2
print(multi.result)

# Vector division.
divi.result <- v1/v2
print(divi.result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1]  7 19  4 13  1 13
[1] -1 -3  4 -3 -1  9
[1] 12 88  0 40  0 22
[1] 0.7500000 0.7272727       Inf 0.6250000 0.0000000 5.5000000</code></pre><h5 id="向量元素回收"><a href="#向量元素回收" class="headerlink" title="向量元素回收"></a>向量元素回收</h5><p>如果我们对不等长的两个向量应用算术运算，则较短向量的元素被循环以完成操作。</p>
<pre class="line-numbers language-R"><code class="language-R">v1 <- c(3,8,4,5,0,11)
v2 <- c(4,11)
# V2 becomes c(4,11,4,11,4,11)

add.result <- v1+v2
print(add.result)

sub.result <- v1-v2
print(sub.result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1]  7 19  8 16  4 22
[1] -1 -3  0 -6 -4  0</code></pre><h3 id="向量元素排序"><a href="#向量元素排序" class="headerlink" title="向量元素排序"></a>向量元素排序</h3><p>向量中的元素可以使用sort()函数排序。</p>
<pre class="line-numbers language-R"><code class="language-R">v <- c(3,8,4,5,0,11, -9, 304)

# Sort the elements of the vector.
sort.result <- sort(v)
print(sort.result)

# Sort the elements in the reverse order.
revsort.result <- sort(v, decreasing = TRUE)
print(revsort.result)

# Sorting character vectors.
v <- c("Red","Blue","yellow","violet")
sort.result <- sort(v)
print(sort.result)

# Sorting character vectors in reverse order.
revsort.result <- sort(v, decreasing = TRUE)
print(revsort.result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1]  -9   0   3   4   5   8  11 304
[1] 304  11   8   5   4   3   0  -9
[1] "Blue"   "Red"    "violet" "yellow"
[1] "yellow" "violet" "Red"    "Blue" </code></pre><h1 id="十四-列表"><a href="#十四-列表" class="headerlink" title="十四.列表"></a>十四.列表</h1><p>列表是R语言对象，它包含不同类型的元素，如数字，字符串，向量和其中的另一个列表。列表还可以包含矩阵或函数作为其元素。列表是使用list（）函数创建的。</p>
<h3 id="创建列表"><a href="#创建列表" class="headerlink" title="创建列表"></a>创建列表</h3><p>以下是创建包含字符串，数字，向量和逻辑值的列表的示例</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a list containing strings, numbers, vectors and a logical values.
list_data <- list("Red", "Green", c(21,32,11), TRUE, 51.23, 119.1)
print(list_data)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[[1]]
[1] "Red"

[[2]]
[1] "Green"

[[3]]
[1] 21 32 11

[[4]]
[1] TRUE

[[5]]
[1] 51.23

[[6]]
[1] 119.1</code></pre><h3 id="命名列表元素"><a href="#命名列表元素" class="headerlink" title="命名列表元素"></a>命名列表元素</h3><p>列表元素可以给出名称，并且可以使用这些名称访问它们。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a list containing a vector, a matrix and a list.
list_data <- list(c("Jan","Feb","Mar"), matrix(c(3,9,5,1,-2,8), nrow = 2),
   list("green",12.3))

# Give names to the elements in the list.
names(list_data) <- c("1st Quarter", "A_Matrix", "A Inner list")

# Show the list.
print(list_data)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>$`1st_Quarter`
[1] "Jan" "Feb" "Mar"

$A_Matrix
     [,1] [,2] [,3]
[1,]    3    5   -2
[2,]    9    1    8

$A_Inner_list
$A_Inner_list[[1]]
[1] "green"

$A_Inner_list[[2]]
[1] 12.3</code></pre><h3 id="访问列表元素"><a href="#访问列表元素" class="headerlink" title="访问列表元素"></a>访问列表元素</h3><p>列表的元素可以通过列表中元素的索引访问。在命名列表的情况下，它也可以使用名称来访问。</p>
<p>我们继续使用在上面的例子列表 -</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a list containing a vector, a matrix and a list.
list_data <- list(c("Jan","Feb","Mar"), matrix(c(3,9,5,1,-2,8), nrow = 2),
   list("green",12.3))

# Give names to the elements in the list.
names(list_data) <- c("1st Quarter", "A_Matrix", "A Inner list")

# Access the first element of the list.
print(list_data[1])

# Access the thrid element. As it is also a list, all its elements will be printed.
print(list_data[3])

# Access the list element using the name of the element.
print(list_data$A_Matrix)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>$`1st_Quarter`
[1] "Jan" "Feb" "Mar"

$A_Inner_list
$A_Inner_list[[1]]
[1] "green"

$A_Inner_list[[2]]
[1] 12.3

     [,1] [,2] [,3]
[1,]    3    5   -2
[2,]    9    1    8</code></pre><h3 id="操控列表元素"><a href="#操控列表元素" class="headerlink" title="操控列表元素"></a>操控列表元素</h3><p>我们可以添加，删除和更新列表元素，如下所示。我们只能在列表的末尾添加和删除元素。但我们可以更新任何元素。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a list containing a vector, a matrix and a list.
list_data <- list(c("Jan","Feb","Mar"), matrix(c(3,9,5,1,-2,8), nrow = 2),
   list("green",12.3))

# Give names to the elements in the list.
names(list_data) <- c("1st Quarter", "A_Matrix", "A Inner list")

# Add element at the end of the list.
list_data[4] <- "New element"
print(list_data[4])

# Remove the last element.
list_data[4] <- NULL

# Print the 4th Element.
print(list_data[4])

# Update the 3rd Element.
list_data[3] <- "updated element"
print(list_data[3])<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[[1]]
[1] "New element"

$
NULL

$`A Inner list`
[1] "updated element"</code></pre><h3 id="合并列表"><a href="#合并列表" class="headerlink" title="合并列表"></a>合并列表</h3><p>通过将所有列表放在一个列表（）函数中，您可以将许多列表合并到一个列表中。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create two lists.
list1 <- list(1,2,3)
list2 <- list("Sun","Mon","Tue")

# Merge the two lists.
merged.list <- c(list1,list2)

# Print the merged list.
print(merged.list)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[[1]]
[1] 1

[[2]]
[1] 2

[[3]]
[1] 3

[[4]]
[1] "Sun"

[[5]]
[1] "Mon"

[[6]]
[1] "Tue"</code></pre><h3 id="将列表转换为向量"><a href="#将列表转换为向量" class="headerlink" title="将列表转换为向量"></a>将列表转换为向量</h3><p>列表可以转换为向量，使得向量的元素可以用于进一步的操作。可以在将列表转换为向量之后应用对向量的所有算术运算。要做这个转换，我们使用unlist（）函数。它将列表作为输入并生成向量。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create lists.
list1 <- list(1:5)
print(list1)

list2 <-list(10:14)
print(list2)

# Convert the lists to vectors.
v1 <- unlist(list1)
v2 <- unlist(list2)

print(v1)
print(v2)

# Now add the vectors
result <- v1+v2
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[[1]]
[1] 1 2 3 4 5

[[1]]
[1] 10 11 12 13 14

[1] 1 2 3 4 5
[1] 10 11 12 13 14
[1] 11 13 15 17 19</code></pre><h1 id="十五-矩阵"><a href="#十五-矩阵" class="headerlink" title="十五.矩阵"></a>十五.矩阵</h1><p>矩阵是其中元素以二维矩形布局布置的R对象。 它们包含相同原子类型的元素。 虽然我们可以创建一个只包含字符或只包含逻辑值的矩阵，但它们没有太多用处。 我们使用包含数字元素的矩阵用于数学计算。</p>
<p>使用matrix()函数创建一个矩阵。</p>
<h3 id="语法-4"><a href="#语法-4" class="headerlink" title="语法"></a>语法</h3><p>在R语言中创建矩阵的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">matrix(data, nrow, ncol, byrow, dimnames)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的说明 -</p>
<ul>
<li><p>数据是成为矩阵的数据元素的输入向量。</p>
</li>
<li><p>nrow是要创建的行数。</p>
</li>
<li><p>ncol是要创建的列数。</p>
</li>
<li><p>byrow是一个逻辑线索。 如果为TRUE，则输入向量元素按行排列。</p>
</li>
<li><p>dimname是分配给行和列的名称。</p>
</li>
</ul>
<h3 id="例"><a href="#例" class="headerlink" title="例"></a>例</h3><p>创建一个以数字向量作为输入的矩阵</p>
<pre class="line-numbers language-R"><code class="language-R"># Elements are arranged sequentially by row.
M <- matrix(c(3:14), nrow = 4, byrow = TRUE)
print(M)

# Elements are arranged sequentially by column.
N <- matrix(c(3:14), nrow = 4, byrow = FALSE)
print(N)

# Define the column and row names.
rownames = c("row1", "row2", "row3", "row4")
colnames = c("col1", "col2", "col3")

P <- matrix(c(3:14), nrow = 4, byrow = TRUE, dimnames = list(rownames, colnames))
print(P)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>     [,1] [,2] [,3]
[1,]    3    4    5
[2,]    6    7    8
[3,]    9   10   11
[4,]   12   13   14
     [,1] [,2] [,3]
[1,]    3    7   11
[2,]    4    8   12
[3,]    5    9   13
[4,]    6   10   14
     col1 col2 col3
row1    3    4    5
row2    6    7    8
row3    9   10   11
row4   12   13   14</code></pre><h3 id="访问矩阵的元素"><a href="#访问矩阵的元素" class="headerlink" title="访问矩阵的元素"></a>访问矩阵的元素</h3><p>可以通过使用元素的列和行索引来访问矩阵的元素。 我们考虑上面的矩阵P找到下面的具体元素。</p>
<pre class="line-numbers language-R"><code class="language-R"># Define the column and row names.
rownames = c("row1", "row2", "row3", "row4")
colnames = c("col1", "col2", "col3")

# Create the matrix.
P <- matrix(c(3:14), nrow = 4, byrow = TRUE, dimnames = list(rownames, colnames))

# Access the element at 3rd column and 1st row.
print(P[1,3])

# Access the element at 2nd column and 4th row.
print(P[4,2])

# Access only the  2nd row.
print(P[2,])

# Access only the 3rd column.
print(P[,3])<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 5
[1] 13
col1 col2 col3 
   6    7    8 
row1 row2 row3 row4 
   5    8   11   14 </code></pre><h3 id="矩阵计算"><a href="#矩阵计算" class="headerlink" title="矩阵计算"></a>矩阵计算</h3><p>使用R运算符对矩阵执行各种数学运算。 操作的结果也是一个矩阵。<br>对于操作中涉及的矩阵，维度（行数和列数）应该相同。</p>
<h5 id="矩阵加法和减法"><a href="#矩阵加法和减法" class="headerlink" title="矩阵加法和减法"></a>矩阵加法和减法</h5><pre class="line-numbers language-R"><code class="language-R"># Create two 2x3 matrices.
matrix1 <- matrix(c(3, 9, -1, 4, 2, 6), nrow = 2)
print(matrix1)

matrix2 <- matrix(c(5, 2, 0, 9, 3, 4), nrow = 2)
print(matrix2)

# Add the matrices.
result <- matrix1 + matrix2
cat("Result of addition","
")
print(result)

# Subtract the matrices
result <- matrix1 - matrix2
cat("Result of subtraction","
")
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>     [,1] [,2] [,3]
[1,]    3   -1    2
[2,]    9    4    6
     [,1] [,2] [,3]
[1,]    5    0    3
[2,]    2    9    4
Result of addition 
     [,1] [,2] [,3]
[1,]    8   -1    5
[2,]   11   13   10
Result of subtraction 
     [,1] [,2] [,3]
[1,]   -2   -1   -1
[2,]    7   -5    2</code></pre><h5 id="矩阵乘法和除法"><a href="#矩阵乘法和除法" class="headerlink" title="矩阵乘法和除法"></a>矩阵乘法和除法</h5><pre class="line-numbers language-R"><code class="language-R"># Create two 2x3 matrices.
matrix1 <- matrix(c(3, 9, -1, 4, 2, 6), nrow = 2)
print(matrix1)

matrix2 <- matrix(c(5, 2, 0, 9, 3, 4), nrow = 2)
print(matrix2)

# Multiply the matrices.
result <- matrix1 * matrix2
cat("Result of multiplication","
")
print(result)

# Divide the matrices
result <- matrix1 / matrix2
cat("Result of division","
")
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>     [,1] [,2] [,3]
[1,]    3   -1    2
[2,]    9    4    6
     [,1] [,2] [,3]
[1,]    5    0    3
[2,]    2    9    4
Result of multiplication 
     [,1] [,2] [,3]
[1,]   15    0    6
[2,]   18   36   24
Result of division 
     [,1]      [,2]      [,3]
[1,]  0.6      -Inf 0.6666667
[2,]  4.5 0.4444444 1.5000000</code></pre><h1 id="十六-数组"><a href="#十六-数组" class="headerlink" title="十六.数组"></a>十六.数组</h1><p>数组对可以在两个以上维度中存储数据的R数据对象。例如 - 如果我们创建一个维度（2,3,4）的数组，则它创造4个矩形矩阵，每个矩阵具有2行和3列数组只能存储数据类型。<br>使用array（）函数创建数组。它使用向量作为输入，并使用dim参数中的值创建数组。</p>
<h3 id="例-1"><a href="#例-1" class="headerlink" title="例"></a>例</h3><p>以下示例创建一个由两个3x3的矩阵组成的数组，每个矩阵具有3行和3列。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create two vectors of different lengths.
vector1 <- c(5,9,3)
vector2 <- c(10,11,12,13,14,15)

# Take these vectors as input to the array.
result <- array(c(vector1,vector2),dim = c(3,3,2))
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>, , 1

     [,1] [,2] [,3]
[1,]    5   10   13
[2,]    9   11   14
[3,]    3   12   15

, , 2

     [,1] [,2] [,3]
[1,]    5   10   13
[2,]    9   11   14
[3,]    3   12   15</code></pre><h3 id="命名列和行"><a href="#命名列和行" class="headerlink" title="命名列和行"></a>命名列和行</h3><p>我们可以使用dimnames参数给数组中的行，列和矩阵命名。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create two vectors of different lengths.
vector1 <- c(5,9,3)
vector2 <- c(10,11,12,13,14,15)
column.names <- c("COL1","COL2","COL3")
row.names <- c("ROW1","ROW2","ROW3")
matrix.names <- c("Matrix1","Matrix2")

# Take these vectors as input to the array.
result <- array(c(vector1,vector2),dim = c(3,3,2),dimnames = list(row.names,column.names,
   matrix.names))
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>, , Matrix1

     COL1 COL2 COL3
ROW1    5   10   13
ROW2    9   11   14
ROW3    3   12   15

, , Matrix2

     COL1 COL2 COL3
ROW1    5   10   13
ROW2    9   11   14
ROW3    3   12   15</code></pre><h3 id="访问数组元素"><a href="#访问数组元素" class="headerlink" title="访问数组元素"></a>访问数组元素</h3><pre class="line-numbers language-R"><code class="language-R"># Create two vectors of different lengths.
vector1 <- c(5,9,3)
vector2 <- c(10,11,12,13,14,15)
column.names <- c("COL1","COL2","COL3")
row.names <- c("ROW1","ROW2","ROW3")
matrix.names <- c("Matrix1","Matrix2")

# Take these vectors as input to the array.
result <- array(c(vector1,vector2),dim = c(3,3,2),dimnames = list(row.names,
   column.names, matrix.names))

# Print the third row of the second matrix of the array.
print(result[3,,2])

# Print the element in the 1st row and 3rd column of the 1st matrix.
print(result[1,3,1])

# Print the 2nd Matrix.
print(result[,,2])<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>COL1 COL2 COL3 
   3   12   15 
[1] 13
     COL1 COL2 COL3
ROW1    5   10   13
ROW2    9   11   14
ROW3    3   12   15</code></pre><h3 id="操作数组元素"><a href="#操作数组元素" class="headerlink" title="操作数组元素"></a>操作数组元素</h3><p>由于数组由多维构成矩阵，所以对数组元素的操作通过访问矩阵的元素来执行。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create two vectors of different lengths.
vector1 <- c(5,9,3)
vector2 <- c(10,11,12,13,14,15)

# Take these vectors as input to the array.
array1 <- array(c(vector1,vector2),dim = c(3,3,2))

# Create two vectors of different lengths.
vector3 <- c(9,1,0)
vector4 <- c(6,0,11,3,14,1,2,6,9)
array2 <- array(c(vector1,vector2),dim = c(3,3,2))

# create matrices from these arrays.
matrix1 <- array1[,,2]
matrix2 <- array2[,,2]

# Add the matrices.
result <- matrix1+matrix2
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>     [,1] [,2] [,3]
[1,]   10   20   26
[2,]   18   22   28
[3,]    6   24   30</code></pre><h3 id="跨数组元素的计算"><a href="#跨数组元素的计算" class="headerlink" title="跨数组元素的计算"></a>跨数组元素的计算</h3><p>我们可以使用适用（）函数在数组中的元素上进行计算。</p>
<h3 id="语法-5"><a href="#语法-5" class="headerlink" title="语法"></a>语法</h3><pre class="line-numbers language-R"><code class="language-R">apply(x, margin, fun)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的说明 -</p>
<ul>
<li><p>X是一个数组。</p>
</li>
<li><p>保证金是所使用的数据集的名称。</p>
</li>
<li><p>有趣的是要应用于数组元素的函数。</p>
</li>
</ul>
<p>例<br>我们使用下面的适用（）函数计算所有矩阵中数组行中元素的总和。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create two vectors of different lengths.
vector1 <- c(5,9,3)
vector2 <- c(10,11,12,13,14,15)

# Take these vectors as input to the array.
new.array <- array(c(vector1,vector2),dim = c(3,3,2))
print(new.array)

# Use apply to calculate the sum of the rows across all the matrices.
result <- apply(new.array, c(1), sum)
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>, , 1

     [,1] [,2] [,3]
[1,]    5   10   13
[2,]    9   11   14
[3,]    3   12   15

, , 2

     [,1] [,2] [,3]
[1,]    5   10   13
[2,]    9   11   14
[3,]    3   12   15

[1] 56 68 60</code></pre><h1 id="十七-因子"><a href="#十七-因子" class="headerlink" title="十七.因子"></a>十七.因子</h1><p>因子是用于对数据进行分类并将其存储为级别的数据对象。 它们可以存储字符串和整数。 它们在具有有限数量的唯一值的列中很有用。 像“男性”，“女性”和True，False等。它们在统计建模的数据分析中很有用。<br>使用factor()函数通过将向量作为输入创建因子。<br>例</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a vector as input.
data <- c("East","West","East","North","North","East","West","West","West","East","North")

print(data)
print(is.factor(data))

# Apply the factor function.
factor_data <- factor(data)

print(factor_data)
print(is.factor(factor_data))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code> [1] "East"  "West"  "East"  "North" "North" "East"  "West"  "West"  "West"  "East" "North"
[1] FALSE
 [1] East  West  East  North North East  West  West  West  East  North
Levels: East North West
[1] TRUE</code></pre><h3 id="数据帧的因子"><a href="#数据帧的因子" class="headerlink" title="数据帧的因子"></a>数据帧的因子</h3><p>在创建具有文本数据列的任何数据框时，R语言将文本列视为分类数据并在其上创建因子。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create the vectors for data frame.
height <- c(132,151,162,139,166,147,122)
weight <- c(48,49,66,53,67,52,40)
gender <- c("male","male","female","female","male","female","male")

# Create the data frame.
input_data <- data.frame(height,weight,gender)
print(input_data)

# Test if the gender column is a factor.
print(is.factor(input_data$gender))

# Print the gender column so see the levels.
print(input_data$gender)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>  height weight gender
1    132     48   male
2    151     49   male
3    162     66 female
4    139     53 female
5    166     67   male
6    147     52 female
7    122     40   male
[1] TRUE
[1] male   male   female female male   female male  
Levels: female male</code></pre><h3 id="更改级别顺序"><a href="#更改级别顺序" class="headerlink" title="更改级别顺序"></a>更改级别顺序</h3><p>可以通过使用新的等级次序再次应用因子函数来改变因子中的等级的顺序。</p>
<pre class="line-numbers language-R"><code class="language-R">data <- c("East","West","East","North","North","East","West","West","West","East","North")
# Create the factors
factor_data <- factor(data)
print(factor_data)

# Apply the factor function with required order of the level.
new_order_data <- factor(factor_data,levels = c("East","West","North"))
print(new_order_data)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code> [1] East  West  East  North North East  West  West  West  East  North
Levels: East North West
 [1] East  West  East  North North East  West  West  West  East  North
Levels: East West North</code></pre><h3 id="生成因子级别"><a href="#生成因子级别" class="headerlink" title="生成因子级别"></a>生成因子级别</h3><p>我们可以使用gl()函数生成因子级别。 它需要两个整数作为输入，指示每个级别有多少级别和多少次。</p>
<p>语法</p>
<pre class="line-numbers language-R"><code class="language-R">gl(n, k, labels)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的说明 -</p>
<ul>
<li><p>n是给出级数的整数。</p>
</li>
<li><p>k是给出复制数目的整数。</p>
</li>
<li><p>labels是所得因子水平的标签向量。</p>
</li>
</ul>
<p>例</p>
<pre class="line-numbers language-R"><code class="language-R">v <- gl(3, 4, labels = c("Tampa", "Seattle","Boston"))
print(v)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>Tampa   Tampa   Tampa   Tampa   Seattle Seattle Seattle Seattle Boston 
[10] Boston  Boston  Boston 
Levels: Tampa Seattle Boston</code></pre><p>#十八.数据帧<br>数据帧是表或二维阵列状结构，其中每一列包含一个变量的值，并且每一行包含来自每一列的一组值。<br>以下是数据帧的特性。</p>
<ul>
<li><p>列名称应为非空。</p>
</li>
<li><p>行名称应该是唯一的。</p>
</li>
<li><p>存储在数据帧中的数据可以是数字，因子或字符类型。</p>
</li>
<li><p>每个列应包含相同数量的数据项。</p>
<h3 id="创建数据帧"><a href="#创建数据帧" class="headerlink" title="创建数据帧"></a>创建数据帧</h3><pre class="line-numbers language-R"><code class="language-R"># Create the data frame.
emp.data <- data.frame(
 emp_id = c (1:5), 
 emp_name = c("Rick","Dan","Michelle","Ryan","Gary"),
 salary = c(623.3,515.2,611.0,729.0,843.25), 

 start_date = as.Date(c("2012-01-01", "2013-09-23", "2014-11-15", "2014-05-11",
    "2015-03-27")),
 stringsAsFactors = FALSE
)
# Print the data frame.            
print(emp.data) <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>emp_id    emp_name     salary     start_date
1     1     Rick        623.30     2012-01-01
2     2     Dan         515.20     2013-09-23
3     3     Michelle    611.00     2014-11-15
4     4     Ryan        729.00     2014-05-11
5     5     Gary        843.25     2015-03-27</code></pre><h3 id="获取数据帧的结构"><a href="#获取数据帧的结构" class="headerlink" title="获取数据帧的结构"></a>获取数据帧的结构</h3><p>通过使用str()函数可以看到数据帧的结构。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create the data frame.
emp.data <- data.frame(
 emp_id = c (1:5), 
 emp_name = c("Rick","Dan","Michelle","Ryan","Gary"),
 salary = c(623.3,515.2,611.0,729.0,843.25), 

 start_date = as.Date(c("2012-01-01", "2013-09-23", "2014-11-15", "2014-05-11",
    "2015-03-27")),
 stringsAsFactors = FALSE
)
# Get the structure of the data frame.
str(emp.data)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>'data.frame':   5 obs. of  4 variables:
$ emp_id    : int  1 2 3 4 5
$ emp_name  : chr  "Rick" "Dan" "Michelle" "Ryan" ...
$ salary    : num  623 515 611 729 843
$ start_date: Date, format: "2012-01-01" "2013-09-23" "2014-11-15" "2014-05-11" ...</code></pre><h3 id="数据框中的数据摘要"><a href="#数据框中的数据摘要" class="headerlink" title="数据框中的数据摘要"></a>数据框中的数据摘要</h3><p>可以通过应用summary()函数获取数据的统计摘要和性质。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create the data frame.
emp.data <- data.frame(
 emp_id = c (1:5), 
 emp_name = c("Rick","Dan","Michelle","Ryan","Gary"),
 salary = c(623.3,515.2,611.0,729.0,843.25), 

 start_date = as.Date(c("2012-01-01", "2013-09-23", "2014-11-15", "2014-05-11",
    "2015-03-27")),
 stringsAsFactors = FALSE
)
# Print the summary.
print(summary(emp.data))  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>   emp_id    emp_name             salary        start_date        
Min.   :1   Length:5           Min.   :515.2   Min.   :2012-01-01  
1st Qu.:2   Class :character   1st Qu.:611.0   1st Qu.:2013-09-23  
Median :3   Mode  :character   Median :623.3   Median :2014-05-11  
Mean   :3                      Mean   :664.4   Mean   :2014-01-14  
3rd Qu.:4                      3rd Qu.:729.0   3rd Qu.:2014-11-15  
Max.   :5                      Max.   :843.2   Max.   :2015-03-27 </code></pre><h3 id="从数据帧提取数据"><a href="#从数据帧提取数据" class="headerlink" title="从数据帧提取数据"></a>从数据帧提取数据</h3><p>使用列名称从数据框中提取特定列。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create the data frame.
emp.data <- data.frame(
 emp_id = c (1:5),
 emp_name = c("Rick","Dan","Michelle","Ryan","Gary"),
 salary = c(623.3,515.2,611.0,729.0,843.25),

 start_date = as.Date(c("2012-01-01","2013-09-23","2014-11-15","2014-05-11",
    "2015-03-27")),
 stringsAsFactors = FALSE
)
# Extract Specific columns.
result <- data.frame(emp.data$emp_name,emp.data$salary)
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>emp.data.emp_name emp.data.salary
1              Rick          623.30
2               Dan          515.20
3          Michelle          611.00
4              Ryan          729.00
5              Gary          843.25</code></pre><p>先提取前两行，然后提取所有列</p>
<pre class="line-numbers language-R"><code class="language-R"># Create the data frame.
emp.data <- data.frame(
 emp_id = c (1:5),
 emp_name = c("Rick","Dan","Michelle","Ryan","Gary"),
 salary = c(623.3,515.2,611.0,729.0,843.25),

 start_date = as.Date(c("2012-01-01", "2013-09-23", "2014-11-15", "2014-05-11",
    "2015-03-27")),
 stringsAsFactors = FALSE
)
# Extract first two rows.
result <- emp.data[1:2,]
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>emp_id    emp_name   salary    start_date
1      1     Rick      623.3     2012-01-01
2      2     Dan       515.2     2013-09-23</code></pre><p>用第2和第4列提取第3和第5行</p>
<pre class="line-numbers language-R"><code class="language-R"># Create the data frame.
emp.data <- data.frame(
 emp_id = c (1:5), 
 emp_name = c("Rick","Dan","Michelle","Ryan","Gary"),
 salary = c(623.3,515.2,611.0,729.0,843.25), 

  start_date = as.Date(c("2012-01-01", "2013-09-23", "2014-11-15", "2014-05-11",
    "2015-03-27")),
 stringsAsFactors = FALSE
)
# Extract 3rd and 5th row with 2nd and 4th column.
result <- emp.data[c(3,5),c(2,4)]
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>emp_name start_date
3 Michelle 2014-11-15
5     Gary 2015-03-27</code></pre><h3 id="扩展数据帧"><a href="#扩展数据帧" class="headerlink" title="扩展数据帧"></a>扩展数据帧</h3><p>可以通过添加列和行来扩展数据帧。</p>
</li>
</ul>
<h3 id="添加列"><a href="#添加列" class="headerlink" title="添加列"></a>添加列</h3><p>只需使用新的列名称添加列向量。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create the data frame.
emp.data <- data.frame(
   emp_id = c (1:5), 
   emp_name = c("Rick","Dan","Michelle","Ryan","Gary"),
   salary = c(623.3,515.2,611.0,729.0,843.25), 

   start_date = as.Date(c("2012-01-01", "2013-09-23", "2014-11-15", "2014-05-11",
      "2015-03-27")),
   stringsAsFactors = FALSE
)

# Add the "dept" coulmn.
emp.data$dept <- c("IT","Operations","IT","HR","Finance")
v <- emp.data
print(v)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>  emp_id   emp_name    salary    start_date       dept
1     1    Rick        623.30    2012-01-01       IT
2     2    Dan         515.20    2013-09-23       Operations
3     3    Michelle    611.00    2014-11-15       IT
4     4    Ryan        729.00    2014-05-11       HR
5     5    Gary        843.25    2015-03-27       Finance</code></pre><h3 id="添加行"><a href="#添加行" class="headerlink" title="添加行"></a>添加行</h3><p>要将更多行永久添加到现有数据帧，我们需要引入与现有数据帧相同结构的新行，并使用rbind()函数。<br>在下面的示例中，我们创建一个包含新行的数据帧，并将其与现有数据帧合并以创建最终数据帧。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create the first data frame.
emp.data <- data.frame(
   emp_id = c (1:5), 
   emp_name = c("Rick","Dan","Michelle","Ryan","Gary"),
   salary = c(623.3,515.2,611.0,729.0,843.25), 

   start_date = as.Date(c("2012-01-01", "2013-09-23", "2014-11-15", "2014-05-11",
      "2015-03-27")),
   dept = c("IT","Operations","IT","HR","Finance"),
   stringsAsFactors = FALSE
)

# Create the second data frame
emp.newdata <-     data.frame(
   emp_id = c (6:8), 
   emp_name = c("Rasmi","Pranab","Tusar"),
   salary = c(578.0,722.5,632.8), 
   start_date = as.Date(c("2013-05-21","2013-07-30","2014-06-17")),
   dept = c("IT","Operations","Fianance"),
   stringsAsFactors = FALSE
)

# Bind the two data frames.
emp.finaldata <- rbind(emp.data,emp.newdata)
print(emp.finaldata)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>  emp_id     emp_name    salary     start_date       dept
1      1     Rick        623.30     2012-01-01       IT
2      2     Dan         515.20     2013-09-23       Operations
3      3     Michelle    611.00     2014-11-15       IT
4      4     Ryan        729.00     2014-05-11       HR
5      5     Gary        843.25     2015-03-27       Finance
6      6     Rasmi       578.00     2013-05-21       IT
7      7     Pranab      722.50     2013-07-30       Operations
8      8     Tusar       632.80     2014-06-17       Fianance</code></pre><h1 id="进阶篇"><a href="#进阶篇" class="headerlink" title="进阶篇"></a>进阶篇</h1><h1 id="1-条形图"><a href="#1-条形图" class="headerlink" title="1.条形图"></a>1.条形图</h1><p>条形图表示矩形条中的数据，条的长度与变量的值成比例。 R语言使用函数barplot()创建条形图。 R语言可以在条形图中绘制垂直和水平条。 在条形图中，每个条可以给予不同的颜色。</p>
<h3 id="语法-6"><a href="#语法-6" class="headerlink" title="语法"></a>语法</h3><p>在R语言中创建条形图的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">barplot(H, xlab, ylab, main, names.arg, col)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>H是包含在条形图中使用的数值的向量或矩阵。</p>
</li>
<li><p>xlab是x轴的标签。</p>
</li>
<li><p>ylab是y轴的标签。</p>
</li>
<li><p>main是条形图的标题。</p>
</li>
<li><p>names.arg是在每个条下出现的名称的向量。</p>
</li>
<li><p>col用于向图中的条形提供颜色。</p>
</li>
</ul>
<h3 id="例-2"><a href="#例-2" class="headerlink" title="例"></a>例</h3><p>使用输入向量和每个条的名称创建一个简单的条形图。<br>以下脚本将创建并保存当前R语言工作目录中的条形图。</p>
<pre class="line-numbers language-R"><code class="language-R"># Give the chart file a name.
png(file = "barchart.png")

# Plot the bar chart.
barplot(H)

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627230910543724" alt=""></p>
<h3 id="条形图标签，标题和颜色"><a href="#条形图标签，标题和颜色" class="headerlink" title="条形图标签，标题和颜色"></a>条形图标签，标题和颜色</h3><p>可以通过添加更多参数来扩展条形图的功能。 主要参数用于添加标题。 col参数用于向条形添加颜色。 args.name是具有与输入向量相同数量的值的向量，以描述每个条的含义。</p>
<h3 id="例-3"><a href="#例-3" class="headerlink" title="例"></a>例</h3><p>以下脚本将在当前R语言工作目录中创建并保存条形图。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create the data for the chart.
H <- c(7,12,28,3,41)
M <- c("Mar","Apr","May","Jun","Jul")

# Give the chart file a name.
png(file = "barchart_months_revenue.png")

# Plot the bar chart.
barplot(H,names.arg = M,xlab = "Month",ylab = "Revenue",col = "blue",
main = "Revenue chart",border = "red")

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627230914626726" alt=""></p>
<h3 id="组合条形图和堆积条形图"><a href="#组合条形图和堆积条形图" class="headerlink" title="组合条形图和堆积条形图"></a>组合条形图和堆积条形图</h3><p>我们可以使用矩阵作为输入值，在每个条中创建条形图和堆叠组的条形图。<br>超过两个变量表示为用于创建组合条形图和堆叠条形图的矩阵。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create the input vectors.
colors <- c("green","orange","brown")
months <- c("Mar","Apr","May","Jun","Jul")
regions <- c("East","West","North")

# Create the matrix of the values.
Values <- matrix(c(2,9,3,11,9,4,8,7,3,12,5,2,8,10,11),nrow = 3,ncol = 5,byrow = TRUE)

# Give the chart file a name.
png(file = "barchart_stacked.png")

# Create the bar chart.
barplot(Values,main = "total revenue",names.arg = months,xlab = "month",ylab = "revenue",
   col = colors)

# Add the legend to the chart.
legend("topleft", regions, cex = 1.3, fill = colors)

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627230919406728" alt=""></p>
<h1 id="2-箱线图"><a href="#2-箱线图" class="headerlink" title="2.箱线图"></a>2.箱线图</h1><p>箱线图是数据集中的数据分布良好的度量。 它将数据集分成三个四分位数。 此图表表示数据集中的最小值，最大值，中值，第一四分位数和第三四分位数。 它还可用于通过绘制每个数据集的箱线图来比较数据集之间的数据分布。</p>
<p>R语言中使用boxplot()函数来创建箱线图。</p>
<h3 id="语法-7"><a href="#语法-7" class="headerlink" title="语法"></a>语法</h3><p>在R语言中创建箱线图的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">boxplot(x, data, notch, varwidth, names, main)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>x是向量或公式。</p>
</li>
<li><p>数据是数据帧。</p>
</li>
<li><p>notch是逻辑值。 设置为TRUE以绘制凹口。</p>
</li>
<li><p>varwidth是一个逻辑值。 设置为true以绘制与样本大小成比例的框的宽度。</p>
</li>
<li><p>names是将打印在每个箱线图下的组标签。</p>
</li>
<li><p>main用于给图表标题。</p>
</li>
</ul>
<h3 id="例-4"><a href="#例-4" class="headerlink" title="例"></a>例</h3><p>我们使用R语言环境中可用的数据集“mtcars”来创建基本箱线图。 让我们看看mtcars中的列“mpg”和“cyl”。</p>
<pre class="line-numbers language-R"><code class="language-R">input <- mtcars[,c('mpg','cyl')]
print(head(input))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它会产生以下结果 -</p>
<pre><code>                  mpg  cyl
Mazda RX4         21.0   6
Mazda RX4 Wag     21.0   6
Datsun 710        22.8   4
Hornet 4 Drive    21.4   6
Hornet Sportabout 18.7   8
Valiant           18.1   6</code></pre><h3 id="创建箱线图"><a href="#创建箱线图" class="headerlink" title="创建箱线图"></a>创建箱线图</h3><p>以下脚本将为mpg（英里/加仑）和cyl（气缸数）之间的关系创建箱线图。</p>
<pre class="line-numbers language-R"><code class="language-R"># Give the chart file a name.
png(file = "boxplot.png")

# Plot the chart.
boxplot(mpg ~ cyl, data = mtcars, xlab = "Number of Cylinders",
   ylab = "Miles Per Gallon", main = "Mileage Data")

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627230923506730" alt=""></p>
<h3 id="带槽的箱线图"><a href="#带槽的箱线图" class="headerlink" title="带槽的箱线图"></a>带槽的箱线图</h3><p>我们可以绘制带槽的箱线图，以了解不同数据组的中值如何相互匹配。<br>以下脚本将为每个数据组创建一个带缺口的箱线图。</p>
<pre class="line-numbers language-R"><code class="language-R"># Give the chart file a name.
png(file = "boxplot_with_notch.png")

# Plot the chart.
boxplot(mpg ~ cyl, data = mtcars, 
   xlab = "Number of Cylinders",
   ylab = "Miles Per Gallon", 
   main = "Mileage Data",
   notch = TRUE, 
   varwidth = TRUE, 
   col = c("green","yellow","purple"),
   names = c("High","Medium","Low")
)
# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p>[图片上传中…(image-9f3e39-1552623568628-0)]</p>
<h1 id="3-直方图"><a href="#3-直方图" class="headerlink" title="3.直方图"></a>3.直方图</h1><p>直方图表示被存储到范围中的变量的值的频率。 直方图类似于条形图，但不同之处在于将值分组为连续范围。 直方图中的每个柱表示该范围中存在的值的数量的高度。</p>
<p>R语言使用hist()函数创建直方图。 此函数使用向量作为输入，并使用一些更多的参数来绘制直方图。</p>
<h3 id="语法-8"><a href="#语法-8" class="headerlink" title="语法"></a>语法</h3><p>使用R语言创建直方图的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">hist(v,main,xlab,xlim,ylim,breaks,col,border)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>v是包含直方图中使用的数值的向量。</p>
</li>
<li><p>main表示图表的标题。</p>
</li>
<li><p>col用于设置条的颜色。</p>
</li>
<li><p>border用于设置每个条的边框颜色。</p>
</li>
<li><p>xlab用于给出x轴的描述。</p>
</li>
<li><p>xlim用于指定x轴上的值的范围。</p>
</li>
<li><p>ylim用于指定y轴上的值的范围。</p>
</li>
<li><p>break用于提及每个条的宽度。</p>
</li>
</ul>
<h3 id="例-5"><a href="#例-5" class="headerlink" title="例"></a>例</h3><p>使用输入vector，label，col和边界参数创建一个简单的直方图。<br>下面给出的脚本将创建并保存当前R语言工作目录中的直方图。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create data for the graph.
v <-  c(9,13,21,8,36,22,12,41,31,33,19)

# Give the chart file a name.
png(file = "histogram.png")

# Create the histogram.
hist(v,xlab = "Weight",col = "yellow",border = "blue")

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627230927823732" alt=""></p>
<h3 id="X和Y值的范围"><a href="#X和Y值的范围" class="headerlink" title="X和Y值的范围"></a>X和Y值的范围</h3><p>要指定X轴和Y轴允许的值的范围，我们可以使用<strong>xlim</strong>和<strong>ylim</strong>参数。<br>每个条的宽度可以通过使用间隔来确定。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create data for the graph.
v <- c(9,13,21,8,36,22,12,41,31,33,19)

# Give the chart file a name.
png(file = "histogram_lim_breaks.png")

# Create the histogram.
hist(v,xlab = "Weight",col = "green",border = "red", xlim = c(0,40), ylim = c(0,5),
   breaks = 5)

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p>[图片上传中…(image-d6f09b-1552623852107-0)]</p>
<h1 id="4-折线图"><a href="#4-折线图" class="headerlink" title="4.折线图"></a>4.折线图</h1><p>折线图是通过在它们之间绘制线段来连接一系列点的图。这些点在它们的坐标（通常是x坐标）值之一中排序。折线图通常用于识别数据中的趋势。</p>
<p>R语言中的情节（）函数用于创建折线图。</p>
<p>###语法<br>在R语言中创建折线图的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">plot(v,type,col,xlab,ylab)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>是包含数值的向量。</p>
</li>
<li><p>类型采用值“P”仅绘制点，“升”仅绘制线和“o”的绘制点和线。</p>
</li>
<li><p>xlab是X轴的标签。</p>
</li>
<li><p>ylab是Ÿ轴的标签。</p>
</li>
<li><p>主要是图表的标题。</p>
</li>
<li><p>山坳用于给点和线的颜色。</p>
<h3 id="例-6"><a href="#例-6" class="headerlink" title="例"></a>例</h3></li>
</ul>
<p>使用输入向量和类型参数“O”创建简单的折线图。以下脚本将在当前R工作目录中创建并保存折线图。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create the data for the chart.
v <- c(7,12,28,3,41)

# Give the chart file a name.
png(file = "line_chart.jpg")

# Plot the bar chart. 
plot(v,type = "o")

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p>[图片上传中…(image-469771-1552624000469-2)]</p>
<h3 id="折线图标题，颜色和标签"><a href="#折线图标题，颜色和标签" class="headerlink" title="折线图标题，颜色和标签"></a>折线图标题，颜色和标签</h3><p>线图的特征可以通过使用附加参数来扩展。我们向点和线添加颜色，为图表添加标题，并向轴添加标签。</p>
<h3 id="例-7"><a href="#例-7" class="headerlink" title="例"></a>例</h3><pre class="line-numbers language-R"><code class="language-R"># Create the data for the chart.
v <- c(7,12,28,3,41)

# Give the chart file a name.
png(file = "line_chart_label_colored.jpg")

# Plot the bar chart.
plot(v,type = "o", col = "red", xlab = "Month", ylab = "Rain fall",
   main = "Rain fall chart")

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627230932812734" alt=""></p>
<h3 id="多线型折线图"><a href="#多线型折线图" class="headerlink" title="多线型折线图"></a>多线型折线图</h3><p>通过使用lines（）函数，可以在同一个图表上绘制多条线。<br>在绘制第一行之后，lines （）函数可以使用一个额外的向量作为输入来绘制图表中的第二行。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create the data for the chart.
v <- c(7,12,28,3,41)
t <- c(14,7,6,19,3)

# Give the chart file a name.
png(file = "line_chart_2_lines.jpg")

# Plot the bar chart.
plot(v,type = "o",col = "red", xlab = "Month", ylab = "Rain fall", 
   main = "Rain fall chart")

lines(t, type = "o", col = "blue")

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627230935931736" alt=""></p>
<h1 id="5-散点图"><a href="#5-散点图" class="headerlink" title="5.散点图"></a>5.散点图</h1><p>散点图显示在笛卡尔平面中绘制的许多点。 每个点表示两个变量的值。 在水平轴上选择一个变量，在垂直轴上选择另一个变量。<br>使用plot()函数创建简单散点图。</p>
<h3 id="语法-9"><a href="#语法-9" class="headerlink" title="语法"></a>语法</h3><p>在R语言中创建散点图的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">plot(x, y, main, xlab, ylab, xlim, ylim, axes)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>x是其值为水平坐标的数据集。</p>
</li>
<li><p>y是其值是垂直坐标的数据集。</p>
</li>
<li><p>main要是图形的图块。</p>
</li>
<li><p>xlab是水平轴上的标签。</p>
</li>
<li><p>ylab是垂直轴上的标签。</p>
</li>
<li><p>xlim是用于绘图的x的值的极限。</p>
</li>
<li><p>ylim是用于绘图的y的值的极限。</p>
</li>
<li><p>axes指示是否应在绘图上绘制两个轴。</p>
</li>
</ul>
<h3 id="例-8"><a href="#例-8" class="headerlink" title="例"></a>例</h3><p>我们使用R语言环境中可用的数据集“mtcars”来创建基本散点图。 让我们使用mtcars中的“wt”和“mpg”列。</p>
<pre class="line-numbers language-R"><code class="language-R">input <- mtcars[,c('wt','mpg')]
print(head(input))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>              wt      mpg
Mazda RX4           2.620   21.0
Mazda RX4 Wag       2.875   21.0
Datsun 710          2.320   22.8
Hornet 4 Drive      3.215   21.4
Hornet Sportabout   3.440   18.7
Valiant             3.460   18.1</code></pre><h3 id="创建散点图"><a href="#创建散点图" class="headerlink" title="创建散点图"></a>创建散点图</h3><p>以下脚本将为wt（重量）和mpg（英里/加仑）之间的关系创建一个散点图。</p>
<pre class="line-numbers language-R"><code class="language-R"># Get the input values.
input <- mtcars[,c('wt','mpg')]

# Give the chart file a name.
png(file = "scatterplot.png")

# Plot the chart for cars with weight between 2.5 to 5 and mileage between 15 and 30.
plot(x = input$wt,y = input$mpg,
   xlab = "Weight",
   ylab = "Milage",
   xlim = c(2.5,5),
   ylim = c(15,30),         
   main = "Weight vs Milage"
)

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627230939922738" alt=""></p>
<h3 id="散点图矩阵"><a href="#散点图矩阵" class="headerlink" title="散点图矩阵"></a>散点图矩阵</h3><p>当我们有两个以上的变量，我们想找到一个变量和其余变量之间的相关性，我们使用散点图矩阵。 我们使用<strong>pairs()</strong>函数创建散点图的矩阵。</p>
<h3 id="语法-10"><a href="#语法-10" class="headerlink" title="语法"></a>语法</h3><p>在R中创建散点图矩阵的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">pairs(formula, data)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p><strong>formula</strong>表示成对使用的一系列变量。</p>
</li>
<li><p><strong>data</strong>表示将从其获取变量的数据集。</p>
</li>
</ul>
<h3 id="例-9"><a href="#例-9" class="headerlink" title="例"></a>例</h3><p>每个变量与每个剩余变量配对。 为每对绘制散点图。</p>
<pre class="line-numbers language-R"><code class="language-R"># Give the chart file a name.
png(file = "scatterplot_matrices.png")

# Plot the matrices between 4 variables giving 12 plots.

# One variable with 3 others and total 4 variables.

pairs(~wt+mpg+disp+cyl,data = mtcars,
   main = "Scatterplot Matrix")

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当执行上面的代码中，我们得到以下输出。</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627230947627740" alt=""></p>
<h1 id="6-饼状图"><a href="#6-饼状图" class="headerlink" title="6.饼状图"></a>6.饼状图</h1><p>R编程语言有许多库来创建图表和图表。 饼图是将值表示为具有不同颜色的圆的切片。 切片被标记，并且对应于每个片的数字也在图表中表示。<br>在R语言中，饼图是使用pie()函数创建的，它使用正数作为向量输入。 附加参数用于控制标签，颜色，标题等。</p>
<h3 id="语法-11"><a href="#语法-11" class="headerlink" title="语法"></a>语法</h3><p>使用R语言创建饼图的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">pie(x, labels, radius, main, col, clockwise)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>x是包含饼图中使用的数值的向量。</p>
</li>
<li><p>labels用于给出切片的描述。</p>
</li>
<li><p>radius表示饼图圆的半径（值-1和+1之间）。</p>
</li>
<li><p>main表示图表的标题。</p>
</li>
<li><p>col表示调色板。</p>
</li>
<li><p>clockwise是指示片段是顺时针还是逆时针绘制的逻辑值。</p>
<h3 id="例-10"><a href="#例-10" class="headerlink" title="例"></a>例</h3></li>
</ul>
<p>使用输入向量和标签创建一个非常简单的饼图。 以下脚本将创建并保存当前R语言工作目录中的饼图。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create data for the graph.
x <- c(21, 62, 10, 53)
labels <- c("London", "New York", "Singapore", "Mumbai")

# Give the chart file a name.
png(file = "city.jpg")

# Plot the chart.
pie(x,labels)

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627230951782742" alt=""></p>
<h3 id="饼图标题和颜色"><a href="#饼图标题和颜色" class="headerlink" title="饼图标题和颜色"></a>饼图标题和颜色</h3><p>我们可以通过向函数中添加更多参数来扩展图表的功能。 我们将使用参数+ + <strong>main</strong>向图表添加标题，另一个参数是<strong>col</strong>，它将在绘制图表时使用彩虹色板。 托盘的长度应与图表中的值的数量相同。 因此，我们使用<strong>length(x)</strong>。</p>
<h3 id="例-11"><a href="#例-11" class="headerlink" title="例"></a>例</h3><p>以下脚本将创建并保存当前R语言工作目录中的饼图。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create data for the graph.
x <- c(21, 62, 10, 53)
labels <- c("London", "New York", "Singapore", "Mumbai")

# Give the chart file a name.
png(file = "city_title_colours.jpg")

# Plot the chart with title and rainbow color pallet.
pie(x, labels, main = "City pie chart", col = rainbow(length(x)))

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627230954972744" alt=""></p>
<h3 id="切片百分比和图表图例"><a href="#切片百分比和图表图例" class="headerlink" title="切片百分比和图表图例"></a>切片百分比和图表图例</h3><p>我们可以通过创建其他图表变量来添加切片百分比和图表图例。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create data for the graph.
x <-  c(21, 62, 10,53)
labels <-  c("London","New York","Singapore","Mumbai")

piepercent<- round(100*x/sum(x), 1)

# Give the chart file a name.
png(file = "city_percentage_legends.jpg")

# Plot the chart.
pie(x, labels = piepercent, main = "City pie chart",col = rainbow(length(x)))
legend("topright", c("London","New York","Singapore","Mumbai"), cex = 0.8,
   fill = rainbow(length(x)))

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p>[图片上传中…(image-f4714e-1552624406629-1)]</p>
<h3 id="3D饼图"><a href="#3D饼图" class="headerlink" title="3D饼图"></a>3D饼图</h3><p>可以使用其他软件包绘制具有3个维度的饼图。 软件包plotrix有一个名为pie3D（）的函数，用于此。</p>
<pre class="line-numbers language-R"><code class="language-R"># Get the library.
library(plotrix)

# Create data for the graph.
x <-  c(21, 62, 10,53)
lbl <-  c("London","New York","Singapore","Mumbai")

# Give the chart file a name.
png(file = "3d_pie_chart.jpg")

# Plot the chart.
pie3D(x,labels = lbl,explode = 0.1, main = "Pie Chart of Countries ")

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627230958841746" alt=""></p>
<h1 id="7-CSV文件"><a href="#7-CSV文件" class="headerlink" title="7.CSV文件"></a>7.CSV文件</h1><p>在R语言中，我们可以从存储在R语言环境外的文件中读取数据。我们还可以将数据写入将被操作系统存储和访问的文件.R语言可以读取和写入各种文件格式，如CSV，EXCEL，XML等。</p>
<p>在本章中，我们将学习从csv文件读取数据，然后将数据写入csv文件。该文件应该存在于当前工作目录中，以便R语言可以读取它。当然我们也可以设置我们自己的目录并从那里读取文件。</p>
<h3 id="获取和设置工作目录"><a href="#获取和设置工作目录" class="headerlink" title="获取和设置工作目录"></a>获取和设置工作目录</h3><p>您可以使用getwd（）函数检查R语言工作区指向的目录。您还可以使用setwd（）函数设置新的工作目录。</p>
<pre class="line-numbers language-R"><code class="language-R"># Get and print current working directory.
print(getwd())

# Set current working directory.
setwd("/web/com")

# Get and print current working directory.
print(getwd())<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] "/web/com/1441086124_2016"
[1] "/web/com"</code></pre><p>此结果取决于您的操作系统和您当前工作的目录。</p>
<h3 id="输入为CSV文件"><a href="#输入为CSV文件" class="headerlink" title="输入为CSV文件"></a>输入为CSV文件</h3><p>CSV文件是一个文本文件，其中列中的值由逗号分隔。让我们考虑名为input.csv的文件中出现的以下数据。<br>您可以通过复制和粘贴此数据使用的Windows记事本创建此文件。使用记事本中的保存为所有文件（<em>。</em>）选项将文件保存为input.csv。</p>
<pre><code>id,name,salary,start_date,dept
1,Rick,623.3,2012-01-01,IT
2,Dan,515.2,2013-09-23,Operations
3,Michelle,611,2014-11-15,IT
4,Ryan,729,2014-05-11,HR
 ,Gary,843.25,2015-03-27,Finance
6,Nina,578,2013-05-21,IT
7,Simon,632.8,2013-07-30,Operations
8,Guru,722.5,2014-06-17,Finance</code></pre><h3 id="读取CSV文件"><a href="#读取CSV文件" class="headerlink" title="读取CSV文件"></a>读取CSV文件</h3><p>以下是read.csv（）函数的一个简单示例，用于读取当前工作目录中可用的CSV文件 -</p>
<pre class="line-numbers language-R"><code class="language-R">data <- read.csv("input.csv")
print(data)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>      id,   name,    salary,   start_date,     dept
1      1    Rick     623.30    2012-01-01      IT
2      2    Dan      515.20    2013-09-23      Operations
3      3    Michelle 611.00    2014-11-15      IT
4      4    Ryan     729.00    2014-05-11      HR
5     NA    Gary     843.25    2015-03-27      Finance
6      6    Nina     578.00    2013-05-21      IT
7      7    Simon    632.80    2013-07-30      Operations
8      8    Guru     722.50    2014-06-17      Finance</code></pre><h3 id="分析CSV文件"><a href="#分析CSV文件" class="headerlink" title="分析CSV文件"></a>分析CSV文件</h3><p>默认情况下，read.csv（）函数将输出作为数据帧。这可以容易地如下检查。此外，我们可以检查列和行的数量。</p>
<pre class="line-numbers language-R"><code class="language-R">data <- read.csv("input.csv")

print(is.data.frame(data))
print(ncol(data))
print(nrow(data))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] TRUE
[1] 5
[1] 8</code></pre><p>一旦我们读取数据帧中的数据，我们可以应用所有适用于数据帧的函数，如下一节所述。</p>
<p>获得最高工资</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a data frame.
data <- read.csv("input.csv")

# Get the max salary from data frame.
sal <- max(data$salary)
print(sal)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 843.25</code></pre><p>获取具有最高工资的人的详细信息<br>我们可以获取满足特定过滤条件的行，类似于SQL where子句。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a data frame.
data <- read.csv("input.csv")

# Get the max salary from data frame.
sal <- max(data$salary)

# Get the person detail having max salary.
retval <- subset(data, salary == max(salary))
print(retval)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>      id    name  salary  start_date    dept
5     NA    Gary  843.25  2015-03-27    Finance</code></pre><p>获取所有的IT部门员工的信息</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a data frame.
data <- read.csv("input.csv")

retval <- subset( data, dept == "IT")
print(retval)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>       id   name      salary   start_date   dept
1      1    Rick      623.3    2012-01-01   IT
3      3    Michelle  611.0    2014-11-15   IT
6      6    Nina      578.0    2013-05-21   IT</code></pre><p>获得工资大于600的IT部门的人员</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a data frame.
data <- read.csv("input.csv")

info <- subset(data, salary > 600 & dept == "IT")
print(info)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>       id   name      salary   start_date   dept
1      1    Rick      623.3    2012-01-01   IT
3      3    Michelle  611.0    2014-11-15   IT</code></pre><p>获得2014年或之后加入的人</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a data frame.
data <- read.csv("input.csv")

retval <- subset(data, as.Date(start_date) > as.Date("2014-01-01"))
print(retval)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>       id   name     salary   start_date    dept
3      3    Michelle 611.00   2014-11-15    IT
4      4    Ryan     729.00   2014-05-11    HR
5     NA    Gary     843.25   2015-03-27    Finance
8      8    Guru     722.50   2014-06-17    Finance</code></pre><h3 id="写入CSV文件"><a href="#写入CSV文件" class="headerlink" title="写入CSV文件"></a>写入CSV文件</h3><p>R语言可以创建csv文件形式的现有数据帧.write.csv（）函数用于创建csv文件。此文件在工作目录中创建。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a data frame.
data <- read.csv("input.csv")
retval <- subset(data, as.Date(start_date) > as.Date("2014-01-01"))

# Write filtered data into a new file.
write.csv(retval,"output.csv")
newdata <- read.csv("output.csv")
print(newdata)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>  X      id   name      salary   start_date    dept
1 3      3    Michelle  611.00   2014-11-15    IT
2 4      4    Ryan      729.00   2014-05-11    HR
3 5     NA    Gary      843.25   2015-03-27    Finance
4 8      8    Guru      722.50   2014-06-17    Finance</code></pre><p>这里列X来自数据集newper。这可以在写入文件时使用附加参数删除。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a data frame.
data <- read.csv("input.csv")
retval <- subset(data, as.Date(start_date) > as.Date("2014-01-01"))

# Write filtered data into a new file.
write.csv(retval,"output.csv", row.names = FALSE)
newdata <- read.csv("output.csv")
print(newdata)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>      id    name      salary   start_date    dept
1      3    Michelle  611.00   2014-11-15    IT
2      4    Ryan      729.00   2014-05-11    HR
3     NA    Gary      843.25   2015-03-27    Finance
4      8    Guru      722.50   2014-06-17    Finance</code></pre><h1 id="8-Excel文件"><a href="#8-Excel文件" class="headerlink" title="8.Excel文件"></a>8.Excel文件</h1><p>Microsoft Excel是最广泛使用的电子表格程序，以.xls或.xlsx格式存储数据。 R语言可以直接从这些文件使用一些excel特定的包。 很少这样的包是 - XLConnect，xlsx，gdata等。我们将使用xlsx包。 R语言也可以使用这个包写入excel文件。</p>
<h3 id="安装xlsx软件包"><a href="#安装xlsx软件包" class="headerlink" title="安装xlsx软件包"></a>安装xlsx软件包</h3><p>您可以在R控制台中使用以下命令来安装“xlsx”软件包。 它可能会要求安装一些额外的软件包这个软件包依赖。 按照具有所需软件包名称的同一命令安装其他软件包。</p>
<pre class="line-numbers language-R"><code class="language-R">install.packages("xlsx")<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="验证并加载“xlsx”软件包"><a href="#验证并加载“xlsx”软件包" class="headerlink" title="验证并加载“xlsx”软件包"></a>验证并加载“xlsx”软件包</h3><p>使用以下命令验证并加载“xlsx”软件包。</p>
<pre class="line-numbers language-R"><code class="language-R"># Verify the package is installed.
any(grepl("xlsx",installed.packages()))

# Load the library into R workspace.
library("xlsx")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当脚本运行，我们得到以下输出。</p>
<pre><code>[1] TRUE
Loading required package: rJava
Loading required package: methods
Loading required package: xlsxjars</code></pre><h3 id="输入为xlsx文件"><a href="#输入为xlsx文件" class="headerlink" title="输入为xlsx文件"></a>输入为xlsx文件</h3><p>打开Microsoft Excel。 将以下数据复制并粘贴到名为sheet1的工作表中。</p>
<pre><code>id    name      salary    start_date    dept
1    Rick      623.3        1/1/2012    IT
2    Dan       515.2     9/23/2013   Operations
3    Michelle  611        11/15/2014    IT
4    Ryan      729        5/11/2014    HR
5    Gary      843.25    3/27/2015    Finance
6    Nina      578       5/21/2013    IT
7    Simon      632.8        7/30/2013    Operations
8    Guru      722.5        6/17/2014    Finance</code></pre><p>还要将以下数据复制并粘贴到另一个工作表，并将此工作表重命名为“city”。</p>
<pre><code>name     city
Rick     Seattle
Dan      Tampa
Michelle Chicago
Ryan     Seattle
Gary     Houston
Nina     Boston
Simon     Mumbai
Guru     Dallas</code></pre><p>将Excel文件另存为“input.xlsx”。 应将其保存在R工作区的当前工作目录中。</p>
<h3 id="读取Excel文件"><a href="#读取Excel文件" class="headerlink" title="读取Excel文件"></a>读取Excel文件</h3><p>通过使用read.xlsx()函数读取input.xlsx，如下所示。 结果作为数据帧存储在R语言环境中。</p>
<pre class="line-numbers language-R"><code class="language-R"># Read the first worksheet in the file input.xlsx.
data <- read.xlsx("input.xlsx", sheetIndex = 1)
print(data)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>      id,   name,    salary,   start_date,     dept
1      1    Rick     623.30    2012-01-01      IT
2      2    Dan      515.20    2013-09-23      Operations
3      3    Michelle 611.00    2014-11-15      IT
4      4    Ryan     729.00    2014-05-11      HR
5     NA    Gary     843.25    2015-03-27      Finance
6      6    Nina     578.00    2013-05-21      IT
7      7    Simon    632.80    2013-07-30      Operations
8      8    Guru     722.50    2014-06-17      Finance</code></pre><h1 id="9-二进制文件"><a href="#9-二进制文件" class="headerlink" title="9.二进制文件"></a>9.二进制文件</h1><p>二进制文件是包含仅以位和字节（0和1）的形式存储的信息的文件。它们不是人类可读的，因为它中的字节转换为包含许多其他不可打印字符的字符和符号。尝试使用任何文本编辑器读取二进制文件将显示如Ø和d的字符。</p>
<p>二进制文件必须由特定程序读取才能使用。例如，Microsoft Word程序的二进制文件只能通过Word程序读取到人类可读的形式。这表示，除了人类可读的文本之外，还有更多的信息，例如字符和页码等的格式化，它们也与字母数字字符一起存储。最后一个二进制文件是一个连续的字节序列。我们在文本文件中看到的换行符是连接第一行到下一行的字符。</p>
<p>有时，由其他程序生成的数据需要由ř作为二进制文件处理。另外，R语言是创建可以与其他程序共享的二进制文件所必需的。</p>
<p>ř语言有两个函数WriteBin（）和readBin（）来创建和读取二进制文件。</p>
<h3 id="语法-12"><a href="#语法-12" class="headerlink" title="语法"></a>语法</h3><pre class="line-numbers language-R"><code class="language-R">writeBin(object, con)
readBin(con, what, n )<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>以下是所使用的参数的描述 -</p>
<ul>
<li><p>CON是读取或写入二进制文件的连接对象。</p>
</li>
<li><p>对象是要写入的二进制文件。</p>
</li>
<li><p>什么是模式，如字符，整数等表示要读取的字节。</p>
</li>
<li><p>ñ是从二进制文件读取的字节数。</p>
</li>
</ul>
<h3 id="例-12"><a href="#例-12" class="headerlink" title="例"></a>例</h3><p>我们考虑R语言内置数据“mtcars”。首先，我们从它创建一个csv文件，并将其转换为二进制文件，并将其存储为操作系统文件。接下来我们读取这个创建的二进制文件。</p>
<h3 id="写入二进制文件"><a href="#写入二进制文件" class="headerlink" title="写入二进制文件"></a>写入二进制文件</h3><p>我们将数据帧“mtcars”读取为CSV文件，然后将其作为二进制文件写入操作系统。</p>
<pre class="line-numbers language-R"><code class="language-R"># Read the "mtcars" data frame as a csv file and store only the columns 
   "cyl", "am" and "gear".
write.table(mtcars, file = "mtcars.csv",row.names = FALSE, na = "", 
   col.names = TRUE, sep = ",")

# Store 5 records from the csv file as a new data frame.
new.mtcars <- read.table("mtcars.csv",sep = ",",header = TRUE,nrows = 5)

# Create a connection object to write the binary file using mode "wb".
write.filename = file("/web/com/binmtcars.dat", "wb")

# Write the column names of the data frame to the connection object.
writeBin(colnames(new.mtcars), write.filename)

# Write the records in each of the column to the file.
writeBin(c(new.mtcars$cyl,new.mtcars$am,new.mtcars$gear), write.filename)

# Close the file for writing so that it can be read by other program.
close(write.filename)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="读取二进制文件"><a href="#读取二进制文件" class="headerlink" title="读取二进制文件"></a>读取二进制文件</h3><p>上面创建的二进制文件将所有数据存储为连续字节。因此，我们将通过选择适当的列名称值和列值来读取它。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a connection object to read the file in binary mode using "rb".
read.filename <- file("/web/com/binmtcars.dat", "rb")

# First read the column names. n = 3 as we have 3 columns.
column.names <- readBin(read.filename, character(),  n = 3)

# Next read the column values. n = 18 as we have 3 column names and 15 values.
read.filename <- file("/web/com/binmtcars.dat", "rb")
bindata <- readBin(read.filename, integer(),  n = 18)

# Print the data.
print(bindata)

# Read the values from 4th byte to 8th byte which represents "cyl".
cyldata = bindata[4:8]
print(cyldata)

# Read the values form 9th byte to 13th byte which represents "am".
amdata = bindata[9:13]
print(amdata)

# Read the values form 9th byte to 13th byte which represents "gear".
geardata = bindata[14:18]
print(geardata)

# Combine all the read values to a dat frame.
finaldata = cbind(cyldata, amdata, geardata)
colnames(finaldata) = column.names
print(finaldata)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果和图表 -</p>
<pre><code> [1]    7108963 1728081249    7496037          6          6          4
 [7]          6          8          1          1          1          0
[13]          0          4          4          4          3          3

[1] 6 6 4 6 8

[1] 1 1 1 0 0

[1] 4 4 4 3 3

     cyl am gear
[1,]   6  1    4
[2,]   6  1    4
[3,]   4  1    4
[4,]   6  0    3
[5,]   8  0    3</code></pre><p>正如我们所看到的，我们通过读取 - [R中的二进制文件得到原始数据。</p>
<h1 id="10-XML文件"><a href="#10-XML文件" class="headerlink" title="10.XML文件"></a>10.XML文件</h1><p>XML是一种文件格式，它使用标准ASCII文本共享万维网，内部网和其他地方的文件格式和数据。它代表可扩展标记语言（XML）。类似于HTML它包含标记标签。但是与HTML中的标记标记描述页面的结构不同，在XML中，标记标记描述了包含在文件中的数据的含义。</p>
<p>您可以使用“XML”包读取R语言中的xml文件。此软件包可以使用以下命令安装。</p>
<pre class="line-numbers language-R"><code class="language-R">install.packages("XML")<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="输入数据"><a href="#输入数据" class="headerlink" title="输入数据"></a>输入数据</h3><p>通过将以下数据复制到文本编辑器（如记事本）中来创建XMl文件。使用.xml扩展名保存文件，并将文件类型选择为所有文件（<em>。</em>）。</p>
<pre><code>&lt;RECORDS&gt;
   &lt;EMPLOYEE&gt;
      &lt;ID&gt;1&lt;/ID&gt;
      &lt;NAME&gt;Rick&lt;/NAME&gt;
      &lt;SALARY&gt;623.3&lt;/SALARY&gt;
      &lt;STARTDATE&gt;1/1/2012&lt;/STARTDATE&gt;
      &lt;DEPT&gt;IT&lt;/DEPT&gt;
   &lt;/EMPLOYEE&gt;

   &lt;EMPLOYEE&gt;
      &lt;ID&gt;2&lt;/ID&gt;
      &lt;NAME&gt;Dan&lt;/NAME&gt;
      &lt;SALARY&gt;515.2&lt;/SALARY&gt;
      &lt;STARTDATE&gt;9/23/2013&lt;/STARTDATE&gt;
      &lt;DEPT&gt;Operations&lt;/DEPT&gt;
   &lt;/EMPLOYEE&gt;

   &lt;EMPLOYEE&gt;
      &lt;ID&gt;3&lt;/ID&gt;
      &lt;NAME&gt;Michelle&lt;/NAME&gt;
      &lt;SALARY&gt;611&lt;/SALARY&gt;
      &lt;STARTDATE&gt;11/15/2014&lt;/STARTDATE&gt;
      &lt;DEPT&gt;IT&lt;/DEPT&gt;
   &lt;/EMPLOYEE&gt;

   &lt;EMPLOYEE&gt;
      &lt;ID&gt;4&lt;/ID&gt;
      &lt;NAME&gt;Ryan&lt;/NAME&gt;
      &lt;SALARY&gt;729&lt;/SALARY&gt;
      &lt;STARTDATE&gt;5/11/2014&lt;/STARTDATE&gt;
      &lt;DEPT&gt;HR&lt;/DEPT&gt;
   &lt;/EMPLOYEE&gt;

   &lt;EMPLOYEE&gt;
      &lt;ID&gt;5&lt;/ID&gt;
      &lt;NAME&gt;Gary&lt;/NAME&gt;
      &lt;SALARY&gt;843.25&lt;/SALARY&gt;
      &lt;STARTDATE&gt;3/27/2015&lt;/STARTDATE&gt;
      &lt;DEPT&gt;Finance&lt;/DEPT&gt;
   &lt;/EMPLOYEE&gt;

   &lt;EMPLOYEE&gt;
      &lt;ID&gt;6&lt;/ID&gt;
      &lt;NAME&gt;Nina&lt;/NAME&gt;
      &lt;SALARY&gt;578&lt;/SALARY&gt;
      &lt;STARTDATE&gt;5/21/2013&lt;/STARTDATE&gt;
      &lt;DEPT&gt;IT&lt;/DEPT&gt;
   &lt;/EMPLOYEE&gt;

   &lt;EMPLOYEE&gt;
      &lt;ID&gt;7&lt;/ID&gt;
      &lt;NAME&gt;Simon&lt;/NAME&gt;
      &lt;SALARY&gt;632.8&lt;/SALARY&gt;
      &lt;STARTDATE&gt;7/30/2013&lt;/STARTDATE&gt;
      &lt;DEPT&gt;Operations&lt;/DEPT&gt;
   &lt;/EMPLOYEE&gt;

   &lt;EMPLOYEE&gt;
      &lt;ID&gt;8&lt;/ID&gt;
      &lt;NAME&gt;Guru&lt;/NAME&gt;
      &lt;SALARY&gt;722.5&lt;/SALARY&gt;
      &lt;STARTDATE&gt;6/17/2014&lt;/STARTDATE&gt;
      &lt;DEPT&gt;Finance&lt;/DEPT&gt;
   &lt;/EMPLOYEE&gt;

&lt;/RECORDS&gt;</code></pre><h3 id="读取XML文件"><a href="#读取XML文件" class="headerlink" title="读取XML文件"></a>读取XML文件</h3><p>xml文件由R语言使用函数xmlParse（）读取。它作为列表存储在R语言中。</p>
<pre class="line-numbers language-R"><code class="language-R"># Load the package required to read XML files.
library("XML")

# Also load the other required package.
library("methods")

# Give the input file name to the function.
result <- xmlParse(file = "input.xml")

# Print the result.
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>1
    Rick
    623.3
    1/1/2012
    IT


    2
    Dan
    515.2
    9/23/2013
    Operations


    3
    Michelle
    611
    11/15/2014
    IT


    4
    Ryan
    729
    5/11/2014
    HR


    5
    Gary
    843.25
    3/27/2015
    Finance


    6
    Nina
    578
    5/21/2013
    IT


    7
    Simon
    632.8
    7/30/2013
    Operations


    8
    Guru
    722.5
    6/17/2014
    Finance</code></pre><h3 id="获取XML文件中存在的节点数"><a href="#获取XML文件中存在的节点数" class="headerlink" title="获取XML文件中存在的节点数"></a>获取XML文件中存在的节点数</h3><pre class="line-numbers language-R"><code class="language-R"># Load the packages required to read XML files.
library("XML")
library("methods")

# Give the input file name to the function.
result <- xmlParse(file = "input.xml")

# Exract the root node form the xml file.
rootnode <- xmlRoot(result)

# Find number of nodes in the root.
rootsize <- xmlSize(rootnode)

# Print the result.
print(rootsize)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>output
[1] 8</code></pre><h3 id="第一个节点的详细信息"><a href="#第一个节点的详细信息" class="headerlink" title="第一个节点的详细信息"></a>第一个节点的详细信息</h3><p>让我们看看解析文件的第一条记录。它将给我们一个关于存在于顶层节点中的各种元素的想法。</p>
<pre class="line-numbers language-R"><code class="language-R"># Load the packages required to read XML files.
library("XML")
library("methods")

# Give the input file name to the function.
result <- xmlParse(file = "input.xml")

# Exract the root node form the xml file.
rootnode <- xmlRoot(result)

# Print the result.
print(rootnode[1])<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>$EMPLOYEE
  1
  Rick
  623.3
  1/1/2012
  IT


attr(,"class")
[1] "XMLInternalNodeList" "XMLNodeList" </code></pre><p>获取节点的不同元素</p>
<pre class="line-numbers language-R"><code class="language-R"># Load the packages required to read XML files.
library("XML")
library("methods")

# Give the input file name to the function.
result <- xmlParse(file = "input.xml")

# Exract the root node form the xml file.
rootnode <- xmlRoot(result)

# Get the first element of the first node.
print(rootnode[[1]][[1]])

# Get the fifth element of the first node.
print(rootnode[[1]][[5]])

# Get the second element of the third node.
print(rootnode[[3]][[2]])<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>1 
IT 
Michelle </code></pre><h3 id="XML到数据帧"><a href="#XML到数据帧" class="headerlink" title="XML到数据帧"></a>XML到数据帧</h3><p>为了在大文件中有效地处理数据，我们将xml文件中的数据作为数据框读取。然后处理数据帧以进行数据分析。</p>
<pre class="line-numbers language-R"><code class="language-R"># Load the packages required to read XML files.
library("XML")
library("methods")

# Convert the input xml file to a data frame.
xmldataframe <- xmlToDataFrame("input.xml")
print(xmldataframe)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>      ID    NAME     SALARY    STARTDATE       DEPT 
1      1    Rick     623.30    2012-01-01      IT
2      2    Dan      515.20    2013-09-23      Operations
3      3    Michelle 611.00    2014-11-15      IT
4      4    Ryan     729.00    2014-05-11      HR
5     NA    Gary     843.25    2015-03-27      Finance
6      6    Nina     578.00    2013-05-21      IT
7      7    Simon    632.80    2013-07-30      Operations
8      8    Guru     722.50    2014-06-17      Finance</code></pre><p>由于数据现在可以作为数据帧，我们可以使用数据帧相关函数来读取和操作文件。</p>
<h1 id="11-JSON文件"><a href="#11-JSON文件" class="headerlink" title="11.JSON文件"></a>11.JSON文件</h1><p>JSON文件以人类可读格式将数据存储为文本.Json代表JavaScript Object Notation.R可以使用rjson包读取JSON文件。</p>
<h3 id="安装rjson包"><a href="#安装rjson包" class="headerlink" title="安装rjson包"></a>安装rjson包</h3><p>在ř语言控制台中，您可以发出以下命令来安装rjson包。</p>
<pre class="line-numbers language-R"><code class="language-R">install.packages("rjson")<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="输入数据-1"><a href="#输入数据-1" class="headerlink" title="输入数据"></a>输入数据</h3><p>通过将以下数据复制到文本编辑器（如记事本）中来创建JSON文件。使用.json扩展名保存文件，并将文件类型选择为所有文件（<em>。</em>）。</p>
<pre><code>{ 
   "ID":["1","2","3","4","5","6","7","8" ],
   "Name":["Rick","Dan","Michelle","Ryan","Gary","Nina","Simon","Guru" ],
   "Salary":["623.3","515.2","611","729","843.25","578","632.8","722.5" ],

   "StartDate":[ "1/1/2012","9/23/2013","11/15/2014","5/11/2014","3/27/2015","5/21/2013",
      "7/30/2013","6/17/2014"],
   "Dept":[ "IT","Operations","IT","HR","Finance","IT","Operations","Finance"]
}</code></pre><h3 id="读取JSON文件"><a href="#读取JSON文件" class="headerlink" title="读取JSON文件"></a>读取JSON文件</h3><p>JSON文件由R使用来自JSON（）的函数读取。它作为列表存储在R中。</p>
<pre class="line-numbers language-R"><code class="language-R"># Load the package required to read JSON files.
library("rjson")

# Give the input file name to the function.
result <- fromJSON(file = "input.json")

# Print the result.
print(result)
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>$ID
[1] "1"   "2"   "3"   "4"   "5"   "6"   "7"   "8"

$Name
[1] "Rick"     "Dan"      "Michelle" "Ryan"     "Gary"     "Nina"     "Simon"    "Guru"

$Salary
[1] "623.3"  "515.2"  "611"    "729"    "843.25" "578"    "632.8"  "722.5"

$StartDate
[1] "1/1/2012"   "9/23/2013"  "11/15/2014" "5/11/2014"  "3/27/2015"  "5/21/2013"
   "7/30/2013"  "6/17/2014"

$Dept
[1] "IT"         "Operations" "IT"         "HR"         "Finance"    "IT"
   "Operations" "Finance"</code></pre><h3 id="将JSON转换为数据帧"><a href="#将JSON转换为数据帧" class="headerlink" title="将JSON转换为数据帧"></a>将JSON转换为数据帧</h3><p>我们可以使用as.data.frame（）函数将上面提取的数据转换为ř语言数据帧以进行进一步分析。</p>
<pre class="line-numbers language-R"><code class="language-R"># Load the package required to read JSON files.
library("rjson")

# Give the input file name to the function.
result <- fromJSON(file = "input.json")

# Convert JSON file to a data frame.
json_data_frame <- as.data.frame(result)

print(json_data_frame)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>      id,   name,    salary,   start_date,     dept
1      1    Rick     623.30    2012-01-01      IT
2      2    Dan      515.20    2013-09-23      Operations
3      3    Michelle 611.00    2014-11-15      IT
4      4    Ryan     729.00    2014-05-11      HR
5     NA    Gary     843.25    2015-03-27      Finance
6      6    Nina     578.00    2013-05-21      IT
7      7    Simon    632.80    2013-07-30      Operations
8      8    Guru     722.50    2014-06-17      Finance</code></pre><h1 id="13-Web数据"><a href="#13-Web数据" class="headerlink" title="13.Web数据"></a>13.Web数据</h1><p>许多网站提供数据供其用户使用。例如，世界卫生组织（WHO）以CSV，txt和XML文件的形式提供健康和医疗信息的报告。使用R语言程序，我们可以从这些网站以编程方式提取特定数据R语言中用于从网站中提取数据的一些包是“RCurl”，XML“和”stringr“，它们用于连接到URL，识别文件所需的链接并将它们下载到本地环境。</p>
<h3 id="安装-R语言的包"><a href="#安装-R语言的包" class="headerlink" title="安装 - [R语言的包"></a>安装 - [R语言的包</h3><p>处理URL和链接到文件需要以下的包。如果它们在R语言环境中不可用，您可以使用以下命令安装它们。</p>
<pre class="line-numbers language-R"><code class="language-R">install.packages("RCurl")
install.packages("XML")
install.packages("stringr")
install.packages("plyr")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="输入数据-2"><a href="#输入数据-2" class="headerlink" title="输入数据"></a>输入数据</h3><p>我们将访问URL <a href="http://www.geos.ed.ac.uk/~weather/jcmb_ws/" target="_blank" rel="noopener">天气数据</a>，并使用[R在2015年下载CSV文件。</p>
<h3 id="例-13"><a href="#例-13" class="headerlink" title="例"></a>例</h3><p>我们将使用函数getHTMLLinks（）来收集文件的URL。然后我们将使用函数downlaod.file（）将文件保存到本地系统。由于我们将对多个文件一次又一次地应用相同的代码，因此我们将创建一个被多次调用的函数。文件名作为参数以R列表对象的形式传递到此函数。</p>
<pre class="line-numbers language-R"><code class="language-R"># Read the URL.
url <- "http://www.geos.ed.ac.uk/~weather/jcmb_ws/"

# Gather the html links present in the webpage.
links <- getHTMLLinks(url)

# Identify only the links which point to the JCMB 2015 files. 
filenames <- links[str_detect(links, "JCMB_2015")]

# Store the file names as a list.
filenames_list <- as.list(filenames)

# Create a function to download the files by passing the URL and filename list.
downloadcsv <- function (mainurl,filename) {
   filedetails <- str_c(mainurl,filename)
   download.file(filedetails,filename)
}

# Now apply the l_ply function and save the files into the current R working directory.
l_ply(filenames,downloadcsv,mainurl = "http://www.geos.ed.ac.uk/~weather/jcmb_ws/")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="验证文件下载"><a href="#验证文件下载" class="headerlink" title="验证文件下载"></a>验证文件下载</h3><p>运行上述代码后，您可以在当前ř语言工作目录中找到以下文件。</p>
<pre><code>"JCMB_2015.csv" "JCMB_2015_Apr.csv" "JCMB_2015_Feb.csv" "JCMB_2015_Jan.csv"
   "JCMB_2015_Mar.csv"</code></pre><h1 id="14-数据库"><a href="#14-数据库" class="headerlink" title="14.数据库"></a>14.数据库</h1><p>Sql查询。但R语言可以轻松地连接到许多关系数据库，如MySql，Oracle，Sql服务器等，并数据是从它们获取记录作为数据框。一旦数据在R语言环境中可用，它就变成正常的R语言数据集，并且可以使用所有强大的包和函数来操作或分析。<br>在本教程中，我们将使用MySQL的作为连接到- [R语言的参考数据库。</p>
<h3 id="RMySQL包"><a href="#RMySQL包" class="headerlink" title="RMySQL包"></a>RMySQL包</h3><p>R语言有一个名为“RMySQL”的内置包，它提供与MySql数据库之间的本地连接。您可以使用以下命令在R语言环境中安装此软件包。</p>
<pre class="line-numbers language-R"><code class="language-R">install.packages("RMySQL")<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="将r连接到MySQL的"><a href="#将r连接到MySQL的" class="headerlink" title="将ř连接到MySQL的"></a>将ř连接到MySQL的</h3><p>一旦安装了包，我们在R中创建一个连接对象以连接到数据库。它使用用户名，密码，数据库名称和主机名作为输入。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a connection Object to MySQL database.
# We will connect to the sampel database named "sakila" that comes with MySql installation.
mysqlconnection = dbConnect(MySQL(), user = 'root', password = '', dbname = 'sakila',
   host = 'localhost')

# List the tables available in this database.
 dbListTables(mysqlconnection)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code> [1] "actor"                      "actor_info"                
 [3] "address"                    "category"                  
 [5] "city"                       "country"                   
 [7] "customer"                   "customer_list"             
 [9] "film"                       "film_actor"                
[11] "film_category"              "film_list"                 
[13] "film_text"                  "inventory"                 
[15] "language"                   "nicer_but_slower_film_list"
[17] "payment"                    "rental"                    
[19] "sales_by_film_category"     "sales_by_store"            
[21] "staff"                      "staff_list"                
[23] "store"     </code></pre><h3 id="查询表"><a href="#查询表" class="headerlink" title="查询表"></a>查询表</h3><p>我们可以使用函数dbSendQuery（）查询MySql中的数据库表。查询在MySql中执行，并使用R语言fetch（）函数返回结果集。最后，它被存储为R语言中的数据帧。</p>
<pre class="line-numbers language-R"><code class="language-R"># Query the "actor" tables to get all the rows.
result = dbSendQuery(mysqlconnection, "select * from actor")

# Store the result in a R data frame object. n = 5 is used to fetch first 5 rows.
data.frame = fetch(result, n = 5)
print(data.frame)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>        actor_id   first_name    last_name         last_update
1        1         PENELOPE      GUINESS           2006-02-15 04:34:33
2        2         NICK          WAHLBERG          2006-02-15 04:34:33
3        3         ED            CHASE             2006-02-15 04:34:33
4        4         JENNIFER      DAVIS             2006-02-15 04:34:33
5        5         JOHNNY        LOLLOBRIGIDA      2006-02-15 04:34:33</code></pre><h3 id="带过滤条件的查询"><a href="#带过滤条件的查询" class="headerlink" title="带过滤条件的查询"></a>带过滤条件的查询</h3><p>我们可以传递任何有效的选择查询来获取结果。</p>
<pre class="line-numbers language-R"><code class="language-R">result = dbSendQuery(mysqlconnection, "select * from actor where last_name = 'TORN'")

# Fetch all the records(with n = -1) and store it as a data frame.
data.frame = fetch(result, n = -1)
print(data)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>        actor_id    first_name     last_name         last_update
1        18         DAN            TORN              2006-02-15 04:34:33
2        94         KENNETH        TORN              2006-02-15 04:34:33
3       102         WALTER         TORN              2006-02-15 04:34:33</code></pre><h3 id="更新表中的行"><a href="#更新表中的行" class="headerlink" title="更新表中的行"></a>更新表中的行</h3><p>我们可以通过将更新查询传递给dbSendQuery（）函数来更新Mysql的表中的行。</p>
<pre class="line-numbers language-R"><code class="language-R">dbSendQuery(mysqlconnection, "update mtcars set disp = 168.5 where hp = 110")<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>在执行上面的代码后，我们可以看到在MySQL的环境中更新的表。<br>将数据插入表中</p>
<pre><code>dbSendQuery(mysqlconnection,
   "insert into mtcars(row_names, mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb)
   values('New Mazda RX4 Wag', 21, 6, 168.5, 110, 3.9, 2.875, 17.02, 0, 1, 4, 4)"
)</code></pre><p>在执行上面的代码后，我们可以看到插入到MySQL的环境中的表中的行。</p>
<h3 id="在MySQL的中创建表"><a href="#在MySQL的中创建表" class="headerlink" title="在MySQL的中创建表"></a>在MySQL的中创建表</h3><p>我们可以在MySql中使用函数dbWriteTable（）创建表。如果表已经存在，它将覆盖该表，并将数据帧用作输入。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create the connection object to the database where we want to create the table.
mysqlconnection = dbConnect(MySQL(), user = 'root', password = '', dbname = 'sakila', 
   host = 'localhost')

# Use the R data frame "mtcars" to create the table in MySql.
# All the rows of mtcars are taken inot MySql.
dbWriteTable(mysqlconnection, "mtcars", mtcars[, ], overwrite = TRUE)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>执行上面的代码后，我们可以看到在MySQL的环境中创建的表。</p>
<h3 id="删除的MySQL中的表"><a href="#删除的MySQL中的表" class="headerlink" title="删除的MySQL中的表"></a>删除的MySQL中的表</h3><p>我们可以删除MySql数据库中的表，将drop table语句传递到dbSendQuery（）中，就像我们使用它查询表中的数据一样。</p>
<pre class="line-numbers language-R"><code class="language-R">dbSendQuery(mysqlconnection, 'drop table if exists mtcars')<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>执行上面的代码后，我们可以看到表在MySQL的环境中被删除。</p>
<h1 id="15-外部资源"><a href="#15-外部资源" class="headerlink" title="15.外部资源"></a>15.外部资源</h1><p>以下资源包含有关R语言编程的其他信息。 请使用它们获得有关此主题的更深入的知识。</p>
<h3 id="R语言编程的相关链接"><a href="#R语言编程的相关链接" class="headerlink" title="R语言编程的相关链接"></a>R语言编程的相关链接</h3><ul>
<li><p><a href="https://www.r-project.org/" target="_blank" rel="noopener">R项目</a> - 官方R软件和文档。</p>
</li>
<li><p><a href="https://en.wikipedia.org/wiki/R_(programming_language)" target="_blank" rel="noopener">R编程语言</a> - 维基百科解释R编程语言。</p>
</li>
<li><p><a href="https://www.rstudio.com/" target="_blank" rel="noopener">R Studio</a> - 强大的R编程IDE。</p>
</li>
</ul>
<h3 id="R上的编程有用的书籍"><a href="#R上的编程有用的书籍" class="headerlink" title="R上的编程有用的书籍"></a>R上的编程有用的书籍</h3><ul>
<li><img src="/images/loading.gif" data-original="http://upload-images.jianshu.io/upload_images/14093662-65265032b61c772f.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
<li><img src="/images/loading.gif" data-original="../images/basic/1240-1627230976227748" alt=""></li>
<li><img src="/images/loading.gif" data-original="../images/basic/1240-1627230983561750" alt=""></li>
<li><img src="/images/loading.gif" data-original="../images/basic/1240-1627230995019752" alt=""></li>
<li><img src="/images/loading.gif" data-original="../images/basic/1240-1627230997986754" alt=""></li>
<li><img src="/images/loading.gif" data-original="../images/basic/1240-1627231001011756" alt=""><h1 id="16-常见面试题"><a href="#16-常见面试题" class="headerlink" title="16.常见面试题"></a>16.常见面试题</h1><h3 id="什么是R语言编程？"><a href="#什么是R语言编程？" class="headerlink" title="什么是R语言编程？"></a>什么是R语言编程？</h3></li>
</ul>
<p>R语言是一种用于统计分析和为此目的创建图形的编程语言。不是数据类型，它具有用于计算的数据对象。它用于数据挖掘，回归分析，概率估计等领域，使用其中可用的许多软件包。</p>
<h3 id="R语言中的不同数据对象是什么？"><a href="#R语言中的不同数据对象是什么？" class="headerlink" title="R语言中的不同数据对象是什么？"></a>R语言中的不同数据对象是什么？</h3><p>它们是R语言中的6个数据对象。它们是向量，列表，数组，矩阵，数据框和表。</p>
<h3 id="什么使R语言中的有效变量名？"><a href="#什么使R语言中的有效变量名？" class="headerlink" title="什么使R语言中的有效变量名？"></a>什么使R语言中的有效变量名？</h3><p>有效的变量名称由字母，数字和点或下划线字符组成。变量名以字母或不以数字后跟的点开头。</p>
<h3 id="数组和矩阵之间的主要区别是什么？"><a href="#数组和矩阵之间的主要区别是什么？" class="headerlink" title="数组和矩阵之间的主要区别是什么？"></a>数组和矩阵之间的主要区别是什么？</h3><p>矩阵总是二维的，因为它只有行和列。但是阵列可以具有任何数量的维度，并且每个维度是矩阵。例如，3x3x2阵列表示维度为3x3的2个矩阵。</p>
<h3 id="R语言中的哪个数据对象用于存储和处理分类数据？"><a href="#R语言中的哪个数据对象用于存储和处理分类数据？" class="headerlink" title="R语言中的哪个数据对象用于存储和处理分类数据？"></a>R语言中的哪个数据对象用于存储和处理分类数据？</h3><p>R语言中的因子数据对象用于存储和处理R语言中的分类数据。</p>
<h3 id="如何在R语言中加载和使用csv文件？"><a href="#如何在R语言中加载和使用csv文件？" class="headerlink" title="如何在R语言中加载和使用csv文件？"></a>如何在R语言中加载和使用csv文件？</h3><p>可以使用R语言ead.csv函数加载csv文件。 R语言在使用此函数读取csv文件时创建数据框。</p>
<h3 id="如何获取R语言中当前工作目录的名称？"><a href="#如何获取R语言中当前工作目录的名称？" class="headerlink" title="如何获取R语言中当前工作目录的名称？"></a>如何获取R语言中当前工作目录的名称？</h3><p>命令getwd()给出了R语言环境中的当前工作目录。</p>
<h3 id="什么是R语言-Base包？"><a href="#什么是R语言-Base包？" class="headerlink" title="什么是R语言 Base包？"></a>什么是R语言 Base包？</h3><p>这是在R语言环境设置时默认加载的包。它提供了R语言环境中的基本功能，如输入/输出，算术计算等。</p>
<h3 id="在逻辑回归中如何使用R语言？"><a href="#在逻辑回归中如何使用R语言？" class="headerlink" title="在逻辑回归中如何使用R语言？"></a>在逻辑回归中如何使用R语言？</h3><p>逻辑回归处理测量二元响应变量的概率。在R语言中，函数glm()用于创建逻辑回归。</p>
<h3 id="如何访问名为M的矩阵的第2列和第4行中的元素？"><a href="#如何访问名为M的矩阵的第2列和第4行中的元素？" class="headerlink" title="如何访问名为M的矩阵的第2列和第4行中的元素？"></a>如何访问名为M的矩阵的第2列和第4行中的元素？</h3><p>表达式M [4,2]给出了第4行和第2列的元素。</p>
<h3 id="什么是向量中元素的回收？举个例子。"><a href="#什么是向量中元素的回收？举个例子。" class="headerlink" title="什么是向量中元素的回收？举个例子。"></a>什么是向量中元素的回收？举个例子。</h3><p>当在操作中涉及不同长度的两个向量时，较短向量的元素被重用以完成操作。这被称为元素循环。示例-v1 &lt;-c（4,1,0,6）和V2 &lt;-c（2,4），则v1 * v2给出（8,4,0,24）。重复元件2和4。</p>
<h3 id="在R语言中调用函数有什么不同的方法？"><a href="#在R语言中调用函数有什么不同的方法？" class="headerlink" title="在R语言中调用函数有什么不同的方法？"></a>在R语言中调用函数有什么不同的方法？</h3><p>我们可以用3种方式在R语言中调用一个函数。第一种方法是通过使用参数的位置来调用。第二个方法id通过使用参数的名称来调用，第三个方法是通过默认参数调用。</p>
<h3 id="什么是R语言中的延迟函数评估？"><a href="#什么是R语言中的延迟函数评估？" class="headerlink" title="什么是R语言中的延迟函数评估？"></a>什么是R语言中的延迟函数评估？</h3><p>函数的延迟评估意味着，只有当它在函数体内部使用时，才会评估参数。如果没有对函数体中的参数的引用，则它被简单地忽略。</p>
<h3 id="如何在R语言中安装软件包？"><a href="#如何在R语言中安装软件包？" class="headerlink" title="如何在R语言中安装软件包？"></a>如何在R语言中安装软件包？</h3><p>要在R语言中安装一个包，我们使用下面的命令。</p>
<pre class="line-numbers language-R"><code class="language-R">install.packages（"package Name"）<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>命名用于读取XML文件的R语言包。<br>名为“XML”的包用于读取和处理XML文件。</p>
<h3 id="我们可以更新和删除列表中的任何元素吗？"><a href="#我们可以更新和删除列表中的任何元素吗？" class="headerlink" title="我们可以更新和删除列表中的任何元素吗？"></a>我们可以更新和删除列表中的任何元素吗？</h3><p>我们可以更新任何元素，但我们只能删除列表末尾的元素。</p>
<p>给一般表达式在R语言中创建一个矩阵。<br>在R语言中创建矩阵的一般表达式是 - matrix（data，nrow，ncol，byrow，dimnames）</p>
<h3 id="该函数用于在R语言中创建boxplot图形？"><a href="#该函数用于在R语言中创建boxplot图形？" class="headerlink" title="该函数用于在R语言中创建boxplot图形？"></a>该函数用于在R语言中创建boxplot图形？</h3><p>boxplot()函数用于在R语言中创建箱线图。它使用公式和数据框作为输入创建箱线图。</p>
<h3 id="在做时间序列分析时，在ts-函数中fR语言equency-6是什么意思？"><a href="#在做时间序列分析时，在ts-函数中fR语言equency-6是什么意思？" class="headerlink" title="在做时间序列分析时，在ts()函数中fR语言equency = 6是什么意思？"></a>在做时间序列分析时，在ts()函数中fR语言equency = 6是什么意思？</h3><p>频率6表示时间序列数据的时间间隔是每10分钟一小时。</p>
<h3 id="什么是R语言中的数据重塑？"><a href="#什么是R语言中的数据重塑？" class="headerlink" title="什么是R语言中的数据重塑？"></a>什么是R语言中的数据重塑？</h3><p>在R语言中，数据对象可以从一种形式转换为另一种形式。例如，我们可以通过合并许多列表来创建数据框。这涉及一系列R语言命令，以将数据带入新格式。这被称为数据整形。</p>
<h3 id="R语言unif（4）的输出是什么？"><a href="#R语言unif（4）的输出是什么？" class="headerlink" title="R语言unif（4）的输出是什么？"></a>R语言unif（4）的输出是什么？</h3><p>它生成0和1之间的4个随机数。</p>
<h3 id="如何获得R语言中安装的所有软件包的列表？"><a href="#如何获得R语言中安装的所有软件包的列表？" class="headerlink" title="如何获得R语言中安装的所有软件包的列表？"></a>如何获得R语言中安装的所有软件包的列表？</h3><p>使用命令</p>
<pre class="line-numbers language-R"><code class="language-R">installed.packages()<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="运行命令-strsplit（x，“e”）是什么意思？"><a href="#运行命令-strsplit（x，“e”）是什么意思？" class="headerlink" title="运行命令 - strsplit（x，“e”）是什么意思？"></a>运行命令 - strsplit（x，“e”）是什么意思？</h3><p>它将向量x中的字符串拆分为字母e位置处的子字符串。</p>
<p>给一个R脚本从字符串中提取大写的所有唯一字 - “快速的棕色狐狸跳过懒惰的狗”。</p>
<pre class="line-numbers language-R"><code class="language-R">x <- “快速的棕色狐狸跳过懒惰的狗”
split.string <- strsplit(x，"")
extract.words <- split.string [[1]]
result <- unique(tolower(extract.words))
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="向量v是c（1-2-3-4），列表x是列表（5：8），v-x-1-的输出是什么？"><a href="#向量v是c（1-2-3-4），列表x是列表（5：8），v-x-1-的输出是什么？" class="headerlink" title="向量v是c（1,2,3,4），列表x是列表（5：8），v * x [1]的输出是什么？"></a>向量v是c（1,2,3,4），列表x是列表（5：8），v * x [1]的输出是什么？</h3><p>v * x [1]中的错误：二进制运算符的非数值参数</p>
<h3 id="向量v是c（1-2-3-4），列表x是列表（5：8），v-x-1-的输出是什么？-1"><a href="#向量v是c（1-2-3-4），列表x是列表（5：8），v-x-1-的输出是什么？-1" class="headerlink" title="向量v是c（1,2,3,4），列表x是列表（5：8），v * x [[1]]的输出是什么？"></a>向量v是c（1,2,3,4），列表x是列表（5：8），v * x [[1]]的输出是什么？</h3><pre><code>[1] 5 12 21 32s</code></pre><h3 id="unlist-是什么？"><a href="#unlist-是什么？" class="headerlink" title="unlist()是什么？"></a>unlist()是什么？</h3><p>它将列表转换为向量。</p>
<p>给予R语言表达式，从使用pbinom的硬币51个硬币中得到26个或更少的头。</p>
<pre class="line-numbers language-R"><code class="language-R">x <- pbinom(26,51,0.5)
print(x)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="X是向量c-5-9-2-3-8-51，NA-，mean-x-的输出是什么？"><a href="#X是向量c-5-9-2-3-8-51，NA-，mean-x-的输出是什么？" class="headerlink" title="X是向量c(5,9.2,3,8.51，NA)，mean(x)的输出是什么？"></a>X是向量c(5,9.2,3,8.51，NA)，mean(x)的输出是什么？</h3><p>NA</p>
<p>###如何将JSON文件中的数据转换为数据框？<br>使用函数as.data.frame()</p>
<p>###在R语言中给出一个函数，用向量的元素的和代替向量x的所有缺失值？</p>
<pre class="line-numbers language-R"><code class="language-R">function(x){x [is.na(x)] <sum(x,na.rm = TRUE); x }<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="apply-在R语言中的用途是什么？"><a href="#apply-在R语言中的用途是什么？" class="headerlink" title="apply()在R语言中的用途是什么？"></a>apply()在R语言中的用途是什么？</h3><p>它用于对数组中的每个元素应用相同的函数。例如，查找每行中行的平均值。</p>
<h3 id="是数组称为矩阵还是矩阵称为数组？"><a href="#是数组称为矩阵还是矩阵称为数组？" class="headerlink" title="是数组称为矩阵还是矩阵称为数组？"></a>是数组称为矩阵还是矩阵称为数组？</h3><p>每个矩阵可以称为数组，但不能相反。矩阵总是二维的，但数组可以是任何维度。</p>
<h3 id="如何找到缺失值的帮助页面？"><a href="#如何找到缺失值的帮助页面？" class="headerlink" title="如何找到缺失值的帮助页面？"></a>如何找到缺失值的帮助页面？</h3><p>?NA</p>
<h3 id="如何获得向量x的标准偏差？"><a href="#如何获得向量x的标准偏差？" class="headerlink" title="如何获得向量x的标准偏差？"></a>如何获得向量x的标准偏差？</h3><pre class="line-numbers language-R"><code class="language-R">sd(x,na.rm = TRUE)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="如何在R语言中设置当前工作目录的路径？"><a href="#如何在R语言中设置当前工作目录的路径？" class="headerlink" title="如何在R语言中设置当前工作目录的路径？"></a>如何在R语言中设置当前工作目录的路径？</h3><pre class="line-numbers language-R"><code class="language-R">setwd("Path")<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="“-”和”-”之间有什么区别？"><a href="#“-”和”-”之间有什么区别？" class="headerlink" title="“%%”和”%/%”之间有什么区别？"></a>“%%”和”%/%”之间有什么区别？</h3><p>“%%”给出第一向量与第二向量的除法的余数，而”%/%”给出第一向量与第二向量的除法的商。</p>
<h3 id="col-max-x-是什么？"><a href="#col-max-x-是什么？" class="headerlink" title="col.max(x)是什么？"></a>col.max(x)是什么？</h3><p>查找该列具有每行的最大值。</p>
<p>###给出创建直方图的命令。</p>
<pre class="line-numbers language-R"><code class="language-R">hist()<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="如何从R语言工作区中删除向量？"><a href="#如何从R语言工作区中删除向量？" class="headerlink" title="如何从R语言工作区中删除向量？"></a>如何从R语言工作区中删除向量？</h3><pre class="line-numbers language-R"><code class="language-R">rm(x)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="列出包”MASS”中可用的数据集"><a href="#列出包”MASS”中可用的数据集" class="headerlink" title="列出包”MASS”中可用的数据集"></a>列出包”MASS”中可用的数据集</h3><pre class="line-numbers language-R"><code class="language-R">data(package ="MASS")<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>###列出所有可用软件包中可用的数据集。</p>
<pre class="line-numbers language-R"><code class="language-R">data(package = .packages(all.available = TRUE))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="什么是命令的使用-install-packages-file-choose-repos-NULL-？"><a href="#什么是命令的使用-install-packages-file-choose-repos-NULL-？" class="headerlink" title="什么是命令的使用 - install.packages(file.choose(),repos = NULL)？"></a>什么是命令的使用 - install.packages(file.choose(),repos = NULL)？</h3><p>它用于通过浏览和选择文件从本地目录安装R语言包。</p>
<h3 id="给出命令以检查元素15是否存在于向量x中。"><a href="#给出命令以检查元素15是否存在于向量x中。" class="headerlink" title="给出命令以检查元素15是否存在于向量x中。"></a>给出命令以检查元素15是否存在于向量x中。</h3><pre class="line-numbers language-R"><code class="language-R">15%在%x<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="给出创建散点图矩阵的语法。"><a href="#给出创建散点图矩阵的语法。" class="headerlink" title="给出创建散点图矩阵的语法。"></a>给出创建散点图矩阵的语法。</h3><pre class="line-numbers language-R"><code class="language-R">pairs(formula, data)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>其中公式表示成对使用的变量系列，数据表示从中获取变量的数据集。</p>
<h3 id="R语言中的subset-函数和sample-函数有什么区别？"><a href="#R语言中的subset-函数和sample-函数有什么区别？" class="headerlink" title="R语言中的subset()函数和sample()函数有什么区别？"></a>R语言中的subset()函数和sample()函数有什么区别？</h3><p>subset()函数用于选择变量和观察值。 sample()函数用于从数据集中选择大小为n的随机样本。</p>
<h3 id="如何检查”m”是R语言中的矩阵数据对象？"><a href="#如何检查”m”是R语言中的矩阵数据对象？" class="headerlink" title="如何检查”m”是R语言中的矩阵数据对象？"></a>如何检查”m”是R语言中的矩阵数据对象？</h3><p>is.matrix(m)应该重新运行TRUE。</p>
<h3 id="下面的表达式all-NA-NA-的输出是什么？"><a href="#下面的表达式all-NA-NA-的输出是什么？" class="headerlink" title="下面的表达式all(NA == NA)的输出是什么？"></a>下面的表达式all(NA == NA)的输出是什么？</h3><p>[1] NA</p>
<h3 id="如何获得矩阵在R语言中的转置？"><a href="#如何获得矩阵在R语言中的转置？" class="headerlink" title="如何获得矩阵在R语言中的转置？"></a>如何获得矩阵在R语言中的转置？</h3><p>函数t()用于转置矩阵。示例-t(m)，其中m是矩阵。</p>
<h3 id="在R语言中使用”next”语句是什么？"><a href="#在R语言中使用”next”语句是什么？" class="headerlink" title="在R语言中使用”next”语句是什么？"></a>在R语言中使用”next”语句是什么？</h3><p>当我们想要跳过循环的当前迭代而不终止它时，R编程语言中的”next”语句是有用的。</p>
<h1 id="统计篇"><a href="#统计篇" class="headerlink" title="统计篇"></a>统计篇</h1><h1 id="1-平均值，中位数和模式"><a href="#1-平均值，中位数和模式" class="headerlink" title="1.平均值，中位数和模式"></a>1.平均值，中位数和模式</h1><p>R中的统计分析通过使用许多内置函数来执行。 这些函数大多数是R基础包的一部分。 这些函数将R向量作为输入和参数，并给出结果。</p>
<p>我们在本章中讨论的功能是平均值，中位数和模式。</p>
<h3 id="Mean平均值"><a href="#Mean平均值" class="headerlink" title="Mean平均值"></a>Mean平均值</h3><p>通过求出数据集的和再除以求和数的总量得到平均值</p>
<p>函数mean()用于在R语言中计算平均值。</p>
<h3 id="语法-13"><a href="#语法-13" class="headerlink" title="语法"></a>语法</h3><p>用于计算R中的平均值的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">mean(x, trim = 0, na.rm = FALSE, ...)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>x是输入向量。</p>
</li>
<li><p>trim用于从排序向量的两端丢弃一些观察结果。</p>
</li>
<li><p>na.rm用于从输入向量中删除缺失值。</p>
</li>
</ul>
<h3 id="例-14"><a href="#例-14" class="headerlink" title="例"></a>例</h3><pre class="line-numbers language-R"><code class="language-R"># Create a vector. 
x <- c(12,7,3,4.2,18,2,54,-21,8,-5)

# Find Mean.
result.mean <- mean(x)
print(result.mean)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 8.22</code></pre><h3 id="应用修剪选项"><a href="#应用修剪选项" class="headerlink" title="应用修剪选项"></a>应用修剪选项</h3><p>当提供trim参数时，向量中的值被排序，然后从计算平均值中减去所需的观察值。 </p>
<p>当trim = 0.3时，来自每端的3个值将从计算中减去以找到均值。</p>
<p>在这种情况下，排序的向量是（-21，-5,2,3,4.2,7,8,12,18,54），并且从用于计算平均值的向量中移除的值是（-21，-5,2） 从左边和（12,18,54）从右边。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a vector.
x <- c(12,7,3,4.2,18,2,54,-21,8,-5)

# Find Mean.
result.mean <-  mean(x,trim = 0.3)
print(result.mean)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 5.55</code></pre><h3 id="应用NA选项"><a href="#应用NA选项" class="headerlink" title="应用NA选项"></a>应用NA选项</h3><p>如果有缺失值，则平均函数返回NA。</p>
<p>要从计算中删除缺少的值，请使用na.rm = TRUE。 这意味着去除NA值。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a vector. 
x <- c(12,7,3,4.2,18,2,54,-21,8,-5,NA)

# Find mean.
result.mean <-  mean(x)
print(result.mean)

# Find mean dropping NA values.
result.mean <-  mean(x,na.rm = TRUE)
print(result.mean)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] NA
[1] 8.22</code></pre><h3 id="Median中位数"><a href="#Median中位数" class="headerlink" title="Median中位数"></a>Median中位数</h3><p>数据系列中的最中间值称为中值。 在R语言中使用median()函数来计算此值。</p>
<h3 id="语法-14"><a href="#语法-14" class="headerlink" title="语法"></a>语法</h3><p>计算R语言中位数的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">median(x, na.rm = FALSE)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>x是输入向量。</p>
</li>
<li><p>na.rm用于从输入向量中删除缺失值。</p>
</li>
</ul>
<h3 id="例-15"><a href="#例-15" class="headerlink" title="例"></a>例</h3><pre class="line-numbers language-R"><code class="language-R"># Create the vector.
x <- c(12,7,3,4.2,18,2,54,-21,8,-5)

# Find the median.
median.result <- median(x)
print(median.result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 5.6</code></pre><h3 id="Mode模式"><a href="#Mode模式" class="headerlink" title="Mode模式"></a>Mode模式</h3><p>模式是一组数据中出现次数最多的值。 Unike平均值和中位数，模式可以同时包含数字和字符数据。</p>
<p>R语言没有标准的内置函数来计算模式。 因此，我们创建一个用户函数来计算R语言中的数据集的模式。该函数将向量作为输入，并将模式值作为输出。</p>
<h3 id="例-16"><a href="#例-16" class="headerlink" title="例"></a>例</h3><pre class="line-numbers language-R"><code class="language-R"># Create the function.
getmode <- function(v) {
   uniqv <- unique(v)
   uniqv[which.max(tabulate(match(v, uniqv)))]
}

# Create the vector with numbers.
v <- c(2,1,2,3,1,2,3,4,1,5,5,3,2,3)

# Calculate the mode using the user function.
result <- getmode(v)
print(result)

# Create the vector with characters.
charv <- c("o","it","the","it","it")

# Calculate the mode using the user function.
result <- getmode(charv)
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 2
[1] "it"</code></pre><h1 id="2-线性回归"><a href="#2-线性回归" class="headerlink" title="2.线性回归"></a>2.线性回归</h1><p>回归分析是一种非常广泛使用的统计工具，用于建立两个变量之间的关系模型。 这些变量之一称为预测变量，其值通过实验收集。 另一个变量称为响应变量，其值从预测变量派生。</p>
<p>在线性回归中，这两个变量通过方程相关，其中这两个变量的指数（幂）为1.数学上，线性关系表示当绘制为曲线图时的直线。 任何变量的指数不等于1的非线性关系将创建一条曲线。</p>
<p>线性回归的一般数学方程为 -</p>
<pre><code>y = ax + b</code></pre><p>以下是所使用的参数的描述 - </p>
<ul>
<li><p><strong>y</strong>是响应变量。</p>
</li>
<li><p><strong>x</strong>是预测变量。</p>
</li>
<li><p><strong>a</strong>和<strong>b</strong>被称为系数常数。</p>
</li>
</ul>
<h3 id="建立回归的步骤"><a href="#建立回归的步骤" class="headerlink" title="建立回归的步骤"></a>建立回归的步骤</h3><p>回归的简单例子是当人的身高已知时预测人的体重。 为了做到这一点，我们需要有一个人的身高和体重之间的关系。</p>
<p>创建关系的步骤是 - </p>
<ul>
<li><p>进行收集高度和相应重量的观测值的样本的实验。</p>
</li>
<li><p>使用R语言中的<strong>lm()</strong>函数创建关系模型。</p>
</li>
<li><p>从创建的模型中找到系数，并使用这些创建数学方程</p>
</li>
<li><p>获得关系模型的摘要以了解预测中的平均误差。 也称为残差。</p>
</li>
<li><p>为了预测新人的体重，使用R中的<strong>predict()</strong>函数。</p>
</li>
</ul>
<h3 id="输入数据-3"><a href="#输入数据-3" class="headerlink" title="输入数据"></a>输入数据</h3><p>下面是代表观察的样本数据 -</p>
<pre class="line-numbers language-R"><code class="language-R"># Values of height
151, 174, 138, 186, 128, 136, 179, 163, 152, 131

# Values of weight.
63, 81, 56, 91, 47, 57, 76, 72, 62, 48<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="LM-函数"><a href="#LM-函数" class="headerlink" title="LM()函数"></a>LM()函数</h3><p>此函数创建预测变量和响应变量之间的关系模型。</p>
<h3 id="语法-15"><a href="#语法-15" class="headerlink" title="语法"></a>语法</h3><p>线性回归中<strong>lm()</strong>函数的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">lm(formula,data)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的说明 -</p>
<ul>
<li><p>公式是表示<strong>x</strong>和<strong>y</strong>之间的关系的符号。</p>
</li>
<li><p>数据是应用公式的向量。</p>
</li>
</ul>
<h3 id="创建关系模型并获取系数"><a href="#创建关系模型并获取系数" class="headerlink" title="创建关系模型并获取系数"></a>创建关系模型并获取系数</h3><pre class="line-numbers language-R"><code class="language-R">x <- c(151, 174, 138, 186, 128, 136, 179, 163, 152, 131)
y <- c(63, 81, 56, 91, 47, 57, 76, 72, 62, 48)

# Apply the lm() function.
relation <- lm(y~x)

print(relation)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>Call:
lm(formula = y ~ x)

Coefficients:
(Intercept)            x  
   -38.4551          0.6746 </code></pre><h3 id="获取相关的摘要"><a href="#获取相关的摘要" class="headerlink" title="获取相关的摘要"></a>获取相关的摘要</h3><pre class="line-numbers language-R"><code class="language-R">x <- c(151, 174, 138, 186, 128, 136, 179, 163, 152, 131)
y <- c(63, 81, 56, 91, 47, 57, 76, 72, 62, 48)

# Apply the lm() function.
relation <- lm(y~x)

print(summary(relation))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>Call:
lm(formula = y ~ x)

Residuals:
    Min      1Q     Median      3Q     Max 
-6.3002    -1.6629  0.0412    1.8944  3.9775 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -38.45509    8.04901  -4.778  0.00139 ** 
x             0.67461    0.05191  12.997 1.16e-06 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 3.253 on 8 degrees of freedom
Multiple R-squared:  0.9548,    Adjusted R-squared:  0.9491 
F-statistic: 168.9 on 1 and 8 DF,  p-value: 1.164e-06</code></pre><h3 id="predict-函数"><a href="#predict-函数" class="headerlink" title="predict()函数"></a>predict()函数</h3><h3 id="语法-16"><a href="#语法-16" class="headerlink" title="语法"></a>语法</h3><p>线性回归中的predict（）的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">predict(object, newdata)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p><strong>object</strong>是已使用<strong>lm()</strong>函数创建的公式。</p>
</li>
<li><p><strong>newdata</strong>是包含预测变量的新值的向量。</p>
</li>
</ul>
<h3 id="预测新人的体重"><a href="#预测新人的体重" class="headerlink" title="预测新人的体重"></a>预测新人的体重</h3><pre class="line-numbers language-R"><code class="language-R"># The predictor vector.
x <- c(151, 174, 138, 186, 128, 136, 179, 163, 152, 131)

# The resposne vector.
y <- c(63, 81, 56, 91, 47, 57, 76, 72, 62, 48)

# Apply the lm() function.
relation <- lm(y~x)

# Find weight of a person with height 170.
a <- data.frame(x = 170)
result <-  predict(relation,a)
print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>      1 
76.22869 </code></pre><h3 id="以图形方式可视化回归"><a href="#以图形方式可视化回归" class="headerlink" title="以图形方式可视化回归"></a>以图形方式可视化回归</h3><pre class="line-numbers language-R"><code class="language-R"># Create the predictor and response variable.
x <- c(151, 174, 138, 186, 128, 136, 179, 163, 152, 131)
y <- c(63, 81, 56, 91, 47, 57, 76, 72, 62, 48)
relation <- lm(y~x)

# Give the chart file a name.
png(file = "linearregression.png")

# Plot the chart.
plot(y,x,col = "blue",main = "Height & Weight Regression",
abline(lm(x~y)),cex = 1.3,pch = 16,xlab = "Weight in Kg",ylab = "Height in cm")

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627231010963758" alt=""></p>
<h1 id="3-多重回归"><a href="#3-多重回归" class="headerlink" title="3.多重回归"></a>3.多重回归</h1><p>多元回归是线性回归到两个以上变量之间的关系的延伸。 在简单线性关系中，我们有一个预测变量和一个响应变量，但在多元回归中，我们有多个预测变量和一个响应变量。</p>
<p>多元回归的一般数学方程为 -</p>
<pre><code>y = a + b1x1 + b2x2 +...bnxn</code></pre><p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>y是响应变量。</p>
</li>
<li><p>a，b1，b2 … bn是系数。</p>
</li>
<li><p>x1，x2，… xn是预测变量。</p>
</li>
</ul>
<p>我们使用R语言中的lm()函数创建回归模型。模型使用输入数据确定系数的值。 接下来，我们可以使用这些系数来预测给定的一组预测变量的响应变量的值。</p>
<h3 id="lm-函数"><a href="#lm-函数" class="headerlink" title="lm()函数"></a>lm()函数</h3><p>此函数创建预测变量和响应变量之间的关系模型。</p>
<h3 id="语法-17"><a href="#语法-17" class="headerlink" title="语法"></a>语法</h3><p>lm()函数在多元回归中的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">lm(y ~ x1+x2+x3...,data)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>公式是表示响应变量和预测变量之间的关系的符号。</p>
</li>
<li><p>数据是应用公式的向量。</p>
</li>
</ul>
<h3 id="例-17"><a href="#例-17" class="headerlink" title="例"></a>例</h3><p>输入数据<br>考虑在R语言环境中可用的数据集“mtcars”。 它给出了每加仑里程（mpg），气缸排量（“disp”），马力（“hp”），汽车重量（“wt”）和一些其他参数的不同汽车模型之间的比较。</p>
<p>模型的目标是建立“mpg”作为响应变量与“disp”，“hp”和“wt”作为预测变量之间的关系。 为此，我们从mtcars数据集中创建这些变量的子集。</p>
<pre class="line-numbers language-R"><code class="language-R">input <- mtcars[,c("mpg","disp","hp","wt")]
print(head(input))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>                   mpg   disp   hp    wt
Mazda RX4          21.0  160    110   2.620
Mazda RX4 Wag      21.0  160    110   2.875
Datsun 710         22.8  108     93   2.320
Hornet 4 Drive     21.4  258    110   3.215
Hornet Sportabout  18.7  360    175   3.440
Valiant            18.1  225    105   3.460</code></pre><p>创建关系模型并获取系数</p>
<pre class="line-numbers language-R"><code class="language-R">input <- mtcars[,c("mpg","disp","hp","wt")]

# Create the relationship model.
model <- lm(mpg~disp+hp+wt, data = input)

# Show the model.
print(model)

# Get the Intercept and coefficients as vector elements.
cat("# # # # The Coefficient Values # # # ","
")

a <- coef(model)[1]
print(a)

Xdisp <- coef(model)[2]
Xhp <- coef(model)[3]
Xwt <- coef(model)[4]

print(Xdisp)
print(Xhp)
print(Xwt)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>Call:
lm(formula = mpg ~ disp + hp + wt, data = input)

Coefficients:
(Intercept)         disp           hp           wt  
  37.105505      -0.000937        -0.031157    -3.800891  

# # # # The Coefficient Values # # # 
(Intercept) 
   37.10551 
         disp 
-0.0009370091 
         hp 
-0.03115655 
       wt 
-3.800891 </code></pre><h3 id="创建回归模型的方程"><a href="#创建回归模型的方程" class="headerlink" title="创建回归模型的方程"></a>创建回归模型的方程</h3><p>基于上述截距和系数值，我们创建了数学方程。</p>
<pre><code>Y = a+Xdisp.x1+Xhp.x2+Xwt.x3
or
Y = 37.15+(-0.000937)*x1+(-0.0311)*x2+(-3.8008)*x3</code></pre><h3 id="应用方程预测新值"><a href="#应用方程预测新值" class="headerlink" title="应用方程预测新值"></a>应用方程预测新值</h3><p>当提供一组新的位移，马力和重量值时，我们可以使用上面创建的回归方程来预测里程数。<br>对于disp = 221，hp = 102和wt = 2.91的汽车，预测里程为 -</p>
<pre><code>Y = 37.15+(-0.000937)*221+(-0.0311)*102+(-3.8008)*2.91 = 22.7104</code></pre><h1 id="4-逻辑回归"><a href="#4-逻辑回归" class="headerlink" title="4.逻辑回归"></a>4.逻辑回归</h1><p>逻辑回归是回归模型，其中响应变量（因变量）具有诸如True / False或0/1的分类值。它实际上基于将其与预测变量相关的数学方程测量二元响应的概率作为响应变量的值。</p>
<p>逻辑回归的一般数学方程为 -</p>
<pre><code>y = 1/(1+e^-(a+b1x1+b2x2+b3x3+...))</code></pre><p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>Ÿ是响应变量。</p>
</li>
<li><p>X是预测变量。</p>
</li>
<li><p>一和b是作为数字常数的系数。</p>
</li>
</ul>
<h3 id="用于创建回归模型的函数是GLM（）函数。"><a href="#用于创建回归模型的函数是GLM（）函数。" class="headerlink" title="用于创建回归模型的函数是GLM（）函数。"></a>用于创建回归模型的函数是GLM（）函数。</h3><p>###语法<br>逻辑回归中glm（）函数的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">glm(formula,data,family)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>式是表示变量之间的关系的符号。</p>
</li>
<li><p>数据是给出这些变量的值的数据集。</p>
</li>
<li><p>family是R语言对象来指定模型的细节。它的值是二项逻辑回归。</p>
</li>
</ul>
<h3 id="例-18"><a href="#例-18" class="headerlink" title="例"></a>例</h3><p>内置数据集“mtcars”描述具有各种发动机规格的汽车的不同型号。在“mtcars”数据集中，传输模式（自动或手动）由am列描述，它是一个二进制值（0或1）。我们可以在列“是”和其他3列（马力，重量和CYL）之间创建逻辑回归模型。</p>
<pre class="line-numbers language-R"><code class="language-R"># Select some columns form mtcars.
input <- mtcars[,c("am","cyl","hp","wt")]

print(head(input))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>                  am   cyl  hp    wt
Mazda RX4          1   6    110   2.620
Mazda RX4 Wag      1   6    110   2.875
Datsun 710         1   4     93   2.320
Hornet 4 Drive     0   6    110   3.215
Hornet Sportabout  0   8    175   3.440
Valiant            0   6    105   3.460</code></pre><h3 id="创建回归模型"><a href="#创建回归模型" class="headerlink" title="创建回归模型"></a>创建回归模型</h3><p>我们使用GLM（）函数创建回归模型，并得到其摘要进行分析。</p>
<pre class="line-numbers language-R"><code class="language-R">input <- mtcars[,c("am","cyl","hp","wt")]

am.data = glm(formula = am ~ cyl + hp + wt, data = input, family = binomial)

print(summary(am.data))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>Call:
glm(formula = am ~ cyl + hp + wt, family = binomial, data = input)

Deviance Residuals: 
     Min        1Q      Median        3Q       Max  
-2.17272     -0.14907  -0.01464     0.14116   1.27641  

Coefficients:
            Estimate Std. Error z value Pr(&gt;|z|)  
(Intercept) 19.70288    8.11637   2.428   0.0152 *
cyl          0.48760    1.07162   0.455   0.6491  
hp           0.03259    0.01886   1.728   0.0840 .
wt          -9.14947    4.15332  -2.203   0.0276 *
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 43.2297  on 31  degrees of freedom
Residual deviance:  9.8415  on 28  degrees of freedom
AIC: 17.841

Number of Fisher Scoring iterations: 8</code></pre><h3 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h3><p>在总结中，对于变量“cyl”和“hp”，最后一列中的p值大于0.05，我们认为它们对变量“am”的值有贡献是无关紧要的。只有重量（wt）影响该回归模型中的“是”值。</p>
<h1 id="5-标准分布"><a href="#5-标准分布" class="headerlink" title="5.标准分布"></a>5.标准分布</h1><p>在来自独立源的数据的随机集合中，通常观察到数据的分布是正常的。这意味着，在绘制水平轴上的变量值和垂直轴上的值的计数的图形时，我们得到钟形曲线。曲线的中心表示数据集的平均值。在图中，50％的值位于平均值的左侧，另外50％位于图表的右侧。这在统计学中被称为正态分布。</p>
<p>R语言有四个内置函数来产生正态分布。它们描述如下。</p>
<pre class="line-numbers language-R"><code class="language-R">dnorm(x, mean, sd)
pnorm(x, mean, sd)
qnorm(p, mean, sd)
rnorm(n, mean, sd)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>以下是在上述功能中使用的参数的描述 - </p>
<ul>
<li><p><strong>X</strong>是数字的向量。</p>
</li>
<li><p><strong>p</strong>是概率的向量。</p>
</li>
<li><p><strong>Ñ</strong>是观察的数量（样本大小）。</p>
</li>
<li><p><strong>mean</strong>是样本数据的平均值。它的默认值为零。</p>
</li>
<li><p><strong>sd</strong>是标准偏差。它的默认值为1。</p>
</li>
</ul>
<h3 id="dnorm（）"><a href="#dnorm（）" class="headerlink" title="dnorm（）"></a>dnorm（）</h3><p>该函数给出给定平均值和标准偏差在每个点的概率分布的高度。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a sequence of numbers between -10 and 10 incrementing by 0.1.
x <- seq(-10, 10, by = .1)

# Choose the mean as 2.5 and standard deviation as 0.5.
y <- dnorm(x, mean = 2.5, sd = 0.5)

# Give the chart file a name.
png(file = "dnorm.png")

plot(x,y)

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627231019797760" alt=""></p>
<h3 id="pnorm（）"><a href="#pnorm（）" class="headerlink" title="pnorm（）"></a>pnorm（）</h3><p>该函数给出正态分布随机数的概率小于给定数的值。它也被称为“累积分布函数”。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a sequence of numbers between -10 and 10 incrementing by 0.2.
x <- seq(-10,10,by = .2)

# Choose the mean as 2.5 and standard deviation as 2\. 
y <- pnorm(x, mean = 2.5, sd = 2)

# Give the chart file a name.
png(file = "pnorm.png")

# Plot the graph.
plot(x,y)

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627231023685762" alt=""></p>
<h3 id="qnorm（）"><a href="#qnorm（）" class="headerlink" title="qnorm（）"></a>qnorm（）</h3><p>该函数采用概率值，并给出累积值与概率值匹配的数字。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a sequence of probability values incrementing by 0.02.
x <- seq(0, 1, by = 0.02)

# Choose the mean as 2 and standard deviation as 3.
y <- qnorm(x, mean = 2, sd = 1)

# Give the chart file a name.
png(file = "qnorm.png")

# Plot the graph.
plot(x,y)

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627231027199764" alt=""></p>
<h3 id="RNORM（）"><a href="#RNORM（）" class="headerlink" title="RNORM（）"></a>RNORM（）</h3><p>此函数用于生成分布正常的随机数。它将样本大小作为输入，并生成许多随机数。我们绘制一个直方图来显示生成的数字的分布。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a sample of 50 numbers which are normally distributed.
y <- rnorm(50)

# Give the chart file a name.
png(file = "rnorm.png")

# Plot the histogram for this sample.
hist(y, main = "Normal DIstribution")

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627231030802766" alt=""></p>
<h1 id="6-二项分布"><a href="#6-二项分布" class="headerlink" title="6.二项分布"></a>6.二项分布</h1><p>二项分布模型处理在一系列实验中仅发现两个可能结果的事件的成功概率。 例如，掷硬币总是给出头或尾。 在二项分布期间估计在10次重复抛掷硬币中精确找到3个头的概率。</p>
<p>R语言有四个内置函数来生成二项分布。 它们描述如下。</p>
<pre class="line-numbers language-R"><code class="language-R">dbinom(x, size, prob)
pbinom(x, size, prob)
qbinom(p, size, prob)
rbinom(n, size, prob)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p><strong>x</strong>是数字的向量。</p>
</li>
<li><p><strong>p</strong>是概率向量。</p>
</li>
<li><p><strong>n</strong>是观察的数量。</p>
</li>
<li><p><strong>size</strong>是试验的数量。</p>
</li>
<li><p><strong>prob</strong>是每个试验成功的概率。</p>
</li>
</ul>
<h3 id="dbinom（）"><a href="#dbinom（）" class="headerlink" title="dbinom（）"></a>dbinom（）</h3><p>该函数给出每个点的概率密度分布。</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a sample of 50 numbers which are incremented by 1.
x <- seq(0,50,by = 1)

# Create the binomial distribution.
y <- dbinom(x,50,0.5)

# Give the chart file a name.
png(file = "dbinom.png")

# Plot the graph for this sample.
plot(x,y)

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627231034982768" alt=""></p>
<h3 id="pbinom（）"><a href="#pbinom（）" class="headerlink" title="pbinom（）"></a>pbinom（）</h3><p>此函数给出事件的累积概率。 它是表示概率的单个值。</p>
<pre class="line-numbers language-R"><code class="language-R"># Probability of getting 26 or less heads from a 51 tosses of a coin.
x <- pbinom(26,51,0.5)

print(x)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 0.610116</code></pre><h3 id="qbinom（）"><a href="#qbinom（）" class="headerlink" title="qbinom（）"></a>qbinom（）</h3><p>该函数采用概率值，并给出累积值与概率值匹配的数字。</p>
<pre class="line-numbers language-R"><code class="language-R"># How many heads will have a probability of 0.25 will come out when a coin is tossed 51 times.
x <- qbinom(0.25,51,1/2)

print(x)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 23</code></pre><h3 id="rbinom（）"><a href="#rbinom（）" class="headerlink" title="rbinom（）"></a>rbinom（）</h3><p>该函数从给定样本产生给定概率的所需数量的随机值。</p>
<pre class="line-numbers language-R"><code class="language-R"># Find 8 random values from a sample of 150 with probability of 0.4.
x <- rbinom(8,150,.4)

print(x)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 58 61 59 66 55 60 61 67</code></pre><h1 id="7-泊松回归"><a href="#7-泊松回归" class="headerlink" title="7.泊松回归"></a>7.泊松回归</h1><p>泊松回归包括回归模型，其中响应变量是计数而不是分数的形式。 例如，足球比赛系列中的出生次数或胜利次数。 此外，响应变量的值遵循泊松分布。</p>
<p>泊松回归的一般数学方程为 -</p>
<pre><code>log(y) = a + b1x1 + b2x2 + bnxn.....</code></pre><p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>y是响应变量。</p>
</li>
<li><p>a和b是数字系数。</p>
</li>
<li><p>x是预测变量。</p>
</li>
</ul>
<p>###用于创建泊松回归模型的函数是glm()函数。</p>
<h3 id="语法-18"><a href="#语法-18" class="headerlink" title="语法"></a>语法</h3><p>在泊松回归中glm()函数的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">glm(formula,data,family)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是在上述功能中使用的参数的描述 - </p>
<ul>
<li><p>formula是表示变量之间的关系的符号。</p>
</li>
<li><p>data是给出这些变量的值的数据集。</p>
</li>
<li><p>family是R语言对象来指定模型的细节。 它的值是“泊松”的逻辑回归。</p>
</li>
</ul>
<h3 id="例-19"><a href="#例-19" class="headerlink" title="例"></a>例</h3><p>我们有内置的数据集“warpbreaks”，其描述了羊毛类型（A或B）和张力（低，中或高）对每个织机的经纱断裂数量的影响。 让我们考虑“休息”作为响应变量，它是休息次数的计数。 羊毛“类型”和“张力”作为预测变量。</p>
<p>输入数据</p>
<pre class="line-numbers language-R"><code class="language-R">input <- warpbreaks
print(head(input))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>      breaks   wool  tension
1     26       A     L
2     30       A     L
3     54       A     L
4     25       A     L
5     70       A     L
6     52       A     L</code></pre><p>创建回归模型</p>
<pre class="line-numbers language-R"><code class="language-R">output <-glm(formula = breaks ~ wool+tension, 
                   data = warpbreaks, 
                 family = poisson)
print(summary(output))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>Call:
glm(formula = breaks ~ wool + tension, family = poisson, data = warpbreaks)

Deviance Residuals: 
    Min       1Q     Median       3Q      Max  
  -3.6871  -1.6503  -0.4269     1.1902   4.2616  

Coefficients:
            Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)  3.69196    0.04541  81.302  &lt; 2e-16 ***
woolB       -0.20599    0.05157  -3.994 6.49e-05 ***
tensionM    -0.32132    0.06027  -5.332 9.73e-08 ***
tensionH    -0.51849    0.06396  -8.107 5.21e-16 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

(Dispersion parameter for poisson family taken to be 1)

    Null deviance: 297.37  on 53  degrees of freedom
Residual deviance: 210.39  on 50  degrees of freedom
AIC: 493.06

Number of Fisher Scoring iterations: 4</code></pre><p>在摘要中，我们查找最后一列中的p值小于0.05，以考虑预测变量对响应变量的影响。 如图所示，具有张力类型M和H的羊毛类型B对断裂计数有影响。</p>
<h1 id="8-协方差分析"><a href="#8-协方差分析" class="headerlink" title="8.协方差分析"></a>8.协方差分析</h1><p>我们使用回归分析创建模型，描述变量在预测变量对响应变量的影响。 有时，如果我们有一个类别变量，如Yes / No或Male / Female等。简单的回归分析为分类变量的每个值提供多个结果。 在这种情况下，我们可以通过将分类变量与预测变量一起使用并比较分类变量的每个级别的回归线来研究分类变量的效果。 这样的分析被称为协方差分析，也称为ANCOVA。</p>
<h3 id="例-20"><a href="#例-20" class="headerlink" title="例"></a>例</h3><p>考虑在数据集mtcars中内置的R语言。 在其中我们观察到字段“am”表示传输的类型（自动或手动）。 它是值为0和1的分类变量。汽车的每加仑英里数（mpg）也可以取决于马力（“hp”）的值。</p>
<p>我们研究“am”的值对“mpg”和“hp”之间回归的影响。 它是通过使用aov()函数，然后使用anova()函数来比较多个回归来完成的。</p>
<h3 id="输入数据-4"><a href="#输入数据-4" class="headerlink" title="输入数据"></a>输入数据</h3><p>从数据集mtcars创建一个包含字段“mpg”，“hp”和“am”的数据框。 这里我们取“mpg”作为响应变量，“hp”作为预测变量，“am”作为分类变量。</p>
<pre class="line-numbers language-R"><code class="language-R">input <- mtcars[,c("am","mpg","hp")]
print(head(input))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>                   am   mpg   hp
Mazda RX4          1    21.0  110
Mazda RX4 Wag      1    21.0  110
Datsun 710         1    22.8   93
Hornet 4 Drive     0    21.4  110
Hornet Sportabout  0    18.7  175
Valiant            0    18.1  105</code></pre><h3 id="协方差分析"><a href="#协方差分析" class="headerlink" title="协方差分析"></a>协方差分析</h3><p>我们创建一个回归模型，以“hp”作为预测变量，“mpg”作为响应变量，考虑“am”和“hp”之间的相互作用。</p>
<p>模型与分类变量和预测变量之间的相互作用</p>
<pre class="line-numbers language-R"><code class="language-R"># Get the dataset.
input <- mtcars

# Create the regression model.
result <- aov(mpg~hp*am,data = input)
print(summary(result))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>            Df Sum Sq Mean Sq F value   Pr(&gt;F)    
hp           1  678.4   678.4  77.391 1.50e-09 ***
am           1  202.2   202.2  23.072 4.75e-05 ***
hp:am        1    0.0     0.0   0.001    0.981    
Residuals   28  245.4     8.8                     
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</code></pre><p>这个结果表明，马力和传输类型对每加仑的英里有显着的影响，因为两种情况下的p值都小于0.05。 但是这两个变量之间的相互作用不显着，因为p值大于0.05。</p>
<p>没有分类变量和预测变量之间相互作用的模型</p>
<pre class="line-numbers language-R"><code class="language-R"># Get the dataset.
input <- mtcars

# Create the regression model.
result <- aov(mpg~hp+am,data = input)
print(summary(result))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>            Df  Sum Sq  Mean Sq   F value   Pr(&gt;F)    
hp           1  678.4   678.4   80.15 7.63e-10 ***
am           1  202.2   202.2   23.89 3.46e-05 ***
Residuals   29  245.4     8.5                     
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</code></pre><p>这个结果表明，马力和传输类型对每加仑的英里有显着的影响，因为两种情况下的p值都小于0.05。</p>
<h3 id="比较两个模型"><a href="#比较两个模型" class="headerlink" title="比较两个模型"></a>比较两个模型</h3><p>现在我们可以比较两个模型来得出结论，变量的相互作用是否真正重要。 为此，我们使用anova()函数。</p>
<pre class="line-numbers language-R"><code class="language-R"># Get the dataset.
input <- mtcars

# Create the regression models.
result1 <- aov(mpg~hp*am,data = input)
result2 <- aov(mpg~hp+am,data = input)

# Compare the two models.
print(anova(result1,result2))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>Model 1: mpg ~ hp * am
Model 2: mpg ~ hp + am
  Res.Df    RSS Df  Sum of Sq     F Pr(&gt;F)
1     28 245.43                           
2     29 245.44 -1 -0.0052515 6e-04 0.9806</code></pre><p>由于p值大于0.05，我们得出结论，马力和传播类型之间的相互作用不显着。 因此，在汽车和手动变速器模式下，每加仑的里程将以类似的方式取决于汽车的马力。</p>
<h1 id="9-时间序列分析"><a href="#9-时间序列分析" class="headerlink" title="9.时间序列分析"></a>9.时间序列分析</h1><p>时间序列是一系列数据点，其中每个数据点与时间戳相关联。 一个简单的例子是股票在某一天的不同时间点的股票价格。 另一个例子是一个地区在一年中不同月份的降雨量。 R语言使用许多函数来创建，操作和绘制时间序列数据。 时间序列的数据存储在称为时间序列对象的R对象中。 它也是一个R语言数据对象，如矢量或数据帧。</p>
<p>使用ts()函数创建时间序列对象。</p>
<h2 id="语法-19"><a href="#语法-19" class="headerlink" title="语法"></a>语法</h2><p>时间序列分析中<strong>ts()</strong>函数的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">timeseries.object.name <-  ts(data, start, end, frequency)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p><strong>data</strong>是包含在时间序列中使用的值的向量或矩阵。</p>
</li>
<li><p><strong>start</strong>以时间序列指定第一次观察的开始时间。</p>
</li>
<li><p><strong>end</strong>指定时间序列中最后一次观测的结束时间。</p>
</li>
<li><p><strong>frequency</strong>指定每单位时间的观测数。</p>
</li>
</ul>
<p>除了参数“data”，所有其他参数是可选的。</p>
<h2 id="例-21"><a href="#例-21" class="headerlink" title="例"></a>例</h2><p>考虑从2012年1月开始的一个地方的年降雨量细节。我们创建一个R时间序列对象为期12个月并绘制它。</p>
<pre class="line-numbers language-R"><code class="language-R"># Get the data points in form of a R vector.
rainfall <- c(799,1174.8,865.1,1334.6,635.4,918.5,685.5,998.6,784.2,985,882.8,1071)

# Convert it to a time series object.
rainfall.timeseries <- ts(rainfall,start = c(2012,1),frequency = 12)

# Print the timeseries data.
print(rainfall.timeseries)

# Give the chart file a name.
png(file = "rainfall.png")

# Plot a graph of the time series.
plot(rainfall.timeseries)

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果及图表 -</p>
<pre><code>Jan    Feb    Mar    Apr    May     Jun    Jul    Aug    Sep
2012  799.0  1174.8  865.1  1334.6  635.4  918.5  685.5  998.6  784.2
        Oct    Nov    Dec
2012  985.0  882.8 1071.0</code></pre><p>时间序列图 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627231044215770" alt=""></p>
<h2 id="不同的时间间隔"><a href="#不同的时间间隔" class="headerlink" title="不同的时间间隔"></a>不同的时间间隔</h2><p><strong>ts()</strong>函数中的频率参数值决定了测量数据点的时间间隔。 值为12表示时间序列为12个月。 其他值及其含义如下 - </p>
<ul>
<li><p>频率= 12指定一年中每个月的数据点。</p>
</li>
<li><p>频率= 4每年的每个季度的数据点。</p>
</li>
<li><p>频率= 6每小时的10分钟的数据点。</p>
</li>
<li><p>频率= 24 * 6将一天的每10分钟的数据点固定。</p>
</li>
</ul>
<h2 id="多时间序列"><a href="#多时间序列" class="headerlink" title="多时间序列"></a>多时间序列</h2><p>我们可以通过将两个系列组合成一个矩阵，在一个图表中绘制多个时间序列。</p>
<pre class="line-numbers language-R"><code class="language-R"># Get the data points in form of a R vector.
rainfall1 <- c(799,1174.8,865.1,1334.6,635.4,918.5,685.5,998.6,784.2,985,882.8,1071)
rainfall2 <- 
           c(655,1306.9,1323.4,1172.2,562.2,824,822.4,1265.5,799.6,1105.6,1106.7,1337.8)

# Convert them to a matrix.
combined.rainfall <-  matrix(c(rainfall1,rainfall2),nrow = 12)

# Convert it to a time series object.
rainfall.timeseries <- ts(combined.rainfall,start = c(2012,1),frequency = 12)

# Print the timeseries data.
print(rainfall.timeseries)

# Give the chart file a name.
png(file = "rainfall_combined.png")

# Plot a graph of the time series.
plot(rainfall.timeseries, main = "Multiple Time Series")

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果及图表 -</p>
<pre><code>          Series 1  Series 2
Jan 2012    799.0    655.0
Feb 2012   1174.8   1306.9
Mar 2012    865.1   1323.4
Apr 2012   1334.6   1172.2
May 2012    635.4    562.2
Jun 2012    918.5    824.0
Jul 2012    685.5    822.4
Aug 2012    998.6   1265.5
Sep 2012    784.2    799.6
Oct 2012    985.0   1105.6
Nov 2012    882.8   1106.7
Dec 2012   1071.0   1337.8</code></pre><p>多时间序列图 -</p>
<p><img src="/images/loading.gif" data-original="../images/basic/1240-1627231048292772" alt=""></p>
<h1 id="10-非线性最小二乘"><a href="#10-非线性最小二乘" class="headerlink" title="10.非线性最小二乘"></a>10.非线性最小二乘</h1><p>当模拟真实世界数据用于回归分析时，我们观察到，很少情况下，模型的方程是给出线性图的线性方程。大多数时候，真实世界数据模型的方程涉及更高程度的数学函数，如3的指数或sin函数。在这种情况下，模型的图给出了曲线而不是线。线性和非线性回归的目的是调整模型参数的值，以找到最接近您的数据的线或曲线。在找到这些值时，我们将能够以良好的精确度估计响应变量。</p>
<p>在最小二乘回归中，我们建立了一个回归模型，其中来自回归曲线的不同点的垂直距离的平方和被最小化。我们通常从定义的模型开始，并假设系数的一些值。然后我们应用R语言的<strong>nls()</strong>函数获得更准确的值以及置信区间。</p>
<h2 id="语法-20"><a href="#语法-20" class="headerlink" title="语法"></a>语法</h2><p>在R语言中创建非线性最小二乘测试的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">nls(formula, data, start)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p><strong>formula</strong>是包括变量和参数的非线性模型公式。</p>
</li>
<li><p><strong>data</strong>是用于计算公式中变量的数据框。</p>
</li>
<li><p><strong>start</strong>是起始估计的命名列表或命名数字向量。</p>
</li>
</ul>
<h2 id="例-22"><a href="#例-22" class="headerlink" title="例"></a>例</h2><p>我们将考虑一个假设其系数的初始值的非线性模型。 接下来，我们将看到这些假设值的置信区间是什么，以便我们可以判断这些值在模型中有多好。</p>
<p>所以让我们考虑下面的方程为这个目的 -</p>
<pre><code>a = b1*x^2+b2</code></pre><p>让我们假设初始系数为1和3，并将这些值拟合到<strong>nls()</strong>函数中。</p>
<pre class="line-numbers language-R"><code class="language-R">xvalues <- c(1.6,2.1,2,2.23,3.71,3.25,3.4,3.86,1.19,2.21)
yvalues <- c(5.19,7.43,6.94,8.11,18.75,14.88,16.06,19.12,3.21,7.58)

# Give the chart file a name.
png(file = "nls.png")

# Plot these values.
plot(xvalues,yvalues)

# Take the assumed values and fit into the model.
model <- nls(yvalues ~ b1*xvalues^2+b2,start = list(b1 = 1,b2 = 3))

# Plot the chart with new data by fitting it to a prediction from 100 data points.
new.data <- data.frame(xvalues = seq(min(xvalues),max(xvalues),len = 100))
lines(new.data$xvalues,predict(model,newdata = new.data))

# Save the file.
dev.off()

# Get the sum of the squared residuals.
print(sum(resid(model)^2))

# Get the confidence intervals on the chosen values of the coefficients.
print(confint(model))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>[1] 1.081935
Waiting for profiling to be done...
       2.5%    97.5%
b1 1.137708 1.253135
b2 1.497364 2.496484</code></pre><p><img src="/images/loading.gif" data-original="../images/basic/1240-1627231054410774" alt=""></p>
<p>我们可以得出结论，b1的值更接近1，而b2的值更接近2而不是3。</p>
<h1 id="11-决策树"><a href="#11-决策树" class="headerlink" title="11.决策树"></a>11.决策树</h1><p>决策树是以树的形式表示选择及其结果的图。图中的节点表示事件或选择，并且图的边缘表示决策规则或条件。它主要用于使用R的机器学习和数据挖掘应用程序。</p>
<p>决策树的使用的例子是 - 预测电子邮件是垃圾邮件或非垃圾邮件，预测肿瘤癌变，或者基于这些因素预测贷款的信用风险。通常，使用观测数据（也称为训练数据）来创建模型。然后使用一组验证数据来验证和改进模型。 R具有用于创建和可视化决策树的包。对于新的预测变量集合，我们使用此模型来确定R包“party”用于创建决策树。</p>
<h2 id="安装R语言包"><a href="#安装R语言包" class="headerlink" title="安装R语言包"></a>安装R语言包</h2><p>在R语言控制台中使用以下命令安装软件包。您还必须安装相关软件包（如果有）。</p>
<pre class="line-numbers language-R"><code class="language-R">install.packages("party")<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>“party”包具有用于创建和分析决策树的函数<strong>ctree()</strong>。</p>
<h2 id="语法-21"><a href="#语法-21" class="headerlink" title="语法"></a>语法</h2><p>在R中创建决策树的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">ctree(formula, data)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p><strong>formula</strong>是描述预测变量和响应变量的公式。</p>
</li>
<li><p><strong>data</strong>是所使用的数据集的名称。</p>
</li>
</ul>
<h2 id="输入数据-5"><a href="#输入数据-5" class="headerlink" title="输入数据"></a>输入数据</h2><p>我们将使用名为readingSkills的R内置数据集来创建决策树。 它描述了某人的readingSkills的分数，如果我们知道变量“年龄”，“shoesize”，“分数”，以及该人是否为母语者。</p>
<p>这里是示例数据。</p>
<pre class="line-numbers language-R"><code class="language-R"># Load the party package. It will automatically load other dependent packages.
library(party)

# Print some records from data set readingSkills.
print(head(readingSkills))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果及图表 -</p>
<pre><code>  nativeSpeaker   age   shoeSize      score
1           yes     5   24.83189   32.29385
2           yes     6   25.95238   36.63105
3            no    11   30.42170   49.60593
4           yes     7   28.66450   40.28456
5           yes    11   31.88207   55.46085
6           yes    10   30.07843   52.83124
Loading required package: methods
Loading required package: grid
...............................
...............................</code></pre><h2 id="例-23"><a href="#例-23" class="headerlink" title="例"></a>例</h2><p>我们将使用<strong>ctree()</strong>函数创建决策树并查看其图形。</p>
<pre class="line-numbers language-R"><code class="language-R"># Load the party package. It will automatically load other dependent packages.
library(party)

# Create the input data frame.
input.dat <- readingSkills[c(1:105),]

# Give the chart file a name.
png(file = "decision_tree.png")

# Create the tree.
  output.tree <- ctree(
  nativeSpeaker ~ age + shoeSize + score, 
  data = input.dat)

# Plot the tree.
plot(output.tree)

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>null device 
          1 
Loading required package: methods
Loading required package: grid
Loading required package: mvtnorm
Loading required package: modeltools
Loading required package: stats4
Loading required package: strucchange
Loading required package: zoo

Attaching package: ‘zoo’

The following objects are masked from ‘package:base’:

    as.Date, as.Date.numeric

Loading required package: sandwich</code></pre><p><img src="/images/loading.gif" data-original="../images/basic/1240-1627231059777776" alt=""></p>
<h3 id="结论-1"><a href="#结论-1" class="headerlink" title="结论"></a>结论</h3><p>从上面显示的决策树，我们可以得出结论，其readingSkills分数低于38.3和年龄超过6的人不是一个母语者。</p>
<h1 id="12-随机森林算法"><a href="#12-随机森林算法" class="headerlink" title="12.随机森林算法"></a>12.随机森林算法</h1><p>在随机森林方法中，创建大量的决策树。每个观察被馈入每个决策树。每个观察的最常见的结果被用作最终输出。新的观察结果被馈入所有的树并且对 - 个分类模型取多数投票。</p>
<p>对构建树时未使用的情况进行错误估计。这称为OOB（袋外）误差估计，其被提及为百分比。</p>
<p>[R语言包“随机森林”用于创建随机森林。</p>
<p>安装 - [R包<br>在R语言控制台中使用以下命令安装软件包。您还必须安装相关软件包（如果有）。</p>
<pre class="line-numbers language-R"><code class="language-R">install.packages("randomForest)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>包“随机森林”具有函数随机森林（），用于创建和分析随机森林。</p>
<h3 id="语法-22"><a href="#语法-22" class="headerlink" title="语法"></a>语法</h3><p>在R语言中创建随机森林的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">randomForest(formula, data)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p>式是描述预测变量和响应变量的公式。</p>
</li>
<li><p>数据是所使用的数据集的名称。</p>
</li>
</ul>
<h3 id="输入数据-6"><a href="#输入数据-6" class="headerlink" title="输入数据"></a>输入数据</h3><p>我们将使用名为readingSkills的R语言内置数据集来创建决策树。它描述了某人的阅读技能的分数，如果我们知道变量“age”，“shoesize”，“score”，以及该人是否是母语。</p>
<p>以下是示例数据。</p>
<pre class="line-numbers language-R"><code class="language-R"># Load the party package. It will automatically load other required packages.
library(party)

# Print some records from data set readingSkills.
print(head(readingSkills))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果及图表 -</p>
<pre><code>  nativeSpeaker   age   shoeSize      score
1           yes     5   24.83189   32.29385
2           yes     6   25.95238   36.63105
3            no    11   30.42170   49.60593
4           yes     7   28.66450   40.28456
5           yes    11   31.88207   55.46085
6           yes    10   30.07843   52.83124
Loading required package: methods
Loading required package: grid
...............................
...............................</code></pre><h3 id="例-24"><a href="#例-24" class="headerlink" title="例"></a>例</h3><p>我们将使用随机森林（）函数来创建决策树并查看它的图。</p>
<pre class="line-numbers language-R"><code class="language-R"># Load the party package. It will automatically load other required packages.
library(party)
library(randomForest)

# Create the forest.
output.forest <- randomForest(nativeSpeaker ~ age + shoeSize + score, 
           data = readingSkills)

# View the forest results.
print(output.forest) 

# Importance of each predictor.
print(importance(fit,type = 2)) <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>Call:
 randomForest(formula = nativeSpeaker ~ age + shoeSize + score,     
                 data = readingSkills)
               Type of random forest: classification
                     Number of trees: 500
No. of variables tried at each split: 1

        OOB estimate of  error rate: 1%
Confusion matrix:
    no yes class.error
no  99   1        0.01
yes  1  99        0.01
         MeanDecreaseGini
age              13.95406
shoeSize         18.91006
score            56.73051</code></pre><h3 id="结论-2"><a href="#结论-2" class="headerlink" title="结论"></a>结论</h3><p>从上面显示的随机森林，我们可以得出结论，鞋码和成绩是决定如果某人是母语者或不是母语的重要因素。此外，该模型只有1％的误差，这意味着我们可以预测精度为99％。</p>
<h1 id="13-生存分析"><a href="#13-生存分析" class="headerlink" title="13.生存分析"></a>13.生存分析</h1><p>生存分析处理预测特定事件将要发生的时间。 它也被称为故障时间分析或分析死亡时间。 例如，预测患有癌症的人将存活的天数或预测机械系统将失败的时间。</p>
<p>命名为<strong>survival</strong>的R语言包用于进行生存分析。 此包包含函数Surv（），它将输入数据作为R语言公式，并在选择的变量中创建一个生存对象用于分析。 然后我们使用函数<strong>survfit()</strong>创建一个分析图。</p>
<h2 id="安装软件包"><a href="#安装软件包" class="headerlink" title="安装软件包"></a>安装软件包</h2><pre class="line-numbers language-R"><code class="language-R">install.packages("survival")<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="语法-23"><a href="#语法-23" class="headerlink" title="语法"></a>语法</h3><p>在R语言中创建生存分析的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">Surv(time,event)
survfit(formula)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li><p><strong>time</strong>是直到事件发生的跟踪时间。</p>
</li>
<li><p><strong>event</strong>指示预期事件的发生的状态。</p>
</li>
<li><p><strong>formula</strong>是预测变量之间的关系。</p>
</li>
</ul>
<h3 id="例-25"><a href="#例-25" class="headerlink" title="例"></a>例</h3><p>我们将考虑在上面安装的生存包中存在的名为“pbc”的数据集。 它描述了关于受肝原发性胆汁性肝硬化（PBC）影响的人的生存数据点。 在数据集中存在的许多列中，我们主要关注字段“time”和“status”。 时间表示在接受肝移植或患者死亡的患者的登记和事件的较早之间的天数。</p>
<pre class="line-numbers language-R"><code class="language-R"># Load the library.
library("survival")

# Print first few rows.
print(head(pbc))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果及图表 -</p>
<pre><code>  id time status trt      age sex ascites hepato spiders edema bili chol
1  1  400      2   1 58.76523   f       1      1       1   1.0 14.5  261
2  2 4500      0   1 56.44627   f       0      1       1   0.0  1.1  302
3  3 1012      2   1 70.07255   m       0      0       0   0.5  1.4  176
4  4 1925      2   1 54.74059   f       0      1       1   0.5  1.8  244
5  5 1504      1   2 38.10541   f       0      1       1   0.0  3.4  279
6  6 2503      2   2 66.25873   f       0      1       0   0.0  0.8  248
  albumin copper alk.phos    ast trig platelet protime stage
1    2.60    156   1718.0 137.95  172      190    12.2     4
2    4.14     54   7394.8 113.52   88      221    10.6     3
3    3.48    210    516.0  96.10   55      151    12.0     4
4    2.54     64   6121.8  60.63   92      183    10.3     4
5    3.53    143    671.0 113.15   72      136    10.9     3
6    3.98     50    944.0  93.00   63       NA    11.0     3</code></pre><p>从上述数据，我们正在考虑分析的时间和状态。</p>
<h3 id="应用Surv（）和survfit（）函数"><a href="#应用Surv（）和survfit（）函数" class="headerlink" title="应用Surv（）和survfit（）函数"></a>应用Surv（）和survfit（）函数</h3><p>现在我们继续应用<strong>Surv()</strong>函数到上面的数据集，并创建一个将显示趋势图。</p>
<pre class="line-numbers language-R"><code class="language-R"># Load the library.
library("survival")

# Create the survival object. 
survfit(Surv(pbc$time,pbc$status == 2)~1)

# Give the chart file a name.
png(file = "survival.png")

# Plot the graph. 
plot(survfit(Surv(pbc$time,pbc$status == 2)~1))

# Save the file.
dev.off()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果及图表 -</p>
<pre><code>Call: survfit(formula = Surv(pbc$time, pbc$status == 2) ~ 1)

      n  events  median 0.95LCL 0.95UCL 
    418     161    3395    3090    3853 </code></pre><p><img src="/images/loading.gif" data-original="../images/basic/1240-1627231070826778" alt=""></p>
<p>上图中的趋势有助于我们预测在特定天数结束时的生存概率。</p>
<h1 id="14-卡方检验"><a href="#14-卡方检验" class="headerlink" title="14.卡方检验"></a>14.卡方检验</h1><p>卡方检验是一种确定两个分类变量之间是否存在显着相关性的统计方法。这两个变量应该来自相同的人口，他们应该是类似 - 是/否，男/女，红/绿等。</p>
<p>例如，我们可以建立一个观察人们的冰淇淋购买模式的数据集，并尝试将一个人的性别与他们喜欢的冰淇淋的味道相关联。如果发现相关性，我们可以通过了解访问的人的性别的数量来计划适当的味道库存。</p>
<h3 id="语法-24"><a href="#语法-24" class="headerlink" title="语法"></a>语法</h3><p>用于执行卡方检验的函数是chisq.test（）。<br>在R语言中创建卡方检验的基本语法是 -</p>
<pre class="line-numbers language-R"><code class="language-R">chisq.test(data)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以下是所使用的参数的描述 - </p>
<ul>
<li>数据是以包含观察中变量的计数值的表的形式的数据。</li>
</ul>
<h3 id="例-26"><a href="#例-26" class="headerlink" title="例"></a>例</h3><p>我们将在“大众”图书馆中获取Cars93数据，该图书馆代表1993年年不同型号汽车的销售额。</p>
<pre class="line-numbers language-R"><code class="language-R">library("MASS")
print(str(Cars93))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当我们执行上面的代码，它产生以下结果 -</p>
<pre><code>'data.frame':   93 obs. of  27 variables: 
 $ Manufacturer      : Factor w/ 32 levels "Acura","Audi",..: 1 1 2 2 3 4 4 4 4 5 ... 
 $ Model             : Factor w/ 93 levels "100","190E","240",..: 49 56 9 1 6 24 54 74 73 35 ... 
 $ Type              : Factor w/ 6 levels "Compact","Large",..: 4 3 1 3 3 3 2 2 3 2 ... 
 $ Min.Price         : num  12.9 29.2 25.9 30.8 23.7 14.2 19.9 22.6 26.3 33 ... 
 $ Price             : num  15.9 33.9 29.1 37.7 30 15.7 20.8 23.7 26.3 34.7 ... 
 $ Max.Price         : num  18.8 38.7 32.3 44.6 36.2 17.3 21.7 24.9 26.3 36.3 ... 
 $ MPG.city          : int  25 18 20 19 22 22 19 16 19 16 ... 
 $ MPG.highway       : int  31 25 26 26 30 31 28 25 27 25 ... 
 $ AirBags           : Factor w/ 3 levels "Driver &amp; Passenger",..: 3 1 2 1 2 2 2 2 2 2 ... 
 $ DriveTrain        : Factor w/ 3 levels "4WD","Front",..: 2 2 2 2 3 2 2 3 2 2 ... 
 $ Cylinders         : Factor w/ 6 levels "3","4","5","6",..: 2 4 4 4 2 2 4 4 4 5 ... 
 $ EngineSize        : num  1.8 3.2 2.8 2.8 3.5 2.2 3.8 5.7 3.8 4.9 ... 
 $ Horsepower        : int  140 200 172 172 208 110 170 180 170 200 ... 
 $ RPM               : int  6300 5500 5500 5500 5700 5200 4800 4000 4800 4100 ... 
 $ Rev.per.mile      : int  2890 2335 2280 2535 2545 2565 1570 1320 1690 1510 ... 
 $ Man.trans.avail   : Factor w/ 2 levels "No","Yes": 2 2 2 2 2 1 1 1 1 1 ... 
 $ Fuel.tank.capacity: num  13.2 18 16.9 21.1 21.1 16.4 18 23 18.8 18 ... 
 $ Passengers        : int  5 5 5 6 4 6 6 6 5 6 ... 
 $ Length            : int  177 195 180 193 186 189 200 216 198 206 ... 
 $ Wheelbase         : int  102 115 102 106 109 105 111 116 108 114 ... 
 $ Width             : int  68 71 67 70 69 69 74 78 73 73 ... 
 $ Turn.circle       : int  37 38 37 37 39 41 42 45 41 43 ... 
 $ Rear.seat.room    : num  26.5 30 28 31 27 28 30.5 30.5 26.5 35 ... 
 $ Luggage.room      : int  11 15 14 17 13 16 17 21 14 18 ... 
 $ Weight            : int  2705 3560 3375 3405 3640 2880 3470 4105 3495 3620 ... 
 $ Origin            : Factor w/ 2 levels "USA","non-USA": 2 2 2 2 2 1 1 1 1 1 ... 
 $ Make              : Factor w/ 93 levels "Acura Integra",..: 1 2 4 3 5 6 7 9 8 10 ... </code></pre><p>上述结果表明数据集有很多因素变量，可以被认为是分类变量。对于我们的模型，我们将考虑变量“AirBags”和“Type”。在这里，我们的目标是找出所售的汽车类型和安全如果观察到相关性，我们可以估计哪种类型的汽车可以更好地卖什么类型的气囊。</p>
<pre class="line-numbers language-R"><code class="language-R"># Load the library.
library("MASS")

# Create a data frame from the main data set.
car.data <- data.frame(Cars93$AirBags, Cars93$Type)

# Create a table with the needed variables.
car.data = table(Cars93$AirBags, Cars93$Type) 
print(car.data)

# Perform the Chi-Square test.
print(chisq.test(car.data))
当我们执行上面的代码，它产生以下结果 -

                     Compact Large Midsize Small Sporty Van
  Driver & Passenger       2     4       7     0      3   0
  Driver only              9     7      11     5      8   3
  None                     5     0       4    16      3   6

        Pearson's Chi-squared test

data:  car.data
X-squared = 33.001, df = 10, p-value = 0.0002723

Warning message:
In chisq.test(car.data) : Chi-squared approximation may be incorrect<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="结论-3"><a href="#结论-3" class="headerlink" title="结论"></a>结论</h3><p>结果显示p值小于0.05，这表明字符串相关。</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://jackhcc.github.io" rel="external nofollow noreferrer">JackHCC</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://jackhcc.github.io/posts/Language-R.html">https://jackhcc.github.io/posts/Language-R.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="https://jackhcc.github.io" target="_blank">JackHCC</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/R/">
                                    <span class="chip bg-color">R</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/reward/aliqr.png" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/reward/wxqr.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            
        </div>
    </div>

    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: '3821a0bbb773038a51fc',
        clientSecret: '4b30b507d67ec5497ec0e77f43f80cb3e0d7dd3a',
        repo: 'JackHCC.github.io',
        owner: 'JackHCC',
        admin: "JackHCC",
        id: '2020-03-24T22-33-50',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>
    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/posts/Database-Redis-01.html">
                    <div class="card-image">
                        
                        
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/featureimages/16.jpg" class="responsive-img" alt="Redis安装与配置">
                        
                        <span class="card-title">Redis安装与配置</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Redis安装与配置详解
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-03-26
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Database/" class="post-category">
                                    Database
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Redis/">
                        <span class="chip bg-color">Redis</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/posts/Database-SQL.html">
                    <div class="card-image">
                        
                        
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/featureimages/14.jpg" class="responsive-img" alt="SQL Server：数据库基础">
                        
                        <span class="card-title">SQL Server：数据库基础</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            SQL Server数据库详解
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-03-22
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Database/" class="post-category">
                                    Database
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/SQL/">
                        <span class="chip bg-color">SQL</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('4'),
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



    <footer class="page-footer bg-color">
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2020</span>
            <a href="https://jackhcc.github.io" target="_blank">杰克成</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">3591.2k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2020";
                    var startMonth = "2";
                    var startDate = "27";
                    var startHour = "6";
                    var startMinute = "30";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/JackHCC" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:jackcc0701@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>



    <a href="https://www.facebook.com/profile.php?id=100046343443643" class="tooltipped" target="_blank" data-tooltip="关注我的Facebook: https://www.facebook.com/profile.php?id=100046343443643" data-position="top" data-delay="50">
        <i class="fab fa-facebook-f"></i>
    </a>



    <a href="https://twitter.com/JackChe66021834" class="tooltipped" target="_blank" data-tooltip="关注我的Twitter: https://twitter.com/JackChe66021834" data-position="top" data-delay="50">
        <i class="fab fa-twitter"></i>
    </a>



    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2508074836" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2508074836" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>



    <a href="https://weibo.com/u/6885584679" class="tooltipped" target="_blank" data-tooltip="关注我的微博: https://weibo.com/u/6885584679" data-position="top" data-delay="50">
        <i class="fab fa-weibo"></i>
    </a>



    <a href="https://www.zhihu.com/people/8f8482f01f0d6a04e844efe32e0f0710" class="tooltipped" target="_blank" data-tooltip="关注我的知乎: https://www.zhihu.com/people/8f8482f01f0d6a04e844efe32e0f0710" data-position="top" data-delay="50">
        <i class="fab fa-zhihu1">知</i>
    </a>



</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/materialize/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/aos/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/js/matery.js"></script>

    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas>
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
    <script type="text/javascript" src="/js/fireworks.js"></script>

    <script type="text/javascript">
        //只在桌面版网页启用特效
        var windowWidth = $(window).width();
        if (windowWidth > 768) {
            document.write('<script type="text/javascript" src="/js/sakura.js"><\/script>'); }
    </script>

    <!-- weather -->
	<script type="text/javascript">
	WIDGET = {FID: 'TToslpmkVO'}
	</script>
	<script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111"></script>


    <!-- Global site tag (gtag.js) - Google Analytics -->


    <!-- Baidu Analytics -->

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

    <!-- Baidu Push -->

    
    
    <script async src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/others/busuanzi.pure.mini.js"></script>
    

    
        <script src="//code.tidio.co/kqhlkxviiccyoa0czpfpu4ijuey9hfre.js"></script>
        <script> 
            $(document).ready(function () {
                setInterval(change_Tidio, 50);  
                function change_Tidio() { 
                    var tidio=$("#tidio-chat iframe");
                    if(tidio.css("display")=="block"&& $(window).width()>977 ){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" &&$(window).width()>977)>0? "-40px" : ($("div.toc-title").length&&$(window).width()>977)>0?"85px":"20px";   
                        document.getElementById("tidio-chat-iframe").style.right="-15px";   
                        document.getElementById("tidio-chat-iframe").style.height=parseInt(tidio.css("height"))>=520?"520px":tidio.css("height");
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    } 
                    else if(tidio.css("display")=="block"&&$(window).width()>601 &&$(window).width()<992 ){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" && 601< $(window).width()<992)>0? "-40px":"20px" ;   
                        document.getElementById("tidio-chat-iframe").style.right="-15px"; 
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    }
                    else if(tidio.css("display")=="block"&&$(window).width()<601 && parseInt(tidio.css("height"))<230){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" && $(window).width()<601)>0? "-10px":"45px" ;   
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    }
                    if( tidio.css("display")=="block"&&$(window).width()<601 && parseInt(tidio.css("height"))>=230){
                        document.getElementById("tidio-chat-iframe").style.zIndex="998";
                    }
                } 
            }); 
        </script>
    

    

    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/background/canvas-nest.js"></script>
    

    

    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/background/ribbon-dynamic.js" async="async"></script>
    
    
    
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/instantpage/instantpage.js" type="module"></script>
    

        <script src="//cdn.jsdelivr.net/npm/js-base64/base64.min.js"></script>
        <script>
        $('a').each(function() {
          const $this = $(this);
          const href = $this.attr('href');
          if (href && href.match('^((http|https|thunder|qqdl|ed2k|Flashget|qbrowser|ftp|rtsp|mms)://)')) {
            const strs = href.split('/');
            if (strs.length >= 3) {
                const host = strs[2];
                if (host !== 'your_domain' || window.location.host) {
                    $this.attr('href', '/go.html?u='+Base64.encode(href)+'').attr('rel', 'external nofollow noopener noreferrer');
                    if (true) {
                        $this.attr('target', '_blank');
                    }
                }
            }
          }
        });
        </script><script>!function(e){var c=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){for(var r=0;r<c.length;r++)t=c[r],0<=(n=t.getBoundingClientRect()).bottom&&0<=n.left&&n.top<=(e.innerHeight||document.documentElement.clientHeight)&&function(){var t,n,e,i,o=c[r];t=o,n=function(){c=c.filter(function(t){return o!==t})},e=new Image,i=t.getAttribute("data-original"),e.onload=function(){t.src=i,n&&n()},e.src=i}();var t,n}i(),e.addEventListener("scroll",function(){var t,n;t=i,n=e,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)})}(this);</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script></body>

</html>

