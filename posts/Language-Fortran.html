<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Fortran-基础语法详解, JackHCC">
    <meta name="description" content="Fortran语言学习手册~">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Fortran-基础语法详解 | JackHCC</title>
    <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/favicon.png">

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/css/matery.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/css/my.css">
    
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/jquery/jquery.min.js"></script>
    
<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="JackHCC" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-hopscotch.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper head-container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/me.jpg" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">JackHCC</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-list" style="zoom: 0.6;"></i>
      
      <span>Tools</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="https://creativecc.cn/" target="_blank" rel="noopener">
          
          <i class="fas fa-book" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Creative工具导航</span>
        </a>
      </li>
      
      <li>
        <a href="https://blog.creativecc.cn/Arxiv-NLP-Reporter/" target="_blank" rel="noopener">
          
          <i class="fas fa-film" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>NLP每日论文</span>
        </a>
      </li>
      
      <li>
        <a href="http://chat.creativecc.cn/" target="_blank" rel="noopener">
          
          <i class="fas fa-music" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>RocketChat聊天室</span>
        </a>
      </li>
      
      <li>
        <a href="/contact">
          
          <i class="fas fa-comments" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Contact留言板</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/me.jpg" class="logo-img circle responsive-img">
        
        <div class="logo-name">JackHCC</div>
        <div class="logo-desc">
            
            Make the world betterrrr!!!
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-list"></i>
			
			Tools
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>   
				
                  <a href="https://creativecc.cn/ " target="_blank" rel="noopener" style="margin-left:75px";>
				  
				   <i class="fa fas fa-book" style="position: absolute;left:50px" ></i>
			      
		          <span>Creative工具导航</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="https://blog.creativecc.cn/Arxiv-NLP-Reporter/ " target="_blank" rel="noopener" style="margin-left:75px";>
				  
				   <i class="fa fas fa-film" style="position: absolute;left:50px" ></i>
			      
		          <span>NLP每日论文</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="http://chat.creativecc.cn/ " target="_blank" rel="noopener" style="margin-left:75px";>
				  
				   <i class="fa fas fa-music" style="position: absolute;left:50px" ></i>
			      
		          <span>RocketChat聊天室</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/contact " style="margin-left:75px";>
				  
				   <i class="fa fas fa-comments" style="position: absolute;left:50px" ></i>
			      
		          <span>Contact留言板</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/JackHCC/JackHCC.github.io" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/JackHCC/JackHCC.github.io" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/featureimages/12.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Fortran-基础语法详解</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 30px;
        bottom: 146px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Fortran/">
                                <span class="chip bg-color">Fortran</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Language/" class="post-category">
                                Language
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-07-31
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2021-11-06
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    26.2k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    114 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>

        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Fortran简介"><a href="#Fortran简介" class="headerlink" title="Fortran简介"></a>Fortran简介</h1><p>Fortran语言来自公式翻译系统，是一种通用的，命令式编程语言。它可用于数字和科学计算。Fortran语言最初是由IBM公司在20世纪50年代的科学和工程应用开发。 FORTRAN统治这个规划计算面积很长一段时间，因其高性能计算能力而很受欢迎。</p>
<p>它支持：</p>
<ul>
<li>​        数值分析和科学计算</li>
<li>​        结构化程序设计</li>
<li>​        数组编程</li>
<li>​        模块化编程</li>
<li>​        泛型编程</li>
<li>​        超级计算机高性能计算</li>
<li>​        面向对象编程</li>
<li>​        并行编程</li>
<li>​        计算机系统之间的可移植性的合理程度</li>
</ul>
<h2 id="关于Fortran语言事实"><a href="#关于Fortran语言事实" class="headerlink" title="关于Fortran语言事实"></a>关于Fortran语言事实</h2><ul>
<li>​            Fortran语言是由一个团队，由约翰·巴克斯带头于1957年在IBM创建。</li>
<li>​            最初将编写所有投资所使用的名称，但是目前的标准和实现只需要第一个字母要大写。</li>
<li>​            Fortran语言表示的公式转换器。</li>
<li>​            最初是为科学计算开发的，它必须为字符串，需要通用编程等结构的支持非常有限。</li>
<li>​            后来延伸和发展使其成为一个高层次的编程语言，可移植性好度。</li>
<li>​            原来的版本，Fortran语言I，II和III 现在认为是过时的。</li>
<li>​            最早的版本仍然在使用 Fortran  IV和Fortran 66。</li>
<li>​            最常用的版本，现在用的是：Fortran 77，Fortran 90，和Fortran95。</li>
<li>​            Fortran 77 添加字符串作为一个独立的类型。</li>
<li>​            Fortran 90 加入形形色色的线程，并直接数组处理。</li>
</ul>
<h1 id="Fortran语言环境设置"><a href="#Fortran语言环境设置" class="headerlink" title="Fortran语言环境设置"></a>Fortran语言环境设置</h1><h2 id="在Windows上设置Fortran语言环境"><a href="#在Windows上设置Fortran语言环境" class="headerlink" title="在Windows上设置Fortran语言环境"></a>在Windows上设置Fortran语言环境</h2><p>G95是GNU Fortran语言多架构的编译器，用于建立Fortran语言在Windows中。 Windows版本的模拟使用MingW平台下的Windows UNIX环境。安装完成这个功能，并自动添加G95到Windows PATH变量。</p>
<p>可以从G95的稳定版这里得到：</p>
<p><img src="/images/loading.gif" data-original="../images/language/1RA61625-0.png" alt="installer setup"></p>
<p><img src="/images/loading.gif" data-original="../images/language/1RAC4I-1.png" alt="mini installer setup"></p>
<h2 id="如何使用G95"><a href="#如何使用G95" class="headerlink" title="如何使用G95"></a>如何使用G95</h2><p>在安装过程中，G95会自动添加到PATH变量中，如果选择“RECOMMENDED”选项。这意味着，可以简单地打开一个新的命令提示符窗口，输入“G95”，弹出的编译器。找到一些基本的命令，我们现在就开始吧。</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>g95 –c hello.f90</td>
<td>编译hello.f 90到目标文件命名为hello.o</td>
</tr>
<tr>
<td>g95 hello.f90</td>
<td>编译hello.f 90并链接到生成可执行的a.out 文件</td>
</tr>
<tr>
<td>g95 -c h1.f90 h2.f90 h3.f90</td>
<td>编译多个源文件。如果一切顺利的话，目标文件h1.o，h2.o和h3.o创建</td>
</tr>
<tr>
<td>g95 -o hello h1.f90 h2.f90 h3.f90</td>
<td>编译多个源文件并将它们链接在一起，命名为’hello’的可执行文件</td>
</tr>
</tbody></table>
<p><strong>G95的命令行选项：</strong></p>
<pre><code>-c Compile only, do not run the linker.
-o Specify the name of the output file, either an object file or the executable.</code></pre><p>多个源文件和目标文件可以一次指定。 Fortran文件由名称”.f”, “.F”, “.for”, “.FOR”, “.f90”, “.F90”, “.f95”, “.F95”, “.f03” and “.F03”.“。对于”结尾表示多个源文件可以被指定。目标文件可以被指定为良好，将被链接以形成一个可执行文件。</p>
<h1 id="Fortran基本语法"><a href="#Fortran基本语法" class="headerlink" title="Fortran基本语法"></a>Fortran基本语法</h1><p>Fortran程序是由程序单元，如一个主程序，模块和外部子程序或程序的集合。</p>
<p>每个程序包括一个主程序和可以或可以不包含其它程序单元。主程序的语法如下：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> program_name
<span class="token keyword">implicit none</span>      

<span class="token comment" spellcheck="true">! type declaration statements      </span>
<span class="token comment" spellcheck="true">! executable statements  </span>

<span class="token keyword">end program</span> program_name<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="一个简单的Fortran程序"><a href="#一个简单的Fortran程序" class="headerlink" title="一个简单的Fortran程序"></a>一个简单的Fortran程序</h2><p>让我们来写一个程序，相加了两个数字，并打印出结果：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> addNumbers

<span class="token comment" spellcheck="true">! This simple program adds two numbers     </span>
   <span class="token keyword">implicit none</span>

<span class="token comment" spellcheck="true">! Type declarations</span>
   <span class="token keyword">real</span> <span class="token operator">::</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token keyword">result</span> 

<span class="token comment" spellcheck="true">! Executable statements </span>
   a <span class="token operator">=</span> <span class="token number">12.0</span>
   b <span class="token operator">=</span> <span class="token number">15.0</span>
   <span class="token keyword">result</span> <span class="token operator">=</span> a <span class="token operator">+</span> b
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'The total is '</span><span class="token punctuation">,</span> <span class="token keyword">result</span>                   

<span class="token keyword">end program</span> addNumbers        <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，它会产生以下结果：</p>
<pre><code>The total is 27.0000000    </code></pre><p>请注意：</p>
<ul>
<li>​            所有Fortran程序start关键字程序和end关键字结束程序，然后是该程序的名称。</li>
<li>​            隐无语句允许编译器检查所有的变量类型是正确声明。必须始终使用无隐在每个程序的开始。</li>
<li>​            在Fortran语言注释开始使用感叹号（！），因为在这之后的所有字符（除字符串）被编译器忽略。</li>
<li>​            print*命令在屏幕上显示数据。</li>
<li>​            代码行缩进，是保持一个程序读取一个很好的做法。</li>
<li>​            Fortran语言允许大写和小写字母。 Fortran语言是区分大小写的，除了字符串常量。</li>
</ul>
<h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><p>Fortran语言的基本字符集包括：</p>
<ul>
<li>​        字符包括 A … Z 和 a … z</li>
<li>​        数字 0 … 9</li>
<li>​        下划线（_）字符</li>
<li>​        特殊字符 = : + 空格- * / ( ) [ ] , . $ ‘ ! “ % &amp; ; &lt; &gt; ?</li>
</ul>
<p>令牌Tokens基本字符集中的字符。令牌可以是一个关键字，标识符，常量，字符串文字或符号。</p>
<p>程序语句作出标记。</p>
<h2 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h2><p>一个标识符是用于标识一个变量，过程或任何其它用户定义的项目的名称。在Fortran语言中名称必须遵循以下规则：</p>
<ul>
<li>​            它不能超过31个字符长。</li>
<li>​            它必须由字母数字字符（字母的所有字母，以及数字0到9）和下划线（_）。</li>
<li>​            名称第一个字符必须是字母。</li>
<li>​            名称是区分大小写</li>
</ul>
<h2 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h2><p>关键字是特殊的词语，这些是语言预留的。这些保留字不能用作标识符或名称。</p>
<p>下表列出了Fortran关键字：</p>
<hr>
<table>
<thead>
<tr>
<th align="center">非I/O相关关键字</th>
<th align="center"></th>
<th align="center"></th>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center">allocatable</td>
<td align="center">allocate</td>
<td align="center">assign</td>
<td align="center">assignment</td>
<td align="center">block dat</td>
</tr>
<tr>
<td align="center">call</td>
<td align="center">case</td>
<td align="center">character</td>
<td align="center">common</td>
<td align="center">complex</td>
</tr>
<tr>
<td align="center">contains</td>
<td align="center">continue</td>
<td align="center">cycle</td>
<td align="center">data</td>
<td align="center">deallocate</td>
</tr>
<tr>
<td align="center">default</td>
<td align="center">do</td>
<td align="center">double precision</td>
<td align="center">else</td>
<td align="center">else if</td>
</tr>
<tr>
<td align="center">elsewhere</td>
<td align="center">end block data</td>
<td align="center">end do</td>
<td align="center">end function</td>
<td align="center">end if</td>
</tr>
<tr>
<td align="center">end interface</td>
<td align="center">end module</td>
<td align="center">end program</td>
<td align="center">end select</td>
<td align="center">end subroutine</td>
</tr>
<tr>
<td align="center">end type</td>
<td align="center">end where</td>
<td align="center">entry</td>
<td align="center">equivalence</td>
<td align="center">exit</td>
</tr>
<tr>
<td align="center">external</td>
<td align="center">function</td>
<td align="center">go to</td>
<td align="center">if</td>
<td align="center">implicit</td>
</tr>
<tr>
<td align="center">in</td>
<td align="center">inout</td>
<td align="center">integer</td>
<td align="center">intent</td>
<td align="center">interface</td>
</tr>
<tr>
<td align="center">intrinsic</td>
<td align="center">kind</td>
<td align="center">len</td>
<td align="center">logical</td>
<td align="center">module</td>
</tr>
<tr>
<td align="center">namelist</td>
<td align="center">nullify</td>
<td align="center">only</td>
<td align="center">operator</td>
<td align="center">optional</td>
</tr>
<tr>
<td align="center">out</td>
<td align="center">parameter</td>
<td align="center">pause</td>
<td align="center">pointer</td>
<td align="center">private</td>
</tr>
<tr>
<td align="center">program</td>
<td align="center">public</td>
<td align="center">real</td>
<td align="center">recursive</td>
<td align="center">result</td>
</tr>
<tr>
<td align="center">return</td>
<td align="center">save</td>
<td align="center">select case</td>
<td align="center">stop</td>
<td align="center">subroutine</td>
</tr>
<tr>
<td align="center">target</td>
<td align="center">then</td>
<td align="center">type</td>
<td align="center">type()</td>
<td align="center">use</td>
</tr>
<tr>
<td align="center">Where</td>
<td align="center">While</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><strong>I/O相关的关键字</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">backspace</td>
<td align="center">close</td>
<td align="center">endfile</td>
<td align="center">format</td>
<td align="center">inquire</td>
</tr>
<tr>
<td align="center">open</td>
<td align="center">print</td>
<td align="center">read</td>
<td align="center">rewind</td>
<td align="center">Write</td>
</tr>
</tbody></table>
<h1 id="Fortran数据类型"><a href="#Fortran数据类型" class="headerlink" title="Fortran数据类型"></a>Fortran数据类型</h1><p>Fortran语言提供了五种内在数据类型，但是，也可以得到自己的数据类型。这五个固有的类型有：</p>
<ul>
<li>​        整型</li>
<li>​        实型</li>
<li>​        复杂类型</li>
<li>​        逻辑类型</li>
<li>​        字符类型</li>
</ul>
<h2 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h2><p>整数类型只能容纳整数值。下面的示例中提取，可以在通常为4字节整数保存最大值：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> testingInt
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span> <span class="token operator">::</span> largeval
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> huge<span class="token punctuation">(</span>largeval<span class="token punctuation">)</span>

<span class="token keyword">end program</span> testingInt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序也将产生以下结果：</p>
<pre><code>2147483647</code></pre><p>需要注意的是huge()函数，可以通过特定的整数数据类型可以保持的最大数目。还可以指定使用的字节数。下面的例子说明了这一点：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> testingInt
<span class="token keyword">implicit none</span>

   <span class="token comment" spellcheck="true">!two byte integer</span>
   <span class="token keyword">integer</span><span class="token punctuation">(</span><span class="token keyword">kind</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">::</span> shortval

   <span class="token comment" spellcheck="true">!four byte integer</span>
   <span class="token keyword">integer</span><span class="token punctuation">(</span><span class="token keyword">kind</span><span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">::</span> longval

   <span class="token comment" spellcheck="true">!eight byte integer</span>
   <span class="token keyword">integer</span><span class="token punctuation">(</span><span class="token keyword">kind</span><span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">::</span> verylongval

   <span class="token comment" spellcheck="true">!sixteen byte integer</span>
   <span class="token keyword">integer</span><span class="token punctuation">(</span><span class="token keyword">kind</span><span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">::</span> veryverylongval

   <span class="token comment" spellcheck="true">!default integer </span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> defval

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> huge<span class="token punctuation">(</span>shortval<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> huge<span class="token punctuation">(</span>longval<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> huge<span class="token punctuation">(</span>verylongval<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> huge<span class="token punctuation">(</span>veryverylongval<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> huge<span class="token punctuation">(</span>defval<span class="token punctuation">)</span>

<span class="token keyword">end program</span> testingInt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，它会产生以下结果：</p>
<pre><code>32767
2147483647
9223372036854775807
170141183460469231731687303715884105727
2147483647</code></pre><h2 id="实型"><a href="#实型" class="headerlink" title="实型"></a>实型</h2><p>它存储的浮点数，例如2.0，3.1415，-100.876等</p>
<p>传统上有两种不同的实际类型，默认实型和双精度型。</p>
<p>然而，Fortran语言90/95提供了更多的控制权实数和整数数据类型，通过种类说明，我们将在对数的章节研究精度。</p>
<p>下面的例子展示了如何使用实数类型：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> division   
<span class="token keyword">implicit none</span>  

   <span class="token comment" spellcheck="true">! Define real variables   </span>
   <span class="token keyword">real</span> <span class="token operator">::</span> p<span class="token punctuation">,</span> q<span class="token punctuation">,</span> realRes 

   <span class="token comment" spellcheck="true">! Define integer variables  </span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> intRes  

   <span class="token comment" spellcheck="true">! Assigning  values   </span>
   p <span class="token operator">=</span> <span class="token number">2.0</span> 
   q <span class="token operator">=</span> <span class="token number">3.0</span>    
   i <span class="token operator">=</span> <span class="token number">2</span> 
   j <span class="token operator">=</span> <span class="token number">3</span>  

   <span class="token comment" spellcheck="true">! floating point division</span>
   realRes <span class="token operator">=</span> p<span class="token operator">/</span>q  
   intRes <span class="token operator">=</span> i<span class="token operator">/</span>j

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> realRes
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> intRes

<span class="token keyword">end program</span> division  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序也将产生以下结果：</p>
<pre><code>0.666666687    
0</code></pre><h2 id="复杂类型"><a href="#复杂类型" class="headerlink" title="复杂类型"></a>复杂类型</h2><p>这被用于存储复数。一个复杂的数字有两部分，实数部分和虚数部分。两个连续的数字存储单元存储两个部分。</p>
<p>例如，该复数（3.0，-5.0）等于3.0 - 5.0i</p>
<p>我们将更详细地讨论复杂类型，在数字章节。</p>
<h2 id="逻辑类型"><a href="#逻辑类型" class="headerlink" title="逻辑类型"></a>逻辑类型</h2><p>只有两个逻辑值：.true. 和.false</p>
<h2 id="字符类型"><a href="#字符类型" class="headerlink" title="字符类型"></a>字符类型</h2><p>字符类型存储字符和字符串。字符串的长度可以通过len个符来指定。如果没有指定长度，它是1。</p>
<p>例如，</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">character</span> <span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token operator">::</span> name  
name <span class="token operator">=</span> “Zara Ali”<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>表达式name(1:4)将得到的子串“Zara”。</p>
<h2 id="隐式类型"><a href="#隐式类型" class="headerlink" title="隐式类型"></a>隐式类型</h2><p>Fortran语言的旧版本允许一个叫做隐式类型，也就是说，不必在使用前声明变量的功能。如果一个变量没有声明，则其名称为第一个字母，将确定其类型。</p>
<p>其中i的变量名以 i, j, k, l, m, 或 n 开始，被认为是为整数变量，其余都是实型变量。但是，必须声明所有的变量，因为它是良好的编程习惯。开始程序如下：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">implicit none</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这条语句将关闭隐式类型。</p>
<h1 id="Fortran变量"><a href="#Fortran变量" class="headerlink" title="Fortran变量"></a>Fortran变量</h1><p>变量是只不过给定到存储区域，我们的程序可以操作的名称。每个变量都应该具有特定的类型，它决定了大小和变量的存储器的布局; 存储器内存储的值的范围; 和设置操作，可以变化应用。</p>
<p>一个变量名可以由字母，数字和下划线字符。在Fortran语言的名称必须遵循以下规则：</p>
<ul>
<li>​            它不能超过31个字符长度。</li>
<li>​            它必须由字母数字字符(字母的所有字母，以及数字0到9)和下划线(_)。</li>
<li>​            名称第一个字符必须是字母。</li>
<li>​            名称是区分大小写的。</li>
</ul>
<p>基于基本类型前一章介绍，以下是该变量的类型：</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>整型</td>
<td>它只能容纳整数值</td>
</tr>
<tr>
<td>实型</td>
<td>它存储浮点数</td>
</tr>
<tr>
<td>复数</td>
<td>它被用于存储复数.</td>
</tr>
<tr>
<td>逻辑</td>
<td>它存储逻辑布尔值</td>
</tr>
<tr>
<td>字符</td>
<td>它存储的字符或字符串。</td>
</tr>
</tbody></table>
<h2 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h2><p>变量是在一个程序(或子程序)的类型声明语句的开头声明。</p>
<p>变量声明语法如下：</p>
<pre><code>type-specifier :: variable_name</code></pre><p>例如，</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">integer</span> <span class="token operator">::</span> total      
<span class="token keyword">real</span> <span class="token operator">::</span> average 
<span class="token keyword">complex</span> <span class="token operator">::</span> cx  
<span class="token keyword">logical</span> <span class="token operator">::</span> done 
<span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span> <span class="token operator">::</span> message <span class="token comment" spellcheck="true">! a string of 80 characters</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>稍后，可以将值分配给这些变量一样，</p>
<pre class="line-numbers language-fortran"><code class="language-fortran">total <span class="token operator">=</span> <span class="token number">20000</span>  
average <span class="token operator">=</span> <span class="token number">1666.67</span>   
done <span class="token operator">=</span> <span class="token boolean">.true.</span>   
message <span class="token operator">=</span> “A big Hello from Tutorials Point” 
cx <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3.0</span><span class="token punctuation">,</span> <span class="token number">5.0</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">! cx = 3.0 + 5.0i</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>也可以使用内部函数cmplx，把值赋给一个复杂的变量：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran">cx <span class="token operator">=</span> cmplx <span class="token punctuation">(</span><span class="token number">1.0</span><span class="token operator">/</span><span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token number">-7.0</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">! cx = 0.5 – 7.0i </span>
cx <span class="token operator">=</span> cmplx <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">! cx = x + yi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>例子</p>
<p>下面的例子演示了变量声明，赋值显示在屏幕上：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> variableTesting
<span class="token keyword">implicit none</span>

   <span class="token comment" spellcheck="true">! declaring variables</span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> total      
   <span class="token keyword">real</span> <span class="token operator">::</span> average 
   <span class="token keyword">complex</span> <span class="token operator">::</span> cx  
   <span class="token keyword">logical</span> <span class="token operator">::</span> done 
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span> <span class="token operator">::</span> message <span class="token comment" spellcheck="true">! a string of 80 characters</span>

   <span class="token comment" spellcheck="true">!assigning values</span>
   total <span class="token operator">=</span> <span class="token number">20000</span>  
   average <span class="token operator">=</span> <span class="token number">1666.67</span>   
   done <span class="token operator">=</span> <span class="token boolean">.true.</span>   
   message <span class="token operator">=</span> <span class="token string">"A big Hello from Tutorials Yiibai"</span> 
   cx <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3.0</span><span class="token punctuation">,</span> <span class="token number">5.0</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">! cx = 3.0 + 5.0i</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> total
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> average
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> cx
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> done
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> message

<span class="token keyword">end program</span> variableTesting<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>让我们编译和运行上面的程序，这将产生以下结果：</p>
<pre><code>20000
1666.67004    
(3.00000000, 5.00000000 )
T
A big Hello from Tutorials Yiibai    </code></pre><h1 id="Fortran常量"><a href="#Fortran常量" class="headerlink" title="Fortran常量"></a>Fortran常量</h1><p>常量指的是该程序不能在其执行期间改变的固定值。这些固定的值也被称为文字。</p>
<p>常量可以是任何像一个整数的基本数据类型的常量，浮点常量，字符常量，复杂的常量或一个字符串字面量。只有两个逻辑常量：.true. 和 .false.</p>
<p>常量被视为就像普通的变量，但它们的值无法定义后进行修改。</p>
<h2 id="命名常量和文字"><a href="#命名常量和文字" class="headerlink" title="命名常量和文字"></a>命名常量和文字</h2><p>有两种类型的常量：</p>
<ul>
<li>​        字面常量</li>
<li>​        命名常量</li>
</ul>
<p>一个字面常量有值，但没有名字。</p>
<p>例如，以下是文字常量：</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>例子</th>
</tr>
</thead>
<tbody><tr>
<td>整型常量</td>
<td>0 1 -1 300 123456789</td>
</tr>
<tr>
<td>实型常量</td>
<td>0.0 1.0 -1.0 123.456 7.1E+10 -52.715E-30</td>
</tr>
<tr>
<td>复数常量</td>
<td>(0.0, 0.0) (-123.456E+30, 987.654E-29)</td>
</tr>
<tr>
<td>逻辑常量</td>
<td>.true. .false.</td>
</tr>
<tr>
<td>字符常量</td>
<td>“PQR” “a” “123’abc$%#@!”         “ a quote “” “     ‘PQR’ ‘a’ ‘123”abc$%#@!’     ‘ an apostrophe ‘’ ‘</td>
</tr>
</tbody></table>
<p>命名常量的值和名称。</p>
<p>命名常量应该在程序或过程的开始声明，就像一个变量的类型声明，说明其名称和类型。命名常量与参数属性声明。例如，</p>
<pre><code>real, parameter :: pi = 3.1415927</code></pre><p>例子</p>
<p>下面的程序计算的位移，由于重力作用下垂直运动。</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> gravitationalDisp

<span class="token comment" spellcheck="true">! this program calculates vertical motion under gravity </span>
<span class="token keyword">implicit none</span>  

   <span class="token comment" spellcheck="true">! gravitational acceleration</span>
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">parameter</span> <span class="token operator">::</span> g <span class="token operator">=</span> <span class="token number">9.81</span>   

   <span class="token comment" spellcheck="true">! variable declaration</span>
   <span class="token keyword">real</span> <span class="token operator">::</span> s <span class="token comment" spellcheck="true">! displacement   </span>
   <span class="token keyword">real</span> <span class="token operator">::</span> t <span class="token comment" spellcheck="true">! time  </span>
   <span class="token keyword">real</span> <span class="token operator">::</span> u <span class="token comment" spellcheck="true">! initial speed  </span>

   <span class="token comment" spellcheck="true">! assigning values </span>
   t <span class="token operator">=</span> <span class="token number">5.0</span>   
   u <span class="token operator">=</span> <span class="token number">50</span>  

   <span class="token comment" spellcheck="true">! displacement   </span>
   s <span class="token operator">=</span> u <span class="token operator">*</span> t <span class="token operator">-</span> g <span class="token operator">*</span> <span class="token punctuation">(</span>t<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>  

   <span class="token comment" spellcheck="true">! output </span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Time = "</span><span class="token punctuation">,</span> t
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Displacement = '</span><span class="token punctuation">,</span>s  

<span class="token keyword">end program</span> gravitationalDisp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>Time = 5.00000000    
Displacement = 127.374992    </code></pre><h1 id="Fortran运算符"><a href="#Fortran运算符" class="headerlink" title="Fortran运算符"></a>Fortran运算符</h1><p>运算符是一个符号，它告诉编译器执行特定的数学或逻辑操作。 Fortran语言为运算符提供了以下几种类型：</p>
<ul>
<li>​        算术运算符</li>
<li>​        关系运算符</li>
<li>​        逻辑运算符</li>
</ul>
<p>让我们一个接一个来看看所有这些类型的运算符。</p>
<h2 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h2><p>下表列出了所有Fortran语言支持的算术运算符。假设变量A=5和变量B=3则：</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>例子</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>加法运算符，相加两个操作数。</td>
<td>A + B = 8</td>
</tr>
<tr>
<td>-</td>
<td>减法运算，第一减去第二操作数。</td>
<td>A - B = 2</td>
</tr>
<tr>
<td>*</td>
<td>乘法运算符，相乘两个操作数。</td>
<td>A * B = 15</td>
</tr>
<tr>
<td>/</td>
<td>除法运算符，通过分子除以分母。</td>
<td>A / B = 1</td>
</tr>
<tr>
<td>**</td>
<td>乘方运算，计算一个操作数的幂。</td>
<td>A ** B = 125</td>
</tr>
</tbody></table>
<h2 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h2><p>下表列出了所有Fortran语言支持的关系运算符。假设变量A=10和变量B=20，则：</p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>等量</th>
<th>描述</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>==</td>
<td>.eq.</td>
<td>检查两个操作数的值相等与否，如果是，则条件变为真。</td>
<td>(A == B) 不为 true.</td>
</tr>
<tr>
<td>/=</td>
<td>.ne.</td>
<td>检查，两个操作数的值相等与否，如果值不相等，则条件变为真。</td>
<td>(A != B) 为 true.</td>
</tr>
<tr>
<td>&gt;</td>
<td>.gt.</td>
<td>检查，左操作数的值是否大于右操作数的值，如果是的话那么条件为真。</td>
<td>(A &gt; B) 不为true.</td>
</tr>
<tr>
<td>&lt;</td>
<td>.lt.</td>
<td>检查，左操作数的值是否小于右操作数的值，如果是的话那么条件为真。</td>
<td>(A &lt; B) 为 true.</td>
</tr>
<tr>
<td>&gt;=</td>
<td>.ge.</td>
<td>检查，左边的操作数的值是否大于或等于右操作数的值，如果是，则条件变为真。</td>
<td>(A &gt;= B) 不为 true.</td>
</tr>
<tr>
<td>&lt;=</td>
<td>.le.</td>
<td>检查，左边的操作数的值是否小于或等于右操作数的值，如果是，则条件变为真。</td>
<td>(A &lt;= B) 为 true.</td>
</tr>
</tbody></table>
<h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><p>逻辑运算符在Fortran语言工作只能在逻辑值.true. 和.false。</p>
<p>下面的表列出了所有由Fortran语言支持的逻辑运算符。假设变量A=.true。和变量B=.false ，则：</p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>描述</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>.and.</td>
<td>所谓逻辑与运算符。如果这两个操作数都为非零，则条件变为真。</td>
<td>(A .and. B) 为 false.</td>
</tr>
<tr>
<td>.or.</td>
<td>所谓逻辑OR运算符。如果有两个操作数不为零，则条件变为真。</td>
<td>(A .or. B) 为 true.</td>
</tr>
<tr>
<td>.not.</td>
<td>所谓逻辑非运算符。使用反转操作数的逻辑状态。如果条件为真，则逻辑非运算符将返回false。</td>
<td>!(A .and. B) 为 true.</td>
</tr>
<tr>
<td>.eqv.</td>
<td>所谓逻辑上相当于运算符。用于检查两个逻辑值等价。</td>
<td>(A .eqv. B) 为 false.</td>
</tr>
<tr>
<td>.neqv.</td>
<td>所谓逻辑非对等操作。用于检查两个逻辑值的非对等。</td>
<td>(A .neqv. B) 为 true.</td>
</tr>
</tbody></table>
<h2 id="Fortran语言运算符优先级"><a href="#Fortran语言运算符优先级" class="headerlink" title="Fortran语言运算符优先级"></a>Fortran语言运算符优先级</h2><p>运算符优先级来确定条件的表达式中的分组。这会影响一个表达式的求值。某些运算符的优先级高于其他;例如，乘法运算符的优先级比加法运算符更高。</p>
<p>例如x= 7+ 3* 2;这里，x被赋值13，而不是20，因为运算符*的优先级高于+，所以它首先被乘以3 * 2，然后再加上7。</p>
<p>这里，具有最高优先级运算符出现在表的顶部，那些具有最低出现在底部。在一个表达式，更高的优先级运算符将首先计算。</p>
<table>
<thead>
<tr>
<th>分类</th>
<th>运算符</th>
<th>关联</th>
</tr>
</thead>
<tbody><tr>
<td>逻辑NOT和负号</td>
<td>.not. (-)</td>
<td>从左到右</td>
</tr>
<tr>
<td>幂</td>
<td>**</td>
<td>从左到右</td>
</tr>
<tr>
<td>乘</td>
<td>* /</td>
<td>从左到右</td>
</tr>
<tr>
<td>加</td>
<td>+ -</td>
<td>从左到右</td>
</tr>
<tr>
<td>关系</td>
<td>&lt; &lt;= &gt; &gt;=</td>
<td>从左到右</td>
</tr>
<tr>
<td>相等</td>
<td>== !=</td>
<td>从左到右</td>
</tr>
<tr>
<td>逻辑与</td>
<td>.and.</td>
<td>从左到右</td>
</tr>
<tr>
<td>逻辑或</td>
<td>.or.</td>
<td>从左到右</td>
</tr>
<tr>
<td>赋值</td>
<td>=</td>
<td>从右到左</td>
</tr>
</tbody></table>
<h1 id="Fortran选择决策"><a href="#Fortran选择决策" class="headerlink" title="Fortran选择决策"></a>Fortran选择决策</h1><p>决策结构需要程序员指定的一个或多个条件进行评估计算或由程序进行测试，如果该条件被确定为真，则一条或多条语句将被执行，如果要被执行的其它语句条件被确定为假的则选择其它语句块。</p>
<p>以下是在大多数编程语言中的一个典型的决策结构的一般形式：</p>
<p><img src="/images/loading.gif" data-original="../images/language/0Z5234243-0.jpg" alt="Decision Making"></p>
<p>Fortran提供决策构建以下类型。</p>
<table>
<thead>
<tr>
<th>语句</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>If… then 结构</td>
<td><strong>if… then… end if</strong> 语句由一个逻辑表达式后跟一个或多个语句。</td>
</tr>
<tr>
<td>If… then…else 结构</td>
<td><strong>if… then</strong>语句可以后跟一个可选的 <strong>else statement,</strong> 它执行时，逻辑表达式为假。</td>
</tr>
<tr>
<td>if…else if…else 结构</td>
<td><strong>if</strong> 语句构建体可具有一个或多个可选的 <strong>else-if</strong> 结构。当 <strong>if</strong> 条件不满足，则紧跟 <strong>else-if</strong> 执行。当 <strong>else-if</strong> 还失败，其继续 <strong>else-if</strong> 语句（如果有的话）被执行，依此类推。</td>
</tr>
<tr>
<td>内嵌 if 结构</td>
<td>可以使用一个 <strong>if</strong> 或 <strong>else if</strong> 语句在另外一个 <strong>if</strong> 或 <strong>else if</strong> 语句内部</td>
</tr>
<tr>
<td>select case 语句</td>
<td>Select Case语句允许一个变量的值对的列表，平等进行测试。</td>
</tr>
<tr>
<td>内嵌select case 结构</td>
<td>可以使用一个SELECT CASE语句中的另一个选择case语句。</td>
</tr>
</tbody></table>
<h1 id="Fortran-if…then语句结构"><a href="#Fortran-if…then语句结构" class="headerlink" title="Fortran if…then语句结构"></a>Fortran if…then语句结构</h1><p><strong>if … then</strong> 语句由一个逻辑表达式后跟一个或多个语句和终止 <strong>end if</strong> 语句。</p>
<p>语法</p>
<p>if… then 语句的基本语法：</p>
<pre><code>if (logical expression) then      
   statement  
end if</code></pre><p>但是可以给一个名称，if 块，那么语法命名 if 语句如下：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran">[name<span class="token punctuation">:</span>] <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">logical</span> expression<span class="token punctuation">)</span> <span class="token keyword">then</span>      
   <span class="token comment" spellcheck="true">! various statements           </span>
   . . .  
<span class="token keyword">end if</span> [name]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>如果逻辑表达式的计算结果为true，那么块代码内的 if … then 语句会被执行。如果在结束后的逻辑表达式计算为false，那么第一个代码块之后的 if 语句会被执行。</p>
<p>流程图：</p>
<p><img src="/images/loading.gif" data-original="../images/language/09363411H-0.jpg" alt=""></p>
<p><strong>示例 1</strong></p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> ifProg
<span class="token keyword">implicit none</span>
   <span class="token comment" spellcheck="true">! local variable declaration</span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> a <span class="token operator">=</span> <span class="token number">10</span>

   <span class="token comment" spellcheck="true">! check the logical condition using if statement</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span> <span class="token number">20</span> <span class="token punctuation">)</span> <span class="token keyword">then</span>

   <span class="token comment" spellcheck="true">!if condition is true then print the following </span>
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"a is less than 20"</span>
   <span class="token keyword">end if</span>

   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"value of a is "</span><span class="token punctuation">,</span> a
 <span class="token keyword">end program</span> ifProg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>a is less than 20
value of a is 10</code></pre><p><strong>示例 2</strong></p>
<p>这个例子说明了命名的 if 块：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> markGradeA  
<span class="token keyword">implicit none</span>  
   <span class="token keyword">real</span> <span class="token operator">::</span> marks
   <span class="token comment" spellcheck="true">! assign marks   </span>
   marks <span class="token operator">=</span> <span class="token number">90.4</span>
   <span class="token comment" spellcheck="true">! use an if statement to give grade</span>

   gr<span class="token punctuation">:</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>marks <span class="token operator">></span> <span class="token number">90.0</span><span class="token punctuation">)</span> <span class="token keyword">then</span>  
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">" Grade A"</span>
   <span class="token keyword">end if</span> gr
<span class="token keyword">end program</span> markGradeA   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>Grade A</code></pre><h1 id="Fortran-if…then…else-结构"><a href="#Fortran-if…then…else-结构" class="headerlink" title="Fortran if…then…else 结构"></a>Fortran if…then…else 结构</h1><p><strong>if… then</strong> 语句可以后跟一个可选的 <strong>else</strong> 语句, 它执行时，逻辑表达式为假。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p><strong>if… then… else</strong> 的基本语法：</p>
<pre><code>if (logical expression) then      
   statement(s)  
else
   other_statement(s)
end if</code></pre><p>但是，如果给定 <strong>if</strong> 块一个名字，然后命名 <strong>if-else</strong> 语句的语法是，这样的：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran">[name<span class="token punctuation">:</span>] <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">logical</span> expression<span class="token punctuation">)</span> <span class="token keyword">then</span>      
   <span class="token comment" spellcheck="true">! various statements           </span>
   . . . 
   <span class="token keyword">else</span>
   <span class="token comment" spellcheck="true">!other statement(s)</span>
   . . . 
<span class="token keyword">end if</span> [name]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>如果逻辑表达式的计算结果为代码里面的 if … then 语句会被执行，对 else 块中的代码，否则该块将被执行 else 块。</p>
<p>流程图</p>
<p><img src="/images/loading.gif" data-original="../images/language/09523KA0-0.jpg" alt=""></p>
<p>示例</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> ifElseProg
<span class="token keyword">implicit none</span>
   <span class="token comment" spellcheck="true">! local variable declaration</span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> a <span class="token operator">=</span> <span class="token number">100</span>

   <span class="token comment" spellcheck="true">! check the logical condition using if statement</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span> <span class="token number">20</span> <span class="token punctuation">)</span> <span class="token keyword">then</span>

   <span class="token comment" spellcheck="true">! if condition is true then print the following </span>
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"a is less than 20"</span>
   <span class="token keyword">else</span>
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"a is not less than 20"</span>
   <span class="token keyword">end if</span>

   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"value of a is "</span><span class="token punctuation">,</span> a

<span class="token keyword">end program</span> ifElseProg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>a is not less than 20
value of a is 100</code></pre><h1 id="Fortran-if…else-if…else-语句"><a href="#Fortran-if…else-if…else-语句" class="headerlink" title="Fortran  if…else if…else 语句"></a>Fortran  if…else if…else 语句</h1><h2 id="Fortran-if…else-if…else-语句-1"><a href="#Fortran-if…else-if…else-语句-1" class="headerlink" title="Fortran  if…else if…else 语句"></a>Fortran  if…else if…else 语句</h2><p>if语句构建体可具有一个或多个可选的 <strong>else-if</strong> 结构。当 if 条件不满足，则紧跟的 <strong>else-if</strong> 被执行。当 <strong>else-if</strong> 还是失败，其继续下一个 <strong>else-if</strong> 语句(如果有的话)被执行，依此类推。</p>
<p>可选的 else 被放置在末端，当上述条件不为真时则执行。</p>
<ul>
<li>​        所有 else 语句 (else-if 和 else)都是可选的。</li>
<li>​        else-if 可以使用一次或多次</li>
<li>​        else 必须始终被放置在构建体的末端，应该只出现一次。</li>
</ul>
<h3 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h3><p><strong>if…else if…else</strong> 语句的语法是：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran">[name<span class="token punctuation">:</span>] 
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">logical</span> expression <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">then</span> 
   <span class="token comment" spellcheck="true">! block 1   </span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">logical</span> expression <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">then</span>       
   <span class="token comment" spellcheck="true">! block 2   </span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">logical</span> expression <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">then</span>       
   <span class="token comment" spellcheck="true">! block 3  </span>
<span class="token keyword">else</span>       
   <span class="token comment" spellcheck="true">! block 4   </span>
<span class="token keyword">end if</span> [name]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>示例</strong></p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> ifElseIfElseProg
<span class="token keyword">implicit none</span>

   <span class="token comment" spellcheck="true">! local variable declaration</span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> a <span class="token operator">=</span> <span class="token number">100</span>

   <span class="token comment" spellcheck="true">! check the logical condition using if statement</span>
   <span class="token keyword">if</span><span class="token punctuation">(</span> a <span class="token operator">==</span> <span class="token number">10</span> <span class="token punctuation">)</span> <span class="token keyword">then</span>

      <span class="token comment" spellcheck="true">! if condition is true then print the following </span>
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Value of a is 10"</span> 

   <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span> a <span class="token operator">==</span> <span class="token number">20</span> <span class="token punctuation">)</span> <span class="token keyword">then</span>

      <span class="token comment" spellcheck="true">! if else if condition is true </span>
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Value of a is 20"</span> 

   <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span> a <span class="token operator">==</span> <span class="token number">30</span> <span class="token punctuation">)</span> <span class="token keyword">then</span>

      <span class="token comment" spellcheck="true">! if else if condition is true  </span>
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Value of a is 30"</span> 

   <span class="token keyword">else</span>

      <span class="token comment" spellcheck="true">! if none of the conditions is true </span>
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"None of the values is matching"</span> 

   <span class="token keyword">end if</span>

   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"exact value of a is "</span><span class="token punctuation">,</span> a

<span class="token keyword">end program</span> ifElseIfElseProg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>None of the values is matching
exact value of a is 100</code></pre><h1 id="Fortran嵌套if结构"><a href="#Fortran嵌套if结构" class="headerlink" title="Fortran嵌套if结构"></a>Fortran嵌套if结构</h1><p>可以使用一个 if 或else if 在另一个if或else if语句中。</p>
<h3 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h3><p>嵌套if语句的语法如下：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">if</span> <span class="token punctuation">(</span> logical_expression <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">then</span>
   <span class="token comment" spellcheck="true">!Executes when the boolean expression 1 is true </span>
   …
   <span class="token keyword">if</span><span class="token punctuation">(</span>logical_expression <span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">then</span> 
   <span class="token comment" spellcheck="true">! Executes when the boolean expression 2 is true </span>
   …
   <span class="token keyword">end if</span>
<span class="token keyword">end if</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>例子</strong></p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> nestedIfProg
<span class="token keyword">implicit none</span>
   <span class="token comment" spellcheck="true">! local variable declaration</span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> b<span class="token operator">=</span> <span class="token number">200</span>

   <span class="token comment" spellcheck="true">! check the logical condition using if statement</span>
   <span class="token keyword">if</span><span class="token punctuation">(</span> a <span class="token operator">==</span> <span class="token number">100</span> <span class="token punctuation">)</span> <span class="token keyword">then</span>

   <span class="token comment" spellcheck="true">! if condition is true then check the following </span>

   <span class="token keyword">if</span><span class="token punctuation">(</span> b <span class="token operator">==</span> <span class="token number">200</span> <span class="token punctuation">)</span> <span class="token keyword">then</span>

   <span class="token comment" spellcheck="true">! if inner if condition is true </span>
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Value of a is 100 and b is 200"</span> 

   <span class="token keyword">end if</span>
   <span class="token keyword">end if</span>

   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"exact value of a is "</span><span class="token punctuation">,</span> a
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"exact value of b is "</span><span class="token punctuation">,</span> b

<span class="token keyword">end program</span> nestedIfProg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>Value of a is 100 and b is 200
exact value of a is 100
exact value of b is 200</code></pre><h1 id="Fortran-select-case结构"><a href="#Fortran-select-case结构" class="headerlink" title="Fortran select case结构"></a>Fortran select case结构</h1><p>select case 语句允许一个变量，列表进行相等测试。每个值被称为一个情况，在该变量上检查每个选择的情况 select case 。</p>
<h3 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h3><p>select case结构的语法如下：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran">[name<span class="token punctuation">:</span>] <span class="token keyword">select</span> <span class="token keyword">case</span> <span class="token punctuation">(</span>expression<span class="token punctuation">)</span> 
   <span class="token keyword">case</span> <span class="token punctuation">(</span>selector1<span class="token punctuation">)</span>          
   <span class="token comment" spellcheck="true">! some statements          </span>
   ... <span class="token keyword">case</span> <span class="token punctuation">(</span>selector2<span class="token punctuation">)</span>           
   <span class="token comment" spellcheck="true">! other statements           </span>
   ...       
   <span class="token keyword">case</span> <span class="token keyword">default</span>          
   <span class="token comment" spellcheck="true">! more statements          </span>
   ...   
<span class="token keyword">end select</span> [name]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以下规则适用于select语句：</p>
<ul>
<li>​            在select 语句中使用的逻辑表达式可以是逻辑型，字符型或整型（但不是实型）的表达式。</li>
<li>​            可以有任意数量的范围内选择一个case语句。每一种情况下后跟的值进行比较，以及可能是合乎逻辑的，字符或整数（但不是真正的）的表达，并确定哪个语句被执行。</li>
<li>​            恒定表达的情况下，必须具有相同的数据类型，如在选择的变量，并且它必须是一个常量或文字。</li>
<li>​            当被选择的变量等于以下这种情况的某一情况，该语句将执行，如果没有匹配，那直到下一个case语句为止。</li>
<li>​            如果在选择的情况下（表达式）表达式不匹配任何的选择了，那么 default 块被执行。</li>
</ul>
<p>流程图</p>
<p><img src="/images/loading.gif" data-original="../images/language/11010H545-0.jpg" alt=""></p>
<p>示例 1</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> selectCaseProg
<span class="token keyword">implicit none</span>

   <span class="token comment" spellcheck="true">! local variable declaration</span>
   <span class="token keyword">character</span> <span class="token operator">::</span> grade <span class="token operator">=</span> <span class="token string">'B'</span>

   <span class="token keyword">select</span> <span class="token keyword">case</span> <span class="token punctuation">(</span>grade<span class="token punctuation">)</span>

      <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span> 
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Excellent!"</span> 

      <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span>

      <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span> 
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Well done"</span> 

      <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token string">'D'</span><span class="token punctuation">)</span>
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"You passed"</span> 

      <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token string">'F'</span><span class="token punctuation">)</span>
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Better try again"</span> 

      <span class="token keyword">case</span> <span class="token keyword">default</span>
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Invalid grade"</span> 

   <span class="token keyword">end select</span>

   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Your grade is "</span><span class="token punctuation">,</span> grade 

<span class="token keyword">end program</span> selectCaseProg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>Your grade is B</code></pre><h3 id="指定一个范围的选择"><a href="#指定一个范围的选择" class="headerlink" title="指定一个范围的选择"></a>指定一个范围的选择</h3><p>可以选择指定一个范围，通过指定上限和下限由冒号分隔：</p>
<pre><code>case (low:high) </code></pre><p>下面的例子说明了这一点：</p>
<p>示例 2</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> selectCaseProg
<span class="token keyword">implicit none</span>

   <span class="token comment" spellcheck="true">! local variable declaration</span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> marks <span class="token operator">=</span> <span class="token number">78</span>

   <span class="token keyword">select</span> <span class="token keyword">case</span> <span class="token punctuation">(</span>marks<span class="token punctuation">)</span>

      <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token number">91</span><span class="token punctuation">:</span><span class="token number">100</span><span class="token punctuation">)</span> 
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Excellent!"</span> 

      <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token number">81</span><span class="token punctuation">:</span><span class="token number">90</span><span class="token punctuation">)</span>
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Very good!"</span>

      <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token number">71</span><span class="token punctuation">:</span><span class="token number">80</span><span class="token punctuation">)</span> 
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Well done!"</span> 

      <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token number">61</span><span class="token punctuation">:</span><span class="token number">70</span><span class="token punctuation">)</span>
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Not bad!"</span> 

      <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token number">41</span><span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">)</span>
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"You passed!"</span>  

      <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token number">40</span><span class="token punctuation">)</span>
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Better try again!"</span>  

      <span class="token keyword">case</span> <span class="token keyword">default</span>
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Invalid marks"</span> 

   <span class="token keyword">end select</span>
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Your marks is "</span><span class="token punctuation">,</span> marks

<span class="token keyword">end program</span> selectCaseProg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>Well done!
Your marks is 78</code></pre><h1 id="Fortran嵌套select-case结构"><a href="#Fortran嵌套select-case结构" class="headerlink" title="Fortran嵌套select case结构"></a>Fortran嵌套select case结构</h1><p>可以在一个select case语句内嵌另一个选择case语句。</p>
<h3 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h3><pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">select</span> <span class="token keyword">case</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> 

   <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> 
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"This is part of outer switch"</span><span class="token punctuation">,</span> a 

   <span class="token keyword">select</span> <span class="token keyword">case</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> 
      <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"This is part of inner switch"</span><span class="token punctuation">,</span> a 

   <span class="token keyword">end select</span>

<span class="token keyword">end select</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    例子</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> nestedSelectCase
   <span class="token comment" spellcheck="true">! local variable definition </span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> a <span class="token operator">=</span> <span class="token number">100</span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> b <span class="token operator">=</span> <span class="token number">200</span>

   <span class="token keyword">select</span> <span class="token keyword">case</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> 
      <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> 
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"This is part of outer switch"</span><span class="token punctuation">,</span> a 

      <span class="token keyword">select</span> <span class="token keyword">case</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> 
         <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"This is part of inner switch"</span><span class="token punctuation">,</span> a 
      <span class="token keyword">end select</span>

   <span class="token keyword">end select</span>

   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Exact value of a is : "</span><span class="token punctuation">,</span> a 
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Exact value of b is : "</span><span class="token punctuation">,</span> b 

<span class="token keyword">end program</span> nestedSelectCase<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>This is part of outer switch 100
This is part of inner switch 100
Exact value of a is : 100
Exact value of b is : 200</code></pre><h1 id="Fortran循环"><a href="#Fortran循环" class="headerlink" title="Fortran循环"></a>Fortran循环</h1><p>可能有一种情况，当需要执行代码块多数。在一般情况下，语句顺序执行：在一个函数的第一条语句，首先执行，然后是第二个。。。等等。</p>
<p>编程语言提供了多种控制结构，使更复杂的执行路径。</p>
<p>循环语句允许我们执行语句的语句多次或组，然后下面是在大多数的编程语言中的循环语句的一般形式为：</p>
<p><img src="/images/loading.gif" data-original="../images/language/1506396496-0.jpg" alt="If Conditional"></p>
<p>Fortran语言提供了循环结构的以下类型的循环处理的要求。点击以下链接，查看其详细信息。</p>
<table>
<thead>
<tr>
<th>循环类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>do循环</td>
<td>该构建体使得语句或一系列语句迭代进行，当一个给定的条件为真。</td>
</tr>
<tr>
<td>do while循环</td>
<td>重复声明语句或一组，当给定的条件为真。它测试的条件执行循环体之前。</td>
</tr>
<tr>
<td>内嵌循环</td>
<td>可以使用一个或多个循环结构在其他循环结构里面。</td>
</tr>
</tbody></table>
<h2 id="循环控制语句"><a href="#循环控制语句" class="headerlink" title="循环控制语句"></a>循环控制语句</h2><p>循环控制语句改变其正常的顺序执行。当执行离开循环范围，在该范围内创建的所有对象自动销毁。</p>
<p>Fortran语言支持以下控制语句。点击以下链接，查看其详细信息。</p>
<table>
<thead>
<tr>
<th>控制语句</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>exit</td>
<td>如果被执行exit语句则会退出该循环，并且该程序的继续执行第一个可执行语句结束之后的语句执行。</td>
</tr>
<tr>
<td>cycle</td>
<td>如果执行了一个循环语句，则程序继续到下一次迭代的起始位置。</td>
</tr>
<tr>
<td>stop</td>
<td>如果想执行的程序停止，可以插入声明一个stop语句</td>
</tr>
</tbody></table>
<h1 id="Fortran-do循环结构"><a href="#Fortran-do循环结构" class="headerlink" title="Fortran do循环结构"></a>Fortran do循环结构</h1><p>do循环结构使得一个语句或一系列语句，以进行迭代，当一个给定的条件为真。</p>
<h2 id="语法-4"><a href="#语法-4" class="headerlink" title="语法"></a>语法</h2><p>do循环的一般形式是：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">do</span> var <span class="token operator">=</span> start<span class="token punctuation">,</span> <span class="token keyword">stop</span> [<span class="token punctuation">,</span>step]    
   <span class="token comment" spellcheck="true">! statement(s)</span>
   …
<span class="token keyword">end do</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>这里,</p>
<ul>
<li>​        循环变量var应该是一个整数</li>
<li>​        start 是初始值</li>
<li>​        stop 是最终值</li>
<li>​        步骤step是递增，如果此被省略，则变量var以单位增加</li>
</ul>
<p>例如：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token comment" spellcheck="true">! compute factorials</span>
<span class="token keyword">do</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span>
   nfact <span class="token operator">=</span> nfact <span class="token operator">*</span> n  
   <span class="token comment" spellcheck="true">! printing the value of n and its factorial</span>
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span>  n<span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">,</span> nfact   
<span class="token keyword">end do</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="流程图"><a href="#流程图" class="headerlink" title="流程图"></a>流程图</h2><p>这里是控制 do 循环结构的流程：</p>
<ul>
<li>​            初始步骤首先被执行，并且仅一次。这一步可以声明和初始化任何循环控制变量。在我们的例子中，变量var被初始化开始的值。</li>
<li>​            接下来，计算条件。如果为true，则执行循环体。如果是假，则循环体不执行，只是在循环之后流量控制跳转到下一个语句。在我们的情况下，该条件就是在变量var达到其最终值stop。</li>
<li>​            所述循环体执行后，控制流跳转回至increment 语句。这个语句可以更新循环控制变量var。</li>
<li>​            条件现在重新评估。如果为true，循环执行的过程重复（循环体，再递增一步，然后再条件）。直到条件为假，循环终止。</li>
</ul>
<p><img src="/images/loading.gif" data-original="../images/language/1520441141-0.jpg" alt="Do Loop"></p>
<p>示例 1 </p>
<p>这个例子将输出数字11到20：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> printNum 
<span class="token keyword">implicit none</span>  

   <span class="token comment" spellcheck="true">! define variables</span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> n

   <span class="token keyword">do</span> n <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">20</span>     
      <span class="token comment" spellcheck="true">! printing the value of n </span>
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span>  n 
   <span class="token keyword">end do</span> 

<span class="token keyword">end program</span> printNum  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>让我们编译和运行上面的程序，这将产生以下结果：</p>
<pre><code>11
12
13
14
15
16
17
18
19
20</code></pre><p><strong>实例 2</strong> </p>
<p>这个程序计算数字1到10的阶乘：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> factorial  
<span class="token keyword">implicit none</span>  

   <span class="token comment" spellcheck="true">! define variables</span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> nfact <span class="token operator">=</span> <span class="token number">1</span>   
   <span class="token keyword">integer</span> <span class="token operator">::</span> n  

   <span class="token comment" spellcheck="true">! compute factorials   </span>
   <span class="token keyword">do</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span>      
      nfact <span class="token operator">=</span> nfact <span class="token operator">*</span> n 
      <span class="token comment" spellcheck="true">! print values</span>
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span>  n<span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">,</span> nfact   
   <span class="token keyword">end do</span> 

<span class="token keyword">end program</span> factorial  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>让我们编译和运行上面的程序，这将产生以下结果：</p>
<pre><code>1         1
2         2
3         6
4        24
5       120
6       720
7      5040
8     40320
9    362880
10  3628800</code></pre><h1 id="Fortran-do…while循环结构"><a href="#Fortran-do…while循环结构" class="headerlink" title="Fortran do…while循环结构"></a>Fortran do…while循环结构</h1><p>它重复语句或一组语句，当给定的条件为真。它测试的条件执行在循环体之前。</p>
<h2 id="语法-5"><a href="#语法-5" class="headerlink" title="语法"></a>语法</h2><pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">do</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">logical</span> expr<span class="token punctuation">)</span> 
   statements
<span class="token keyword">end do</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>流程图</p>
<p><img src="/images/loading.gif" data-original="../images/language/203T4H24-0.jpg" alt="do while"></p>
<p>示例</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> factorial  
<span class="token keyword">implicit none</span>  

   <span class="token comment" spellcheck="true">! define variables</span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> nfact <span class="token operator">=</span> <span class="token number">1</span>   
   <span class="token keyword">integer</span> <span class="token operator">::</span> n <span class="token operator">=</span> <span class="token number">1</span> 

   <span class="token comment" spellcheck="true">! compute factorials   </span>
   <span class="token keyword">do</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">)</span>       
      nfact <span class="token operator">=</span> nfact <span class="token operator">*</span> n 
      n <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token number">1</span>
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span>  n<span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">,</span> nfact   
   <span class="token keyword">end do</span> 
<span class="token keyword">end program</span> factorial  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>1         1
2         2
3         6
4        24
5       120
6       720
7      5040
8     40320
9    362880
10  3628800</code></pre><h1 id="Fortran嵌套循环"><a href="#Fortran嵌套循环" class="headerlink" title="Fortran嵌套循环"></a>Fortran嵌套循环</h1><p>可以在一个或多个循环结构嵌套任何另一个循环结构。也可以把标签放到循环中。</p>
<h2 id="语法-6"><a href="#语法-6" class="headerlink" title="语法"></a>语法</h2><pre class="line-numbers language-fortran"><code class="language-fortran">iloop<span class="token punctuation">:</span> <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"i: "</span><span class="token punctuation">,</span> i

   jloop<span class="token punctuation">:</span> <span class="token keyword">do</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>         
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"j: "</span><span class="token punctuation">,</span> j         

      kloop<span class="token punctuation">:</span> <span class="token keyword">do</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"k: "</span><span class="token punctuation">,</span> k

      <span class="token keyword">end do</span> kloop
   <span class="token keyword">end do</span> jloop  
<span class="token keyword">end do</span> iloop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>实例</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> nestedLoop 
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span><span class="token operator">::</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k

   iloop<span class="token punctuation">:</span> <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>      
      jloop<span class="token punctuation">:</span> <span class="token keyword">do</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>         
         kloop<span class="token punctuation">:</span> <span class="token keyword">do</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>              

            <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"(i, j, k): "</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k               

         <span class="token keyword">end do</span> kloop       
      <span class="token keyword">end do</span> jloop
   <span class="token keyword">end do</span> iloop

<span class="token keyword">end program</span> nestedLoop  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>(i, j, k): 1  1  1
(i, j, k): 1  1  2
(i, j, k): 1  1  3
(i, j, k): 1  2  1
(i, j, k): 1  2  2
(i, j, k): 1  2  3
(i, j, k): 1  3  1
(i, j, k): 1  3  2
(i, j, k): 1  3  3
(i, j, k): 2  1  1
(i, j, k): 2  1  2
(i, j, k): 2  1  3
(i, j, k): 2  2  1
(i, j, k): 2  2  2
(i, j, k): 2  2  3
(i, j, k): 2  3  1
(i, j, k): 2  3  2
(i, j, k): 2  3  3
(i, j, k): 3  1  1
(i, j, k): 3  1  2
(i, j, k): 3  1  3
(i, j, k): 3  2  1
(i, j, k): 3  2  2</code></pre><h1 id="Fortran-exit语句"><a href="#Fortran-exit语句" class="headerlink" title="Fortran exit语句"></a>Fortran exit语句</h1><p>Exit语句终止循环或select case语句，并将执行立即循环或select 下面的语句。</p>
<p>流程图</p>
<p><img src="/images/loading.gif" data-original="../images/language/204TQG3-0.jpg" alt="Exit Statement"></p>
<p>例子</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> nestedLoop 
<span class="token keyword">implicit none</span>

<span class="token keyword">integer</span><span class="token operator">::</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k
   iloop<span class="token punctuation">:</span> <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>      
      jloop<span class="token punctuation">:</span> <span class="token keyword">do</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>         
         kloop<span class="token punctuation">:</span> <span class="token keyword">do</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>    

         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"(i, j, k): "</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k               

         <span class="token keyword">if</span> <span class="token punctuation">(</span>k<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">then</span>
            <span class="token keyword">exit</span> jloop 
         <span class="token keyword">end if</span>

         <span class="token keyword">end do</span> kloop       
      <span class="token keyword">end do</span> jloop  
   <span class="token keyword">end do</span> iloop 

<span class="token keyword">end program</span> nestedLoop  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>(i, j, k): 1  1  1
(i, j, k): 1  1  2
(i, j, k): 2  1  1
(i, j, k): 2  1  2
(i, j, k): 3  1  1
(i, j, k): 3  1  2</code></pre><h1 id="Fortran-Cycle语句"><a href="#Fortran-Cycle语句" class="headerlink" title="Fortran Cycle语句"></a>Fortran Cycle语句</h1><p>cycle语句使循环跳过它的主体的其余部分，并立即重新测试其条件在声明之前。</p>
<p>流程图</p>
<p><img src="/images/loading.gif" data-original="../images/language/21013RM8-0.jpg" alt="Cycle Statement"></p>
<p>例子</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> cycle_example     
<span class="token keyword">implicit none</span>      

   <span class="token keyword">integer</span> <span class="token operator">::</span> i     

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">20</span>          

      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">then</span> 
         <span class="token keyword">cycle</span>          
      <span class="token keyword">end if</span>         

   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> i      
   <span class="token keyword">end do</span>  

<span class="token keyword">end program</span> cycle_example<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>1
2
3
4
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20</code></pre><h1 id="Fortran-Stop语句"><a href="#Fortran-Stop语句" class="headerlink" title="Fortran Stop语句"></a>Fortran Stop语句</h1><p>如果想执行的程序停止，可以插入一个stop语句。</p>
<p>示例</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> stop_example     
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span> <span class="token operator">::</span> i     
   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">20</span>          

      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">then</span> 
         <span class="token keyword">stop</span>          
      <span class="token keyword">end if</span>         

      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> i      
   <span class="token keyword">end do</span>  

<span class="token keyword">end program</span> stop_example<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>1
2
3
4</code></pre><h1 id="Fortran数字"><a href="#Fortran数字" class="headerlink" title="Fortran数字"></a>Fortran数字</h1><p>Fortran的数字由三个内部数据类型来表示：</p>
<ul>
<li>​        整型</li>
<li>​        实型</li>
<li>​        复杂类型</li>
</ul>
<h2 id="整型-1"><a href="#整型-1" class="headerlink" title="整型"></a>整型</h2><p>整数类型只能容纳整数值。下面的例子中提取的是持有一个通常的4字节整数的最大值：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> testingInt
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span> <span class="token operator">::</span> largeval
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> huge<span class="token punctuation">(</span>largeval<span class="token punctuation">)</span>

<span class="token keyword">end program</span> testingInt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，将产生以下结果：</p>
<pre><code>2147483647</code></pre><p>请注意，huge()函数给出能够由特定的整数数据类型可以保持的最大数字。还可以指定使用的那种符的字节数。下面的例子说明了这一点：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> testingInt
<span class="token keyword">implicit none</span>

   <span class="token comment" spellcheck="true">!two byte integer</span>
   <span class="token keyword">integer</span><span class="token punctuation">(</span><span class="token keyword">kind</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">::</span> shortval

   <span class="token comment" spellcheck="true">!four byte integer</span>
   <span class="token keyword">integer</span><span class="token punctuation">(</span><span class="token keyword">kind</span><span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">::</span> longval

   <span class="token comment" spellcheck="true">!eight byte integer</span>
   <span class="token keyword">integer</span><span class="token punctuation">(</span><span class="token keyword">kind</span><span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">::</span> verylongval

   <span class="token comment" spellcheck="true">!sixteen byte integer</span>
   <span class="token keyword">integer</span><span class="token punctuation">(</span><span class="token keyword">kind</span><span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">::</span> veryverylongval

   <span class="token comment" spellcheck="true">!default integer </span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> defval

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> huge<span class="token punctuation">(</span>shortval<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> huge<span class="token punctuation">(</span>longval<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> huge<span class="token punctuation">(</span>verylongval<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> huge<span class="token punctuation">(</span>veryverylongval<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> huge<span class="token punctuation">(</span>defval<span class="token punctuation">)</span>

<span class="token keyword">end program</span> testingInt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    当编译并执行上述程序，将产生以下结果：</p>
<pre><code>32767
2147483647
9223372036854775807
170141183460469231731687303715884105727
2147483647</code></pre><h2 id="实型-1"><a href="#实型-1" class="headerlink" title="实型"></a>实型</h2><p>它存储的浮点数，例如 2.0，3.1415，-100.876等</p>
<p>传统上有两种不同类型的实型：缺省的实型和双精度型。</p>
<p>然而，Fortran 90/95提供了更多的控制权实数和整数数据类型，通过一种说明，我们将在较短期内学习研究精度。</p>
<p>下面的例子展示了如何使用实型的数据类型：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> division   
<span class="token keyword">implicit none</span>

   <span class="token comment" spellcheck="true">! Define real variables   </span>
   <span class="token keyword">real</span> <span class="token operator">::</span> p<span class="token punctuation">,</span> q<span class="token punctuation">,</span> realRes 

   <span class="token comment" spellcheck="true">! Define integer variables  </span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> intRes  

   <span class="token comment" spellcheck="true">! Assigning  values   </span>
   p <span class="token operator">=</span> <span class="token number">2.0</span> 
   q <span class="token operator">=</span> <span class="token number">3.0</span>    
   i <span class="token operator">=</span> <span class="token number">2</span> 
   j <span class="token operator">=</span> <span class="token number">3</span>  

   <span class="token comment" spellcheck="true">! floating point division</span>
   realRes <span class="token operator">=</span> p<span class="token operator">/</span>q  
   intRes <span class="token operator">=</span> i<span class="token operator">/</span>j

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> realRes
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> intRes

<span class="token keyword">end program</span> division  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，将产生以下结果：</p>
<pre><code>0.666666687    
0</code></pre><h2 id="复杂类型-1"><a href="#复杂类型-1" class="headerlink" title="复杂类型"></a>复杂类型</h2><p>这被用于存储复数。一个复杂的数字有两部分：实部和虚部。两个连续的数字存储单元存储两个部分。</p>
<p>例如，该复数（3.0，-5.0）等于3.0 - 5.0i</p>
<p>通用函数cmplx() 创建一个复数。它产生的结果是实部和虚部，不论输入参数的类型的单精度。</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> createComplex
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span> <span class="token operator">::</span> i <span class="token operator">=</span> <span class="token number">10</span>
   <span class="token keyword">real</span> <span class="token operator">::</span> x <span class="token operator">=</span> <span class="token number">5.17</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> cmplx<span class="token punctuation">(</span>i<span class="token punctuation">,</span> x<span class="token punctuation">)</span>

<span class="token keyword">end program</span> createComplex<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，将产生以下结果：</p>
<pre><code>(10.0000000, 5.17000008)</code></pre><p>下面的程序演示的复杂数字运算：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> ComplexArithmatic
<span class="token keyword">implicit none</span>

   <span class="token keyword">complex</span><span class="token punctuation">,</span> <span class="token keyword">parameter</span> <span class="token operator">::</span> i <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">! sqrt(-1)   </span>
   <span class="token keyword">complex</span> <span class="token operator">::</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z 

   x <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">-7</span><span class="token punctuation">)</span>   
   <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> i <span class="token operator">*</span> x <span class="token operator">*</span> y

   z <span class="token operator">=</span> x <span class="token operator">+</span> y
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"z = x + y = "</span><span class="token punctuation">,</span> z

   z <span class="token operator">=</span> x <span class="token operator">-</span> y
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"z = x - y = "</span><span class="token punctuation">,</span> z 

   z <span class="token operator">=</span> x <span class="token operator">*</span> y
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"z = x * y = "</span><span class="token punctuation">,</span> z 

   z <span class="token operator">=</span> x <span class="token operator">/</span> y
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"z = x / y = "</span><span class="token punctuation">,</span> z 

<span class="token keyword">end program</span> ComplexArithmatic<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，将产生以下结果：</p>
<pre><code>(9.00000000, 91.0000000)
z = x + y = (12.0000000, 1.00000000)
z = x - y = (2.00000000, 15.0000000)
z = x * y = (91.0000000, -9.00000000)
z = x / y = (-0.283783793, 1.20270276)</code></pre><h2 id="范围，精度和数字的大小"><a href="#范围，精度和数字的大小" class="headerlink" title="范围，精度和数字的大小"></a>范围，精度和数字的大小</h2><p>整数的范围内，精度和浮点数的大小取决于分配给该特定数据类型的比特数。</p>
<p>下表显示的位数和范围的整数：</p>
<table>
<thead>
<tr>
<th>比特数</th>
<th>最大值</th>
<th>原因</th>
</tr>
</thead>
<tbody><tr>
<td>64</td>
<td>9,223,372,036,854,774,807</td>
<td>(2**63)–1</td>
</tr>
<tr>
<td>32</td>
<td>2,147,483,647</td>
<td>(2**31)–1</td>
</tr>
</tbody></table>
<p>下面的表格显示了位，最小和最大的值的数量，并且为实数的精度。</p>
<table>
<thead>
<tr>
<th>比特数</th>
<th>最大值</th>
<th>最小值</th>
<th>精确</th>
</tr>
</thead>
<tbody><tr>
<td>64</td>
<td>0.8E+308</td>
<td>0.5E–308</td>
<td>15–18</td>
</tr>
<tr>
<td>32</td>
<td>1.7E+38</td>
<td>0.3E–38</td>
<td>6-9</td>
</tr>
</tbody></table>
<p>下面的例子演示了这一点：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> rangePrecision
<span class="token keyword">implicit none</span>

   <span class="token keyword">real</span><span class="token operator">::</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z
   x <span class="token operator">=</span> <span class="token number">1.5e+40</span>
   y <span class="token operator">=</span> <span class="token number">3.73e+40</span>
   z <span class="token operator">=</span> x <span class="token operator">*</span> y 
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> z

<span class="token keyword">end program</span> rangePrecision<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，将产生以下结果：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran">x <span class="token operator">=</span> <span class="token number">1.5e+40</span>
    <span class="token number">1</span>
Error <span class="token punctuation">:</span> <span class="token keyword">Real</span> constant overflows its <span class="token keyword">kind</span> at <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
main.f95<span class="token punctuation">:</span><span class="token number">5.12</span><span class="token punctuation">:</span>

y <span class="token operator">=</span> <span class="token number">3.73e+40</span>
    <span class="token number">1</span>
Error <span class="token punctuation">:</span> <span class="token keyword">Real</span> constant overflows its <span class="token keyword">kind</span> at <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>现在让我们用一个较小的数字：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> rangePrecision
<span class="token keyword">implicit none</span>

   <span class="token keyword">real</span><span class="token operator">::</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z
   x <span class="token operator">=</span> <span class="token number">1.5e+20</span>
   y <span class="token operator">=</span> <span class="token number">3.73e+20</span>
   z <span class="token operator">=</span> x <span class="token operator">*</span> y 
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> z

   z <span class="token operator">=</span> x<span class="token operator">/</span>y
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> z

<span class="token keyword">end program</span> rangePrecision<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，将产生以下结果：</p>
<pre><code>Infinity
0.402144760   </code></pre><p>现在，让我们看看溢出：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> rangePrecision
<span class="token keyword">implicit none</span>

   <span class="token keyword">real</span><span class="token operator">::</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z
   x <span class="token operator">=</span> <span class="token number">1.5e-30</span>
   y <span class="token operator">=</span> <span class="token number">3.73e-60</span>
   z <span class="token operator">=</span> x <span class="token operator">*</span> y 
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> z

   z <span class="token operator">=</span> x<span class="token operator">/</span>y
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> z

<span class="token keyword">end program</span> rangePrecision<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，将产生以下结果：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran">y <span class="token operator">=</span> <span class="token number">3.73e-60</span>
    <span class="token number">1</span>
Warning <span class="token punctuation">:</span> <span class="token keyword">Real</span> constant underflows its <span class="token keyword">kind</span> at <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

Executing the <span class="token keyword">program</span>....
$demo 

<span class="token number">0.00000000E+00</span>
Infinity<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Kind说明符"><a href="#Kind说明符" class="headerlink" title="Kind说明符"></a>Kind说明符</h2><p>在科学程序设计，人们往往需要知道硬件平台上的工作正在进行中的数据的范围和精度。</p>
<p>函数kind() 允许运行一个程序之前查询的硬件的数据表示的细节。</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> kindCheck
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span> <span class="token operator">::</span> i 
   <span class="token keyword">real</span> <span class="token operator">::</span> r 
   <span class="token keyword">complex</span> <span class="token operator">::</span> cp 
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">' Integer '</span><span class="token punctuation">,</span> <span class="token keyword">kind</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> 
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">' Real '</span><span class="token punctuation">,</span> <span class="token keyword">kind</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> 
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">' Complex '</span><span class="token punctuation">,</span> <span class="token keyword">kind</span><span class="token punctuation">(</span>cp<span class="token punctuation">)</span> 

<span class="token keyword">end program</span> kindCheck<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，将产生以下结果：</p>
<pre><code>Integer 4
Real 4
Complex 4</code></pre><p>还可以检查所有类型的数据类型：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> checkKind
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span> <span class="token operator">::</span> i 
   <span class="token keyword">real</span> <span class="token operator">::</span> r 
   <span class="token keyword">character</span><span class="token operator">*</span><span class="token number">1</span> <span class="token operator">::</span> c 
   <span class="token keyword">logical</span> <span class="token operator">::</span> lg 
   <span class="token keyword">complex</span> <span class="token operator">::</span> cp 

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">' Integer '</span><span class="token punctuation">,</span> <span class="token keyword">kind</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> 
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">' Real '</span><span class="token punctuation">,</span> <span class="token keyword">kind</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> 
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">' Complex '</span><span class="token punctuation">,</span> <span class="token keyword">kind</span><span class="token punctuation">(</span>cp<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">' Character '</span><span class="token punctuation">,</span> <span class="token keyword">kind</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> 
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">' Logical '</span><span class="token punctuation">,</span> <span class="token keyword">kind</span><span class="token punctuation">(</span>lg<span class="token punctuation">)</span>

<span class="token keyword">end program</span> checkKind<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，将产生以下结果：</p>
<pre><code>Integer 4
Real 4
Complex 4
Character 1
Logical 4</code></pre><h1 id="Fortran字符"><a href="#Fortran字符" class="headerlink" title="Fortran字符"></a>Fortran字符</h1><p>Fortran语言可以把字符作为单个字符或连续的字符串。</p>
<p>字符可以是从基本的字符集，即从字母，十进制数字，下划线和21特殊字符所采取的任何符号。</p>
<p>字符常量是一个固定的值的字符串。</p>
<p>内部数据类型的字符存储字符和字符串。字符串的长度可以通过len个符来指定。如果没有指定长度，它是长度是1. 可以将字符串按位置指的是指在单个字符;最左边的字符的位置是1。</p>
<h2 id="字符声明"><a href="#字符声明" class="headerlink" title="字符声明"></a>字符声明</h2><p>声明一个字符类型的数据是一样的其他变量：</p>
<pre><code>type-specifier :: variable_name</code></pre><p>例如，</p>
<pre><code>character :: reply, sex</code></pre><p>可以指定一个值类似，</p>
<pre><code>reply = ‘N’ 
sex = ‘F’</code></pre><p>下面的例子演示了声明和使用字符数据类型：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> hello
<span class="token keyword">implicit none</span>

   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">::</span> surname<span class="token punctuation">,</span> firstname 
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">::</span> title 
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">::</span>greetings

   title <span class="token operator">=</span> <span class="token string">'Mr. '</span> 
   firstname <span class="token operator">=</span> <span class="token string">'Rowan '</span> 
   surname <span class="token operator">=</span> <span class="token string">'Atkinson'</span>
   greetings <span class="token operator">=</span> <span class="token string">'A big hello from Mr. Beans'</span>

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Here is '</span><span class="token punctuation">,</span> title<span class="token punctuation">,</span> firstname<span class="token punctuation">,</span> surname
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> greetings

<span class="token keyword">end program</span> hello<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序,将产生以下结果：</p>
<pre><code>Here is Mr. Rowan Atkinson       
A big hello from Mr. Bean</code></pre><h2 id="字符串接"><a href="#字符串接" class="headerlink" title="字符串接"></a>字符串接</h2><p>连接运算符//符，连接字符。</p>
<p>下面的例子说明了这一点：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> hello
<span class="token keyword">implicit none</span>

   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">::</span> surname<span class="token punctuation">,</span> firstname 
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">::</span> title 
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token operator">::</span> name
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">::</span>greetings

   title <span class="token operator">=</span> <span class="token string">'Mr. '</span> 
   firstname <span class="token operator">=</span> <span class="token string">'Rowan '</span> 
   surname <span class="token operator">=</span> <span class="token string">'Atkinson'</span>

   name <span class="token operator">=</span> title<span class="token operator">//</span>firstname<span class="token operator">//</span>surname
   greetings <span class="token operator">=</span> <span class="token string">'A big hello from Mr. Beans'</span>

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Here is '</span><span class="token punctuation">,</span> name
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> greetings

<span class="token keyword">end program</span> hello<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序,将产生以下结果：</p>
<pre><code>Here is Mr.Rowan Atkinson       
A big hello from Mr.Bean</code></pre><h2 id="一些字符函数"><a href="#一些字符函数" class="headerlink" title="一些字符函数"></a>一些字符函数</h2><p>下表显示描述一些常用字符的函数：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>len(string)</td>
<td>它返回字符串的长度</td>
</tr>
<tr>
<td>index(string,sustring)</td>
<td>在一个字符串找出子串的位置，如果没有找到则返回0。</td>
</tr>
<tr>
<td>achar(int)</td>
<td>将整数转换成一个字符</td>
</tr>
<tr>
<td>iachar(c)</td>
<td>它可将一个字符转换为整数</td>
</tr>
<tr>
<td>trim(string)</td>
<td>它返回去掉尾随空格的字符串。</td>
</tr>
<tr>
<td>scan(string, chars)</td>
<td>它会搜索“string”由左到右（除非back=.true）包含在“string”任何字符的第一次出现。它返回一个整数，该字符，或零的位置，如果没有文字的“字符”已被找到。</td>
</tr>
<tr>
<td>verify(string, chars)</td>
<td>它扫描“string”由左到右（除非back=.true）不包含在“string”任何字符的第一次出现。它返回一个整数，该字符的位置，如果只在“字符”的字符被找到，或者没有找则返回零。</td>
</tr>
<tr>
<td>adjustl(string)</td>
<td>它留下左截于“string”包含的字符</td>
</tr>
<tr>
<td>adjustr(string)</td>
<td>它留下右截于“string”包含的字符</td>
</tr>
<tr>
<td>len_trim(string)</td>
<td>它返回一个整数等于“string”(len(string))减去尾随空白的数量</td>
</tr>
<tr>
<td>repeat(string,ncopy)</td>
<td>它返回一个字符串长度等于“ncopy”次数“string”的长度，并含有“string”的“ncopy”串联拷贝</td>
</tr>
</tbody></table>
<p><strong>实例 1</strong></p>
<p>这个例子显示使用index函数：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> testingChars
<span class="token keyword">implicit none</span>

   <span class="token keyword">character</span> <span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span> <span class="token operator">::</span> text 
   <span class="token keyword">integer</span> <span class="token operator">::</span> i 

   text <span class="token operator">=</span> <span class="token string">'The intrinsic data type character stores characters and   strings.'</span>
   i<span class="token operator">=</span>index<span class="token punctuation">(</span>text<span class="token punctuation">,</span><span class="token string">'character'</span><span class="token punctuation">)</span> 

   <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">/=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">then</span>
      <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">' The word character found at position '</span><span class="token punctuation">,</span>i 
      <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">' in text: '</span><span class="token punctuation">,</span> text 
   <span class="token keyword">end if</span>

<span class="token keyword">end program</span> testingChars<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序,将产生以下结果：</p>
<pre><code>The word character found at position 25
in text : The intrinsic data type character stores characters and strings.  </code></pre><p><strong>示例 2</strong></p>
<p>这个例子演示了如何使用trim函数：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> hello
<span class="token keyword">implicit none</span>

   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">::</span> surname<span class="token punctuation">,</span> firstname 
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">::</span> title 
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">::</span>greetings

   title <span class="token operator">=</span> <span class="token string">'Mr.'</span> 
   firstname <span class="token operator">=</span> <span class="token string">'Rowan'</span> 
   surname <span class="token operator">=</span> <span class="token string">'Atkinson'</span>

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Here is'</span><span class="token punctuation">,</span> title<span class="token punctuation">,</span> firstname<span class="token punctuation">,</span> surname
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Here is'</span><span class="token punctuation">,</span> trim<span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">' '</span><span class="token punctuation">,</span>trim<span class="token punctuation">(</span>firstname<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">' '</span><span class="token punctuation">,</span> trim<span class="token punctuation">(</span>surname<span class="token punctuation">)</span>

<span class="token keyword">end program</span> hello<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序,将产生以下结果：</p>
<pre><code>Here is Mr. Rowan Atkinson       
Here is Mr. Rowan Atkinson</code></pre><p><strong>示例 3</strong></p>
<p>这个例子演示了如何使用achar函数</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> testingChars
<span class="token keyword">implicit none</span>

   <span class="token keyword">character</span><span class="token operator">::</span> ch
   <span class="token keyword">integer</span><span class="token operator">::</span> i

   <span class="token keyword">do</span> i<span class="token operator">=</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">90</span>
      ch <span class="token operator">=</span> achar<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">,</span> ch
   <span class="token keyword">end do</span>

<span class="token keyword">end program</span> testingChars<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序,将产生以下结果：</p>
<pre><code>65  A
66  B
67  C
68  D
69  E
70  F
71  G
72  H
73  I
74  J
75  K
76  L
77  M
78  N
79  O
80  P
81  Q
82  R
83  S
84  T
85  U
86  V
87  W
88  X
89  Y
90  Z</code></pre><h2 id="检查词法顺序字符"><a href="#检查词法顺序字符" class="headerlink" title="检查词法顺序字符"></a>检查词法顺序字符</h2><p>下面的函数确定的字符的词法序列：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>lle(char, char)</td>
<td>进行比较的第一个字符是否是词汇上小于或等于所述第二字符</td>
</tr>
<tr>
<td>lge(char, char)</td>
<td>进行比较的第一个字符是否是词汇上大于或等于所述第二字符</td>
</tr>
<tr>
<td>lgt(char, char)</td>
<td>进行比较的第一个字符是否是词汇上比第二字符大</td>
</tr>
<tr>
<td>llt(char, char)</td>
<td>比较第一个字符是否是词汇上比小于第二字符</td>
</tr>
</tbody></table>
<p><strong>示例 4</strong></p>
<p>下面的函数演示了如何使用：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> testingChars
<span class="token keyword">implicit none</span>

   <span class="token keyword">character</span><span class="token operator">::</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c
   a <span class="token operator">=</span> <span class="token string">'A'</span>
   b <span class="token operator">=</span> <span class="token string">'a'</span>
   c <span class="token operator">=</span> <span class="token string">'B'</span>

   <span class="token keyword">if</span><span class="token punctuation">(</span>lgt<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">then</span>
      <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'A is lexically greater than a'</span>
   <span class="token keyword">else</span>
      <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'a is lexically greater than A'</span>
   <span class="token keyword">end if</span>

   <span class="token keyword">if</span><span class="token punctuation">(</span>lgt<span class="token punctuation">(</span>a<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">then</span>
      <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'A is lexically greater than B'</span>
   <span class="token keyword">else</span>
      <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'B is lexically greater than A'</span>
   <span class="token keyword">end if</span>  

   <span class="token keyword">if</span><span class="token punctuation">(</span>llt<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">then</span>
      <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'A is lexically less than a'</span>
   <span class="token keyword">end if</span>

   <span class="token keyword">if</span><span class="token punctuation">(</span>llt<span class="token punctuation">(</span>a<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">then</span>
      <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'A is lexically less than B'</span>
   <span class="token keyword">end if</span>

<span class="token keyword">end program</span> testingChars<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序,将产生以下结果：</p>
<pre><code>a is lexically greater than A
B is lexically greater than A
A is lexically less than a
A is lexically less than B</code></pre><h1 id="Fortran字符串"><a href="#Fortran字符串" class="headerlink" title="Fortran字符串"></a>Fortran字符串</h1><p>Fortran语言可以把字符作为单个字符或连续的字符串。</p>
<p>字符串可以是只有一个长度的字符，或者它甚至可以是零长度。在Fortran语言，字符常量是一对双引号或单引号之间字符内容。</p>
<p>内部数据类型的字符存储字符和字符串。字符串的长度可以通过len个符来指定。如果没有指定长度，它是长度是1. 可以将字符串按位置指的是指在单个字符;最左边的字符的位置是1。</p>
<h2 id="字符串声明"><a href="#字符串声明" class="headerlink" title="字符串声明"></a>字符串声明</h2><p>声明一个字符串跟其他变量是一样的：</p>
<pre><code>type-specifier :: variable_name</code></pre><p>例如,</p>
<pre><code>Character(len=20) :: firstname, surname</code></pre><p>可以指定一个值类似，</p>
<pre><code>character (len=40) :: name  
name = “Zara Ali”</code></pre><p>下面的例子演示了声明和使用字符数据类型：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> hello
<span class="token keyword">implicit none</span>

   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">::</span> surname<span class="token punctuation">,</span> firstname 
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">::</span> title 
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">::</span>greetings

   title <span class="token operator">=</span> <span class="token string">'Mr.'</span> 
   firstname <span class="token operator">=</span> <span class="token string">'Rowan'</span> 
   surname <span class="token operator">=</span> <span class="token string">'Atkinson'</span>
   greetings <span class="token operator">=</span> <span class="token string">'A big hello from Mr. Beans'</span>

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Here is'</span><span class="token punctuation">,</span> title<span class="token punctuation">,</span> firstname<span class="token punctuation">,</span> surname
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> greetings

<span class="token keyword">end program</span> hello<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序,将产生以下结果：</p>
<pre><code>Here is Mr. Rowan Atkinson       
A big hello from Mr. Bean</code></pre><h2 id="字符串连接"><a href="#字符串连接" class="headerlink" title="字符串连接"></a>字符串连接</h2><p>连接运算符//，连接字符串。</p>
<p>下面的例子说明了这一点：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> hello
<span class="token keyword">implicit none</span>

   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">::</span> surname<span class="token punctuation">,</span> firstname 
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">::</span> title 
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token operator">::</span> name
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">::</span>greetings

   title <span class="token operator">=</span> <span class="token string">'Mr.'</span> 
   firstname <span class="token operator">=</span> <span class="token string">'Rowan'</span> 
   surname <span class="token operator">=</span> <span class="token string">'Atkinson'</span>

   name <span class="token operator">=</span> title<span class="token operator">//</span>firstname<span class="token operator">//</span>surname
   greetings <span class="token operator">=</span> <span class="token string">'A big hello from Mr. Beans'</span>

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Here is'</span><span class="token punctuation">,</span> name
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> greetings

<span class="token keyword">end program</span> hello<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序,将产生以下结果：</p>
<pre><code>Here is Mr. Rowan Atkinson       
A big hello from Mr. Bean</code></pre><h2 id="提取子串"><a href="#提取子串" class="headerlink" title="提取子串"></a>提取子串</h2><p>在Fortran中，可以通过索引的字符串，开始和子串一对括号的结束索引，从字符串中提取一个子字符串。这就是所谓的范围说明。</p>
<p>下面的示例显示了如何提取字符串’Hello World’的子字符串“world”：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> subString

   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token operator">::</span>hello
   hello <span class="token operator">=</span> <span class="token string">"Hello World"</span>
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> hello<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">11</span><span class="token punctuation">)</span>

<span class="token keyword">end program</span> subString <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序,将产生以下结果：</p>
<pre><code>World</code></pre><p><strong>例子</strong></p>
<p>下面的示例使用 date_and_time 函数，得到日期和时间的字符串。我们使用范围说明符单独提取年份，日期，月份，小时，分钟和秒的信息。</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span>  datetime
<span class="token keyword">implicit none</span>

   <span class="token keyword">character</span><span class="token punctuation">(</span>len <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">::</span> dateinfo <span class="token comment" spellcheck="true">! ccyymmdd</span>
   <span class="token keyword">character</span><span class="token punctuation">(</span>len <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">::</span> year<span class="token punctuation">,</span> month<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span> day<span class="token operator">*</span><span class="token number">2</span>

   <span class="token keyword">character</span><span class="token punctuation">(</span>len <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">::</span> timeinfo <span class="token comment" spellcheck="true">! hhmmss.sss</span>
   <span class="token keyword">character</span><span class="token punctuation">(</span>len <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token operator">::</span> hour<span class="token punctuation">,</span> minute<span class="token punctuation">,</span> second<span class="token operator">*</span><span class="token number">6</span>

   <span class="token keyword">call</span>  date_and_time<span class="token punctuation">(</span>dateinfo<span class="token punctuation">,</span> timeinfo<span class="token punctuation">)</span>

   <span class="token comment" spellcheck="true">!  let’s break dateinfo into year, month and day.</span>
   <span class="token comment" spellcheck="true">!  dateinfo has a form of ccyymmdd, where cc = century, yy = year</span>
   <span class="token comment" spellcheck="true">!  mm = month and dd = day</span>

   year  <span class="token operator">=</span> dateinfo<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">)</span>
   month <span class="token operator">=</span> dateinfo<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">)</span>
   day   <span class="token operator">=</span> dateinfo<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">)</span>

   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Date String:'</span><span class="token punctuation">,</span> dateinfo
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Year:'</span><span class="token punctuation">,</span> year
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'Month:'</span><span class="token punctuation">,</span> month
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'Day:'</span><span class="token punctuation">,</span> day

   <span class="token comment" spellcheck="true">!  let’s break timeinfo into hour, minute and second.</span>
   <span class="token comment" spellcheck="true">!  timeinfo has a form of hhmmss.sss, where h = hour, m = minute</span>
   <span class="token comment" spellcheck="true">!  and s = second</span>

   hour   <span class="token operator">=</span> timeinfo<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">)</span>
   minute <span class="token operator">=</span> timeinfo<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">)</span>
   second <span class="token operator">=</span> timeinfo<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">)</span>

   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Time String:'</span><span class="token punctuation">,</span> timeinfo
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Hour:'</span><span class="token punctuation">,</span> hour
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Minute:'</span><span class="token punctuation">,</span> minute
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Second:'</span><span class="token punctuation">,</span> second   

<span class="token keyword">end program</span>  datetime<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，它提供了详细的日期和时间信息：</p>
<pre><code>Date String: 20140803
   Year: 2014
   Month: 08
   Day: 03
   Time String: 075835.466
   Hour: 07
   Minute: 58
   Second: 35.466</code></pre><h2 id="字符串修整"><a href="#字符串修整" class="headerlink" title="字符串修整"></a>字符串修整</h2><p>trim函数接受一个字符串，并删除所有尾随空格后返回输入字符串。</p>
<p>例子</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> trimString
<span class="token keyword">implicit none</span>

   <span class="token keyword">character</span> <span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">parameter</span> <span class="token operator">::</span> fname<span class="token operator">=</span><span class="token string">"Susanne"</span><span class="token punctuation">,</span> sname<span class="token operator">=</span><span class="token string">"Rizwan"</span>
   <span class="token keyword">character</span> <span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">::</span> fullname 

   fullname<span class="token operator">=</span>fname<span class="token operator">//</span><span class="token string">" "</span><span class="token operator">//</span>sname <span class="token comment" spellcheck="true">!concatenating the strings</span>

   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span>fullname<span class="token punctuation">,</span><span class="token string">", the beautiful dancer from the east!"</span>
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span>trim<span class="token punctuation">(</span>fullname<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">", the beautiful dancer from the east!"</span>

<span class="token keyword">end program</span> trimString<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    当编译并执行上述程序,将产生以下结果：</p>
<pre><code>Susanne Rizwan, the beautiful dancer from the east!
Susanne Rizwan, the beautiful dancer from the east!</code></pre><h2 id="字符串左右调整"><a href="#字符串左右调整" class="headerlink" title="字符串左右调整"></a>字符串左右调整</h2><p>函数 adjustl 需要一个字符串，并通过去除前导空格，并追加其作为尾随空白返回。</p>
<p>函数 adjustr 需要一个字符串，并通过删除尾随空格和追加作为前导空格返回。</p>
<p>例子</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> hello
<span class="token keyword">implicit none</span>

   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">::</span> surname<span class="token punctuation">,</span> firstname 
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">::</span> title 
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token operator">::</span> name
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">::</span> greetings

   title <span class="token operator">=</span> <span class="token string">'Mr. '</span> 
   firstname <span class="token operator">=</span> <span class="token string">'Rowan'</span> 
   surname <span class="token operator">=</span> <span class="token string">'Atkinson'</span>
   greetings <span class="token operator">=</span> <span class="token string">'A big hello from Mr. Beans'</span>

   name <span class="token operator">=</span> adjustl<span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token operator">//</span>adjustl<span class="token punctuation">(</span>firstname<span class="token punctuation">)</span><span class="token operator">//</span>adjustl<span class="token punctuation">(</span>surname<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Here is'</span><span class="token punctuation">,</span> name
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> greetings

   name <span class="token operator">=</span> adjustr<span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token operator">//</span>adjustr<span class="token punctuation">(</span>firstname<span class="token punctuation">)</span><span class="token operator">//</span>adjustr<span class="token punctuation">(</span>surname<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Here is'</span><span class="token punctuation">,</span> name
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> greetings

   name <span class="token operator">=</span> trim<span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token operator">//</span>trim<span class="token punctuation">(</span>firstname<span class="token punctuation">)</span><span class="token operator">//</span>trim<span class="token punctuation">(</span>surname<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Here is'</span><span class="token punctuation">,</span> name
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> greetings

<span class="token keyword">end program</span> hello<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序,将产生以下结果：</p>
<pre><code>Here is Mr. Rowan  Atkinson           
A big hello from Mr. Bean
Here is Mr. Rowan Atkinson    
A big hello from Mr. Bean
Here is Mr.RowanAtkinson                        
A big hello from Mr. Bean</code></pre><h2 id="搜索字符串的子串"><a href="#搜索字符串的子串" class="headerlink" title="搜索字符串的子串"></a>搜索字符串的子串</h2><p>index 函数有两个字符串，并检查是否第二个字符串的第一个字符串的子串。如果第二个参数是第一个参数的子字符串，然后返回一个整数，是第一个字符串第二个字符串的开始索引，否则返回零。</p>
<p>例子</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> hello
<span class="token keyword">implicit none</span>

   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">::</span> myString
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">::</span> testString

   myString <span class="token operator">=</span> <span class="token string">'This is a test'</span>
   testString <span class="token operator">=</span> <span class="token string">'test'</span>

   <span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token punctuation">(</span>myString<span class="token punctuation">,</span> testString<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">then</span>
      <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'test is not found'</span>
   <span class="token keyword">else</span>
      <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'test is found at index: '</span><span class="token punctuation">,</span> index<span class="token punctuation">(</span>myString<span class="token punctuation">,</span> testString<span class="token punctuation">)</span>
   <span class="token keyword">end if</span>

<span class="token keyword">end program</span> hello<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序,将产生以下结果：</p>
<pre><code>test is found at index: 11</code></pre><h1 id="Fortran数组"><a href="#Fortran数组" class="headerlink" title="Fortran数组"></a>Fortran数组</h1><p>数组可以存储相同类型的元件的固定大小的连续集合。数组是用来存储数据的集合，但它往往是更加有用认为数组为相同类型的变量的集合。</p>
<p>所有数组由连续的存储单元。最低的地址对应于所述第一元件和所述最高地址的最后一个元素。</p>
<table>
<thead>
<tr>
<th>Numbers(1)</th>
<th>Numbers(2)</th>
<th>Numbers(3)</th>
<th>Numbers(4)</th>
<th>…</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>数组可以是一维的(如向量)，二维(如矩阵)，Fortran允许最多创建7维数组。</p>
<h2 id="声明数组"><a href="#声明数组" class="headerlink" title="声明数组"></a>声明数组</h2><p>数组的尺寸属性声明。</p>
<p>例如，声明含有5个元素的实数的一个一维阵列命名号编写，</p>
<pre><code>real, dimension(5) :: numbers</code></pre><p>数组的各个元素通过指定其下标引用。数组的第一元件具有一个的下标。数组数字包含五个实变量- numbers(1), numbers(2), numbers(3), numbers(4), 和numbers(5)。</p>
<p>要创建一个5×5的二维矩阵命名的整数数组：</p>
<pre><code>integer, dimension (5,5) :: matrix  </code></pre><p>也可以声明某些明确的下限，例如数组：</p>
<pre><code>real, dimension(2:6) :: numbers
integer, dimension (-3:2,0:4) :: matrix  </code></pre><h2 id="赋值"><a href="#赋值" class="headerlink" title="赋值"></a>赋值</h2><p>可以将值分配给各个成员一样，</p>
<pre><code>numbers(1) = 2.0</code></pre><p>或者，可以使用一个循环，</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">do</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span>
   numbers<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">2.0</span>
<span class="token keyword">end do</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>一维数组元素可直接分配其值使用短手形符号，被称为数组构造，如，</p>
<pre><code>numbers = (/1.5, 3.2,4.5,0.9,7.2 /)</code></pre><p>请注意，不存在括号“(”和背斜杠“/”之间所允许有空格</p>
<p><strong>例子</strong></p>
<p>下面的例子演示了上面讨论的概念。</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> arrayProg

   <span class="token keyword">real</span> <span class="token operator">::</span> numbers<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">!one dimensional integer array</span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> matrix<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> i <span class="token punctuation">,</span> j <span class="token comment" spellcheck="true">!two dimensional real array</span>

   <span class="token comment" spellcheck="true">!assigning some values to the array numbers</span>
   <span class="token keyword">do</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span>
      numbers<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">2.0</span>
   <span class="token keyword">end do</span>

   <span class="token comment" spellcheck="true">!display the values</span>
   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span>
      <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> numbers<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
   <span class="token keyword">end do</span>

   <span class="token comment" spellcheck="true">!assigning some values to the array matrix</span>
   <span class="token keyword">do</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span>
      <span class="token keyword">do</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
         matrix<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">=</span> i<span class="token operator">+</span>j
      <span class="token keyword">end do</span>
   <span class="token keyword">end do</span>

   <span class="token comment" spellcheck="true">!display the values</span>
   <span class="token keyword">do</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span>
      <span class="token keyword">do</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
         <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> matrix<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span>
      <span class="token keyword">end do</span>
   <span class="token keyword">end do</span>

   <span class="token comment" spellcheck="true">!short hand assignment</span>
   numbers <span class="token operator">=</span> <span class="token punctuation">(/</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">3.2</span><span class="token punctuation">,</span><span class="token number">4.5</span><span class="token punctuation">,</span><span class="token number">0.9</span><span class="token punctuation">,</span><span class="token number">7.2</span> <span class="token punctuation">/)</span>

   <span class="token comment" spellcheck="true">!display the values</span>
   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span>
      <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> numbers<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
   <span class="token keyword">end do</span>

<span class="token keyword">end program</span> arrayProg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code> 2.00000000    
 4.00000000    
 6.00000000    
 8.00000000    
 10.0000000    
         2
         3
         4
         3
         4
         5
         4
         5
         6
 1.50000000    
 3.20000005    
 4.50000000    
0.899999976    
 7.19999981    </code></pre><h2 id="数组相关某些术语"><a href="#数组相关某些术语" class="headerlink" title="数组相关某些术语"></a>数组相关某些术语</h2><p>下表给出了一些阵列相关的术语：</p>
<table>
<thead>
<tr>
<th>术语</th>
<th>意思</th>
</tr>
</thead>
<tbody><tr>
<td>Rank</td>
<td>它的尺寸数组具有的数目。例如，对于数组命名矩阵，秩为2，并且对数组命名号，秩为1。</td>
</tr>
<tr>
<td>Extent</td>
<td>它是沿一维中的元素的数量。例如，阵列数字具有范围5和命名矩阵阵列具有在两个维度范围3。</td>
</tr>
<tr>
<td>Shape</td>
<td>数组的形状是一维整数数组，包含在每一维的元素（程度）的数量。例如，对于数组基质，形状为（3,3）和数组数字它是（5）。</td>
</tr>
<tr>
<td>Size</td>
<td>它是元素的数组中包含的数量。对于数组矩阵，它是9，而对于数字阵列，其为5。</td>
</tr>
</tbody></table>
<h2 id="数组传递给过程"><a href="#数组传递给过程" class="headerlink" title="数组传递给过程"></a>数组传递给过程</h2><p>可以传递一个数组到过程作为参数。下面的例子演示了这一概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> arrayToProcedure      
<span class="token keyword">implicit none</span>      

   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">::</span> myArray  
   <span class="token keyword">integer</span> <span class="token operator">::</span> i

   <span class="token keyword">call</span> fillArray <span class="token punctuation">(</span>myArray<span class="token punctuation">)</span>      
   <span class="token keyword">call</span> printArray<span class="token punctuation">(</span>myArray<span class="token punctuation">)</span>

<span class="token keyword">end program</span> arrayToProcedure


<span class="token keyword">subroutine</span> fillArray <span class="token punctuation">(</span>a<span class="token punctuation">)</span>      
<span class="token keyword">implicit none</span>      

   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">intent</span> <span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">)</span> <span class="token operator">::</span> a

   <span class="token comment" spellcheck="true">! local variables     </span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> i     
   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span>         
      a<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> i      
   <span class="token keyword">end do</span>  

<span class="token keyword">end subroutine</span> fillArray 


<span class="token keyword">subroutine</span> printArray<span class="token punctuation">(</span>a<span class="token punctuation">)</span>

   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">::</span> a  
   <span class="token keyword">integer</span><span class="token operator">::</span>i

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span>
      <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> a<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
   <span class="token keyword">end do</span>

<span class="token keyword">end subroutine</span> printArray<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>让我们编译和运行上面的程序，这将产生以下结果：</p>
<pre><code>1
2
3
4
5</code></pre><p>在上面的例子中，此子程序 fillArray 和 printArray 只能被称为带维度 5 的数组，当子程序可用于任何尺寸的阵列，则可以使用下面的技术来重写：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> arrayToProcedure      
<span class="token keyword">implicit</span>  none    

   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">::</span> myArray  
   <span class="token keyword">integer</span> <span class="token operator">::</span> i

   <span class="token keyword">interface</span> 
      <span class="token keyword">subroutine</span> fillArray <span class="token punctuation">(</span>a<span class="token punctuation">)</span>
         <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">intent</span> <span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">)</span> <span class="token operator">::</span> a 
         <span class="token keyword">integer</span> <span class="token operator">::</span> i         
      <span class="token keyword">end subroutine</span> fillArray      

      <span class="token keyword">subroutine</span> printArray <span class="token punctuation">(</span>a<span class="token punctuation">)</span>
         <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">::</span> a 
         <span class="token keyword">integer</span> <span class="token operator">::</span> i         
      <span class="token keyword">end subroutine</span> printArray   
   <span class="token keyword">end interface</span> 

   <span class="token keyword">call</span> fillArray <span class="token punctuation">(</span>myArray<span class="token punctuation">)</span>      
   <span class="token keyword">call</span> printArray<span class="token punctuation">(</span>myArray<span class="token punctuation">)</span>

<span class="token keyword">end program</span> arrayToProcedure


<span class="token keyword">subroutine</span> fillArray <span class="token punctuation">(</span>a<span class="token punctuation">)</span>      
<span class="token keyword">implicit none</span>      
   <span class="token keyword">integer</span><span class="token punctuation">,</span><span class="token keyword">dimension</span> <span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">intent</span> <span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">)</span> <span class="token operator">::</span> a      

   <span class="token comment" spellcheck="true">! local variables     </span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> i<span class="token punctuation">,</span> arraySize  
   arraySize <span class="token operator">=</span> size<span class="token punctuation">(</span>a<span class="token punctuation">)</span>

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> arraySize         
      a<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> i      
   <span class="token keyword">end do</span>  

<span class="token keyword">end subroutine</span> fillArray 


<span class="token keyword">subroutine</span> printArray<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span><span class="token punctuation">,</span><span class="token keyword">dimension</span> <span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">::</span> a  
   <span class="token keyword">integer</span><span class="token operator">::</span>i<span class="token punctuation">,</span> arraySize
   arraySize <span class="token operator">=</span> size<span class="token punctuation">(</span>a<span class="token punctuation">)</span>

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> arraySize
     <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> a<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
   <span class="token keyword">end do</span>

<span class="token keyword">end subroutine</span> printArray<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>请注意，该程序正在使用size函数，以获得阵列的大小。</p>
<p>让我们编译和运行上面的程序，这将产生以下结果：</p>
<pre><code>1
2
3
4
5
6
7
8
9
10</code></pre><h2 id="数组部分"><a href="#数组部分" class="headerlink" title="数组部分"></a>数组部分</h2><p>到目前为止，我们已经提到了整个数组，Fortran语言提供了一种简单的方法来引用几个元素，或者一个数组的一部分，使用单条语句。</p>
<p>访问一个数组片段，需要提供的下限和上限的部分，以及一个跨度（增量），对于所有的尺寸。这种表示法被称为下标三元组：</p>
<pre><code>array ([lower]:[upper][:stride], ...)</code></pre><p>当没有下限和上限提及，它默认为声明的范围，并且跨度值默认为1。</p>
<p>下面的例子演示了这一概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> arraySubsection

   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">::</span> a<span class="token punctuation">,</span> b
   <span class="token keyword">integer</span><span class="token operator">::</span> i<span class="token punctuation">,</span> asize<span class="token punctuation">,</span> bsize

   a<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">5.0</span> <span class="token comment" spellcheck="true">! a(1) to a(7) assigned 5.0</span>
   a<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0.0</span>  <span class="token comment" spellcheck="true">! rest are 0.0 </span>
   b<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3.9</span>
   b<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2.5</span>

   <span class="token comment" spellcheck="true">!display</span>
   asize <span class="token operator">=</span> size<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   bsize <span class="token operator">=</span> size<span class="token punctuation">(</span>b<span class="token punctuation">)</span>

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> asize
      <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> a<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
   <span class="token keyword">end do</span>

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> bsize
      <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> b<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
   <span class="token keyword">end do</span>

<span class="token keyword">end program</span> arraySubsection<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>让我们编译和运行上面的程序，这将产生以下结果：</p>
<pre><code>5.00000000    
5.00000000    
5.00000000    
5.00000000    
5.00000000    
5.00000000    
5.00000000    
0.00000000E+00
0.00000000E+00
0.00000000E+00
2.50000000    
3.90000010    
2.50000000    
3.90000010    
2.50000000    
3.90000010    
2.50000000    
3.90000010    
2.50000000    
3.90000010 </code></pre><h2 id="数组内部函数"><a href="#数组内部函数" class="headerlink" title="数组内部函数"></a>数组内部函数</h2><p>FORTRAN 90/95提供了一些固有的程序。它们可分为7类。</p>
<ul>
<li>​            向量和矩阵乘法</li>
<li>​            还原</li>
<li>​            查询</li>
<li>​            结构</li>
<li>​            重塑</li>
<li>​            处理</li>
<li>​            位置</li>
</ul>
<h1 id="Fortran向量和矩阵乘法函数"><a href="#Fortran向量和矩阵乘法函数" class="headerlink" title="Fortran向量和矩阵乘法函数"></a>Fortran向量和矩阵乘法函数</h1><p><strong>下表描述了向量和矩阵乘法函数：</strong></p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>dot_product(vector_a, vector_b)</td>
<td>函数返回两个输入向量，它必须具有相同长度的标量积。</td>
</tr>
<tr>
<td>matmul (matrix_a, matrix_b)</td>
<td>它返回两个矩阵的矩阵乘积，它必须是一致的，即具有相似大小 (m, k) 和 (k, n)</td>
</tr>
</tbody></table>
<p><strong>实例</strong></p>
<p>下面的例子演示了内积：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> arrayDotProduct

   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">::</span> a<span class="token punctuation">,</span> b
   <span class="token keyword">integer</span><span class="token operator">::</span> i<span class="token punctuation">,</span> asize<span class="token punctuation">,</span> bsize

   asize <span class="token operator">=</span> size<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   bsize <span class="token operator">=</span> size<span class="token punctuation">(</span>b<span class="token punctuation">)</span>

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> asize
      a<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> i
   <span class="token keyword">end do</span>

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> bsize
      b<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> i<span class="token operator">*</span><span class="token number">2</span>
   <span class="token keyword">end do</span>

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> asize
      <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> a<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
   <span class="token keyword">end do</span>

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> bsize
      <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> b<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
   <span class="token keyword">end do</span>

   <span class="token keyword">Print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Vector Multiplication: Dot Product:'</span>
   <span class="token keyword">Print</span><span class="token operator">*</span><span class="token punctuation">,</span> dot_product<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>

<span class="token keyword">end program</span> arrayDotProduct<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>1.00000000    
2.00000000    
3.00000000    
4.00000000    
5.00000000    
2.00000000    
4.00000000    
6.00000000    
8.00000000    
10.0000000    
Vector Multiplication: Dot Product:
110.000000   </code></pre><p><strong>实例</strong></p>
<p>下面的例子演示了矩阵乘法：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> matMulProduct

   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">::</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c
   <span class="token keyword">integer</span> <span class="token operator">::</span> i<span class="token punctuation">,</span> j

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
      <span class="token keyword">do</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
         a<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">=</span> i<span class="token operator">+</span>j
      <span class="token keyword">end do</span>
   <span class="token keyword">end do</span>

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Matrix Multiplication: A Matrix'</span>

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
      <span class="token keyword">do</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> a<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
      <span class="token keyword">end do</span>
   <span class="token keyword">end do</span>

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
      <span class="token keyword">do</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
         b<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">=</span> i<span class="token operator">*</span>j
      <span class="token keyword">end do</span>
   <span class="token keyword">end do</span>

   <span class="token keyword">Print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Matrix Multiplication: B Matrix'</span>

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
      <span class="token keyword">do</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> b<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
      <span class="token keyword">end do</span>
   <span class="token keyword">end do</span>

   c <span class="token operator">=</span> matmul<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
   <span class="token keyword">Print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Matrix Multiplication: Result Matrix'</span>

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
      <span class="token keyword">do</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> c<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
      <span class="token keyword">end do</span>
   <span class="token keyword">end do</span>

<span class="token keyword">end program</span> matMulProduct<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>Matrix Multiplication: A Matrix
2
3
4
3
4
5
4
5
6
 Matrix Multiplication: B Matrix
1
2
3
2
4
6
3
6
9
Matrix Multiplication: Result Matrix
20
40
60
26
52
78
32
64
96</code></pre><h1 id="Fortran还原功能"><a href="#Fortran还原功能" class="headerlink" title="Fortran还原功能"></a>Fortran还原功能</h1><p>下表描述了还原功能：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>all(mask, dim)</td>
<td>它返回一个逻辑值，指明掩码的所有关系是 .true。以及只有所需的维度，如果第二个参数是给定的。</td>
</tr>
<tr>
<td>any(mask, dim)</td>
<td>它返回一个逻辑值，指明掩码的任何关系是.true。以及只有所需的维度，如果第二个参数是给定的。</td>
</tr>
<tr>
<td>count(mask, dim)</td>
<td>它返回一个数字值，该值为掩码为 .true 关系的数目。以及所需的维数，如果第二个参数给出。</td>
</tr>
<tr>
<td>maxval(array, dim, mask)</td>
<td>它返回 的数组的数组中最大的值，那些遵守于第三个参数掩码的关系，如果一个给定的，以及具有只有所需的维数，如果第二个参数 dim给出的。</td>
</tr>
<tr>
<td>minval(array, dim, mask)</td>
<td>它返回数组的数组中那些遵守于第三个参数掩码的关系的最小值，如果一个给定的，以及具有仅在第二个参数 dim 给出所期望的维度。</td>
</tr>
<tr>
<td>product(array, dim, mask)</td>
<td>它返回该产品遵守于第三个参数掩码的关系，如果一个给定的，以及具有只有所需的维数，如果第二个参数 dim 给出的所有数组的数组中的元素，。</td>
</tr>
<tr>
<td>sum (array, dim, mask)</td>
<td>它返回 遵守于第三个参数掩码关系的总和，如果给定以及具有只有所需的维数，如果第二个参数 dim给出的所有数组的数组中的元素。</td>
</tr>
</tbody></table>
<p>例子</p>
<p>下面的例子演示了这一概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> arrayReduction

   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">::</span> a 
   a <span class="token operator">=</span> reshape<span class="token punctuation">(</span> <span class="token punctuation">(/</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">/)</span><span class="token punctuation">,</span> <span class="token punctuation">(/</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">/)</span> <span class="token punctuation">)</span> 

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> all<span class="token punctuation">(</span>a<span class="token operator">></span><span class="token number">5</span><span class="token punctuation">)</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> any<span class="token punctuation">(</span>a<span class="token operator">></span><span class="token number">5</span><span class="token punctuation">)</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> count<span class="token punctuation">(</span>a<span class="token operator">></span><span class="token number">5</span><span class="token punctuation">)</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> all<span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">5</span> <span class="token operator">.and.</span> a<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">)</span>

<span class="token keyword">end program</span> arrayReduction<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>F
T
5
F</code></pre><p><strong>实例</strong></p>
<p>下面的例子演示了这一概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> arrayReduction
<span class="token keyword">implicit none</span>

   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">::</span> a <span class="token operator">=</span> <span class="token punctuation">(/</span> <span class="token number">21.0</span><span class="token punctuation">,</span> <span class="token number">12.0</span><span class="token punctuation">,</span><span class="token number">33.0</span><span class="token punctuation">,</span> <span class="token number">24.0</span><span class="token punctuation">,</span> <span class="token number">15.0</span><span class="token punctuation">,</span> <span class="token number">16.0</span> <span class="token punctuation">/)</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> maxval<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> minval<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> sum<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> product<span class="token punctuation">(</span>a<span class="token punctuation">)</span>

<span class="token keyword">end program</span> arrayReduction <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>33.0000000    
12.0000000    
121.000000    
47900160.0 </code></pre><h1 id="Fortran查询函数"><a href="#Fortran查询函数" class="headerlink" title="Fortran查询函数"></a>Fortran查询函数</h1><p>下表描述了查询功能：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>allocated(array)</td>
<td>它是一个逻辑功能，它指示该阵列被分配。</td>
</tr>
<tr>
<td>lbound(array, dim)</td>
<td>它返回的数组的维数较低的限制。如果dim(尺寸)不给出一个参数，会得到一个整数向量，如果dim计算在内，得到的整数值正好具有较低维数的限制。</td>
</tr>
<tr>
<td>shape(source)</td>
<td>它返回一个阵列源为一个整数向量的形状。</td>
</tr>
<tr>
<td>size(array, dim)</td>
<td>它返回在数组元素的数目。如果dim没有给出，并在相关维数的元素个数，如果dim也包括在内。</td>
</tr>
<tr>
<td>ubound(array, dim)</td>
<td>它返回尺寸的限制。</td>
</tr>
</tbody></table>
<p>例子</p>
<p>下面的例子演示了这一概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> arrayInquiry

   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">::</span> a 
   a <span class="token operator">=</span> reshape<span class="token punctuation">(</span> <span class="token punctuation">(/</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">/)</span><span class="token punctuation">,</span> <span class="token punctuation">(/</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">/)</span> <span class="token punctuation">)</span> 

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> lbound<span class="token punctuation">(</span>a<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> ubound<span class="token punctuation">(</span>a<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> shape<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> size<span class="token punctuation">(</span>a<span class="token punctuation">,</span>dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">end program</span> arrayInquiry<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>1
3
3 2
3</code></pre><h1 id="Fortran构造函数"><a href="#Fortran构造函数" class="headerlink" title="Fortran构造函数"></a>Fortran构造函数</h1><p>下表介绍了结构功能：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>merge(tsource, fsource, mask)</td>
<td>该功能连接两个阵列。它给出了tsource及元素，如果mask条件是.true。如果掩码的条件是.false。这两个字段tsource 和fsource 必须是相同的类型并具有相同的形状。其结果也就是这种类型和形状。还掩码必须具有相同的形状。</td>
</tr>
<tr>
<td>pack(array, mask, vector)</td>
<td>它包一个阵列，以使用掩码的控制向量。逻辑阵列掩模的形状，具有以符合一个用于阵列，要不然掩码必须是一个标量。如果载体被包括在内，它必须是秩1与至少一样多的元素是在掩码为真，并且具有相同的类型的数组的数组(即一个向量)。如果掩码的值为.true。然后矢量代替必须的元件阵列的数量相同。</td>
</tr>
<tr>
<td>spread(source, dim, ncopies)</td>
<td>它返回相同类型作为参数源与秩增加一个阵列。参数dim 和ncopies都是整数。如果ncopies是负则用零值来代替。如果source是一个标量，然后扩散变得所有具有相同值 ncopies 元素的向量。参数dim 指示哪个索引将被延长。它必须是范围为1和1+(源级)中，如果 source 是一个标量，dim 必须是1。参数 ncopies 是在新的尺寸元素的数量。</td>
</tr>
<tr>
<td>unpack(vector, mask, array)</td>
<td>它散射一个载体，掩码下的控制阵列。逻辑阵列掩模的形状具有以符合一个用于数组。阵列载体必须具有等级1(即它是一个向量)与至少一样多的元素是那些掩码内值都为true，并且还必须具有相同类型阵列。如果阵列被给定为一个标量，然后它被认为是使用相同形状的掩码，并在同一标量元素无处不在的阵列。                              其结果将是具有相同形状的掩码和类型相同的矢量阵列。该值将是那些从所接受的载体，而在阵列的剩余位置的旧值被保留。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<p>下面的例子演示了这一概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> arrayConstruction
<span class="token keyword">implicit none</span>
   <span class="token keyword">interface</span>
      <span class="token keyword">subroutine</span> write_array <span class="token punctuation">(</span>a<span class="token punctuation">)</span>
         <span class="token keyword">real</span> <span class="token operator">::</span> a<span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span>
      <span class="token keyword">end subroutine</span> write_array

      <span class="token keyword">subroutine</span> write_l_array <span class="token punctuation">(</span>a<span class="token punctuation">)</span>
         <span class="token keyword">logical</span> <span class="token operator">::</span> a<span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span>
      <span class="token keyword">end subroutine</span> write_l_array
   <span class="token keyword">end interface</span>

   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">::</span> tsource<span class="token punctuation">,</span> fsource<span class="token punctuation">,</span> <span class="token keyword">result</span>
   <span class="token keyword">logical</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">::</span> mask

   tsource <span class="token operator">=</span> reshape<span class="token punctuation">(</span> <span class="token punctuation">(/</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">39</span> <span class="token punctuation">/)</span><span class="token punctuation">,</span> <span class="token punctuation">&amp;</span>
                    <span class="token punctuation">(/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">/)</span> <span class="token punctuation">)</span>
   fsource <span class="token operator">=</span> reshape<span class="token punctuation">(</span> <span class="token punctuation">(/</span> <span class="token number">-35</span><span class="token punctuation">,</span> <span class="token number">-23</span><span class="token punctuation">,</span> <span class="token number">-18</span><span class="token punctuation">,</span> <span class="token number">-28</span><span class="token punctuation">,</span> <span class="token number">-26</span><span class="token punctuation">,</span> <span class="token number">-39</span> <span class="token punctuation">/)</span><span class="token punctuation">,</span> <span class="token punctuation">&amp;</span>
                    <span class="token punctuation">(/</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">/)</span> <span class="token punctuation">)</span>
   mask <span class="token operator">=</span> reshape<span class="token punctuation">(</span> <span class="token punctuation">(/</span> <span class="token boolean">.true.</span><span class="token punctuation">,</span> <span class="token boolean">.false.</span><span class="token punctuation">,</span> <span class="token boolean">.false.</span><span class="token punctuation">,</span> <span class="token boolean">.true.</span><span class="token punctuation">,</span> <span class="token punctuation">&amp;</span>
                 <span class="token boolean">.false.</span><span class="token punctuation">,</span> <span class="token boolean">.false.</span> <span class="token punctuation">/)</span><span class="token punctuation">,</span> <span class="token punctuation">(/</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">/)</span> <span class="token punctuation">)</span>

   <span class="token keyword">result</span> <span class="token operator">=</span> merge<span class="token punctuation">(</span>tsource<span class="token punctuation">,</span> fsource<span class="token punctuation">,</span> mask<span class="token punctuation">)</span>
   <span class="token keyword">call</span> write_array<span class="token punctuation">(</span>tsource<span class="token punctuation">)</span>
   <span class="token keyword">call</span> write_array<span class="token punctuation">(</span>fsource<span class="token punctuation">)</span>
   <span class="token keyword">call</span> write_l_array<span class="token punctuation">(</span>mask<span class="token punctuation">)</span>
   <span class="token keyword">call</span> write_array<span class="token punctuation">(</span><span class="token keyword">result</span><span class="token punctuation">)</span>

<span class="token keyword">end program</span> arrayConstruction



<span class="token keyword">subroutine</span> write_array <span class="token punctuation">(</span>a<span class="token punctuation">)</span>

   <span class="token keyword">real</span> <span class="token operator">::</span> a<span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span>
   <span class="token keyword">do</span> i <span class="token operator">=</span> lbound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ubound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>a<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">,</span> j <span class="token operator">=</span> lbound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ubound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
   <span class="token keyword">end do</span>
   <span class="token keyword">return</span>

<span class="token keyword">end subroutine</span> write_array


<span class="token keyword">subroutine</span> write_l_array <span class="token punctuation">(</span>a<span class="token punctuation">)</span>

   <span class="token keyword">logical</span> <span class="token operator">::</span> a<span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span>
   <span class="token keyword">do</span> i <span class="token operator">=</span> lbound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ubound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>a<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">,</span> j<span class="token operator">=</span> lbound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ubound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token keyword">end do</span>
   <span class="token keyword">return</span>

<span class="token keyword">end subroutine</span> write_l_array<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>35.0000000   18.0000000   26.0000000    
23.0000000   28.0000000   39.0000000    
-35.0000000  -18.0000000  -26.0000000    
-23.0000000  -28.0000000  -39.0000000    
T F F
F T F
35.0000000   -18.0000000  -26.0000000    
-23.0000000  28.0000000   -39.0000000  </code></pre><h1 id="Fortran重塑函数"><a href="#Fortran重塑函数" class="headerlink" title="Fortran重塑函数"></a>Fortran重塑函数</h1><p>下表描述了重塑函数：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>reshape(source, shape, pad, order)</td>
<td>它构造一个特定形状的形状，从一个给定source阵列中的元素开始的数组。如果垫不包含则soure的尺寸必须至少为产物(形状)。如果pad包括在内，它必须具有相同的类型的soure。如果order被包括，它必须使用相同的形状的形状的整数数组，值必须是一个排列(1,2,3，…，n)，其中n是在形状要素的数量，它必须小于或等于7。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<p>下面的例子演示了这一概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> arrayReshape
<span class="token keyword">implicit none</span>

<span class="token keyword">interface</span>
   <span class="token keyword">subroutine</span> write_matrix<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">::</span> a
   <span class="token keyword">end subroutine</span> write_matrix
   <span class="token keyword">end interface</span>

   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">::</span> b <span class="token operator">=</span> <span class="token punctuation">(/</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">29</span> <span class="token punctuation">/)</span>
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">::</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">::</span> f<span class="token punctuation">,</span> g<span class="token punctuation">,</span> h

   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">::</span> order1 <span class="token operator">=</span> <span class="token punctuation">(/</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">/)</span>
   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">::</span> order2 <span class="token operator">=</span> <span class="token punctuation">(/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">/)</span>
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">::</span> pad1 <span class="token operator">=</span> <span class="token punctuation">(/</span> <span class="token number">-1</span><span class="token punctuation">,</span> <span class="token number">-2</span><span class="token punctuation">,</span> <span class="token number">-3</span><span class="token punctuation">,</span> <span class="token number">-4</span><span class="token punctuation">,</span> <span class="token number">-5</span><span class="token punctuation">,</span> <span class="token number">-6</span><span class="token punctuation">,</span> <span class="token number">-7</span><span class="token punctuation">,</span> <span class="token number">-8</span><span class="token punctuation">,</span> <span class="token punctuation">&amp;</span>
                                 <span class="token punctuation">&amp;</span> <span class="token number">-9</span><span class="token punctuation">,</span> <span class="token number">-10</span><span class="token punctuation">,</span> <span class="token number">-11</span><span class="token punctuation">,</span> <span class="token number">-12</span><span class="token punctuation">,</span> <span class="token number">-13</span><span class="token punctuation">,</span> <span class="token number">-14</span><span class="token punctuation">,</span> <span class="token number">-15</span><span class="token punctuation">,</span> <span class="token number">-16</span> <span class="token punctuation">/)</span>

   c <span class="token operator">=</span> reshape<span class="token punctuation">(</span> b<span class="token punctuation">,</span> <span class="token punctuation">(/</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">/)</span> <span class="token punctuation">)</span>
   <span class="token keyword">call</span> write_matrix<span class="token punctuation">(</span>c<span class="token punctuation">)</span>

   d <span class="token operator">=</span> reshape<span class="token punctuation">(</span> b<span class="token punctuation">,</span> <span class="token punctuation">(/</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">/)</span><span class="token punctuation">,</span> order <span class="token operator">=</span> order1<span class="token punctuation">)</span>
   <span class="token keyword">call</span> write_matrix<span class="token punctuation">(</span>d<span class="token punctuation">)</span>

   e <span class="token operator">=</span> reshape<span class="token punctuation">(</span> b<span class="token punctuation">,</span> <span class="token punctuation">(/</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">/)</span><span class="token punctuation">,</span> order <span class="token operator">=</span> order2<span class="token punctuation">)</span>
   <span class="token keyword">call</span> write_matrix<span class="token punctuation">(</span>e<span class="token punctuation">)</span>

   f <span class="token operator">=</span> reshape<span class="token punctuation">(</span> b<span class="token punctuation">,</span> <span class="token punctuation">(/</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">/)</span><span class="token punctuation">,</span> pad <span class="token operator">=</span> pad1<span class="token punctuation">)</span>
   <span class="token keyword">call</span> write_matrix<span class="token punctuation">(</span>f<span class="token punctuation">)</span>

   g <span class="token operator">=</span> reshape<span class="token punctuation">(</span> b<span class="token punctuation">,</span> <span class="token punctuation">(/</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">/)</span><span class="token punctuation">,</span> pad <span class="token operator">=</span> pad1<span class="token punctuation">,</span> order <span class="token operator">=</span> order1<span class="token punctuation">)</span>
   <span class="token keyword">call</span> write_matrix<span class="token punctuation">(</span>g<span class="token punctuation">)</span>

   h <span class="token operator">=</span> reshape<span class="token punctuation">(</span> b<span class="token punctuation">,</span> <span class="token punctuation">(/</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">/)</span><span class="token punctuation">,</span> pad <span class="token operator">=</span> pad1<span class="token punctuation">,</span> order <span class="token operator">=</span> order2<span class="token punctuation">)</span>
   <span class="token keyword">call</span> write_matrix<span class="token punctuation">(</span>h<span class="token punctuation">)</span>

<span class="token keyword">end program</span> arrayReshape


<span class="token keyword">subroutine</span> write_matrix<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">::</span> a
   <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span>

   <span class="token keyword">do</span> i <span class="token operator">=</span> lbound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ubound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>a<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">,</span> j <span class="token operator">=</span> lbound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ubound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token keyword">end do</span>
<span class="token keyword">end subroutine</span> write_matrix<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>21.0000000  24.0000000  27.0000000    
22.0000000  25.0000000  28.0000000    
23.0000000  26.0000000  29.0000000    

21.0000000  24.0000000  27.0000000    
22.0000000  25.0000000  28.0000000    
23.0000000  26.0000000  29.0000000    

21.0000000  22.0000000  23.0000000    
24.0000000  25.0000000  26.0000000    
27.0000000  28.0000000  29.0000000    

21.0000000  25.0000000  29.0000000   -4.00000000    
22.0000000  26.0000000  -1.00000000  -5.00000000    
23.0000000  27.0000000  -2.00000000  -6.00000000    
24.0000000  28.0000000  -3.00000000  -7.00000000    

21.0000000  25.0000000  29.0000000   -4.00000000    
22.0000000  26.0000000  -1.00000000  -5.00000000    
23.0000000  27.0000000  -2.00000000  -6.00000000    
24.0000000  28.0000000  -3.00000000  -7.00000000    

21.0000000  22.0000000  23.0000000   24.0000000    
25.0000000  26.0000000  27.0000000   28.0000000    
29.0000000  -1.00000000 -2.00000000  -3.00000000    
-4.00000000 -5.00000000 -6.00000000  -7.00000000 </code></pre><h1 id="Fortran操作函数"><a href="#Fortran操作函数" class="headerlink" title="Fortran操作函数"></a>Fortran操作函数</h1><p>处理函数平移功能。移位函数返回一个数组不变的形状，但移动元素。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>cshift(array, shift, dim)</td>
<td>它执行循环移位由移位置的左边，如果移位是正和到右侧，如果它是负的。如果阵列是一个矢量移位正在做以自然的方式中，如果它是一个较高级的阵列则移是沿着维数dim的所有部分。若dim缺少它被认为是1，在其它情况下它必须是1和n(其中n等于阵列的等级)之间的标量整数。该参数换档是一个标量整数或秩n-1个整数的数组和形状相同的阵列中，除沿维数dim(在较低级的，因为它被移除)。不同的部分，因此可以转移在各个方向上，并与各种数目的位置。</td>
</tr>
<tr>
<td>eoshift(array, shift, boundary, dim)</td>
<td>这是端关闭的转变。它执行向左移动，如果移位是正和到右侧，如果它是负的。相反的元素移出新元素均取自边界。如果阵列是一个矢量移位正在做以自然的方式中，如果它是一个较高级的阵列，在所有各节中的移位是以及该维度暗淡。若 dim 丢失，它被认为是1，但在其它情况下，它为1和n(其中n等于阵列的秩)之间有一个标量的整数值。该参数换档是一个标量整数，如果阵列具有秩1，在其他情况下，它可以是一个标量整数或秩n-1和形状相同的阵列排列的与除沿维数dim 的整数数组(其被取出因为较低级的)。</td>
</tr>
<tr>
<td>transpose (matrix)</td>
<td>其转置矩阵，这是秩2的阵列它取代了的行和列矩阵。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<p>下面的例子演示了这一概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> arrayShift
<span class="token keyword">implicit none</span>

   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">::</span> a <span class="token operator">=</span> <span class="token punctuation">(/</span> <span class="token number">21.0</span><span class="token punctuation">,</span> <span class="token number">22.0</span><span class="token punctuation">,</span> <span class="token number">23.0</span><span class="token punctuation">,</span> <span class="token number">24.0</span><span class="token punctuation">,</span> <span class="token number">25.0</span><span class="token punctuation">,</span> <span class="token number">26.0</span> <span class="token punctuation">/)</span>
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">::</span> x<span class="token punctuation">,</span> y
   <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> a

   x <span class="token operator">=</span> cshift <span class="token punctuation">(</span> a<span class="token punctuation">,</span> shift <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span>
   <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> x

   y <span class="token operator">=</span> cshift <span class="token punctuation">(</span>a<span class="token punctuation">,</span> shift <span class="token operator">=</span> <span class="token number">-2</span><span class="token punctuation">)</span>
   <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> y

   x <span class="token operator">=</span> eoshift <span class="token punctuation">(</span> a<span class="token punctuation">,</span> shift <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span>
   <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> x

   y <span class="token operator">=</span> eoshift <span class="token punctuation">(</span> a<span class="token punctuation">,</span> shift <span class="token operator">=</span> <span class="token number">-2</span><span class="token punctuation">)</span>
   <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> y

   <span class="token number">10</span> <span class="token keyword">format</span><span class="token punctuation">(</span><span class="token number">1</span>x<span class="token punctuation">,</span><span class="token number">6</span>f6<span class="token number">.1</span><span class="token punctuation">)</span>

<span class="token keyword">end program</span> arrayShift<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>21.0  22.0  23.0  24.0  25.0  26.0
23.0  24.0  25.0  26.0  21.0  22.0
25.0  26.0  21.0  22.0  23.0  24.0
23.0  24.0  25.0  26.0   0.0   0.0
0.0    0.0  21.0  22.0  23.0  24.0</code></pre><p><strong>示例</strong></p>
<p>下面的例子演示了转置矩阵：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> matrixTranspose
<span class="token keyword">implicit none</span>

   <span class="token keyword">interface</span>
      <span class="token keyword">subroutine</span> write_matrix<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
         <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">::</span> a
      <span class="token keyword">end subroutine</span> write_matrix
   <span class="token keyword">end interface</span>

   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">::</span> a<span class="token punctuation">,</span> b
   <span class="token keyword">integer</span> <span class="token operator">::</span> i<span class="token punctuation">,</span> j

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
      <span class="token keyword">do</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span>
         a<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">=</span> i
      <span class="token keyword">end do</span>
   <span class="token keyword">end do</span>

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Matrix Transpose: A Matrix'</span>

   <span class="token keyword">call</span> write_matrix<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   b <span class="token operator">=</span> transpose<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'Transposed Matrix:'</span>

   <span class="token keyword">call</span> write_matrix<span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token keyword">end program</span> matrixTranspose


<span class="token keyword">subroutine</span> write_matrix<span class="token punctuation">(</span>a<span class="token punctuation">)</span>

   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">::</span> a
   <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span>

   <span class="token keyword">do</span> i <span class="token operator">=</span> lbound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ubound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>a<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">,</span> j <span class="token operator">=</span> lbound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ubound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token keyword">end do</span>

<span class="token keyword">end subroutine</span> write_matrix<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>Matrix Transpose: A Matrix

1  1  1
2  2  2
3  3  3
Transposed Matrix:

1  2  3
1  2  3
1  2  3</code></pre><h1 id="Fortran位置函数"><a href="#Fortran位置函数" class="headerlink" title="Fortran位置函数"></a>Fortran位置函数</h1><p>下表描述了位置函数：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>maxloc(array, mask)</td>
<td>它返回数组中的最大元素的位置上，如果掩码仅包含那些其中满足条件的掩码，则返回位置，其结果是一个整数向量。</td>
</tr>
<tr>
<td>minloc(array, mask)</td>
<td>它返回数组的数组中的最小元素的位置，如果掩码仅包含那些其中满足条件的掩码，则返回位置，其结果是一个整数向量。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<p>下面的例子演示了这一概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> arrayLocation
<span class="token keyword">implicit none</span>

   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">::</span> a <span class="token operator">=</span> <span class="token punctuation">(/</span> <span class="token number">21.0</span><span class="token punctuation">,</span> <span class="token number">12.0</span><span class="token punctuation">,</span><span class="token number">33.0</span><span class="token punctuation">,</span> <span class="token number">24.0</span><span class="token punctuation">,</span> <span class="token number">15.0</span><span class="token punctuation">,</span> <span class="token number">16.0</span> <span class="token punctuation">/)</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> maxloc<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> minloc<span class="token punctuation">(</span>a<span class="token punctuation">)</span>

<span class="token keyword">end program</span> arrayLocation   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>3
2</code></pre><h1 id="Fortran动态数组"><a href="#Fortran动态数组" class="headerlink" title="Fortran动态数组"></a>Fortran动态数组</h1><p>动态数组是一种数组，其尺寸在编译时不知道，而是在执行时才已知/确定的。</p>
<p>动态数组的属性使用 allocatable 声明。 .</p>
<p>例如，</p>
<pre><code>real, dimension (:,:), allocatable :: darray    </code></pre><p>数组的秩，即尺寸，必须提到但是，分配内存以这样的阵列，可以使用allocate函数。</p>
<pre><code>allocate ( darray(s1,s2) )      </code></pre><p>该阵列使用后，在该程序中，所创建的存储器应该使用 deallocate 函数解除</p>
<pre><code>deallocate (darray)  </code></pre><p><strong>示例</strong></p>
<p>下面的例子演示了上面讨论的概念。</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> dynamic_array 
<span class="token keyword">implicit none</span> 

   <span class="token comment" spellcheck="true">!rank is 2, but size not known   </span>
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span> <span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">allocatable</span> <span class="token operator">::</span> darray    
   <span class="token keyword">integer</span> <span class="token operator">::</span> s1<span class="token punctuation">,</span> s2     
   <span class="token keyword">integer</span> <span class="token operator">::</span> i<span class="token punctuation">,</span> j     

   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Enter the size of the array:"</span>     
   <span class="token keyword">read</span><span class="token operator">*</span><span class="token punctuation">,</span> s1<span class="token punctuation">,</span> s2      

   <span class="token comment" spellcheck="true">! allocate memory      </span>
   <span class="token keyword">allocate</span> <span class="token punctuation">(</span> darray<span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">)</span> <span class="token punctuation">)</span>      

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> s1           
      <span class="token keyword">do</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> s2                
         darray<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span> <span class="token operator">=</span> i<span class="token operator">*</span>j               
         <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"darray("</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token string">","</span><span class="token punctuation">,</span>j<span class="token punctuation">,</span><span class="token string">") = "</span><span class="token punctuation">,</span> darray<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span>           
      <span class="token keyword">end do</span>      
   <span class="token keyword">end do</span>      

   <span class="token keyword">deallocate</span> <span class="token punctuation">(</span>darray<span class="token punctuation">)</span>  
<span class="token keyword">end program</span> dynamic_array<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>Enter the size of the array: 3,4
darray( 1 , 1 ) = 1.00000000    
darray( 1 , 2 ) = 2.00000000    
darray( 1 , 3 ) = 3.00000000    
darray( 1 , 4 ) = 4.00000000    
darray( 2 , 1 ) = 2.00000000    
darray( 2 , 2 ) = 4.00000000    
darray( 2 , 3 ) = 6.00000000    
darray( 2 , 4 ) = 8.00000000    
darray( 3 , 1 ) = 3.00000000    
darray( 3 , 2 ) = 6.00000000    
darray( 3 , 3 ) = 9.00000000    
darray( 3 , 4 ) = 12.0000000   </code></pre><h2 id="使用data语句"><a href="#使用data语句" class="headerlink" title="使用data语句"></a>使用data语句</h2><p>data 语句可用于初始化多个阵列，或用于阵列部分的初始化。</p>
<p>data 语句的语法是：</p>
<pre><code>data variable / list / ...</code></pre><p><strong>示例</strong></p>
<p>下面的例子演示了这一概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> dataStatement
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span> <span class="token operator">::</span> a<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span> j
   <span class="token keyword">data</span> a <span class="token operator">/</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token operator">/</span> 

   <span class="token keyword">data</span> b<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">/</span> 
   <span class="token keyword">data</span> b<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">/</span> 
   <span class="token keyword">data</span> b<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">/</span> 
   <span class="token keyword">data</span> <span class="token punctuation">(</span>c<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token operator">/</span> 
   <span class="token keyword">data</span> <span class="token punctuation">(</span>c<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">5</span><span class="token operator">*</span><span class="token number">2</span><span class="token operator">/</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'The A array:'</span>
   <span class="token keyword">do</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span>                
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> a<span class="token punctuation">(</span>j<span class="token punctuation">)</span>           
   <span class="token keyword">end do</span> 

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'The B array:'</span>
   <span class="token keyword">do</span> i <span class="token operator">=</span> lbound<span class="token punctuation">(</span>b<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ubound<span class="token punctuation">(</span>b<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>b<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">,</span> j <span class="token operator">=</span> lbound<span class="token punctuation">(</span>b<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ubound<span class="token punctuation">(</span>b<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token keyword">end do</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'The C array:'</span> 
   <span class="token keyword">do</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span>                
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> c<span class="token punctuation">(</span>j<span class="token punctuation">)</span>           
   <span class="token keyword">end do</span>      

<span class="token keyword">end program</span> dataStatement<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>The A array:
7
8
9
10
11
The B array:
1  1  1
2  2  2
3  3  3
The C array:
4
2
5
2
6
2
7
2
8
2</code></pre><h2 id="使用where语句"><a href="#使用where语句" class="headerlink" title="使用where语句"></a>使用where语句</h2><p>where语句可以使用数组中的某些元素在一个表达式，根据一些逻辑条件的结果。它允许表达的执行在一个元素上，如果给定的条件为真。</p>
<p><strong>例子</strong></p>
<p>下面的例子演示了这一概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> whereStatement
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span> <span class="token operator">::</span> a<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> i <span class="token punctuation">,</span> j

   <span class="token keyword">do</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span>
      <span class="token keyword">do</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span>                
         a<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span> <span class="token operator">=</span> j<span class="token operator">-</span>i          
      <span class="token keyword">end do</span> 
   <span class="token keyword">end do</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'The A array:'</span>

   <span class="token keyword">do</span> i <span class="token operator">=</span> lbound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ubound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>a<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">,</span> j <span class="token operator">=</span> lbound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ubound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token keyword">end do</span>

   <span class="token keyword">where</span><span class="token punctuation">(</span> a<span class="token operator">&lt;</span><span class="token number">0</span> <span class="token punctuation">)</span> 
      a <span class="token operator">=</span> <span class="token number">1</span> 
   <span class="token keyword">elsewhere</span>
      a <span class="token operator">=</span> <span class="token number">5</span>
   <span class="token keyword">end where</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">'The A array:'</span>
   <span class="token keyword">do</span> i <span class="token operator">=</span> lbound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ubound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>a<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">,</span> j <span class="token operator">=</span> lbound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ubound<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token keyword">end do</span>   

<span class="token keyword">end program</span> whereStatement<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>The A array:
0   1   2  3  4
-1  0   1  2  3
-2  -1  0  1  2
The A array:
5   5   5  5  5
1   5   5  5  5
1   1   5  5  5</code></pre><h1 id="Fortran导出数据类型"><a href="#Fortran导出数据类型" class="headerlink" title="Fortran导出数据类型"></a>Fortran导出数据类型</h1><p>Fortran语言可以定义导出的数据类型。导出的数据类型也被称为一个结构，它可以包含不同类型的数据对象。</p>
<p>导出的数据类型被用来代表一个记录。例如要跟踪在图书馆的书，可能希望跟踪的每本书有如下属性：</p>
<ul>
<li>​        标题- Title</li>
<li>​        作者 - Author</li>
<li>​        科目 - Subject</li>
<li>​        编号 - Book ID</li>
</ul>
<h2 id="定义一个导出的数据类型"><a href="#定义一个导出的数据类型" class="headerlink" title="定义一个导出的数据类型"></a>定义一个导出的数据类型</h2><p>定义一个派生数据类型，类型和端类型的语句被使用。类型语句定义了一个新的数据类型，项目不止一个成员。类型声明的格式是这样的：</p>
<pre><code>type type_name      
   declarations
end type </code></pre><p>这里是会声明书的结构方式：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">type</span> Books
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">::</span> title
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">::</span> author
   <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">150</span><span class="token punctuation">)</span> <span class="token operator">::</span> subject
   <span class="token keyword">integer</span> <span class="token operator">::</span> book_id
<span class="token keyword">end type</span> Books<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="访问结构成员"><a href="#访问结构成员" class="headerlink" title="访问结构成员"></a>访问结构成员</h2><p>一个派生数据类型的对象被称为结构</p>
<p>类型书籍(Books) 的结构像一个类型声明语句创建如下：</p>
<pre><code>type(Books) :: book1 </code></pre><p>结构的组成部分可以使用该组件选择字符(%)进行访问 :</p>
<pre class="line-numbers language-fortran"><code class="language-fortran">book1<span class="token operator">%</span>title <span class="token operator">=</span> <span class="token string">"C Programming"</span>
book1<span class="token operator">%</span>author <span class="token operator">=</span> <span class="token string">"Nuha Ali"</span>
book1<span class="token operator">%</span>subject <span class="token operator">=</span> <span class="token string">"C Programming Tutorial"</span>
book1<span class="token operator">%</span>book_id <span class="token operator">=</span> <span class="token number">6495407</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>请注意，</strong>％符号前后没有空格。</p>
<p><strong>示例</strong></p>
<p>下面的程序说明了上述概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> deriveDataType

   <span class="token comment" spellcheck="true">!type declaration</span>
   <span class="token keyword">type</span> Books
      <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">::</span> title
      <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">::</span> author
      <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">150</span><span class="token punctuation">)</span> <span class="token operator">::</span> subject
      <span class="token keyword">integer</span> <span class="token operator">::</span> book_id
   <span class="token keyword">end type</span> Books

   <span class="token comment" spellcheck="true">!declaring type variables</span>
   <span class="token keyword">type</span><span class="token punctuation">(</span>Books<span class="token punctuation">)</span> <span class="token operator">::</span> book1 
   <span class="token keyword">type</span><span class="token punctuation">(</span>Books<span class="token punctuation">)</span> <span class="token operator">::</span> book2 

   <span class="token comment" spellcheck="true">!accessing the components of the structure</span>

   book1<span class="token operator">%</span>title <span class="token operator">=</span> <span class="token string">"C Programming"</span>
   book1<span class="token operator">%</span>author <span class="token operator">=</span> <span class="token string">"Nuha Ali"</span>
   book1<span class="token operator">%</span>subject <span class="token operator">=</span> <span class="token string">"C Programming Tutorial"</span>
   book1<span class="token operator">%</span>book_id <span class="token operator">=</span> <span class="token number">6495407</span> 

   book2<span class="token operator">%</span>title <span class="token operator">=</span> <span class="token string">"Telecom Billing"</span>
   book2<span class="token operator">%</span>author <span class="token operator">=</span> <span class="token string">"Zara Ali"</span>
   book2<span class="token operator">%</span>subject <span class="token operator">=</span> <span class="token string">"Telecom Billing Tutorial"</span>
   book2<span class="token operator">%</span>book_id <span class="token operator">=</span> <span class="token number">6495700</span>

   <span class="token comment" spellcheck="true">!display book info</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> book1<span class="token operator">%</span>title 
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> book1<span class="token operator">%</span>author 
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> book1<span class="token operator">%</span>subject 
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> book1<span class="token operator">%</span>book_id  

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> book2<span class="token operator">%</span>title 
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> book2<span class="token operator">%</span>author 
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> book2<span class="token operator">%</span>subject 
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> book2<span class="token operator">%</span>book_id  

<span class="token keyword">end program</span> deriveDataType<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code> C Programming                                     
 Nuha Ali                                          
 C Programming Tutorial            
     6495407
 Telecom Billing                                   
 Zara Ali                                          
 Telecom Billing Tutorial            
     6495700</code></pre><h2 id="结构数组"><a href="#结构数组" class="headerlink" title="结构数组"></a>结构数组</h2><p>还可以创建一个派生类型的数组：</p>
<pre><code>type(Books), dimension(2) :: list</code></pre><p>数组的单个元素，可以访问如下：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran">list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>title <span class="token operator">=</span> <span class="token string">"C Programming"</span>
list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>author <span class="token operator">=</span> <span class="token string">"Nuha Ali"</span>
list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>subject <span class="token operator">=</span> <span class="token string">"C Programming Tutorial"</span>
list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>book_id <span class="token operator">=</span> <span class="token number">6495407</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>下面的程序说明了这个概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> deriveDataType

   <span class="token comment" spellcheck="true">!type declaration</span>
   <span class="token keyword">type</span> Books
      <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">::</span> title
      <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">::</span> author
      <span class="token keyword">character</span><span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">150</span><span class="token punctuation">)</span> <span class="token operator">::</span> subject
      <span class="token keyword">integer</span> <span class="token operator">::</span> book_id
   <span class="token keyword">end type</span> Books

   <span class="token comment" spellcheck="true">!declaring array of books</span>
   <span class="token keyword">type</span><span class="token punctuation">(</span>Books<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">::</span> list 

   <span class="token comment" spellcheck="true">!accessing the components of the structure</span>

   list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>title <span class="token operator">=</span> <span class="token string">"C Programming"</span>
   list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>author <span class="token operator">=</span> <span class="token string">"Nuha Ali"</span>
   list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>subject <span class="token operator">=</span> <span class="token string">"C Programming Tutorial"</span>
   list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>book_id <span class="token operator">=</span> <span class="token number">6495407</span> 

   list<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">%</span>title <span class="token operator">=</span> <span class="token string">"Telecom Billing"</span>
   list<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">%</span>author <span class="token operator">=</span> <span class="token string">"Zara Ali"</span>
   list<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">%</span>subject <span class="token operator">=</span> <span class="token string">"Telecom Billing Tutorial"</span>
   list<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">%</span>book_id <span class="token operator">=</span> <span class="token number">6495700</span>

   <span class="token comment" spellcheck="true">!display book info</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>title 
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>author 
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>subject 
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>book_id  

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>title 
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> list<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">%</span>author 
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> list<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">%</span>subject 
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> list<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">%</span>book_id  

<span class="token keyword">end program</span> deriveDataType<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>C Programming                                     
Nuha Ali                                          
C Programming Tutorial               
   6495407
C Programming                                     
Zara Ali                                          
Telecom Billing Tutorial                                      
   6495700</code></pre><h1 id="Fortran指针"><a href="#Fortran指针" class="headerlink" title="Fortran指针"></a>Fortran指针</h1><p>在大多数编程语言中，一个指针变量存储对象的内存地址。然而，在Fortran中，指针是具有不是仅仅存储存储器地址多功能性的数据对象。它包含有关特定对象的详细信息，如类型，等级，扩展和存储器地址。</p>
<p>指针是通过分配或指针赋值的目标相关联。</p>
<h2 id="声明一个指针变量"><a href="#声明一个指针变量" class="headerlink" title="声明一个指针变量"></a>声明一个指针变量</h2><p>一个指针变量与指针属性声明。</p>
<p>下面的实施例示出了声明指针变量：</p>
<pre><code>integer, pointer :: p1 ! pointer to integer  
real, pointer, dimension (:) :: pra ! pointer to 1-dim real array  
real, pointer, dimension (:,:) :: pra2 ! pointer to 2-dim real array</code></pre><p>指针可以指向：</p>
<ul>
<li>​        动态分配的内存区域</li>
<li>​        数据对象与目标属性相同类型的指针</li>
</ul>
<h2 id="分配指针的空间"><a href="#分配指针的空间" class="headerlink" title="分配指针的空间"></a>分配指针的空间</h2><p>allocate语句可以分配指针对象空间。例如：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> pointerExample
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">pointer</span> <span class="token operator">::</span> p1
   <span class="token keyword">allocate</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span>

   p1 <span class="token operator">=</span> <span class="token number">1</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> p1

   p1 <span class="token operator">=</span> p1 <span class="token operator">+</span> <span class="token number">4</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> p1

<span class="token keyword">end program</span> pointerExample<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>1
5</code></pre><p>应该解除分配语句清空该分配的存储空间当它不再需要，并避免未使用的和不可用的存储器空间的积累。</p>
<h2 id="目标和关联"><a href="#目标和关联" class="headerlink" title="目标和关联"></a>目标和关联</h2><p>目标是另一个正态变量，空间预留给它。目标变量必须与目标属性进行声明。</p>
<p>一个指针变量使用的关联操作符使目标变量相关联(=&gt;)。</p>
<p>让我们重写前面的例子中，以说明这个概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> pointerExample
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">pointer</span> <span class="token operator">::</span> p1
   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">target</span> <span class="token operator">::</span> t1 

   p1<span class="token operator">=></span>t1
   p1 <span class="token operator">=</span> <span class="token number">1</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> p1
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> t1

   p1 <span class="token operator">=</span> p1 <span class="token operator">+</span> <span class="token number">4</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> p1
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> t1

   t1 <span class="token operator">=</span> <span class="token number">8</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> p1
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> t1

<span class="token keyword">end program</span> pointerExample<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>1
1
5
5
8
8</code></pre><p>指针可以是：</p>
<ul>
<li>​        未定义的</li>
<li>​        关联的</li>
<li>​        未关联的</li>
</ul>
<p>在上面的程序中，我们使用associated的指针p1与目标t1时，使用=&gt;运算符。相关的函数，测试指针的关联状态。</p>
<p>这个声明无效的关联从一个目标一个指针。</p>
<p>无效非空目标，因为可能有多个指针指向同一个目标。然而空指针指也是无效的。</p>
<p>示例 1</p>
<p>下面的例子演示了概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> pointerExample
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">pointer</span> <span class="token operator">::</span> p1
   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">target</span> <span class="token operator">::</span> t1 
   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">target</span> <span class="token operator">::</span> t2

   p1<span class="token operator">=></span>t1
   p1 <span class="token operator">=</span> <span class="token number">1</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> p1
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> t1

   p1 <span class="token operator">=</span> p1 <span class="token operator">+</span> <span class="token number">4</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> p1
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> t1

   t1 <span class="token operator">=</span> <span class="token number">8</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> p1
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> t1

   <span class="token keyword">nullify</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> t1

   p1<span class="token operator">=></span>t2
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> associated<span class="token punctuation">(</span>p1<span class="token punctuation">)</span>
   <span class="token keyword">Print</span><span class="token operator">*</span><span class="token punctuation">,</span> associated<span class="token punctuation">(</span>p1<span class="token punctuation">,</span> t1<span class="token punctuation">)</span>
   <span class="token keyword">Print</span><span class="token operator">*</span><span class="token punctuation">,</span> associated<span class="token punctuation">(</span>p1<span class="token punctuation">,</span> t2<span class="token punctuation">)</span>

   <span class="token comment" spellcheck="true">!what is the value of p1 at present</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> p1
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> t2

   p1 <span class="token operator">=</span> <span class="token number">10</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> p1
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> t2

<span class="token keyword">end program</span> pointerExample<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>1
1
5
5
8
8
8
T
F
T
952754640
952754640
10
10</code></pre><p>请注意，每次运行该代码时，内存地址会有所不同。</p>
<p><strong>示例 2</strong></p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> pointerExample
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">pointer</span> <span class="token operator">::</span> a<span class="token punctuation">,</span> b
   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">target</span> <span class="token operator">::</span> t
   <span class="token keyword">integer</span> <span class="token operator">::</span> n

   t<span class="token operator">=</span> <span class="token number">1</span>
   a<span class="token operator">=></span>t
   t <span class="token operator">=</span> <span class="token number">2</span>
   b <span class="token operator">=></span> t
   n <span class="token operator">=</span> a <span class="token operator">+</span> b

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> t<span class="token punctuation">,</span> n 

<span class="token keyword">end program</span> pointerExample<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>2  2  2  4</code></pre><h1 id="Fortran基本输入输出"><a href="#Fortran基本输入输出" class="headerlink" title="Fortran基本输入输出"></a>Fortran基本输入输出</h1><p>到目前为止，我们已看到，我们可以使用打印print<em>语句，以及读取键盘使用read</em>语句，并显示数据输出到屏幕上。这种形式的输入输出是自由格式的I/O，它被称为列表控制的输入输出。</p>
<p>自由格式简单I/O的形式为：</p>
<pre><code>read(*,*) item1, item2, item3...
print *, item1, item2, item3
write(*,*) item1, item2, item3...</code></pre><p>然而，格式化I/O使数据传输有更多的灵活性。</p>
<h2 id="格式化输入输出"><a href="#格式化输入输出" class="headerlink" title="格式化输入输出"></a>格式化输入输出</h2><p>格式化输入输出有语法如下：</p>
<pre><code>read fmt, variable_list 
print fmt, variable_list 
write fmt, variable_list </code></pre><p>其中，</p>
<ul>
<li>​            fmt 是格式规范</li>
<li>​            variable-list 要被从键盘读或写在屏幕上的变量的列表</li>
</ul>
<p>格式规范定义了在其上显示格式化的数据的方式。它由一个字符串，包含了编辑描述符在括号中的列表。</p>
<p>编辑描述符指定的确切格式，例如宽度，其中字符和数字被显示小数点后等，数字位数。</p>
<p>例如：</p>
<pre><code>Print "(f6.3)", pi</code></pre><p>下表描述了描述：</p>
<table>
<thead>
<tr>
<th>描述符</th>
<th>描述</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>I</td>
<td>这是用于整数输出。此采用的形式为“rIw.m’，其中 r, w 和m 的含义在下面的表格中给出。真正的值在它们字段右侧适应。如果字段宽度不足以容纳一个整数则用星号代替。</td>
<td>print “(3i5)”, i, j, k</td>
</tr>
<tr>
<td>F</td>
<td>这是用于实数输出。此采用的形式为“rFw.d’，其中r, w 和 d 的含义在下面的表格中给出。真正的值在它们字段右侧适应。 如果字段宽度不足够大以容纳所述实数则字段用星号表示。</td>
<td>print “(f12.3)”,pi</td>
</tr>
<tr>
<td>E</td>
<td>这是用于指数形式实时输出。在“E”描述语句的形式为’rEw.d’，其中r，w和d的含义如下表中给出。真正的值在它们字段右侧适应. 如果字段宽度不足够大以容纳所述实数则字段用星号表示。                              请注意，打印出与三位小数，实数至少10需要一个字段宽度。一个用于尾数，2为零，4为尾数部分和两个用于指数本身的符号。在一般情况下，w≥ d +7。</td>
<td>print “(e10.3)”,123456.0 gives ‘0.123e+06’</td>
</tr>
<tr>
<td>ES</td>
<td>这是用于实时输出（科学计数法）。此采用的形式为“rESw.d’，其中 r, w 和 d的含义在下面的表格中给出。上述的“E”描述从传统的众所周知的“科学表示法”略有不同。科学表示法具有尾数范围为1.0至10.0对E描述符，它具有在范围0.1到1.0的尾数不同。真实的值在字段的右侧。如果字段宽度不足够大以容纳所述实数则字段用星号表示。这里，字段宽度必须满足 w ≥ d +7</td>
<td>print “(es10.3)”,123456.0 gives ‘1.235e+05’</td>
</tr>
<tr>
<td>A</td>
<td>这是用于字符输出。 此采用的形式为“rAw”，其中r和w的含义在下面的表格中给出。字符类型是在它们的字段右侧。如果字段宽度不足于以容纳该字符串则字段的第一个“w”字符的字符串。</td>
<td>print “(a10)”, str</td>
</tr>
<tr>
<td>X</td>
<td>这是用于空间输出。这需要形式’nX’，其中“n”是所需的空间数量。</td>
<td>print “(5x, a10)”, str</td>
</tr>
<tr>
<td>/</td>
<td>斜杠描述 - 用于插入空行。这需要的形式’/‘，并强制下一个数据输出为一个新行。</td>
<td>print “(/,5x, a10)”, str</td>
</tr>
</tbody></table>
<p>以下符号用于格式描述符：</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>c</td>
<td>列数</td>
</tr>
<tr>
<td>d</td>
<td>右侧的小数位数为真正的输入或输出</td>
</tr>
<tr>
<td>m</td>
<td>要显示的最小位数</td>
</tr>
<tr>
<td>n</td>
<td>跳过的空格数</td>
</tr>
<tr>
<td>r</td>
<td>重复次数 - 使用描述或组描述符的次数</td>
</tr>
<tr>
<td>w</td>
<td>字段宽度- 字符数用于输入或输出</td>
</tr>
</tbody></table>
<p><strong>示例 1</strong></p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> printPi

   pi <span class="token operator">=</span> <span class="token number">3.141592653589793238</span> 

   <span class="token keyword">Print</span> <span class="token string">"(f6.3)"</span><span class="token punctuation">,</span> pi 
   <span class="token keyword">Print</span> <span class="token string">"(f10.7)"</span><span class="token punctuation">,</span> pi
   <span class="token keyword">Print</span> <span class="token string">"(f20.15)"</span><span class="token punctuation">,</span> pi 
   <span class="token keyword">Print</span> <span class="token string">"(e16.4)"</span><span class="token punctuation">,</span> pi<span class="token operator">/</span><span class="token number">100</span> 

<span class="token keyword">end program</span> printPi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>3.142
3.1415927
3.141592741012573
0.3142E-01</code></pre><p><strong>实例 2</strong></p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> printName
<span class="token keyword">implicit none</span>

   <span class="token keyword">character</span> <span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">::</span> first_name
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">' Enter your first name.'</span> 
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">' Up to 20 characters, please'</span>

   <span class="token keyword">read</span> <span class="token operator">*</span><span class="token punctuation">,</span>first_name 
   <span class="token keyword">print</span> <span class="token string">"(1x,a)"</span><span class="token punctuation">,</span>first_name

<span class="token keyword">end program</span> printName<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：(假设用户输入的名称为 Zara)</p>
<pre><code>Enter your first name.
Up to 20 characters, please
Zara </code></pre><p><strong>实例 3</strong></p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> formattedPrint
<span class="token keyword">implicit none</span>

   <span class="token keyword">real</span> <span class="token operator">::</span> c <span class="token operator">=</span> <span class="token number">1.2786456e-9</span><span class="token punctuation">,</span> d <span class="token operator">=</span> <span class="token number">0.1234567e3</span> 
   <span class="token keyword">integer</span> <span class="token operator">::</span> n <span class="token operator">=</span> <span class="token number">300789</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">45</span><span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">2</span>
   <span class="token keyword">character</span> <span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">::</span> str<span class="token operator">=</span><span class="token string">"Tutorials Point"</span>

   <span class="token keyword">print</span> <span class="token string">"(i6)"</span><span class="token punctuation">,</span> k 
   <span class="token keyword">print</span> <span class="token string">"(i6.3)"</span><span class="token punctuation">,</span> k 
   <span class="token keyword">print</span> <span class="token string">"(3i10)"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> k<span class="token punctuation">,</span> i 
   <span class="token keyword">print</span> <span class="token string">"(i10,i3,i5)"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> k<span class="token punctuation">,</span> i 
   <span class="token keyword">print</span> <span class="token string">"(a15)"</span><span class="token punctuation">,</span>str 
   <span class="token keyword">print</span> <span class="token string">"(f12.3)"</span><span class="token punctuation">,</span> d
   <span class="token keyword">print</span> <span class="token string">"(e12.4)"</span><span class="token punctuation">,</span> c 
   <span class="token keyword">print</span> <span class="token string">'(/,3x,"n = ",i6, 3x, "d = ",f7.4)'</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> d

<span class="token keyword">end program</span> formattedPrint<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>45
045
300789 45  2
300789 45  2
Tutorials Point
123.457
0.1279E-08

n = 300789 d = *******</code></pre><h2 id="Format语句"><a href="#Format语句" class="headerlink" title="Format语句"></a>Format语句</h2><p>format语句允许混合并匹配字符，整数和实际输出在一条语句中。下面的例子说明了这一点：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> productDetails 
<span class="token keyword">implicit none</span> 

   <span class="token keyword">character</span> <span class="token punctuation">(</span>len<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">::</span> name
   <span class="token keyword">integer</span> <span class="token operator">::</span> id 
   <span class="token keyword">real</span> <span class="token operator">::</span> weight
   name <span class="token operator">=</span> <span class="token string">'Ardupilot'</span>
   id <span class="token operator">=</span> <span class="token number">1</span>
   weight <span class="token operator">=</span> <span class="token number">0.08</span>

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">' The product details are'</span> 

   <span class="token keyword">print</span> <span class="token number">100</span>
   <span class="token number">100</span> <span class="token keyword">format</span> <span class="token punctuation">(</span><span class="token number">7</span>x<span class="token punctuation">,</span><span class="token string">'Name:'</span><span class="token punctuation">,</span> <span class="token number">7</span>x<span class="token punctuation">,</span> <span class="token string">'Id:'</span><span class="token punctuation">,</span> <span class="token number">1</span>x<span class="token punctuation">,</span> <span class="token string">'Weight:'</span><span class="token punctuation">)</span>

   <span class="token keyword">print</span> <span class="token number">200</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> id<span class="token punctuation">,</span> weight 
   <span class="token number">200</span> <span class="token keyword">format</span><span class="token punctuation">(</span><span class="token number">1</span>x<span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token number">2</span>x<span class="token punctuation">,</span> i3<span class="token punctuation">,</span> <span class="token number">2</span>x<span class="token punctuation">,</span> f5<span class="token number">.2</span><span class="token punctuation">)</span> 

<span class="token keyword">end program</span> productDetails<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它产生了以下结果：</p>
<pre><code>The product details are
Name:       Id:    Weight:
Ardupilot   1       0.08</code></pre><h1 id="Fortran文件输入输出"><a href="#Fortran文件输入输出" class="headerlink" title="Fortran文件输入输出"></a>Fortran文件输入输出</h1><p>Fortran语言可以读取数据，并将数据写入到文件中。</p>
<p>可以读取和写入到一个或多个文件。OPEN, WRITE, READ 和 CLOSE语句可以实现这一目标。</p>
<h2 id="打开和关闭文件"><a href="#打开和关闭文件" class="headerlink" title="打开和关闭文件"></a>打开和关闭文件</h2><p>使用文件之前，必须打开该文件。 open命令用于打开文件进行读取或写入。命令的最简单的形式是：</p>
<pre><code>open (unit = number, file = "name").</code></pre><p>然而，open 语句的一般形式：</p>
<pre><code>open (list-of-specifiers)</code></pre><p>下表介绍了最常用的修饰符：</p>
<table>
<thead>
<tr>
<th>修辞符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>[UNIT=] u</td>
<td>单元数u可以是任何数量范围内9-99，它表明该文件，可以选择任何号码，但在程序中每一个打开的文件必须有一个唯一的数字</td>
</tr>
<tr>
<td>IOSTAT= ios</td>
<td>它是在I/O状态标识符和应为整数的变量。如果打开的语句是成功，则返回IOS值为零，否则为一个非零值。</td>
</tr>
<tr>
<td>ERR = err</td>
<td>它是一个标签到该控制跳以防有错误。</td>
</tr>
<tr>
<td>FILE = fname</td>
<td>文件名，一个字符串。</td>
</tr>
<tr>
<td>STATUS = sta</td>
<td>它示出了该文件的先前状态。一个字符串，可以有三个值NEW, OLD 或 SCRATCH。一个临时文件被创建和删除，当关闭或程序结束。</td>
</tr>
<tr>
<td>ACCESS = acc</td>
<td>它是该文件的访问模式。可以有两个值SEQUENTIAL 或 DIRECT。默认值是SEQUENTIAL。</td>
</tr>
<tr>
<td>FORM= frm</td>
<td>它给该文件的格式的状态。可以有FORMATTED 或UNFORMATTED两个值。默认值是UNFORMATTED</td>
</tr>
<tr>
<td>RECL = rl</td>
<td>它指定的每个记录中的一个直接访问文件的长度。</td>
</tr>
</tbody></table>
<p>该文件已被打开后，它由read 和 write语句访问。一旦完成，就应该使用close语句关闭。</p>
<p>close语句的语法如下：</p>
<pre><code>close ([UNIT=]u[,IOSTAT=ios,ERR=err,STATUS=sta])</code></pre><p>请注意，括号中的参数是可选的。</p>
<p>示例</p>
<p>这个例子演示了写一些数据到一个新的打开文件。</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> outputdata   
<span class="token keyword">implicit none</span>

   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">::</span> x<span class="token punctuation">,</span> y  
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">::</span> p<span class="token punctuation">,</span> q
   <span class="token keyword">integer</span> <span class="token operator">::</span> i  

   <span class="token comment" spellcheck="true">! data  </span>
   <span class="token keyword">do</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span>  
      x<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">0.1</span> 
      y<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> sin<span class="token punctuation">(</span>x<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">-</span>cos<span class="token punctuation">(</span>x<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">3.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
   <span class="token keyword">end do</span>  

   <span class="token comment" spellcheck="true">! output data into a file </span>
   <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">file</span><span class="token operator">=</span><span class="token string">'data1.dat'</span><span class="token punctuation">,</span> status<span class="token operator">=</span><span class="token string">'new'</span><span class="token punctuation">)</span>  
   <span class="token keyword">do</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span>  
      <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> x<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> y<span class="token punctuation">(</span>i<span class="token punctuation">)</span>   
   <span class="token keyword">end do</span>  

   <span class="token keyword">close</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> 

<span class="token keyword">end program</span> outputdata<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当上述代码被编译和执行时，它创建文件data1.dat和x和y数组值写入到其中。然后关闭该文件。</p>
<p><strong>读取和写入文件</strong></p>
<p>读取和写入的语句分别用于读取和分别写入到文件中。</p>
<p>它们有以下语法：</p>
<pre><code>read ([UNIT=]u, [FMT=]fmt, IOSTAT=ios, ERR=err, END=s)
write([UNIT=]u, [FMT=]fmt, IOSTAT=ios, ERR=err, END=s)</code></pre><p>大部分的修饰符的已在上表中讨论。</p>
<p>END= S说明是程序跳转，当它到达文件结束，声明标签。</p>
<p><strong>示例</strong></p>
<p>这个例子演示了读取和写入到文件。</p>
<p>在这个程序中，从文件中读取，在最后一个例子创建data1.dat，并在屏幕上显示出来。</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> outputdata   
<span class="token keyword">implicit none</span>   

   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">::</span> x<span class="token punctuation">,</span> y  
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">dimension</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">::</span> p<span class="token punctuation">,</span> q
   <span class="token keyword">integer</span> <span class="token operator">::</span> i  

   <span class="token comment" spellcheck="true">! data  </span>
   <span class="token keyword">do</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span>  
      x<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">0.1</span> 
      y<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> sin<span class="token punctuation">(</span>x<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">-</span>cos<span class="token punctuation">(</span>x<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">3.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
   <span class="token keyword">end do</span>  

   <span class="token comment" spellcheck="true">! output data into a file </span>
   <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">file</span><span class="token operator">=</span><span class="token string">'data1.dat'</span><span class="token punctuation">,</span> status<span class="token operator">=</span><span class="token string">'new'</span><span class="token punctuation">)</span>  
   <span class="token keyword">do</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span>  
      <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> x<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> y<span class="token punctuation">(</span>i<span class="token punctuation">)</span>   
   <span class="token keyword">end do</span>  
   <span class="token keyword">close</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> 

   <span class="token comment" spellcheck="true">! opening the file for reading</span>
   <span class="token keyword">open</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">file</span><span class="token operator">=</span><span class="token string">'data1.dat'</span><span class="token punctuation">,</span> status<span class="token operator">=</span><span class="token string">'old'</span><span class="token punctuation">)</span>

   <span class="token keyword">do</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span>  
      <span class="token keyword">read</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> p<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> q<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
   <span class="token keyword">end do</span> 

   <span class="token keyword">close</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

   <span class="token keyword">do</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span>  
      <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> p<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> q<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
   <span class="token keyword">end do</span> 

<span class="token keyword">end program</span> outputdata<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>让我们编译和运行上面的程序，这将产生以下结果：</p>
<pre><code>0.100000001  5.54589933E-05
0.200000003  4.41325130E-04
0.300000012  1.47636665E-03
0.400000006  3.45637114E-03
0.500000000  6.64328877E-03
0.600000024  1.12552457E-02
0.699999988  1.74576249E-02
0.800000012  2.53552198E-02
0.900000036  3.49861123E-02
1.00000000   4.63171229E-02
1.10000002   5.92407547E-02
1.20000005   7.35742599E-02
1.30000007   8.90605897E-02
1.39999998   0.105371222    
1.50000000   0.122110792    
1.60000002   0.138823599    
1.70000005   0.155002072    
1.80000007   0.170096487    
1.89999998   0.183526158    
2.00000000   0.194692180    
2.10000014   0.202990443    
2.20000005   0.207826138    
2.29999995   0.208628103    
2.40000010   0.204863414    
2.50000000   0.196052119    
2.60000014   0.181780845    
2.70000005   0.161716297    
2.79999995   0.135617107    
2.90000010   0.103344671    
3.00000000   6.48725405E-02
3.10000014   2.02930309E-02
3.20000005  -3.01767997E-02
3.29999995  -8.61928314E-02
3.40000010  -0.147283033    
3.50000000  -0.212848678    
3.60000014  -0.282169819    
3.70000005  -0.354410470    
3.79999995  -0.428629100    
3.90000010  -0.503789663    
4.00000000  -0.578774154    
4.09999990  -0.652400017    
4.20000029  -0.723436713    
4.30000019  -0.790623367    
4.40000010  -0.852691114    
4.50000000  -0.908382416    
4.59999990  -0.956472993    
4.70000029  -0.995793998    
4.80000019  -1.02525222    
4.90000010  -1.04385209    
5.00000000  -1.05071592    
5.09999990  -1.04510069    
5.20000029  -1.02641726    
5.30000019  -0.994243503    
5.40000010  -0.948338211    
5.50000000  -0.888650239    
5.59999990  -0.815326691    
5.70000029  -0.728716135    
5.80000019  -0.629372001    
5.90000010  -0.518047631    
6.00000000  -0.395693362    
6.09999990  -0.263447165    
6.20000029  -0.122622721    
6.30000019   2.53026206E-02
6.40000010   0.178709000    
6.50000000   0.335851669    
6.59999990   0.494883657    
6.70000029   0.653881252    
6.80000019   0.810866773    
6.90000010   0.963840425    
7.00000000   1.11080539    
7.09999990   1.24979746    
7.20000029   1.37891412    
7.30000019   1.49633956    
7.40000010   1.60037732    
7.50000000   1.68947268    
7.59999990   1.76223695    
7.70000029   1.81747139    
7.80000019   1.85418403    
7.90000010   1.87160957    
8.00000000   1.86922085    
8.10000038   1.84674001    
8.19999981   1.80414569    
8.30000019   1.74167395    
8.40000057   1.65982044    
8.50000000   1.55933595    
8.60000038   1.44121361    
8.69999981   1.30668485    
8.80000019   1.15719533    
8.90000057   0.994394958    
9.00000000   0.820112705    
9.10000038   0.636327863    
9.19999981   0.445154816    
9.30000019   0.248800844    
9.40000057   4.95488606E-02
9.50000000  -0.150278628    
9.60000038  -0.348357052    
9.69999981  -0.542378068    
9.80000019  -0.730095863    
9.90000057  -0.909344316    
10.0000000  -1.07807255  </code></pre><h1 id="Fortran过程"><a href="#Fortran过程" class="headerlink" title="Fortran过程"></a>Fortran过程</h1><p>过程是一组执行一个明确定义的任务，可以从程序调用语句。信息(或数据)被传递给调用程序，以过程作为参数。</p>
<p>有两种类型的程序：</p>
<ul>
<li>​        函数</li>
<li>​        子程序</li>
</ul>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>​    函数是返回一个数量的过程。函数不修改其参数。</p>
<p>​    返回数值被称为函数值，并将其表示为函数名。</p>
<p>语法：</p>
<p>函数的语法如下：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">function</span> name<span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> ....<span class="token punctuation">)</span>  
   [declarations<span class="token punctuation">,</span> including those for the arguments]   
   [executable statements] 
<span class="token keyword">end function</span> [name]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>下面的示例演示一个函数名为area_of_circle。它计算半径为 r 的圆的面积。</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> calling_func

   <span class="token keyword">real</span> <span class="token operator">::</span> a
   a <span class="token operator">=</span> area_of_circle<span class="token punctuation">(</span><span class="token number">2.0</span><span class="token punctuation">)</span> 

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"The area of a circle with radius 2.0 is"</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> a

<span class="token keyword">end program</span> calling_func


<span class="token comment" spellcheck="true">! this function computes the area of a circle with radius r  </span>
<span class="token keyword">function</span> area_of_circle <span class="token punctuation">(</span>r<span class="token punctuation">)</span>  

<span class="token comment" spellcheck="true">! function result     </span>
<span class="token keyword">implicit none</span>      

   <span class="token comment" spellcheck="true">! dummy arguments        </span>
   <span class="token keyword">real</span> <span class="token operator">::</span> area_of_circle   

   <span class="token comment" spellcheck="true">! local variables </span>
   <span class="token keyword">real</span> <span class="token operator">::</span> r     
   <span class="token keyword">real</span> <span class="token operator">::</span> pi

   pi <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> atan <span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span>     
   area_of_circle <span class="token operator">=</span> pi <span class="token operator">*</span> r<span class="token operator">**</span><span class="token number">2</span>  

<span class="token keyword">end function</span> area_of_circle<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，它会产生以下结果：</p>
<pre><code>The area of a circle with radius 2.0 is
   12.5663710   </code></pre><p><strong>请注意：</strong></p>
<ul>
<li>​            必须指定隐含都不在这两个在主程序和过程中。</li>
<li>​            在被调用函数的参数r被称为 <strong>dummy argument.</strong></li>
</ul>
<p>结果选项</p>
<p>如果想返回的值存储在函数名的其他名称，则可以使用result选项。</p>
<p>可以根据指定返回变量名：</p>
<pre><code>function name(arg1, arg2, ....) result (return_var_name)  
   [declarations, including those for the arguments]   
   [executable statements] 
end function [name]</code></pre><h2 id="子程序"><a href="#子程序" class="headerlink" title="子程序"></a>子程序</h2><p>子程序没有返回值，但可以修改其参数。</p>
<p><strong>语法</strong></p>
<pre><code>subroutine name(arg1, arg2, ....)    
   [declarations, including those for the arguments]    
   [executable statements]  
end subroutine [name]</code></pre><p><strong>调用子程序</strong></p>
<p>需要使用call语句来调用一个子程序。</p>
<p>下面的例子演示了一个子程序交换，改变其参数值的定义和使用。</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> calling_func
<span class="token keyword">implicit none</span>

   <span class="token keyword">real</span> <span class="token operator">::</span> a<span class="token punctuation">,</span> b
   a <span class="token operator">=</span> <span class="token number">2.0</span>
   b <span class="token operator">=</span> <span class="token number">3.0</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Before calling swap"</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"a = "</span><span class="token punctuation">,</span> a
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"b = "</span><span class="token punctuation">,</span> b

   <span class="token keyword">call</span> swap<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"After calling swap"</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"a = "</span><span class="token punctuation">,</span> a
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"b = "</span><span class="token punctuation">,</span> b

<span class="token keyword">end program</span> calling_func


<span class="token keyword">subroutine</span> swap<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> 
<span class="token keyword">implicit none</span>

   <span class="token keyword">real</span> <span class="token operator">::</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> temp   

   temp <span class="token operator">=</span> x  
   x <span class="token operator">=</span> y 
   y <span class="token operator">=</span> temp  

<span class="token keyword">end subroutine</span> swap<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，它会产生以下结果：</p>
<pre><code>Before calling swap
a = 2.00000000    
b = 3.00000000    
After calling swap
a = 3.00000000    
b = 2.00000000   </code></pre><h2 id="指定参数的意图"><a href="#指定参数的意图" class="headerlink" title="指定参数的意图"></a>指定参数的意图</h2><p>意图属性允许指定与参数的过程中使用的意向。下表提供intent属性的值：</p>
<table>
<thead>
<tr>
<th>值</th>
<th>使用为</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>in</td>
<td>intent(in)</td>
<td>用作输入值，而不是在函数中改变</td>
</tr>
<tr>
<td>out</td>
<td>intent(out)</td>
<td>用作输出值，它们将被覆盖</td>
</tr>
<tr>
<td>inout</td>
<td>intent(inout)</td>
<td>参数都使用和覆盖</td>
</tr>
</tbody></table>
<p>下面的例子演示了这一概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> calling_func
<span class="token keyword">implicit none</span>

   <span class="token keyword">real</span> <span class="token operator">::</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">,</span> disc

   x<span class="token operator">=</span> <span class="token number">1.0</span>
   y <span class="token operator">=</span> <span class="token number">5.0</span>
   z <span class="token operator">=</span> <span class="token number">2.0</span>

   <span class="token keyword">call</span> intent_example<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">,</span> disc<span class="token punctuation">)</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"The value of the discriminant is"</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> disc

<span class="token keyword">end program</span> calling_func


<span class="token keyword">subroutine</span> intent_example <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">)</span>     
<span class="token keyword">implicit none</span>     

   <span class="token comment" spellcheck="true">! dummy arguments      </span>
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">intent</span> <span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">)</span> <span class="token operator">::</span> a     
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">intent</span> <span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">)</span> <span class="token operator">::</span> b      
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">intent</span> <span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">)</span> <span class="token operator">::</span> c    
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">intent</span> <span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">)</span> <span class="token operator">::</span> d   

   d <span class="token operator">=</span> b <span class="token operator">*</span> b <span class="token operator">-</span> <span class="token number">4.0</span> <span class="token operator">*</span> a <span class="token operator">*</span> c 

<span class="token keyword">end subroutine</span> intent_example<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，它会产生以下结果：</p>
<pre><code>The value of the discriminant is
   17.0000000    </code></pre><h2 id="递归过程"><a href="#递归过程" class="headerlink" title="递归过程"></a>递归过程</h2><p>递归发生在一个编程语言可以调用同一个函数在函数内。这就是所谓的函数的递归调用。</p>
<p>当一个过程调用本身，直接或间接地被称为递归过程。应该通过其声明之前的字前面递归声明这种类型的程序。</p>
<p>当一个函数被递归使用，则 result 选项要被使用。</p>
<p>以下是一个例子，它计算阶乘用于使用一个递归过程：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> calling_func
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span> <span class="token operator">::</span> i<span class="token punctuation">,</span> f
   i <span class="token operator">=</span> <span class="token number">15</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"The value of factorial 15 is"</span>
   f <span class="token operator">=</span> myfactorial<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> f

<span class="token keyword">end program</span> calling_func

<span class="token comment" spellcheck="true">! computes the factorial of n (n!)      </span>
<span class="token keyword">recursive</span> <span class="token keyword">function</span> myfactorial <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token keyword">result</span> <span class="token punctuation">(</span>fac<span class="token punctuation">)</span>  
<span class="token comment" spellcheck="true">! function result     </span>
<span class="token keyword">implicit none</span>     

   <span class="token comment" spellcheck="true">! dummy arguments     </span>
   <span class="token keyword">integer</span> <span class="token operator">::</span> fac     
   <span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">intent</span> <span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">)</span> <span class="token operator">::</span> n     

   <span class="token keyword">select</span> <span class="token keyword">case</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span>         
      <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">)</span>         
         fac <span class="token operator">=</span> <span class="token number">1</span>         
      <span class="token keyword">case</span> <span class="token keyword">default</span>    
         fac <span class="token operator">=</span> n <span class="token operator">*</span> myfactorial <span class="token punctuation">(</span>n<span class="token number">-1</span><span class="token punctuation">)</span>  
   <span class="token keyword">end select</span> 

<span class="token keyword">end function</span> myfactorial<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="内部过程"><a href="#内部过程" class="headerlink" title="内部过程"></a>内部过程</h2><p>当一个过程被包含在程序中，它被称为程序的内部程序。包含一个内部程序的语法如下：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> program_name     
   <span class="token keyword">implicit none</span>         
   <span class="token comment" spellcheck="true">! type declaration statements         </span>
   <span class="token comment" spellcheck="true">! executable statements    </span>
   . . .     
   <span class="token keyword">contains</span>         
   <span class="token comment" spellcheck="true">! internal procedures      </span>
   . . .  
<span class="token keyword">end program</span> program_name<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>下面的例子演示了这一概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> mainprog  
<span class="token keyword">implicit none</span> 

   <span class="token keyword">real</span> <span class="token operator">::</span> a<span class="token punctuation">,</span> b 
   a <span class="token operator">=</span> <span class="token number">2.0</span>
   b <span class="token operator">=</span> <span class="token number">3.0</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Before calling swap"</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"a = "</span><span class="token punctuation">,</span> a
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"b = "</span><span class="token punctuation">,</span> b

   <span class="token keyword">call</span> swap<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>

   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"After calling swap"</span>
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"a = "</span><span class="token punctuation">,</span> a
   <span class="token keyword">Print</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"b = "</span><span class="token punctuation">,</span> b

<span class="token keyword">contains</span>   
   <span class="token keyword">subroutine</span> swap<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>     
      <span class="token keyword">real</span> <span class="token operator">::</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> temp      
      temp <span class="token operator">=</span> x 
      x <span class="token operator">=</span> y  
      y <span class="token operator">=</span> temp   
   <span class="token keyword">end subroutine</span> swap 

<span class="token keyword">end program</span> mainprog   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，它会产生以下结果：</p>
<pre><code>Before calling swap
a = 2.00000000    
b = 3.00000000    
After calling swap
a = 3.00000000    
b = 2.00000000  </code></pre><h1 id="Fortran模块"><a href="#Fortran模块" class="headerlink" title="Fortran模块"></a>Fortran模块</h1><p>模块就像一个包，可以包含函数和子程序，如果正在编写一个非常大的项目，或者函数或子程序需要在多个程序中使用。</p>
<p>模块提供拆分多个文件之间程序的方式。</p>
<p>模块用于：</p>
<ul>
<li>​        包装子程序，数据和接口块。</li>
<li>​        定义，可以使用多于一个常规全局数据。</li>
<li>​        声明可以选择的任何程序内提供的变量。</li>
<li>​        导入整个模块，可使用在另一个程序或子程序。</li>
</ul>
<h3 id="模块的语法"><a href="#模块的语法" class="headerlink" title="模块的语法"></a>模块的语法</h3><p>模块由两部分组成：</p>
<ul>
<li>​        规范的一部分，语句声明</li>
<li>​        包含一部分用于子程序和函数定义</li>
</ul>
<p>模块的一般形式是：</p>
<pre><code>module name     
   [statement declarations]  
   [contains [subroutine and function definitions] ] 
end module [name]</code></pre><h2 id="使用一个模块到程序中"><a href="#使用一个模块到程序中" class="headerlink" title="使用一个模块到程序中"></a>使用一个模块到程序中</h2><p>可以将一个程序或子程序通过使用声明的模块：</p>
<pre><code>use name  </code></pre><p>请注意</p>
<ul>
<li>​            可以根据需要添加尽可能多的模块，在不同的文件中，并单独编译。</li>
<li>​            一个模块可以在各种不同的程序中使用。</li>
<li>​            一个模块在同一程序中可使用多次。</li>
<li>​            在模块规格说明部分内声明的变量，在模块是全局的。</li>
<li>​            在一个模块中声明的变量成为在模块中使用的任何程序或例程的全局变量。</li>
<li>​            使用声明可以出现在主程序中，或任何其他子程序或模块，它使用所述例程或在一个特定的模块声明的变量。</li>
</ul>
<p>示例</p>
<p>下面的例子演示了这一概念：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">module</span> constants  
<span class="token keyword">implicit none</span> 

   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">parameter</span> <span class="token operator">::</span> pi <span class="token operator">=</span> <span class="token number">3.1415926536</span>  
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">parameter</span> <span class="token operator">::</span> e <span class="token operator">=</span> <span class="token number">2.7182818285</span> 

<span class="token keyword">contains</span>      
   <span class="token keyword">subroutine</span> show_consts<span class="token punctuation">(</span><span class="token punctuation">)</span>          
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Pi = "</span><span class="token punctuation">,</span> pi          
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span>  <span class="token string">"e = "</span><span class="token punctuation">,</span> e     
   <span class="token keyword">end subroutine</span> show_consts 

<span class="token keyword">end module</span> constants 


<span class="token keyword">program</span> module_example     
<span class="token keyword">use</span> constants      
<span class="token keyword">implicit none</span>     

   <span class="token keyword">real</span> <span class="token operator">::</span> x<span class="token punctuation">,</span> ePowerx<span class="token punctuation">,</span> area<span class="token punctuation">,</span> radius 
   x <span class="token operator">=</span> <span class="token number">2.0</span>
   radius <span class="token operator">=</span> <span class="token number">7.0</span>
   ePowerx <span class="token operator">=</span> e <span class="token operator">**</span> x
   area <span class="token operator">=</span> pi <span class="token operator">*</span> radius<span class="token operator">**</span><span class="token number">2</span>     

   <span class="token keyword">call</span> show_consts<span class="token punctuation">(</span><span class="token punctuation">)</span> 

   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"e raised to the power of 2.0 = "</span><span class="token punctuation">,</span> ePowerx
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Area of a circle with radius 7.0 = "</span><span class="token punctuation">,</span> area  

<span class="token keyword">end program</span> module_example<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，它会产生以下结果：</p>
<pre><code>Pi = 3.14159274    
e =  2.71828175    
e raised to the power of 2.0 = 7.38905573    
Area of a circle with radius 7.0 = 153.938049   </code></pre><h2 id="在一个模块变量和子程序的访问"><a href="#在一个模块变量和子程序的访问" class="headerlink" title="在一个模块变量和子程序的访问"></a>在一个模块变量和子程序的访问</h2><p>缺省情况下，在一个模块中的所有的变量和子程序被提供给正在使用的模块代码，通过 use 语句声明。</p>
<p>但是，可以控制模块代码中使用的private 和 public 属性的访问性。当声明一些变量或子程序为私有，这是不可以用在模块之外使用。</p>
<p>示例</p>
<p>下面的例子说明了这个概念：</p>
<p>在前面的例子中，有两个模块变量，e和PI。把它们设置为private并观察输出：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">module</span> constants  
<span class="token keyword">implicit none</span> 

   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">parameter</span><span class="token punctuation">,</span><span class="token keyword">private</span> <span class="token operator">::</span> pi <span class="token operator">=</span> <span class="token number">3.1415926536</span>  
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">parameter</span><span class="token punctuation">,</span> <span class="token keyword">private</span> <span class="token operator">::</span> e <span class="token operator">=</span> <span class="token number">2.7182818285</span> 

<span class="token keyword">contains</span>      
   <span class="token keyword">subroutine</span> show_consts<span class="token punctuation">(</span><span class="token punctuation">)</span>          
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Pi = "</span><span class="token punctuation">,</span> pi          
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"e = "</span><span class="token punctuation">,</span> e     
   <span class="token keyword">end subroutine</span> show_consts 

<span class="token keyword">end module</span> constants 


<span class="token keyword">program</span> module_example     
<span class="token keyword">use</span> constants      
<span class="token keyword">implicit none</span>     

   <span class="token keyword">real</span> <span class="token operator">::</span> x<span class="token punctuation">,</span> ePowerx<span class="token punctuation">,</span> area<span class="token punctuation">,</span> radius 
   x <span class="token operator">=</span> <span class="token number">2.0</span>
   radius <span class="token operator">=</span> <span class="token number">7.0</span>
   ePowerx <span class="token operator">=</span> e <span class="token operator">**</span> x
   area <span class="token operator">=</span> pi <span class="token operator">*</span> radius<span class="token operator">**</span><span class="token number">2</span>     

   <span class="token keyword">call</span> show_consts<span class="token punctuation">(</span><span class="token punctuation">)</span> 

   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"e raised to the power of 2.0 = "</span><span class="token punctuation">,</span> ePowerx
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Area of a circle with radius 7.0 = "</span><span class="token punctuation">,</span> area  

<span class="token keyword">end program</span> module_example<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    当编译和执行上面的程序，它提供了以下错误信息：</p>
<pre><code>   ePowerx = e ** x
   1
Error: Symbol 'e' at (1) has no IMPLICIT type
main.f95:19.13:

   area = pi * radius**2     
   1
Error: Symbol 'pi' at (1) has no IMPLICIT type</code></pre><p>由于e 和 pi两者都声明为private，module_example不能再访问这些变量程序。</p>
<p>但是其他模块子程序可以访问它们：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">module</span> constants  
<span class="token keyword">implicit none</span> 

   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">parameter</span><span class="token punctuation">,</span><span class="token keyword">private</span> <span class="token operator">::</span> pi <span class="token operator">=</span> <span class="token number">3.1415926536</span>  
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">parameter</span><span class="token punctuation">,</span> <span class="token keyword">private</span> <span class="token operator">::</span> e <span class="token operator">=</span> <span class="token number">2.7182818285</span> 

<span class="token keyword">contains</span>      
   <span class="token keyword">subroutine</span> show_consts<span class="token punctuation">(</span><span class="token punctuation">)</span>          
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Pi = "</span><span class="token punctuation">,</span> pi          
      <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"e = "</span><span class="token punctuation">,</span> e     
   <span class="token keyword">end subroutine</span> show_consts 

   <span class="token keyword">function</span> ePowerx<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token keyword">result</span><span class="token punctuation">(</span>ePx<span class="token punctuation">)</span> 
   <span class="token keyword">implicit none</span>
      <span class="token keyword">real</span><span class="token operator">::</span>x
      <span class="token keyword">real</span><span class="token operator">::</span>ePx
      ePx <span class="token operator">=</span> e <span class="token operator">**</span> x
   <span class="token keyword">end function</span> ePowerx

   <span class="token keyword">function</span> areaCircle<span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token keyword">result</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  
   <span class="token keyword">implicit none</span>
      <span class="token keyword">real</span><span class="token operator">::</span>r
      <span class="token keyword">real</span><span class="token operator">::</span>a
      a <span class="token operator">=</span> pi <span class="token operator">*</span> r<span class="token operator">**</span><span class="token number">2</span>  
   <span class="token keyword">end function</span> areaCircle

<span class="token keyword">end module</span> constants 


<span class="token keyword">program</span> module_example     
<span class="token keyword">use</span> constants      
<span class="token keyword">implicit none</span>     

   <span class="token keyword">call</span> show_consts<span class="token punctuation">(</span><span class="token punctuation">)</span> 

   <span class="token keyword">Print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"e raised to the power of 2.0 = "</span><span class="token punctuation">,</span> ePowerx<span class="token punctuation">(</span><span class="token number">2.0</span><span class="token punctuation">)</span>
   <span class="token keyword">print</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token string">"Area of a circle with radius 7.0 = "</span><span class="token punctuation">,</span> areaCircle<span class="token punctuation">(</span><span class="token number">7.0</span><span class="token punctuation">)</span>  

<span class="token keyword">end program</span> module_example<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，它会产生以下结果：</p>
<pre><code>Pi = 3.14159274    
e = 2.71828175    
e raised to the power of 2.0 = 7.38905573    
Area of a circle with radius 7.0 = 153.938049   </code></pre><h1 id="Fortran内部函数"><a href="#Fortran内部函数" class="headerlink" title="Fortran内部函数"></a>Fortran内部函数</h1><p>内部函数为Fortran语言提供一些常见和重要的功能。我们已经讨论过阵列，字符和字符串一些函数。</p>
<p>内部函数可归类为：</p>
<ul>
<li>​        数值函数</li>
<li>​        数学函数</li>
<li>​        数字查询函数</li>
<li>​        浮点操作函数</li>
<li>​        位操作函数</li>
<li>​        字符函数</li>
<li>​        类函数</li>
<li>​        逻辑函数</li>
<li>​        数组函数</li>
</ul>
<p>我们在阵列章讨论的阵列功能。在下面的章节中，提供了与其他类别的所有这些功能的简要说明。</p>
<p>函数名称列，</p>
<ul>
<li>​        A 代表任何类型的数值变量</li>
<li>​        R 代表一个真实的或整型变量</li>
<li>​        X 和 Y 代表实际变量</li>
<li>​        Z 代表复数变量</li>
<li>​        W 表示实数或复数变量</li>
</ul>
<h2 id="数值函数"><a href="#数值函数" class="headerlink" title="数值函数"></a>数值函数</h2><table>
<thead>
<tr>
<th>Function</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>ABS (A)</td>
<td>返回A的绝对值</td>
</tr>
<tr>
<td>AIMAG (Z)</td>
<td>返回复数Z的虚部</td>
</tr>
<tr>
<td>AINT (A [, KIND])</td>
<td>截断Z小数部分接近零，返回一个实数。</td>
</tr>
<tr>
<td>ANINT (A [, KIND])</td>
<td>返回一个实数值，最接近的整数或整数。</td>
</tr>
<tr>
<td>CEILING (A [, KIND])</td>
<td>返回比最小整数大于或等于数A.</td>
</tr>
<tr>
<td>CMPLX (X [, Y, KIND])</td>
<td>其转换实数变量X和Y的一些复数X + iY; 如果Y不存在，则使用0。</td>
</tr>
<tr>
<td>CONJG (Z)</td>
<td>返回复数Z的复共轭</td>
</tr>
<tr>
<td>DBLE (A)</td>
<td>转换A成到双精度实数。</td>
</tr>
<tr>
<td>DIM (X, Y)</td>
<td>返回X和Y的正差</td>
</tr>
<tr>
<td>DPROD (X, Y)</td>
<td>返回实数 X 和 Y 产生的双精度</td>
</tr>
<tr>
<td>FLOOR (A [, KIND])</td>
<td>提供了比最大的整数小于或等于数A.</td>
</tr>
<tr>
<td>INT (A [, KIND])</td>
<td>将其转换为数字（真实或整数）为整数，截断向零的实部。</td>
</tr>
<tr>
<td>MAX (A1, A2 [, A3,…])</td>
<td>返回的参数的最大值，相同类型</td>
</tr>
<tr>
<td>MIN (A1, A2 [, A3,…])</td>
<td>返回的参数的最小值，相同类型</td>
</tr>
<tr>
<td>MOD (A, P)</td>
<td>返回用P除以A余数部分，这两个参数类型相同 (A-INT(A/P)*P)</td>
</tr>
<tr>
<td>MODULO (A, P)</td>
<td>返回一个模P：(A-FLOOR(A/P)*P)</td>
</tr>
<tr>
<td>NINT (A [, KIND])</td>
<td>返回一个最接近整数A的数</td>
</tr>
<tr>
<td>REAL (A [, KIND])</td>
<td>将其转换为实数类型</td>
</tr>
<tr>
<td>SIGN (A, B)</td>
<td>返回一个乘以P. 符号的绝对值基本上它转移B的标志为A.</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> numericFunctions
<span class="token keyword">implicit none</span>  

   <span class="token comment" spellcheck="true">! define constants  </span>
   <span class="token comment" spellcheck="true">! define variables</span>
   <span class="token keyword">real</span> <span class="token operator">::</span> a<span class="token punctuation">,</span> b 
   <span class="token keyword">complex</span> <span class="token operator">::</span> z

   <span class="token comment" spellcheck="true">! values for a, b </span>
   a <span class="token operator">=</span> <span class="token number">15.2345</span>
   b <span class="token operator">=</span> <span class="token number">-20.7689</span>

   <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token string">'abs(a): '</span><span class="token punctuation">,</span>abs<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">' abs(b): '</span><span class="token punctuation">,</span>abs<span class="token punctuation">(</span>b<span class="token punctuation">)</span>   
   <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token string">'aint(a): '</span><span class="token punctuation">,</span>aint<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">' aint(b): '</span><span class="token punctuation">,</span>aint<span class="token punctuation">(</span>b<span class="token punctuation">)</span> 
   <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token string">'ceiling(a): '</span><span class="token punctuation">,</span>ceiling<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">' ceiling(b): '</span><span class="token punctuation">,</span>ceiling<span class="token punctuation">(</span>b<span class="token punctuation">)</span>   
   <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token string">'floor(a): '</span><span class="token punctuation">,</span>floor<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">' floor(b): '</span><span class="token punctuation">,</span>floor<span class="token punctuation">(</span>b<span class="token punctuation">)</span>  

   z <span class="token operator">=</span> cmplx<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
   <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token string">'z: '</span><span class="token punctuation">,</span>z   

<span class="token keyword">end program</span> numericFunctions<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，它会产生以下结果：</p>
<pre><code>abs(a): 15.2344999   abs(b): 20.7688999    
aint(a): 15.0000000  aint(b): -20.0000000    
ceiling(a): 16  ceiling(b): -20
floor(a): 15  floor(b): -21
z: (15.2344999, -20.7688999)</code></pre><h2 id="数学函数"><a href="#数学函数" class="headerlink" title="数学函数"></a>数学函数</h2><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>ACOS (X)</td>
<td>返回该反余弦在范围（0，π），以弧度的形式。</td>
</tr>
<tr>
<td>ASIN (X)</td>
<td>返回该反正弦在范围（-π/ 2，π/ 2），单位为弧度。</td>
</tr>
<tr>
<td>ATAN (X)</td>
<td>返回反正切的范围（-π/ 2，π/ 2），单位为弧度。</td>
</tr>
<tr>
<td>ATAN2 (Y, X)</td>
<td>返回反正切的范围（-π，π），以弧度表示。</td>
</tr>
<tr>
<td>COS (X)</td>
<td>返回参数的弧度的余弦值。</td>
</tr>
<tr>
<td>COSH (X)</td>
<td>返回参数的弧度的双曲余弦值。</td>
</tr>
<tr>
<td>EXP (X)</td>
<td>返回X的指数值</td>
</tr>
<tr>
<td>LOG (X)</td>
<td>返回X的自然对数值</td>
</tr>
<tr>
<td>LOG10 (X)</td>
<td>返回常用对数（10为基数）X的值</td>
</tr>
<tr>
<td>SIN (X)</td>
<td>返回参数的弧度的正弦值。</td>
</tr>
<tr>
<td>SINH (X)</td>
<td>返回参数的弧度双曲正弦。</td>
</tr>
<tr>
<td>SQRT (X)</td>
<td>返回X的平方根</td>
</tr>
<tr>
<td>TAN (X)</td>
<td>返回参数的弧度的切线。</td>
</tr>
<tr>
<td>TANH (X)</td>
<td>返回参数弧度的双曲正切值。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<p>下列程序计算水平和垂直位置x和y表示抛射时间，t：</p>
<p>这里, x = u t cos a 以及 y = u t sin a - g t2 / 2</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> projectileMotion  
<span class="token keyword">implicit none</span>  

   <span class="token comment" spellcheck="true">! define constants  </span>
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">parameter</span> <span class="token operator">::</span> g <span class="token operator">=</span> <span class="token number">9.8</span>  
   <span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">parameter</span> <span class="token operator">::</span> pi <span class="token operator">=</span> <span class="token number">3.1415927</span>  

   <span class="token comment" spellcheck="true">!define variables</span>
   <span class="token keyword">real</span> <span class="token operator">::</span> a<span class="token punctuation">,</span> t<span class="token punctuation">,</span> u<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y   

   <span class="token comment" spellcheck="true">!values for a, t, and u </span>
   a <span class="token operator">=</span> <span class="token number">45.0</span>
   t <span class="token operator">=</span> <span class="token number">20.0</span>
   u <span class="token operator">=</span> <span class="token number">10.0</span>

   <span class="token comment" spellcheck="true">! convert angle to radians  </span>
   a <span class="token operator">=</span> a <span class="token operator">*</span> pi <span class="token operator">/</span> <span class="token number">180.0</span>  
   x <span class="token operator">=</span> u <span class="token operator">*</span> cos<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">*</span> t   
   y <span class="token operator">=</span> u <span class="token operator">*</span> sin<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">*</span> t <span class="token operator">-</span> <span class="token number">0.5</span> <span class="token operator">*</span> g <span class="token operator">*</span> t <span class="token operator">*</span> t  

   <span class="token keyword">write</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token string">'x: '</span><span class="token punctuation">,</span>x<span class="token punctuation">,</span><span class="token string">'  y: '</span><span class="token punctuation">,</span>y   

<span class="token keyword">end program</span> projectileMotion<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    当编译并执行上述程序，它会产生以下结果：</p>
<pre><code>x: 141.421356  y: -1818.57861  </code></pre><h2 id="数字查询函数"><a href="#数字查询函数" class="headerlink" title="数字查询函数"></a>数字查询函数</h2><p>这些函数的工作在整数模型和浮点运算。该函数返回相同的种类作为变量X，它可以是实数，在某些情况下，拥有整数的性质。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>DIGITS (X)</td>
<td>返回显著模型的位数。</td>
</tr>
<tr>
<td>EPSILON (X)</td>
<td>返回相比一个是几乎可以忽略不计的数目。换句话说，它返回最小值，使得REAL( 1.0, KIND(X)) + EPSILON(X)为不等于REAL( 1.0, KIND(X))。</td>
</tr>
<tr>
<td>HUGE (X)</td>
<td>返回模型最多数量</td>
</tr>
<tr>
<td>MAXEXPONENT (X)</td>
<td>返回该模型的最大指数</td>
</tr>
<tr>
<td>MINEXPONENT (X)</td>
<td>返回该模型的最小指数</td>
</tr>
<tr>
<td>PRECISION (X)</td>
<td>返回小数精度</td>
</tr>
<tr>
<td>RADIX (X)</td>
<td>返回该模型的基数</td>
</tr>
<tr>
<td>RANGE (X)</td>
<td>返回十进制指数范围</td>
</tr>
<tr>
<td>TINY (X)</td>
<td>返回该模型的最小正数</td>
</tr>
</tbody></table>
<h2 id="浮点操作函数"><a href="#浮点操作函数" class="headerlink" title="浮点操作函数"></a>浮点操作函数</h2><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>EXPONENT (X)</td>
<td>返回一个模型数的指数部分</td>
</tr>
<tr>
<td>FRACTION (X)</td>
<td>返回一个数的小数部分</td>
</tr>
<tr>
<td>NEAREST (X, S)</td>
<td>返回给定的方向最近的不同处理器编号</td>
</tr>
<tr>
<td>RRSPACING (X)</td>
<td>返回型号的邻近给定数量的相对间隔的倒数</td>
</tr>
<tr>
<td>SCALE (X, I)</td>
<td>乘以一个实数由基数的整数次幂</td>
</tr>
<tr>
<td>SET_EXPONENT (X, I)</td>
<td>返回一个数的指数部分</td>
</tr>
<tr>
<td>SPACING (X)</td>
<td>返回型号的绝对间隔接近指定数值</td>
</tr>
</tbody></table>
<h2 id="位操作函数"><a href="#位操作函数" class="headerlink" title="位操作函数"></a>位操作函数</h2><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>BIT_SIZE (I)</td>
<td>返回该模型的比特数</td>
</tr>
<tr>
<td>BTEST (I, POS)</td>
<td>位测试</td>
</tr>
<tr>
<td>IAND (I, J)</td>
<td>逻辑与</td>
</tr>
<tr>
<td>IBCLR (I, POS)</td>
<td>清除位</td>
</tr>
<tr>
<td>IBITS (I, POS, LEN)</td>
<td>位提取</td>
</tr>
<tr>
<td>IBSET (I, POS)</td>
<td>设置位</td>
</tr>
<tr>
<td>IEOR (I, J)</td>
<td>异或</td>
</tr>
<tr>
<td>IOR (I, J)</td>
<td>包括或</td>
</tr>
<tr>
<td>ISHFT (I, SHIFT)</td>
<td>逻辑移位</td>
</tr>
<tr>
<td>ISHFTC (I, SHIFT [, SIZE])</td>
<td>循环移位</td>
</tr>
<tr>
<td>NOT (I)</td>
<td>逻辑补</td>
</tr>
</tbody></table>
<h2 id="字符函数"><a href="#字符函数" class="headerlink" title="字符函数"></a>字符函数</h2><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>ACHAR (I)</td>
<td>它返回ASCII整理序列中的第i个字符。</td>
</tr>
<tr>
<td>ADJUSTL (STRING)</td>
<td>它通过调节删除任何前导空格和插入尾随空白留下的字符串</td>
</tr>
<tr>
<td>ADJUSTR (STRING)</td>
<td>它去除右尾随空白和插入前导空格调整字符串。</td>
</tr>
<tr>
<td>CHAR (I [, KIND])</td>
<td>它返回特定机器整理序列中的第i个字符</td>
</tr>
<tr>
<td>IACHAR (C)</td>
<td>它返回字符的ASCII码排序序列中的位置。</td>
</tr>
<tr>
<td>ICHAR (C)</td>
<td>它返回字符在机器（处理器）特定排序序列中的位置。</td>
</tr>
<tr>
<td>INDEX (STRING, SUBSTRING [, BACK])</td>
<td>它返回SUBSTRING内STRING最左边（最右边如果返回.TRUE。）起始位置。</td>
</tr>
<tr>
<td>LEN (STRING)</td>
<td>它返回字符串的长度。</td>
</tr>
<tr>
<td>LEN_TRIM (STRING)</td>
<td>它返回一个字符串的长度没有结尾的空白字符。</td>
</tr>
<tr>
<td>LGE (STRING_A, STRING_B)</td>
<td>词汇上大于或等于</td>
</tr>
<tr>
<td>LGT (STRING_A, STRING_B)</td>
<td>词汇上大于</td>
</tr>
<tr>
<td>LLE (STRING_A, STRING_B)</td>
<td>词汇上大于或等于以下</td>
</tr>
<tr>
<td>LLT (STRING_A, STRING_B)</td>
<td>词汇上小于</td>
</tr>
<tr>
<td>REPEAT (STRING, NCOPIES)</td>
<td>重复并置</td>
</tr>
<tr>
<td>SCAN (STRING, SET [, BACK])</td>
<td>它返回STRING属于集，或者0，如果都不属于最左边（最右边如果返回.TRUE。）字符的索引。</td>
</tr>
<tr>
<td>TRIM (STRING)</td>
<td>删除结尾的空白字符</td>
</tr>
<tr>
<td>VERIFY (STRING, SET [, BACK])</td>
<td>验证字符集的字符串</td>
</tr>
</tbody></table>
<h2 id="类型函数"><a href="#类型函数" class="headerlink" title="类型函数"></a>类型函数</h2><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>KIND (X)</td>
<td>它返回种类类型的参数值。</td>
</tr>
<tr>
<td>SELECTED_INT_KIND (R)</td>
<td>它返回一种为特定网络版的指数范围类型的参数。</td>
</tr>
<tr>
<td>SELECTED_REAL_KIND ([P, R])</td>
<td>实数类型的参数值，指定精度和范围</td>
</tr>
</tbody></table>
<h2 id="逻辑函数"><a href="#逻辑函数" class="headerlink" title="逻辑函数"></a>逻辑函数</h2><table>
<thead>
<tr>
<th>Function</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>LOGICAL (L [, KIND])</td>
<td>逻辑型的不同种类型参数对象之间转换</td>
</tr>
</tbody></table>
<h1 id="Fortran数字精度"><a href="#Fortran数字精度" class="headerlink" title="Fortran数字精度"></a>Fortran数字精度</h1><p>我们已经讨论过了，在旧版本的 Fortran，有两个实型类型：默认的实型和双精度型。</p>
<p>然而，Fortran语言90/95提供了更多通过种指定精度控制实数和整数数据类型。</p>
<h2 id="类型属性"><a href="#类型属性" class="headerlink" title="类型属性"></a>类型属性</h2><p>不同类型的数字都在计算机内部存储方式不同。 kind属性允许指定一个数字内部存储。例如，</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">kind</span> <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">::</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c
<span class="token keyword">real</span><span class="token punctuation">,</span> <span class="token keyword">kind</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">::</span> e<span class="token punctuation">,</span> f<span class="token punctuation">,</span> g
<span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">kind</span> <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">::</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k
<span class="token keyword">integer</span><span class="token punctuation">,</span> <span class="token keyword">kind</span> <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">::</span> l<span class="token punctuation">,</span> m<span class="token punctuation">,</span> n<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>在上述声明中，实际变量e，f和g 比实型变量 a，b 和 c 更精确。整数变数l，m 和 n，可以存储较大的值，并有更多的存储比整数变量I，J和k有更多位。虽然这是依赖于机器。</p>
<p><strong>示例</strong></p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> kindSpecifier
<span class="token keyword">implicit none</span>

   <span class="token keyword">real</span><span class="token punctuation">(</span><span class="token keyword">kind</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">::</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c
   <span class="token keyword">real</span><span class="token punctuation">(</span><span class="token keyword">kind</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">::</span> e<span class="token punctuation">,</span> f<span class="token punctuation">,</span> g
   <span class="token keyword">integer</span><span class="token punctuation">(</span><span class="token keyword">kind</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">::</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k
   <span class="token keyword">integer</span><span class="token punctuation">(</span><span class="token keyword">kind</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">::</span> l<span class="token punctuation">,</span> m<span class="token punctuation">,</span> n
   <span class="token keyword">integer</span> <span class="token operator">::</span> kind_a<span class="token punctuation">,</span> kind_i<span class="token punctuation">,</span> kind_e<span class="token punctuation">,</span> kind_l

   kind_a <span class="token operator">=</span> <span class="token keyword">kind</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   kind_i <span class="token operator">=</span> <span class="token keyword">kind</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
   kind_e <span class="token operator">=</span> <span class="token keyword">kind</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
   kind_l <span class="token operator">=</span> <span class="token keyword">kind</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span>

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'default kind for real is'</span><span class="token punctuation">,</span> kind_a
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'default kind for int is'</span><span class="token punctuation">,</span> kind_i
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'extended kind for real is'</span><span class="token punctuation">,</span> kind_e
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'default kind for int is'</span><span class="token punctuation">,</span> kind_l

<span class="token keyword">end program</span> kindSpecifier<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，将产生以下结果：</p>
<pre><code>default kind for real is 4
default kind for int is 2
extended kind for real is 8
default kind for int is 4</code></pre><h2 id="查询变量的大小"><a href="#查询变量的大小" class="headerlink" title="查询变量的大小"></a>查询变量的大小</h2><p>有一些内在的功能，用于询问数字的大小。</p>
<p>例如，bit_size(i)内部函数指定用于存储位数。对于实数，precision(x)内部函数，返回小数位精度的数字，而range(x)内部函数返回指数的十进制范围。</p>
<p><strong>例子</strong></p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> getSize
<span class="token keyword">implicit none</span>

   <span class="token keyword">real</span> <span class="token punctuation">(</span><span class="token keyword">kind</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">::</span> a
   <span class="token keyword">real</span> <span class="token punctuation">(</span><span class="token keyword">kind</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">::</span> b
   <span class="token keyword">integer</span> <span class="token punctuation">(</span><span class="token keyword">kind</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">::</span> i
   <span class="token keyword">integer</span> <span class="token punctuation">(</span><span class="token keyword">kind</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">::</span> j

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'precision of real(4) ='</span><span class="token punctuation">,</span> precision<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'precision of real(8) ='</span><span class="token punctuation">,</span> precision<span class="token punctuation">(</span>b<span class="token punctuation">)</span>

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'range of real(4) ='</span><span class="token punctuation">,</span> range<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'range of real(8) ='</span><span class="token punctuation">,</span> range<span class="token punctuation">(</span>b<span class="token punctuation">)</span>


   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'maximum exponent of real(4) ='</span> <span class="token punctuation">,</span> maxexponent<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'maximum exponent of real(8) ='</span> <span class="token punctuation">,</span> maxexponent<span class="token punctuation">(</span>b<span class="token punctuation">)</span>

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'minimum exponent of real(4) ='</span> <span class="token punctuation">,</span> minexponent<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'minimum exponent of real(8) ='</span> <span class="token punctuation">,</span> minexponent<span class="token punctuation">(</span>b<span class="token punctuation">)</span>

   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'bits in integer(2) ='</span> <span class="token punctuation">,</span> bit_size<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'bits in integer(4) ='</span> <span class="token punctuation">,</span> bit_size<span class="token punctuation">(</span>j<span class="token punctuation">)</span>

<span class="token keyword">end program</span> getSize<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，将产生以下结果：</p>
<pre><code>precision of real(4) = 6
precision of real(8) = 15
range of real(4) = 37
range of real(8) = 307
maximum exponent of real(4) = 128
maximum exponent of real(8) = 1024
minimum exponent of real(4) = -125
minimum exponent of real(8) = -1021
bits in integer(2) = 16
bits in integer(4) = 32</code></pre><h2 id="获取类型值"><a href="#获取类型值" class="headerlink" title="获取类型值"></a>获取类型值</h2><p>Fortran语言提供了两个内部函数来获得类型值整数和实数的精度：</p>
<ul>
<li>​        selected_int_kind (r)</li>
<li>​        selected_real_kind ([p, r])</li>
</ul>
<p>selected_real_kind函数返回一个整数，一个给定的小数精度p 和十进制指数范围r 的类型的参数值。小数精度是明显的位数，而小数指数范围规定的最小和最大可表示数。因此该范围是从10-r 到 10+r。</p>
<p>例如，selected_real_kind (p = 10, r = 99) 返回所需的10精确到小数点后类型值，和一系列从10-99〜10+99。</p>
<p><strong>示例</strong></p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">program</span> getKind
<span class="token keyword">implicit none</span>

   <span class="token keyword">integer</span><span class="token operator">::</span> i
   i <span class="token operator">=</span> selected_real_kind <span class="token punctuation">(</span>p <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">)</span> 
   <span class="token keyword">print</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">'selected_real_kind (p = 10, r = 99)'</span><span class="token punctuation">,</span> i

<span class="token keyword">end program</span> getKind<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当编译并执行上述程序，将产生以下结果：</p>
<pre><code>selected_real_kind (p = 10, r = 99) 8</code></pre><h1 id="Fortran编程风格"><a href="#Fortran编程风格" class="headerlink" title="Fortran编程风格"></a>Fortran编程风格</h1><p>编程风格是所有关于下面的一些规则，同时制定方案。这些好的做法传递价值就类似可读性和明确性在程序中。</p>
<p>一个好的程序应该具有以下特点：</p>
<ul>
<li>​        可读性</li>
<li>​        正确的逻辑结构</li>
<li>​        不言自明的注释和备注</li>
</ul>
<p>例如，如果做类似下面的注释，它不会有太大的帮助：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token comment" spellcheck="true">! loop from 1 to 10 </span>
<span class="token keyword">do</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>但是，如果正在计算二项式系数，需要这个循环nCr，那么像这样的注释是有好处的：</p>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token comment" spellcheck="true">! loop to calculate nCr </span>
<span class="token keyword">do</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ul>
<li>​            缩进代码块，使各个层次的代码清晰。</li>
<li>​            自我检查代码，以确保零会有类似除法，没有数值误错，负实数的负实数或对数平方根。</li>
<li>​            包括代码，以确保变量不采取非法或超范围值，即输入验证。</li>
<li>​            没有把检查是不必要的，并且会减慢执行。例如：</li>
</ul>
<pre class="line-numbers language-fortran"><code class="language-fortran"><span class="token keyword">real</span> <span class="token operator">::</span> x 
x <span class="token operator">=</span> sin<span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1.0</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">>=</span> <span class="token number">0.0</span><span class="token punctuation">)</span> <span class="token keyword">then</span>
   z <span class="token operator">=</span> sqrt<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token keyword">end if</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>​        采用适当的算法的代码编写明显。</li>
<li>​        拆分延续长表达式使用标记 ‘&amp;’.</li>
<li>​        富有意义的变量名命名。</li>
</ul>
<h1 id="Fortran调试程序"><a href="#Fortran调试程序" class="headerlink" title="Fortran调试程序"></a>Fortran调试程序</h1><p>调试工具用于搜索程序的错误。</p>
<p>通过代码调试器的程序步骤，并允许在程序执行期间，检查变量和其他数据对象的值。</p>
<p>它加载的源代码，运行在调试器中的程序。调试器调试程序是：</p>
<ul>
<li>​        设置断点，</li>
<li>​        通过源代码步进，</li>
<li>​        设置观察点。</li>
</ul>
<p>断点指定的程序应该停止，特别是后代码的临界行。这些变量后，程序执行在断点处进行检查。</p>
<p>调试程序也检查了源代码行。</p>
<p>观看点是在需要时进行检查，特别是在一个读或写操作的一些变量的值。</p>
<h2 id="gdb调试器"><a href="#gdb调试器" class="headerlink" title="gdb调试器"></a>gdb调试器</h2><p>gdb调试器，GNU调试器一般由Linux操作系统自带。对于X窗口系统，GDB自带的图形界面和程序命名为 xxgdb。</p>
<p>下表提供了GDB的一些命令：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>目的</th>
</tr>
</thead>
<tbody><tr>
<td>break</td>
<td>设置一个断点</td>
</tr>
<tr>
<td>run</td>
<td>开始执行</td>
</tr>
<tr>
<td>cont</td>
<td>继续执行</td>
</tr>
<tr>
<td>next</td>
<td>只执行源代码的下一行，不进一步的任何函数调用</td>
</tr>
<tr>
<td>step</td>
<td>通过步入函数情况下，一个函数调用执行源代码的下一行</td>
</tr>
</tbody></table>
<h2 id="dbx调试器"><a href="#dbx调试器" class="headerlink" title="dbx调试器"></a>dbx调试器</h2><p>还有另外一个调试器，dbx调试器，用在Linux。</p>
<p>下表列出了在dbx中的一些命令：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>目的</th>
</tr>
</thead>
<tbody><tr>
<td>stop[var]</td>
<td>设置一个断点当变量var的值更改。</td>
</tr>
<tr>
<td>stop in [proc]</td>
<td>它停止执行当过程被进入</td>
</tr>
<tr>
<td>stop at [line]</td>
<td>它在指定行设置一个断点</td>
</tr>
<tr>
<td>run</td>
<td>开始执行</td>
</tr>
<tr>
<td>cont</td>
<td>继续执行</td>
</tr>
<tr>
<td>next</td>
<td>只执行源代码的下一行，不进入任何函数调用。</td>
</tr>
<tr>
<td>step</td>
<td>通过步入函数情况下，一个函数调用执行源代码的下一行。</td>
</tr>
</tbody></table>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://jackhcc.github.io" rel="external nofollow noreferrer">杰克成</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://jackhcc.github.io/posts/Language-Fortran.html">https://jackhcc.github.io/posts/Language-Fortran.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="https://jackhcc.github.io" target="_blank">杰克成</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Fortran/">
                                    <span class="chip bg-color">Fortran</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/reward/aliqr.png" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/reward/wxqr.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            
        </div>
    </div>

    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: '3821a0bbb773038a51fc',
        clientSecret: '4b30b507d67ec5497ec0e77f43f80cb3e0d7dd3a',
        repo: 'JackHCC.github.io',
        owner: 'JackHCC',
        admin: "JackHCC",
        id: '2021-07-31T23-36-30',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>
    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/posts/Language-Fortran-f2py.html">
                    <div class="card-image">
                        
                        
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/featureimages/12.jpg" class="responsive-img" alt="F2PY-Fortran与Python接口">
                        
                        <span class="card-title">F2PY-Fortran与Python接口</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            f2py接口详解
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-08-01
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Python/" class="post-category">
                                    Python
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/f2py/">
                        <span class="chip bg-color">f2py</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/posts/blog-python13.html">
                    <div class="card-image">
                        
                        
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/featureimages/14.jpg" class="responsive-img" alt="Python-Scipy详解">
                        
                        <span class="card-title">Python-Scipy详解</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            SciPy基本使用
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-07-29
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Python/" class="post-category">
                                    Python
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/SciPy/">
                        <span class="chip bg-color">SciPy</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('4'),
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



    <footer class="page-footer bg-color">
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2020</span>
            <a href="https://jackhcc.github.io" target="_blank">杰克成</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">3591.2k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2020";
                    var startMonth = "2";
                    var startDate = "27";
                    var startHour = "6";
                    var startMinute = "30";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/JackHCC" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:jackcc0701@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>



    <a href="https://www.facebook.com/profile.php?id=100046343443643" class="tooltipped" target="_blank" data-tooltip="关注我的Facebook: https://www.facebook.com/profile.php?id=100046343443643" data-position="top" data-delay="50">
        <i class="fab fa-facebook-f"></i>
    </a>



    <a href="https://twitter.com/JackChe66021834" class="tooltipped" target="_blank" data-tooltip="关注我的Twitter: https://twitter.com/JackChe66021834" data-position="top" data-delay="50">
        <i class="fab fa-twitter"></i>
    </a>



    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2508074836" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2508074836" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>



    <a href="https://weibo.com/u/6885584679" class="tooltipped" target="_blank" data-tooltip="关注我的微博: https://weibo.com/u/6885584679" data-position="top" data-delay="50">
        <i class="fab fa-weibo"></i>
    </a>



    <a href="https://www.zhihu.com/people/8f8482f01f0d6a04e844efe32e0f0710" class="tooltipped" target="_blank" data-tooltip="关注我的知乎: https://www.zhihu.com/people/8f8482f01f0d6a04e844efe32e0f0710" data-position="top" data-delay="50">
        <i class="fab fa-zhihu1">知</i>
    </a>



</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/materialize/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/aos/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/js/matery.js"></script>

    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas>
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
    <script type="text/javascript" src="/js/fireworks.js"></script>

    <script type="text/javascript">
        //只在桌面版网页启用特效
        var windowWidth = $(window).width();
        if (windowWidth > 768) {
            document.write('<script type="text/javascript" src="/js/sakura.js"><\/script>'); }
    </script>

    <!-- weather -->
	<script type="text/javascript">
	WIDGET = {FID: 'TToslpmkVO'}
	</script>
	<script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111"></script>


    <!-- Global site tag (gtag.js) - Google Analytics -->


    <!-- Baidu Analytics -->

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

    <!-- Baidu Push -->

    
    
    <script async src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/others/busuanzi.pure.mini.js"></script>
    

    
        <script src="//code.tidio.co/kqhlkxviiccyoa0czpfpu4ijuey9hfre.js"></script>
        <script> 
            $(document).ready(function () {
                setInterval(change_Tidio, 50);  
                function change_Tidio() { 
                    var tidio=$("#tidio-chat iframe");
                    if(tidio.css("display")=="block"&& $(window).width()>977 ){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" &&$(window).width()>977)>0? "-40px" : ($("div.toc-title").length&&$(window).width()>977)>0?"85px":"20px";   
                        document.getElementById("tidio-chat-iframe").style.right="-15px";   
                        document.getElementById("tidio-chat-iframe").style.height=parseInt(tidio.css("height"))>=520?"520px":tidio.css("height");
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    } 
                    else if(tidio.css("display")=="block"&&$(window).width()>601 &&$(window).width()<992 ){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" && 601< $(window).width()<992)>0? "-40px":"20px" ;   
                        document.getElementById("tidio-chat-iframe").style.right="-15px"; 
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    }
                    else if(tidio.css("display")=="block"&&$(window).width()<601 && parseInt(tidio.css("height"))<230){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" && $(window).width()<601)>0? "-10px":"45px" ;   
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    }
                    if( tidio.css("display")=="block"&&$(window).width()<601 && parseInt(tidio.css("height"))>=230){
                        document.getElementById("tidio-chat-iframe").style.zIndex="998";
                    }
                } 
            }); 
        </script>
    

    

    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/background/canvas-nest.js"></script>
    

    

    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/background/ribbon-dynamic.js" async="async"></script>
    
    
    
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/instantpage/instantpage.js" type="module"></script>
    

        <script src="//cdn.jsdelivr.net/npm/js-base64/base64.min.js"></script>
        <script>
        $('a').each(function() {
          const $this = $(this);
          const href = $this.attr('href');
          if (href && href.match('^((http|https|thunder|qqdl|ed2k|Flashget|qbrowser|ftp|rtsp|mms)://)')) {
            const strs = href.split('/');
            if (strs.length >= 3) {
                const host = strs[2];
                if (host !== 'your_domain' || window.location.host) {
                    $this.attr('href', '/go.html?u='+Base64.encode(href)+'').attr('rel', 'external nofollow noopener noreferrer');
                    if (true) {
                        $this.attr('target', '_blank');
                    }
                }
            }
          }
        });
        </script><script>!function(e){var c=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){for(var r=0;r<c.length;r++)t=c[r],0<=(n=t.getBoundingClientRect()).bottom&&0<=n.left&&n.top<=(e.innerHeight||document.documentElement.clientHeight)&&function(){var t,n,e,i,o=c[r];t=o,n=function(){c=c.filter(function(t){return o!==t})},e=new Image,i=t.getAttribute("data-original"),e.onload=function(){t.src=i,n&&n()},e.src=i}();var t,n}i(),e.addEventListener("scroll",function(){var t,n;t=i,n=e,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)})}(this);</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script></body>

</html>

