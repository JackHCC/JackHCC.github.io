<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Vscodeæºç ä¸æ’ä»¶è¯¦è§£, JackHCC">
    <meta name="description" content="Vscodeæºç ä¸æ’ä»¶å¼€å‘å­¦ä¹ ">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Vscodeæºç ä¸æ’ä»¶è¯¦è§£ | JackHCC</title>
    <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/favicon.png">

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/css/matery.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/css/my.css">
    
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/jquery/jquery.min.js"></script>
    
<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="JackHCC" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-hopscotch.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper head-container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/me.jpg" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">JackHCC</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>é¦–é¡µ</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>æ ‡ç­¾</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>åˆ†ç±»</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>å½’æ¡£</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-list" style="zoom: 0.6;"></i>
      
      <span>Tools</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="https://creativecc.cn/" target="_blank" rel="noopener">
          
          <i class="fas fa-book" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Creativeå·¥å…·å¯¼èˆª</span>
        </a>
      </li>
      
      <li>
        <a href="https://blog.creativecc.cn/Arxiv-NLP-Reporter/" target="_blank" rel="noopener">
          
          <i class="fas fa-film" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>NLPæ¯æ—¥è®ºæ–‡</span>
        </a>
      </li>
      
      <li>
        <a href="http://chat.creativecc.cn/" target="_blank" rel="noopener">
          
          <i class="fas fa-music" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>RocketChatèŠå¤©å®¤</span>
        </a>
      </li>
      
      <li>
        <a href="/contact">
          
          <i class="fas fa-comments" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Contactç•™è¨€æ¿</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>å‹æƒ…é“¾æ¥</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>å…³äº</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="æœç´¢" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/me.jpg" class="logo-img circle responsive-img">
        
        <div class="logo-name">JackHCC</div>
        <div class="logo-desc">
            
            Make the world betterrrr!!!
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			é¦–é¡µ
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			æ ‡ç­¾
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			åˆ†ç±»
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			å½’æ¡£
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-list"></i>
			
			Tools
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>   
				
                  <a href="https://creativecc.cn/ " target="_blank" rel="noopener" style="margin-left:75px";>
				  
				   <i class="fa fas fa-book" style="position: absolute;left:50px" ></i>
			      
		          <span>Creativeå·¥å…·å¯¼èˆª</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="https://blog.creativecc.cn/Arxiv-NLP-Reporter/ " target="_blank" rel="noopener" style="margin-left:75px";>
				  
				   <i class="fa fas fa-film" style="position: absolute;left:50px" ></i>
			      
		          <span>NLPæ¯æ—¥è®ºæ–‡</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="http://chat.creativecc.cn/ " target="_blank" rel="noopener" style="margin-left:75px";>
				  
				   <i class="fa fas fa-music" style="position: absolute;left:50px" ></i>
			      
		          <span>RocketChatèŠå¤©å®¤</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/contact " style="margin-left:75px";>
				  
				   <i class="fa fas fa-comments" style="position: absolute;left:50px" ></i>
			      
		          <span>Contactç•™è¨€æ¿</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			å‹æƒ…é“¾æ¥
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			å…³äº
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/JackHCC/JackHCC.github.io" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/JackHCC/JackHCC.github.io" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('è¯·è¾“å…¥è®¿é—®æœ¬æ–‡ç« çš„å¯†ç ')).toString(CryptoJS.enc.Hex)) {
                alert('å¯†ç é”™è¯¯ï¼Œå°†è¿”å›ä¸»é¡µï¼');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/featureimages/20.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Vscodeæºç ä¸æ’ä»¶è¯¦è§£</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 30px;
        bottom: 146px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- æ–‡ç« å†…å®¹è¯¦æƒ… -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Vscode/">
                                <span class="chip bg-color">Vscode</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Development/" class="post-category">
                                Development
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>å‘å¸ƒæ—¥æœŸ:&nbsp;&nbsp;
                    2021-09-11
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>æ›´æ–°æ—¥æœŸ:&nbsp;&nbsp;
                    2021-09-15
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>æ–‡ç« å­—æ•°:&nbsp;&nbsp;
                    85.7k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>é˜…è¯»æ—¶é•¿:&nbsp;&nbsp;
                    341 åˆ†
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>é˜…è¯»æ¬¡æ•°:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>

        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Keyboard-Reference-Sheets"><a href="#Keyboard-Reference-Sheets" class="headerlink" title="Keyboard Reference Sheets"></a>Keyboard Reference Sheets</h1><p>Download the keyboard shortcut reference sheet for your platform (<a href="https://go.microsoft.com/fwlink/?linkid=832143" target="_blank" rel="noopener">macOS</a>, <a href="https://go.microsoft.com/fwlink/?linkid=832145" target="_blank" rel="noopener">Windows</a>, <a href="https://go.microsoft.com/fwlink/?linkid=832144" target="_blank" rel="noopener">Linux</a>).</p>
<p><img src="/images/loading.gif" data-original="../images/development/KeyboardReferenceSheet.png" alt=""></p>
<h1 id="ğŸ¤©Vscodeæºç åˆ†æ"><a href="#ğŸ¤©Vscodeæºç åˆ†æ" class="headerlink" title="ğŸ¤©Vscodeæºç åˆ†æ"></a>ğŸ¤©Vscodeæºç åˆ†æ</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>Visual Studio Code(ç®€ç§°VSCode) æ˜¯å¼€æºå…è´¹çš„IDEç¼–è¾‘å™¨ï¼ŒåŸæœ¬æ˜¯å¾®è½¯å†…éƒ¨ä½¿ç”¨çš„äº‘ç¼–è¾‘å™¨(Monaco)ã€‚</p>
<p>gitä»“åº“åœ°å€ï¼š <a href="https://github.com/microsoft/vscode" target="_blank" rel="noopener">https://github.com/microsoft/vscode</a></p>
<p>é€šè¿‡Eletroné›†æˆäº†æ¡Œé¢åº”ç”¨ï¼Œå¯ä»¥è·¨å¹³å°ä½¿ç”¨ï¼Œå¼€å‘è¯­è¨€ä¸»è¦é‡‡ç”¨å¾®è½¯è‡ªå®¶çš„TypeScriptã€‚ æ•´ä¸ªé¡¹ç›®ç»“æ„æ¯”è¾ƒæ¸…æ™°ï¼Œæ–¹ä¾¿é˜…è¯»ä»£ç ç†è§£ã€‚æˆä¸ºäº†æœ€æµè¡Œè·¨å¹³å°çš„æ¡Œé¢IDEåº”ç”¨</p>
<p>å¾®è½¯å¸Œæœ›VSCodeåœ¨ä¿æŒæ ¸å¿ƒè½»é‡çº§çš„åŸºç¡€ä¸Šï¼Œå¢åŠ é¡¹ç›®æ”¯æŒï¼Œæ™ºèƒ½æ„ŸçŸ¥ï¼Œç¼–è¯‘è°ƒè¯•ã€‚ <img src="/images/loading.gif" data-original="../images/development/vscode-vside-zh.png" alt=""></p>
<h3 id="ç¼–è¯‘å®‰è£…"><a href="#ç¼–è¯‘å®‰è£…" class="headerlink" title="ç¼–è¯‘å®‰è£…"></a>ç¼–è¯‘å®‰è£…</h3><p>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬,ç›®å‰æˆ‘ç”¨çš„æ˜¯1.37.1ç‰ˆæœ¬ å®˜æ–¹çš„wikiä¸­æœ‰ç¼–è¯‘å®‰è£…çš„è¯´æ˜ <a href="https://github.com/microsoft/vscode/wiki/How-to-Contribute?_blank" target="_blank" rel="noopener">How to Contribute</a></p>
<p>Linux, Window, MacOSä¸‰ä¸ªç³»ç»Ÿç¼–è¯‘æ—¶æœ‰äº›å·®åˆ«ï¼Œå‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œ åœ¨ç¼–è¯‘å®‰è£…ä¾èµ–æ—¶å¦‚æœé‡åˆ°connect timeout, éœ€è¦è¿›è¡Œç§‘å­¦ä¸Šç½‘ã€‚</p>
<blockquote>
<p>éœ€è¦æ³¨æ„çš„ä¸€ç‚¹ è¿è¡Œç¯å¢ƒä¾èµ–ç‰ˆæœ¬ Nodejs x64 version &gt;= 10.16.0, &lt; 11.0.0, python 2.7(3.0ä¸èƒ½æ­£å¸¸æ‰§è¡Œ)</p>
</blockquote>
<h3 id="æŠ€æœ¯æ¶æ„"><a href="#æŠ€æœ¯æ¶æ„" class="headerlink" title="æŠ€æœ¯æ¶æ„"></a>æŠ€æœ¯æ¶æ„</h3><p><img src="/images/loading.gif" data-original="../images/development/vscode-framework.png" alt=""></p>
<h4 id="Electron"><a href="#Electron" class="headerlink" title="Electron"></a>Electron</h4><blockquote>
<p><a href="https://electronjs.org/?_blank" target="_blank" rel="noopener">Electron</a> æ˜¯ä¸€ä¸ªä½¿ç”¨ JavaScript, HTML å’Œ CSS ç­‰ Web æŠ€æœ¯åˆ›å»ºåŸç”Ÿç¨‹åºçš„æ¡†æ¶ï¼Œå®ƒè´Ÿè´£æ¯”è¾ƒéš¾æçš„éƒ¨åˆ†ï¼Œä½ åªéœ€æŠŠç²¾åŠ›æ”¾åœ¨ä½ çš„åº”ç”¨çš„æ ¸å¿ƒä¸Šå³å¯ (Electron = Node.js + Chromium + Native API)</p>
</blockquote>
<h4 id="Monaco-Editor"><a href="#Monaco-Editor" class="headerlink" title="Monaco Editor"></a>Monaco Editor</h4><blockquote>
<p><a href="https://github.com/microsoft/monaco-editor?_blank" target="_blank" rel="noopener">Monaco Editor</a>æ˜¯å¾®è½¯å¼€æºé¡¹ç›®, ä¸ºVS Codeæä¾›æ”¯æŒçš„ä»£ç ç¼–è¾‘å™¨ï¼Œè¿è¡Œåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ã€‚ç¼–è¾‘å™¨æä¾›ä»£ç æç¤ºï¼Œæ™ºèƒ½å»ºè®®ç­‰åŠŸèƒ½ã€‚ä¾›å¼€å‘äººå‘˜è¿œç¨‹æ›´æ–¹ä¾¿çš„ç¼–å†™ä»£ç ï¼Œå¯ç‹¬ç«‹è¿è¡Œã€‚</p>
</blockquote>
<h4 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h4><blockquote>
<p>TypeScriptæ˜¯ä¸€ç§ç”±å¾®è½¯å¼€å‘çš„è‡ªç”±å’Œå¼€æºçš„ç¼–ç¨‹è¯­è¨€ã€‚å®ƒæ˜¯JavaScriptçš„ä¸€ä¸ªè¶…é›†ï¼Œè€Œä¸”æœ¬è´¨ä¸Šå‘è¿™ä¸ªè¯­è¨€æ·»åŠ äº†å¯é€‰çš„é™æ€ç±»å‹å’ŒåŸºäºç±»çš„é¢å‘å¯¹è±¡ç¼–ç¨‹</p>
</blockquote>
<h3 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h3><pre><code>â”œâ”€â”€ build         # gulpç¼–è¯‘æ„å»ºè„šæœ¬
â”œâ”€â”€ extensions    # å†…ç½®æ’ä»¶
â”œâ”€â”€ product.json  # App metaä¿¡æ¯
â”œâ”€â”€ resources     # å¹³å°ç›¸å…³é™æ€èµ„æº
â”œâ”€â”€ scripts       # å·¥å…·è„šæœ¬ï¼Œå¼€å‘/æµ‹è¯•
â”œâ”€â”€ src           # æºç ç›®å½•
â””â”€â”€ typings       # å‡½æ•°è¯­æ³•è¡¥å…¨å®šä¹‰
â””â”€â”€ vs
â”œâ”€â”€base# é€šç”¨å·¥å…·/åè®®å’ŒUIåº“
â”‚â”œâ”€â”€ browser # åŸºç¡€UIç»„ä»¶ï¼ŒDOMæ“ä½œ
â”‚â”œâ”€â”€ common  # diffæè¿°ï¼Œmarkdownè§£æå™¨ï¼Œworkeråè®®ï¼Œå„ç§å·¥å…·å‡½æ•°
â”‚â”œâ”€â”€ node    # Nodeå·¥å…·å‡½æ•°
â”‚â”œâ”€â”€ parts   # IPCåè®®ï¼ˆElectronã€Nodeï¼‰ï¼Œquickopenã€treeç»„ä»¶
â”‚â”œâ”€â”€ test    # baseå•æµ‹ç”¨ä¾‹
â”‚â””â”€â”€ worker  # Worker factoryå’Œmain Workerï¼ˆè¿è¡ŒIDE Coreï¼šMonacoï¼‰
â”œâ”€â”€ code        # VSCodeä¸»è¿è¡Œçª—å£
â”œâ”€â”€ editor        # IDEä»£ç ç¼–è¾‘å™¨
|â”œâ”€â”€ browser     # ä»£ç ç¼–è¾‘å™¨æ ¸å¿ƒ
|â”œâ”€â”€ common      # ä»£ç ç¼–è¾‘å™¨æ ¸å¿ƒ
|â”œâ”€â”€ contrib     # vscode ä¸ç‹¬ç«‹ IDEå…±äº«çš„ä»£ç 
|â””â”€â”€ standalone  # ç‹¬ç«‹ IDE ç‹¬æœ‰çš„ä»£ç 
â”œâ”€â”€ platform      # æ”¯æŒæ³¨å…¥æœåŠ¡å’Œå¹³å°ç›¸å…³åŸºç¡€æœåŠ¡ï¼ˆæ–‡ä»¶ã€å‰ªåˆ‡æ¿ã€çª—ä½“ã€çŠ¶æ€æ ï¼‰
â”œâ”€â”€ workbench     # å·¥ä½œåŒºUIå¸ƒå±€ï¼ŒåŠŸèƒ½ä¸»ç•Œé¢
â”‚â”œâ”€â”€ api              # 
â”‚â”œâ”€â”€ browser          # 
â”‚â”œâ”€â”€ common           # 
â”‚â”œâ”€â”€ contrib          # 
â”‚â”œâ”€â”€ electron-browser # 
â”‚â”œâ”€â”€ services         # 
â”‚â””â”€â”€ test             # 
â”œâ”€â”€ css.build.js  # ç”¨äºæ’ä»¶æ„å»ºçš„CSS loader
â”œâ”€â”€ css.js        # CSS loader
â”œâ”€â”€ editor        # å¯¹æ¥IDE Coreï¼ˆè¯»å–ç¼–è¾‘/äº¤äº’çŠ¶æ€ï¼‰ï¼Œæä¾›å‘½ä»¤ã€ä¸Šä¸‹æ–‡èœå•ã€hoverã€snippetç­‰æ”¯æŒ
â”œâ”€â”€ loader.js     # AMD loaderï¼ˆç”¨äºå¼‚æ­¥åŠ è½½AMDæ¨¡å—ï¼‰
â”œâ”€â”€ nls.build.js  # ç”¨äºæ’ä»¶æ„å»ºçš„NLS loader
â””â”€â”€ nls.js        # NLSï¼ˆNational Language Supportï¼‰å¤šè¯­è¨€loader</code></pre><h4 id="æ ¸å¿ƒå±‚"><a href="#æ ¸å¿ƒå±‚" class="headerlink" title="æ ¸å¿ƒå±‚"></a>æ ¸å¿ƒå±‚</h4><ul>
<li>base: æä¾›é€šç”¨æœåŠ¡å’Œæ„å»ºç”¨æˆ·ç•Œé¢</li>
<li>platform: æ³¨å…¥æœåŠ¡å’ŒåŸºç¡€æœåŠ¡ä»£ç </li>
<li>editor: å¾®è½¯Monacoç¼–è¾‘å™¨ï¼Œä¹Ÿå¯ç‹¬ç«‹è¿è¡Œä½¿ç”¨</li>
<li>wrokbench: é…åˆMonacoå¹¶ä¸”ç»™viewletsæä¾›æ¡†æ¶ï¼šå¦‚ï¼šæµè§ˆå™¨çŠ¶æ€æ ï¼Œèœå•æ åˆ©ç”¨electronå®ç°æ¡Œé¢ç¨‹åº</li>
</ul>
<h4 id="æ ¸å¿ƒç¯å¢ƒ"><a href="#æ ¸å¿ƒç¯å¢ƒ" class="headerlink" title="æ ¸å¿ƒç¯å¢ƒ"></a>æ ¸å¿ƒç¯å¢ƒ</h4><p>æ•´ä¸ªé¡¹ç›®å®Œå…¨ä½¿ç”¨typescriptå®ç°ï¼Œelectronä¸­è¿è¡Œä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ï¼Œä½¿ç”¨çš„apiæœ‰æ‰€ä¸åŒï¼Œæ‰€ä»¥åœ¨coreä¸­æ¯ä¸ªç›®å½•ç»„ç»‡ä¹Ÿæ˜¯æŒ‰ç…§ä½¿ç”¨çš„apiæ¥å®‰æ’ï¼Œ è¿è¡Œçš„ç¯å¢ƒåˆ†ä¸ºå‡ ç±»ï¼š</p>
<ul>
<li>common: åªä½¿ç”¨javascritp apiçš„ä»£ç ï¼Œèƒ½åœ¨ä»»ä½•ç¯å¢ƒä¸‹è¿è¡Œ</li>
<li>browser: æµè§ˆå™¨api, å¦‚æ“ä½œdom; å¯ä»¥è°ƒç”¨common</li>
<li>node: éœ€è¦ä½¿ç”¨nodeçš„api,æ¯”å¦‚æ–‡ä»¶ioæ“ä½œ</li>
<li>electron-brower: æ¸²æŸ“è¿›ç¨‹api, å¯ä»¥è°ƒç”¨common, brower, node, ä¾èµ–<a href="https://github.com/electron/electron/tree/master/docs#modules-for-the-renderer-process-web-page" target="_blank" rel="noopener">electron renderer-process API</a></li>
<li>electron-main: ä¸»è¿›ç¨‹api, å¯ä»¥è°ƒç”¨: common, node ä¾èµ–äº<a href="https://github.com/electron/electron/tree/master/docs#modules-for-the-main-process" target="_blank" rel="noopener">electron main-process AP</a></li>
</ul>
<p><img src="/images/loading.gif" data-original="../images/development/vscode-welcome.png" alt=""></p>
<h2 id="ä¸»å¯åŠ¨æµç¨‹"><a href="#ä¸»å¯åŠ¨æµç¨‹" class="headerlink" title="ä¸»å¯åŠ¨æµç¨‹"></a>ä¸»å¯åŠ¨æµç¨‹</h2><p><strong>Electroné€šè¿‡package.jsonä¸­çš„mainå­—æ®µæ¥å®šä¹‰åº”ç”¨å…¥å£ã€‚</strong></p>
<p>main.jsæ˜¯vscodeçš„å…¥å£ã€‚</p>
<ul>
<li>src/main.js<ul>
<li>vs/code/electron-main/main.ts</li>
<li>vs/code/electron-main/app.ts</li>
<li>vs/code/electron-main/windows.ts</li>
<li>vs/workbench/electron-browser/desktop.main.ts</li>
<li>vs/workbench/browser/workbench.ts</li>
</ul>
</li>
</ul>
<pre><code>app.once('ready', function () {
    //å¯åŠ¨è¿½è¸ªï¼Œåé¢ä¼šè®²åˆ°ï¼Œè·Ÿæ€§èƒ½æ£€æµ‹ä¼˜åŒ–ç›¸å…³ã€‚
    if (args['trace']) {
        // @ts-ignore
        const contentTracing = require('electron').contentTracing;
        const traceOptions = {
            categoryFilter: args['trace-category-filter'] || '*',
            traceOptions: args['trace-options'] || 'record-until-full,enable-sampling'
        };
        contentTracing.startRecording(traceOptions, () =&gt; onReady());
    } else {
        onReady();
    }
});
function onReady() {
    perf.mark('main:appReady');
    Promise.all([nodeCachedDataDir.ensureExists(), userDefinedLocale]).then(([cachedDataDir, locale]) =&gt; {
        //1. è¿™é‡Œå°è¯•è·å–æœ¬åœ°é…ç½®ä¿¡æ¯ï¼Œå¦‚æœæœ‰çš„è¯ä¼šä¼ é€’åˆ°startup
        if (locale &amp;&amp; !nlsConfiguration) {
            nlsConfiguration = lp.getNLSConfiguration(product.commit, userDataPath, metaDataFile, locale);
        }
        if (!nlsConfiguration) {
            nlsConfiguration = Promise.resolve(undefined);
        }
        nlsConfiguration.then(nlsConfig =&gt; {
            //4. é¦–å…ˆä¼šæ£€æŸ¥ç”¨æˆ·è¯­è¨€ç¯å¢ƒé…ç½®ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®é»˜è®¤ä½¿ç”¨è‹±è¯­ 
            const startup = nlsConfig =&gt; {
                nlsConfig._languagePackSupport = true;
                process.env['VSCODE_NLS_CONFIG'] = JSON.stringify(nlsConfig);
                process.env['VSCODE_NODE_CACHED_DATA_DIR'] = cachedDataDir || '';
                perf.mark('willLoadMainBundle');
                //ä½¿ç”¨å¾®è½¯çš„loaderç»„ä»¶åŠ è½½electron-main/mainæ–‡ä»¶
                require('./bootstrap-amd').load('vs/code/electron-main/main', () =&gt; {
                    perf.mark('didLoadMainBundle');
                });
            };
            // 2. æ¥æ”¶åˆ°æœ‰æ•ˆçš„é…ç½®ä¼ å…¥æ˜¯å…¶ç”Ÿæ•ˆï¼Œè°ƒç”¨startup
            if (nlsConfig) {
                startup(nlsConfig);
            }
            // 3. è¿™é‡Œå°è¯•ä½¿ç”¨æœ¬åœ°çš„åº”ç”¨ç¨‹åº
            // åº”ç”¨ç¨‹åºè®¾ç½®åŒºåŸŸåœ¨readyäº‹ä»¶åæ‰æœ‰æ•ˆ
            else {
                let appLocale = app.getLocale();
                if (!appLocale) {
                    startup({ locale: 'en', availableLanguages: {} });
                } else {
                    // é…ç½®å…¼å®¹å¤§å°å†™æ•æ„Ÿï¼Œæ‰€ä»¥ç»Ÿä¸€è½¬æ¢æˆå°å†™
                    appLocale = appLocale.toLowerCase();
                    // è¿™é‡Œå°±ä¼šè°ƒç”¨configæœåŠ¡ï¼ŒæŠŠæœ¬åœ°é…ç½®åŠ è½½è¿›æ¥å†è°ƒç”¨startup
                    lp.getNLSConfiguration(product.commit, userDataPath, metaDataFile, appLocale).then(nlsConfig =&gt; {
                        if (!nlsConfig) {
                            nlsConfig = { locale: appLocale, availableLanguages: {} };
                        }
                        startup(nlsConfig);
                    });
                }
            }
        });
    }, console.error);
}</code></pre><h3 id="vs-code-electron-main-main-ts"><a href="#vs-code-electron-main-main-ts" class="headerlink" title="vs/code/electron-main/main.ts"></a>vs/code/electron-main/main.ts</h3><p>electron-main/main æ˜¯ç¨‹åºçœŸæ­£å¯åŠ¨çš„å…¥å£,è¿›å…¥main processåˆå§‹åŒ–æµç¨‹.</p>
<h4 id="è¿™é‡Œä¸»è¦åšäº†ä¸¤ä»¶äº‹æƒ…ï¼š"><a href="#è¿™é‡Œä¸»è¦åšäº†ä¸¤ä»¶äº‹æƒ…ï¼š" class="headerlink" title="è¿™é‡Œä¸»è¦åšäº†ä¸¤ä»¶äº‹æƒ…ï¼š"></a>è¿™é‡Œä¸»è¦åšäº†ä¸¤ä»¶äº‹æƒ…ï¼š</h4><ol>
<li>åˆå§‹åŒ–Service</li>
<li>å¯åŠ¨ä¸»å®ä¾‹</li>
</ol>
<p>ç›´æ¥çœ‹startupæ–¹æ³•çš„å®ç°,åŸºç¡€æœåŠ¡åˆå§‹åŒ–å®Œæˆåä¼šåŠ è½½ CodeApplication, mainIpcServer, instanceEnvironmentï¼Œè°ƒç”¨ startup æ–¹æ³•å¯åŠ¨APP</p>
<pre><code>private async startup(args: ParsedArgs): Promise&lt;void&gt; {
        //spdlog æ—¥å¿—æœåŠ¡
        const bufferLogService = new BufferLogService();
        // 1. è°ƒç”¨ createServices
        const [instantiationService, instanceEnvironment] = this.createServices(args, bufferLogService);
        try {
            // 1.1 åˆå§‹åŒ–ServiceæœåŠ¡
            await instantiationService.invokeFunction(async accessor =&gt; {
                // åŸºç¡€æœåŠ¡ï¼ŒåŒ…æ‹¬ä¸€äº›ç”¨æˆ·æ•°æ®ï¼Œç¼“å­˜ç›®å½•
                const environmentService = accessor.get(IEnvironmentService);
                // é…ç½®æœåŠ¡
                const configurationService = accessor.get(IConfigurationService);
                // æŒä¹…åŒ–æ•°æ®
                const stateService = accessor.get(IStateService);
                try {
                    await this.initServices(environmentService, configurationService as ConfigurationService, stateService as StateService);
                } catch (error) {
                    // æŠ›å‡ºé”™è¯¯å¯¹è¯æ¡†
                    this.handleStartupDataDirError(environmentService, error);
                    throw error;
                }
            });
            // 1.2 å¯åŠ¨å®ä¾‹
            await instantiationService.invokeFunction(async accessor =&gt; {
                const environmentService = accessor.get(IEnvironmentService);
                const logService = accessor.get(ILogService);
                const lifecycleService = accessor.get(ILifecycleService);
                const configurationService = accessor.get(IConfigurationService);
                const mainIpcServer = await this.doStartup(logService, environmentService, lifecycleService, instantiationService, true);
                bufferLogService.logger = new SpdLogService('main', environmentService.logsPath, bufferLogService.getLevel());
                once(lifecycleService.onWillShutdown)(() =&gt; (configurationService as ConfigurationService).dispose());
                return instantiationService.createInstance(CodeApplication, mainIpcServer, instanceEnvironment).startup();
            });
        } catch (error) {
            instantiationService.invokeFunction(this.quit, error);
        }
    }</code></pre><h4 id="vs-code-electron-main-app-ts"><a href="#vs-code-electron-main-app-ts" class="headerlink" title="vs/code/electron-main/app.ts"></a>vs/code/electron-main/app.ts</h4><p>è¿™é‡Œé¦–å…ˆè§¦å‘CodeApplication.startup()æ–¹æ³•ï¼Œ åœ¨ç¬¬ä¸€ä¸ªçª—å£æ‰“å¼€3ç§’åæˆä¸ºå…±äº«è¿›ç¨‹ï¼Œ</p>
<pre><code>async startup(): Promise&lt;void&gt; {
    ...
    // 1. ç¬¬ä¸€ä¸ªçª—å£åˆ›å»ºå…±äº«è¿›ç¨‹
    const sharedProcess = this.instantiationService.createInstance(SharedProcess, machineId, this.userEnv);
    const sharedProcessClient = sharedProcess.whenReady().then(() =&gt; connect(this.environmentService.sharedIPCHandle, 'main'));
    this.lifecycleService.when(LifecycleMainPhase.AfterWindowOpen).then(() =&gt; {
        this._register(new RunOnceScheduler(async () =&gt; {
            const userEnv = await getShellEnvironment(this.logService, this.environmentService);
            sharedProcess.spawn(userEnv);
        }, 3000)).schedule();
    });
    // 2. åˆ›å»ºappå®ä¾‹
    const appInstantiationService = await this.createServices(machineId, trueMachineId, sharedProcess, sharedProcessClient);
    // 3. æ‰“å¼€ä¸€ä¸ªçª—å£ è°ƒç”¨ 
    const windows = appInstantiationService.invokeFunction(accessor =&gt; this.openFirstWindow(accessor, electronIpcServer, sharedProcessClient));
    // 4. çª—å£æ‰“å¼€åæ‰§è¡Œç”Ÿå‘½å‘¨æœŸå’Œæˆæƒæ“ä½œ
    this.afterWindowOpen();
    ...
    //vscodeç»“æŸäº†æ€§èƒ½é—®é¢˜çš„è¿½è¸ª
    if (this.environmentService.args.trace) {
        this.stopTracingEventually(windows);
    }
}</code></pre><p>openFirstWindow ä¸»è¦å®ç° CodeApplication.openFirstWindow é¦–æ¬¡å¼€å¯çª—å£æ—¶ï¼Œåˆ›å»º Electron çš„ IPCï¼Œä½¿ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹é—´é€šä¿¡ã€‚ windowä¼šè¢«æ³¨å†Œåˆ°sharedProcessClientï¼Œä¸»è¿›ç¨‹å’Œå…±äº«è¿›ç¨‹é€šä¿¡ æ ¹æ® environmentService æä¾›çš„å‚æ•°(path,uri)è°ƒç”¨windowsMainService.open æ–¹æ³•æ‰“å¼€çª—å£</p>
<pre><code>private openFirstWindow(accessor: ServicesAccessor, electronIpcServer: ElectronIPCServer, sharedProcessClient: Promise&lt;Client&lt;string&gt;&gt;): ICodeWindow[] {
        ...
        // 1. æ³¨å…¥Electron IPC Service, windowsçª—å£ç®¡ç†ï¼Œèœå•æ ç­‰æœåŠ¡
        // 2. æ ¹æ®environmentServiceè¿›è¡Œå‚æ•°é…ç½®
        const macOpenFiles: string[] = (&lt;any&gt;global).macOpenFiles;
        const context = !!process.env['VSCODE_CLI'] ? OpenContext.CLI : OpenContext.DESKTOP;
        const hasCliArgs = hasArgs(args._);
        const hasFolderURIs = hasArgs(args['folder-uri']);
        const hasFileURIs = hasArgs(args['file-uri']);
        const noRecentEntry = args['skip-add-to-recently-opened'] === true;
        const waitMarkerFileURI = args.wait &amp;&amp; args.waitMarkerFilePath ? URI.file(args.waitMarkerFilePath) : undefined;
        ...
        // æ‰“å¼€ä¸»çª—å£ï¼Œé»˜è®¤ä»æ‰§è¡Œå‘½ä»¤è¡Œä¸­è¯»å–å‚æ•° 
        return windowsMainService.open({
            context,
            cli: args,
            forceNewWindow: args['new-window'] || (!hasCliArgs &amp;&amp; args['unity-launch']),
            diffMode: args.diff,
            noRecentEntry,
            waitMarkerFileURI,
            gotoLineMode: args.goto,
            initialStartup: true
        });
    }</code></pre><h4 id="vs-code-electron-main-windows-ts"><a href="#vs-code-electron-main-windows-ts" class="headerlink" title="vs/code/electron-main/windows.ts"></a>vs/code/electron-main/windows.ts</h4><p>æ¥ä¸‹æ¥åˆ°äº†electronçš„windowsçª—å£ï¼Œopenæ–¹æ³•åœ¨doOpenä¸­æ‰§è¡Œçª—å£é…ç½®åˆå§‹åŒ–ï¼Œæœ€ç»ˆè°ƒç”¨openInBrowserWindow -&gt; æ‰§è¡ŒdoOpenInBrowserWindowæ˜¯å…¶æ‰“å¼€window,ä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<pre><code>private openInBrowserWindow(options: IOpenBrowserWindowOptions): ICodeWindow {
    ...
    // New window
    if (!window) {
        //1.åˆ¤æ–­æ˜¯å¦å…¨å±åˆ›å»ºçª—å£
         ...
        // 2. åˆ›å»ºå®ä¾‹çª—å£
        window = this.instantiationService.createInstance(CodeWindow, {
            state,
            extensionDevelopmentPath: configuration.extensionDevelopmentPath,
            isExtensionTestHost: !!configuration.extensionTestsPath
        });
        // 3.æ·»åŠ åˆ°å½“å‰çª—å£æ§åˆ¶å™¨
        WindowsManager.WINDOWS.push(window);
        // 4.çª—å£ç›‘å¬å™¨
        window.win.webContents.removeAllListeners('devtools-reload-page'); // remove built in listener so we can handle this on our own
        window.win.webContents.on('devtools-reload-page', () =&gt; this.reload(window!));
        window.win.webContents.on('crashed', () =&gt; this.onWindowError(window!, WindowError.CRASHED));
        window.win.on('unresponsive', () =&gt; this.onWindowError(window!, WindowError.UNRESPONSIVE));
        window.win.on('closed', () =&gt; this.onWindowClosed(window!));
        // 5.æ³¨å†Œçª—å£ç”Ÿå‘½å‘¨æœŸ
        (this.lifecycleService as LifecycleService).registerWindow(window);
    }
    ...
    return window;
}</code></pre><p>doOpenInBrowserWindowä¼šè°ƒç”¨window.loadæ–¹æ³• åœ¨window.tsä¸­å®ç°</p>
<pre><code>load(config: IWindowConfiguration, isReload?: boolean, disableExtensions?: boolean): void {
    ...
    // Load URL
    perf.mark('main:loadWindow');
    this._win.loadURL(this.getUrl(configuration));
    ...
}
private getUrl(windowConfiguration: IWindowConfiguration): string {
    ...
    //åŠ è½½æ¬¢è¿å±å¹•çš„html
    let configUrl = this.doGetUrl(config);
    ...
    return configUrl;
}
//é»˜è®¤åŠ è½½ vs/code/electron-browser/workbench/workbench.html
private doGetUrl(config: object): string {
    return `${require.toUrl('vs/code/electron-browser/workbench/workbench.html')}?config=${encodeURIComponent(JSON.stringify(config))}`;
}</code></pre><p>main processçš„ä½¿å‘½å®Œæˆ, ä¸»ç•Œé¢è¿›è¡Œæ„å»ºå¸ƒå±€ã€‚</p>
<p>åœ¨workbench.htmlä¸­åŠ è½½äº†workbench.jsï¼Œ è¿™é‡Œè°ƒç”¨return require(â€˜vs/workbench/electron-browser/desktop.mainâ€™).main(configuration);å®ç°å¯¹ä¸»ç•Œé¢çš„å±•ç¤º</p>
<h4 id="vs-workbench-electron-browser-desktop-main-ts"><a href="#vs-workbench-electron-browser-desktop-main-ts" class="headerlink" title="vs/workbench/electron-browser/desktop.main.ts"></a>vs/workbench/electron-browser/desktop.main.ts</h4><p>åˆ›å»ºå·¥ä½œåŒºï¼Œè°ƒç”¨workbench.startup()æ–¹æ³•ï¼Œæ„å»ºä¸»ç•Œé¢å±•ç¤ºå¸ƒå±€</p>
<pre><code>...
async open(): Promise&lt;void&gt; {
    const services = await this.initServices();
    await domContentLoaded();
    mark('willStartWorkbench');
    // 1.åˆ›å»ºå·¥ä½œåŒº
    const workbench = new Workbench(document.body, services.serviceCollection, services.logService);
    // 2.ç›‘å¬çª—å£å˜åŒ–
    this._register(addDisposableListener(window, EventType.RESIZE, e =&gt; this.onWindowResize(e, true, workbench)));
    // 3.å·¥ä½œå°ç”Ÿå‘½å‘¨æœŸ
    this._register(workbench.onShutdown(() =&gt; this.dispose()));
    this._register(workbench.onWillShutdown(event =&gt; event.join(services.storageService.close())));
    // 3.å¯åŠ¨å·¥ä½œåŒº
    const instantiationService = workbench.startup();
    ...
}
...</code></pre><h4 id="vs-workbench-browser-workbench-ts"><a href="#vs-workbench-browser-workbench-ts" class="headerlink" title="vs/workbench/browser/workbench.ts"></a>vs/workbench/browser/workbench.ts</h4><p>å·¥ä½œåŒºç»§æ‰¿è‡ªlayoutç±»ï¼Œä¸»è¦ä½œç”¨æ˜¯æ„å»ºå·¥ä½œåŒºï¼Œåˆ›å»ºç•Œé¢å¸ƒå±€ã€‚</p>
<pre><code>export class Workbench extends Layout {
    ...
    startup(): IInstantiationService {
        try {
            ...
            // Services
            const instantiationService = this.initServices(this.serviceCollection);
            instantiationService.invokeFunction(async accessor =&gt; {
                const lifecycleService = accessor.get(ILifecycleService);
                const storageService = accessor.get(IStorageService);
                const configurationService = accessor.get(IConfigurationService);
                // Layout
                this.initLayout(accessor);
                // Registries
                this.startRegistries(accessor);
                // Context Keys
                this._register(instantiationService.createInstance(WorkbenchContextKeysHandler));
                // æ³¨å†Œç›‘å¬äº‹ä»¶
                this.registerListeners(lifecycleService, storageService, configurationService);
                // æ¸²æŸ“å·¥ä½œåŒº
                this.renderWorkbench(instantiationService, accessor.get(INotificationService) as NotificationService, storageService, configurationService);
                // åˆ›å»ºå·¥ä½œåŒºå¸ƒå±€
                this.createWorkbenchLayout(instantiationService);
                // å¸ƒå±€æ„å»º
                this.layout();
                // Restore
                try {
                    await this.restoreWorkbench(accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IViewletService), accessor.get(IPanelService), accessor.get(ILogService), lifecycleService);
                } catch (error) {
                    onUnexpectedError(error);
                }
            });
            return instantiationService;
        } catch (error) {
            onUnexpectedError(error);
            throw error; // rethrow because this is a critical issue we cannot handle properly here
        }
    }
    ...
}</code></pre><h2 id="å®ä¾‹åŒ–æœåŠ¡"><a href="#å®ä¾‹åŒ–æœåŠ¡" class="headerlink" title="å®ä¾‹åŒ–æœåŠ¡"></a>å®ä¾‹åŒ–æœåŠ¡</h2><p>SyncDescriptorè´Ÿè´£æ³¨å†Œè¿™äº›æœåŠ¡ï¼Œå½“ç”¨åˆ°è¯¥æœåŠ¡æ—¶è¿›ç¨‹å®ä¾‹åŒ–ä½¿ç”¨</p>
<p>src/vs/platform/instantiation/common/descriptors.ts</p>
<pre><code>export class SyncDescriptor&lt;T&gt; {
    readonly ctor: any;
    readonly staticArguments: any[];
    readonly supportsDelayedInstantiation: boolean;
    constructor(ctor: new (...args: any[]) =&gt; T, staticArguments: any[] = [], supportsDelayedInstantiation: boolean = false) {
        this.ctor = ctor;
        this.staticArguments = staticArguments;
        this.supportsDelayedInstantiation = supportsDelayedInstantiation;
    }
}</code></pre><p>main.tsä¸­startupæ–¹æ³•è°ƒç”¨invokeFunction.getå®ä¾‹åŒ–æœåŠ¡</p>
<pre><code>await instantiationService.invokeFunction(async accessor =&gt; {
    const environmentService = accessor.get(IEnvironmentService);
    const configurationService = accessor.get(IConfigurationService);
    const stateService = accessor.get(IStateService);
    try {
        await this.initServices(environmentService, configurationService as ConfigurationService, stateService as StateService);
    } catch (error) {
        // Show a dialog for errors that can be resolved by the user
        this.handleStartupDataDirError(environmentService, error);
        throw error;
    }
});</code></pre><p>getæ–¹æ³•è°ƒç”¨_getOrCreateServiceInstanceï¼Œè¿™é‡Œç¬¬ä¸€æ¬¡åˆ›å»ºä¼šå­˜å…¥ç¼“å­˜ä¸­ ä¸‹æ¬¡å®ä¾‹åŒ–å¯¹è±¡æ—¶ä¼šä¼˜å…ˆä»ç¼“å­˜ä¸­è·å–å¯¹è±¡ã€‚</p>
<p>src/vs/platform/instantiation/common/instantiationService.ts</p>
<pre><code>invokeFunction&lt;R, TS extends any[] = []&gt;(fn: (accessor: ServicesAccessor, ...args: TS) =&gt; R, ...args: TS): R {
    let _trace = Trace.traceInvocation(fn);
    let _done = false;
    try {
        const accessor: ServicesAccessor = {
            get: &lt;T&gt;(id: ServiceIdentifier&lt;T&gt;, isOptional?: typeof optional) =&gt; {
                if (_done) {
                    throw illegalState('service accessor is only valid during the invocation of its target method');
                }
                const result = this._getOrCreateServiceInstance(id, _trace);
                if (!result &amp;&amp; isOptional !== optional) {
                    throw new Error(`[invokeFunction] unknown service '${id}'`);
                }
                return result;
            }
        };
        return fn.apply(undefined, [accessor, ...args]);
    } finally {
        _done = true;
        _trace.stop();
    }
}
private _getOrCreateServiceInstance&lt;T&gt;(id: ServiceIdentifier&lt;T&gt;, _trace: Trace): T {
    let thing = this._getServiceInstanceOrDescriptor(id);
    if (thing instanceof SyncDescriptor) {
        return this._createAndCacheServiceInstance(id, thing, _trace.branch(id, true));
    } else {
        _trace.branch(id, false);
        return thing;
    }
}</code></pre><h2 id="äº‹ä»¶åˆ†å‘"><a href="#äº‹ä»¶åˆ†å‘" class="headerlink" title="äº‹ä»¶åˆ†å‘"></a>äº‹ä»¶åˆ†å‘</h2><h3 id="event"><a href="#event" class="headerlink" title="event"></a>event</h3><p>src/vs/base/common/event.ts</p>
<p>ç¨‹åºä¸­å¸¸è§ä½¿ç”¨onceæ–¹æ³•è¿›è¡Œäº‹ä»¶ç»‘å®š, ç»™å®šä¸€ä¸ªäº‹ä»¶ï¼Œè¿”å›ä¸€ä¸ªåªè§¦å‘ä¸€æ¬¡çš„äº‹ä»¶ï¼Œæ”¾åœ¨åŒ¿åå‡½æ•°è¿”å›</p>
<pre><code>export function once&lt;T&gt;(event: Event&lt;T&gt;): Event&lt;T&gt; {
    return (listener, thisArgs = null, disposables?) =&gt; {
        // è®¾ç½®æ¬¡å˜é‡ï¼Œé˜²æ­¢äº‹ä»¶é‡å¤è§¦å‘é€ æˆäº‹ä»¶æ±¡æŸ“
        let didFire = false;
        let result: IDisposable;
        result = event(e =&gt; {
            if (didFire) {
                return;
            } else if (result) {
                result.dispose();
            } else {
                didFire = true;
            }
            return listener.call(thisArgs, e);
        }, null, disposables);
        if (didFire) {
            result.dispose();
        }
        return result;
    };
}</code></pre><p>å¾ªç¯æ´¾å‘äº†æ‰€æœ‰æ³¨å†Œçš„äº‹ä»¶ï¼Œ äº‹ä»¶ä¼šå­˜å‚¨åˆ°ä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—ï¼Œé€šè¿‡fireæ–¹æ³•è§¦å‘äº‹ä»¶</p>
<p>private _deliveryQueue?: LinkedList&lt;[Listener, T]&gt;;//äº‹ä»¶å­˜å‚¨é˜Ÿåˆ—</p>
<pre><code>fire(event: T): void {
    if (this._listeners) {
        // å°†æ‰€æœ‰äº‹ä»¶ä¼ å…¥ delivery queue
        // å†…éƒ¨/åµŒå¥—æ–¹å¼é€šè¿‡emitå‘å‡º.
        // thisè°ƒç”¨äº‹ä»¶é©±åŠ¨
        if (!this._deliveryQueue) {
            this._deliveryQueue = new LinkedList();
        }
        for (let iter = this._listeners.iterator(), e = iter.next(); !e.done; e = iter.next()) {
            this._deliveryQueue.push([e.value, event]);
        }
        while (this._deliveryQueue.size &gt; 0) {
            const [listener, event] = this._deliveryQueue.shift()!;
            try {
                if (typeof listener === 'function') {
                    listener.call(undefined, event);
                } else {
                    listener[0].call(listener[1], event);
                }
            } catch (e) {
                onUnexpectedError(e);
            }
        }
    }
}</code></pre><h2 id="è¿›ç¨‹é€šä¿¡"><a href="#è¿›ç¨‹é€šä¿¡" class="headerlink" title="è¿›ç¨‹é€šä¿¡"></a>è¿›ç¨‹é€šä¿¡</h2><h3 id="ä¸»è¿›ç¨‹"><a href="#ä¸»è¿›ç¨‹" class="headerlink" title="ä¸»è¿›ç¨‹"></a>ä¸»è¿›ç¨‹</h3><p>src/vs/code/electron-main/main.ts</p>
<p>main.tsåœ¨å¯åŠ¨åº”ç”¨åå°±åˆ›å»ºäº†ä¸€ä¸ªä¸»è¿›ç¨‹ main processï¼Œå®ƒå¯ä»¥é€šè¿‡electronä¸­çš„ä¸€äº›æ¨¡å—ç›´æ¥ä¸åŸç”ŸGUIäº¤äº’ã€‚</p>
<pre><code>server = await serve(environmentService.mainIPCHandle);
once(lifecycleService.onWillShutdown)(() =&gt; server.dispose());</code></pre><h3 id="æ¸²æŸ“è¿›ç¨‹"><a href="#æ¸²æŸ“è¿›ç¨‹" class="headerlink" title="æ¸²æŸ“è¿›ç¨‹"></a>æ¸²æŸ“è¿›ç¨‹</h3><p>ä»…å¯åŠ¨ä¸»è¿›ç¨‹å¹¶ä¸èƒ½ç»™ä½ çš„åº”ç”¨åˆ›å»ºåº”ç”¨çª—å£ã€‚çª—å£æ˜¯é€šè¿‡mainæ–‡ä»¶é‡Œçš„ä¸»è¿›ç¨‹è°ƒç”¨å«BrowserWindowçš„æ¨¡å—åˆ›å»ºçš„ã€‚</p>
<h3 id="ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡"><a href="#ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡" class="headerlink" title="ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡"></a>ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡</h3><p>åœ¨electronä¸­ï¼Œä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹æœ‰å¾ˆå¤šé€šä¿¡çš„æ–¹æ³•ã€‚æ¯”å¦‚ipcRendererå’ŒipcMainï¼Œè¿˜å¯ä»¥åœ¨æ¸²æŸ“è¿›ç¨‹ä½¿ç”¨remoteæ¨¡å—ã€‚</p>
<h3 id="ipcMain-amp-ipcRenderer"><a href="#ipcMain-amp-ipcRenderer" class="headerlink" title="ipcMain &amp; ipcRenderer"></a>ipcMain &amp; ipcRenderer</h3><ul>
<li>ä¸»è¿›ç¨‹ï¼šipcMain</li>
<li>æ¸²æŸ“è¿›ç¨‹ï¼šipcRenderer</li>
</ul>
<p>ipcMainæ¨¡å—å’ŒipcRendereræ˜¯ç±»EventEmitterçš„å®ä¾‹ã€‚</p>
<p>åœ¨ä¸»è¿›ç¨‹ä¸­ä½¿ç”¨ipcMainæ¥æ”¶æ¸²æŸ“çº¿ç¨‹å‘é€è¿‡æ¥çš„å¼‚æ­¥æˆ–åŒæ­¥æ¶ˆæ¯ï¼Œå‘é€è¿‡æ¥çš„æ¶ˆæ¯å°†è§¦å‘äº‹ä»¶ã€‚</p>
<p>åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­ä½¿ç”¨ipcRendererå‘ä¸»è¿›ç¨‹å‘é€åŒæ­¥æˆ–å¼‚æ­¥æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶åˆ°ä¸»è¿›ç¨‹çš„æ¶ˆæ¯ã€‚</p>
<ul>
<li>å‘é€æ¶ˆæ¯ï¼Œäº‹ä»¶åä¸º channel .</li>
<li>å›åº”åŒæ­¥æ¶ˆæ¯, ä½ å¯ä»¥è®¾ç½® event.returnValue .</li>
<li>å›åº”å¼‚æ­¥æ¶ˆæ¯, ä½ å¯ä»¥ä½¿ç”¨ event.sender.send(â€¦)</li>
</ul>
<p>åˆ›å»ºIPCæœåŠ¡ src/vs/base/parts/ipc/node/ipc.net.ts</p>
<p>è¿™é‡Œè¿”å›ä¸€ä¸ªpromiseå¯¹è±¡ï¼ŒæˆåŠŸåˆ™createServer</p>
<pre><code>export function serve(hook: any): Promise&lt;Server&gt; {
    return new Promise&lt;Server&gt;((c, e) =&gt; {
        const server = createServer();
        server.on('error', e);
        server.listen(hook, () =&gt; {
            server.removeListener('error', e);
            c(new Server(server));
        });
    });
}</code></pre><h4 id="åˆ›å»ºä¿¡é“"><a href="#åˆ›å»ºä¿¡é“" class="headerlink" title="åˆ›å»ºä¿¡é“"></a>åˆ›å»ºä¿¡é“</h4><p>src/vs/code/electron-main/app.ts</p>
<ul>
<li>mainIpcServer<ul>
<li>launchChannel</li>
</ul>
</li>
<li>electronIpcServer<ul>
<li>updateChannel</li>
<li>issueChannel</li>
<li>workspacesChannel</li>
<li>windowsChannel</li>
<li>menubarChannel</li>
<li>urlChannel</li>
<li>storageChannel</li>
<li>logLevelChannel</li>
</ul>
</li>
</ul>
<pre><code>private openFirstWindow(accessor: ServicesAccessor, electronIpcServer: ElectronIPCServer, sharedProcessClient: Promise&lt;Client&lt;string&gt;&gt;): ICodeWindow[] {
        // Register more Main IPC services
        const launchService = accessor.get(ILaunchService);
        const launchChannel = new LaunchChannel(launchService);
        this.mainIpcServer.registerChannel('launch', launchChannel);
        // Register more Electron IPC services
        const updateService = accessor.get(IUpdateService);
        const updateChannel = new UpdateChannel(updateService);
        electronIpcServer.registerChannel('update', updateChannel);
        const issueService = accessor.get(IIssueService);
        const issueChannel = new IssueChannel(issueService);
        electronIpcServer.registerChannel('issue', issueChannel);
        const workspacesService = accessor.get(IWorkspacesMainService);
        const workspacesChannel = new WorkspacesChannel(workspacesService);
        electronIpcServer.registerChannel('workspaces', workspacesChannel);
        const windowsService = accessor.get(IWindowsService);
        const windowsChannel = new WindowsChannel(windowsService);
        electronIpcServer.registerChannel('windows', windowsChannel);
        sharedProcessClient.then(client =&gt; client.registerChannel('windows', windowsChannel));
        const menubarService = accessor.get(IMenubarService);
        const menubarChannel = new MenubarChannel(menubarService);
        electronIpcServer.registerChannel('menubar', menubarChannel);
        const urlService = accessor.get(IURLService);
        const urlChannel = new URLServiceChannel(urlService);
        electronIpcServer.registerChannel('url', urlChannel);
        const storageMainService = accessor.get(IStorageMainService);
        const storageChannel = this._register(new GlobalStorageDatabaseChannel(this.logService, storageMainService));
        electronIpcServer.registerChannel('storage', storageChannel);
        // Log level management
        const logLevelChannel = new LogLevelSetterChannel(accessor.get(ILogService));
        electronIpcServer.registerChannel('loglevel', logLevelChannel);
        sharedProcessClient.then(client =&gt; client.registerChannel('loglevel', logLevelChannel));
        ...
        // default: read paths from cli
        return windowsMainService.open({
            context,
            cli: args,
            forceNewWindow: args['new-window'] || (!hasCliArgs &amp;&amp; args['unity-launch']),
            diffMode: args.diff,
            noRecentEntry,
            waitMarkerFileURI,
            gotoLineMode: args.goto,
            initialStartup: true
        });
    }</code></pre><p>æ¯ä¸€ä¸ªä¿¡é“ï¼Œå†…éƒ¨å®ç°ä¸¤ä¸ªæ–¹æ³• listenå’Œcall</p>
<p>ä¾‹å¦‚ï¼šsrc/vs/platform/localizations/node/localizationsIpc.ts</p>
<p>æ„é€ å‡½æ•°ç»‘å®šäº‹ä»¶</p>
<pre><code>export class LocalizationsChannel implements IServerChannel {
    onDidLanguagesChange: Event&lt;void&gt;;
    constructor(private service: ILocalizationsService) {
        this.onDidLanguagesChange = Event.buffer(service.onDidLanguagesChange, true);
    }
    listen(_: unknown, event: string): Event&lt;any&gt; {
        switch (event) {
            case 'onDidLanguagesChange': return this.onDidLanguagesChange;
        }
        throw new Error(`Event not found: ${event}`);
    }
    call(_: unknown, command: string, arg?: any): Promise&lt;any&gt; {
        switch (command) {
            case 'getLanguageIds': return this.service.getLanguageIds(arg);
        }
        throw new Error(`Call not found: ${command}`);
    }
}</code></pre><h2 id="ä¸»è¦çª—å£"><a href="#ä¸»è¦çª—å£" class="headerlink" title="ä¸»è¦çª—å£"></a>ä¸»è¦çª—å£</h2><p>workbench.tsä¸­startupé‡Œé¢Workbenchè´Ÿè´£åˆ›å»ºä¸»ç•Œé¢ src/vs/workbench/browser/workbench.ts</p>
<pre><code>startup(): IInstantiationService {
    try {
        ...
        instantiationService.invokeFunction(async accessor =&gt; {
            // æ¸²æŸ“ä¸»å·¥ä½œç•Œé¢
            this.renderWorkbench(instantiationService, accessor.get(INotificationService) as NotificationService, storageService, configurationService);
            // ç•Œé¢å¸ƒå±€
            this.createWorkbenchLayout(instantiationService);
            // Layout
            this.layout();
            // Restore
            try {
                await this.restoreWorkbench(accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IViewletService), accessor.get(IPanelService), accessor.get(ILogService), lifecycleService);
            } catch (error) {
                onUnexpectedError(error);
            }
        });
        return instantiationService;
    } catch (error) {
        onUnexpectedError(error);
        throw error; // rethrow because this is a critical issue we cannot handle properly here
    }
}</code></pre><p>æ¸²æŸ“ä¸»å·¥ä½œå°ï¼Œæ¸²æŸ“å®Œä¹‹ååŠ å…¥åˆ°containerä¸­ï¼ŒcontaineråŠ å…¥åˆ°parent, parentå°±æ˜¯bodyäº†ã€‚</p>
<p>this.parent.appendChild(this.container);</p>
<pre><code>private renderWorkbench(instantiationService: IInstantiationService, notificationService: NotificationService, storageService: IStorageService, configurationService: IConfigurationService): void {
        ...
        //TITLEBAR_PART é¡¶éƒ¨æ“ä½œæ 
        //ACTIVITYBAR_PART æœ€å·¦ä¾§èœå•é€‰é¡¹å¡
        //SIDEBAR_PART å·¦ä¾§è¾¹æ ï¼Œæ˜¾ç¤ºæ–‡ä»¶ï¼Œç»“æœå±•ç¤ºç­‰
        //EDITOR_PART å³ä¾§çª—å£ï¼Œä»£ç ç¼–å†™,æ¬¢è¿ç•Œé¢ç­‰
        //STATUSBAR_PART åº•éƒ¨çŠ¶æ€æ 
        [
            { id: Parts.TITLEBAR_PART, role: 'contentinfo', classes: ['titlebar'] },
            { id: Parts.ACTIVITYBAR_PART, role: 'navigation', classes: ['activitybar', this.state.sideBar.position === Position.LEFT ? 'left' : 'right'] },
            { id: Parts.SIDEBAR_PART, role: 'complementary', classes: ['sidebar', this.state.sideBar.position === Position.LEFT ? 'left' : 'right'] },
            { id: Parts.EDITOR_PART, role: 'main', classes: ['editor'], options: { restorePreviousState: this.state.editor.restoreEditors } },
            { id: Parts.PANEL_PART, role: 'complementary', classes: ['panel', this.state.panel.position === Position.BOTTOM ? 'bottom' : 'right'] },
            { id: Parts.STATUSBAR_PART, role: 'contentinfo', classes: ['statusbar'] }
        ].forEach(({ id, role, classes, options }) =&gt; {
            const partContainer = this.createPart(id, role, classes);
            if (!configurationService.getValue('workbench.useExperimentalGridLayout')) {
                // TODO@Ben cleanup once moved to grid
                // Insert all workbench parts at the beginning. Issue #52531
                // This is primarily for the title bar to allow overriding -webkit-app-region
                this.container.insertBefore(partContainer, this.container.lastChild);
            }
            this.getPart(id).create(partContainer, options);
        });
        // å°†å·¥ä½œå°æ·»åŠ è‡³container domæ¸²æŸ“
        this.parent.appendChild(this.container);
    }</code></pre><p>workbenchæœ€åè°ƒç”¨this.layout()æ–¹æ³•ï¼Œå°†çª—å£å æ®æ•´ä¸ªç•Œé¢ï¼Œæ¸²æŸ“å®Œæˆ</p>
<pre><code>layout(options?: ILayoutOptions): void {
        if (!this.disposed) {
            this._dimension = getClientArea(this.parent);
            if (this.workbenchGrid instanceof Grid) {
                position(this.container, 0, 0, 0, 0, 'relative');
                size(this.container, this._dimension.width, this._dimension.height);
                // Layout the grid widget
                this.workbenchGrid.layout(this._dimension.width, this._dimension.height);
            } else {
                this.workbenchGrid.layout(options);
            }
            // Emit as event
            this._onLayout.fire(this._dimension);
        }
    }</code></pre><h2 id="å¼€å‘è°ƒè¯•"><a href="#å¼€å‘è°ƒè¯•" class="headerlink" title="å¼€å‘è°ƒè¯•"></a>å¼€å‘è°ƒè¯•</h2><pre><code>app.once('ready', function () {
    //å¯åŠ¨è¿½è¸ª
    if (args['trace']) {
        // @ts-ignore
        const contentTracing = require('electron').contentTracing;
        const traceOptions = {
            categoryFilter: args['trace-category-filter'] || '*',
            traceOptions: args['trace-options'] || 'record-until-full,enable-sampling'
        };
        contentTracing.startRecording(traceOptions, () =&gt; onReady());
    } else {
        onReady();
    }
});</code></pre><h3 id="å¯åŠ¨è¿½è¸ª"><a href="#å¯åŠ¨è¿½è¸ª" class="headerlink" title="å¯åŠ¨è¿½è¸ª"></a>å¯åŠ¨è¿½è¸ª</h3><p>è¿™é‡Œå¦‚æœä¼ å…¥traceå‚æ•°ï¼Œåœ¨onReadyå¯åŠ¨ä¹‹å‰ä¼šè°ƒç”¨chromiumçš„æ”¶é›†è·Ÿè¸ªæ•°æ®ï¼Œ æä¾›çš„åº•å±‚çš„è¿½è¸ªå·¥å…·å…è®¸æˆ‘ä»¬æ·±åº¦äº†è§£ V8 çš„è§£æä»¥åŠå…¶ä»–æ—¶é—´æ¶ˆè€—æƒ…å†µï¼Œ</p>
<p>ä¸€æ—¦æ”¶åˆ°å¯ä»¥å¼€å§‹è®°å½•çš„è¯·æ±‚ï¼Œè®°å½•å°†ä¼šç«‹é©¬å¯åŠ¨å¹¶ä¸”åœ¨å­è¿›ç¨‹æ˜¯å¼‚æ­¥è®°å½•å¬çš„. å½“æ‰€æœ‰çš„å­è¿›ç¨‹éƒ½æ”¶åˆ° startRecording è¯·æ±‚çš„æ—¶å€™ï¼Œcallback å°†ä¼šè¢«è°ƒç”¨.</p>
<p>categoryFilteræ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå®ƒç”¨æ¥æ§åˆ¶é‚£äº›åˆ†ç±»ç»„åº”è¯¥è¢«ç”¨æ¥æŸ¥æ‰¾.è¿‡æ»¤å™¨åº”å½“æœ‰ä¸€ä¸ªå¯é€‰çš„ - å‰ç¼€æ¥æ’é™¤åŒ¹é…çš„åˆ†ç±»ç»„.ä¸å…è®¸åŒä¸€ä¸ªåˆ—è¡¨æ—¢æ˜¯åŒ…å«åˆæ˜¯æ’æ–¥.</p>
<h4 id="contentTracing-startRecording-options-callback"><a href="#contentTracing-startRecording-options-callback" class="headerlink" title="contentTracing.startRecording(options, callback)"></a>contentTracing.startRecording(options, callback)</h4><ul>
<li>options Object<ul>
<li>categoryFilter String</li>
<li>traceOptions String</li>
</ul>
</li>
<li>callback Function</li>
</ul>
<p><a href="https://www.w3cschool.cn/electronmanual/electronmanual-content-tracing.html" target="_blank" rel="noopener">å…³äºtraceçš„è¯¦ç»†ä»‹ç»</a></p>
<h3 id="ç»“æŸè¿½è¸ª"><a href="#ç»“æŸè¿½è¸ª" class="headerlink" title="ç»“æŸè¿½è¸ª"></a>ç»“æŸè¿½è¸ª</h3><h4 id="contentTracing-stopRecording-resultFilePath-callback"><a href="#contentTracing-stopRecording-resultFilePath-callback" class="headerlink" title="contentTracing.stopRecording(resultFilePath, callback)"></a>contentTracing.stopRecording(resultFilePath, callback)</h4><ul>
<li>resultFilePath String</li>
<li>callback Function åœ¨æˆåŠŸå¯åŠ¨çª—å£åï¼Œç¨‹åºç»“æŸæ€§èƒ½è¿½è¸ªï¼Œåœæ­¢å¯¹æ‰€æœ‰å­è¿›ç¨‹çš„è®°å½•.</li>
</ul>
<p>å­è¿›ç¨‹é€šå¸¸ç¼“å­˜æŸ¥æ‰¾æ•°æ®ï¼Œå¹¶ä¸”ä»…ä»…å°†æ•°æ®æˆªå–å’Œå‘é€ç»™ä¸»è¿›ç¨‹.è¿™æœ‰åˆ©äºåœ¨é€šè¿‡ IPC å‘é€æŸ¥æ‰¾æ•°æ®ä¹‹å‰å‡å°æŸ¥æ‰¾æ—¶çš„è¿è¡Œå¼€é”€ï¼Œè¿™æ ·åšå¾ˆæœ‰ä»·å€¼.å› æ­¤ï¼Œå‘é€æŸ¥æ‰¾æ•°æ®ï¼Œæˆ‘ä»¬åº”å½“å¼‚æ­¥é€šçŸ¥æ‰€æœ‰å­è¿›ç¨‹æ¥æˆªå–ä»»ä½•å¾…æŸ¥æ‰¾çš„æ•°æ®.</p>
<p>ä¸€æ—¦æ‰€æœ‰å­è¿›ç¨‹æ¥æ”¶åˆ°äº† stopRecording è¯·æ±‚ï¼Œå°†è°ƒç”¨ callback ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªåŒ…å«æŸ¥æ‰¾æ•°æ®çš„æ–‡ä»¶.</p>
<p>å¦‚æœ resultFilePath ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆå°†æŠŠæŸ¥æ‰¾æ•°æ®å†™å…¥å…¶ä¸­ï¼Œå¦åˆ™å†™å…¥ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶.å®é™…æ–‡ä»¶è·¯å¾„å¦‚æœä¸ä¸ºç©ºï¼Œåˆ™å°†è°ƒç”¨ callback .</p>
<h3 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h3><p>è°ƒè¯•ç•Œé¢åœ¨èœå•æ æ‰¾åˆ° Help-&gt;Toggle Developers Tools</p>
<p>è°ƒå‡ºChromeå¼€å‘è€…è°ƒè¯•å·¥å…·è¿›è¡Œè°ƒè¯• <img src="/images/loading.gif" data-original="../images/development/vscode-debugg.png" alt=""></p>
<h1 id="ğŸ¤¡VS-Code-æ’ä»¶å¼€å‘æ–‡æ¡£"><a href="#ğŸ¤¡VS-Code-æ’ä»¶å¼€å‘æ–‡æ¡£" class="headerlink" title="ğŸ¤¡VS Code æ’ä»¶å¼€å‘æ–‡æ¡£"></a>ğŸ¤¡VS Code æ’ä»¶å¼€å‘æ–‡æ¡£</h1><h1 id="æœ¯è¯­è¡¨"><a href="#æœ¯è¯­è¡¨" class="headerlink" title="æœ¯è¯­è¡¨"></a>æœ¯è¯­è¡¨</h1><hr>
<p>æœ¯è¯­è¡¨æ”¶å½•å‡ºç°åœ¨VS Codeä¸­ç‹¬æœ‰çš„æˆ–æ˜¯æ˜“å¼•èµ·æ­§ä¹‰çš„è¯æ±‡ï¼Œä¸åŒ…å«å¸¸è§è¯æ±‡ï¼Œå¦‚Extensionã€‚è¯¥è¡¨æŒ‰é¦–å­—æ¯æ’åºã€‚ è¯¥è¡¨æ ¼å¼ï¼š</p>
<ul>
<li><p>æ™®é€šè¯æ±‡ <code>è‹±æ–‡åç§° æœ¯è¯­åç§°</code></p>
</li>
<li><p>å•ä¹‰è¯ <code>[å‡ºå¤„æˆ–å‚è€ƒè§£é‡Šé“¾æ¥]() æœ¯è¯­åç§°ï¼šè§£é‡Š</code></p>
</li>
<li><p>å¤šä¹‰è¯ <code>[å‡ºå¤„æˆ–å‚è€ƒè§£é‡Šé“¾æ¥]() æœ¯è¯­åç§°1/æœ¯è¯­åç§°2ï¼šè§£é‡Š</code></p>
</li>
<li><p><a href="https://code.visualstudio.com/docs/extensionAPI/overview" target="_blank" rel="noopener">Activation Events</a> æ¿€æ´»äº‹ä»¶ï¼šç”¨äºæ¿€æ´»æ’ä»¶çš„VS Codeäº‹ä»¶é’©å­ã€‚</p>
</li>
<li><p><a href="https://code.visualstudio.com/docs/extensionAPI/overview" target="_blank" rel="noopener">Contribution Points</a> å‘å¸ƒå†…å®¹é…ç½®ç‚¹ï¼špackage.jsonçš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºé…ç½®æ’ä»¶å¯åŠ¨å‘½ä»¤ã€ç”¨æˆ·å¯æ›´æ”¹çš„æ’ä»¶é…ç½®ï¼Œå¯ä»¥ç†è§£ä¸ºæ’ä»¶çš„ä¸»è¦é…ç½®æ–‡ä»¶ã€‚</p>
</li>
<li><p><a href="https://code.visualstudio.com/docs/extensions/overview#_language-servers" target="_blank" rel="noopener">Debug Adapter</a> è°ƒè¯•é€‚é…å™¨ï¼šè¿æ¥çœŸæ­£çš„è°ƒè¯•ç¨‹åºï¼ˆæˆ–è¿è¡Œæ—¶ï¼‰å’Œè°ƒè¯•ç•Œé¢çš„æ’ä»¶ç§°ä¹‹ä¸ºè°ƒè¯•é€‚é…å™¨ã€‚VS Codeæ²¡æœ‰åŸç”Ÿè°ƒè¯•ç¨‹åºï¼Œè€Œæ˜¯ä¾èµ–ã€è°ƒè¯•å™¨æ’ä»¶ã€‘è°ƒç”¨é€šä¿¡åè®®ï¼ˆè°ƒè¯•é€‚é…å™¨åè®®ï¼‰å’ŒVS Codeçš„è°ƒè¯•å™¨ç•Œé¢å®ç°ã€‚</p>
</li>
<li><p><a href="https://code.visualstudio.com/docs/extensionAPI/overview" target="_blank" rel="noopener">Extension Manifest</a> æ’ä»¶æ¸…å•ï¼šVS Codeè‡ªå®šä¹‰çš„pacakge.jsonæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ç€æ’ä»¶çš„å…¥å£ã€é…ç½®ç­‰é‡è¦ä¿¡æ¯ã€‚</p>
</li>
<li><p>Extensibility æ‰©å±•æ€§</p>
</li>
<li><p><a href="https://code.visualstudio.com/docs/extensionAPI/patterns-and-principles" target="_blank" rel="noopener">Extension Host</a> æ‰©å±•ä¸»æœºï¼šä¸VS Codeä¸»è¿›ç¨‹éš”ç¦»çš„æ’ä»¶è¿›ç¨‹ï¼Œæ’ä»¶è¿è¡Œçš„åœ°æ–¹ï¼Œå¼€å‘è€…å¯åœ¨è¿™ä¸ªè¿›ç¨‹ä¸­è°ƒç”¨VS Codeæä¾›çš„å„ç±»APIã€‚</p>
</li>
<li><p><a href="https://code.visualstudio.com/docs/extensions/overview#_language-servers" target="_blank" rel="noopener">Language Servers</a> è¯­è¨€æœåŠ¡å™¨ï¼šæ’ä»¶æ¨¡å¼ä¸­ä½¿ç”¨C/Sç»“æ„çš„çš„æœåŠ¡å™¨ç«¯ï¼Œç”¨äºé«˜æ¶ˆè€—çš„ç‰¹æ®Šæ’ä»¶åœºæ™¯ï¼Œå¦‚è¯­è¨€è§£æã€æ™ºèƒ½æç¤ºç­‰ã€‚ä¸ä¹‹ç›¸å¯¹ï¼Œå®¢æˆ·ç«¯åˆ™æ˜¯æ™®é€šçš„æ’ä»¶ï¼Œä¸¤è€…é€šè¿‡VS Code çš„APIè¿›è¡Œé€šä¿¡ã€‚</p>
</li>
<li><p><a href="https://code.visualstudio.com/docs/languages/identifiers" target="_blank" rel="noopener">Language Identifier</a> è¯­è¨€æ ‡è¯†ç¬¦ï¼šå®šä¹‰åœ¨å‘å¸ƒå†…å®¹é…ç½®çš„ç‰¹å®šæ ‡è¯†/åç§°ï¼Œä¾¿äºåç»­å¼•ç”¨è¯¥è¯­è¨€é…ç½®ã€‚é€šå¸¸ä¸ºæŸç§ç¼–ç¨‹è¯­è¨€çš„é€šä¿—åç§°ï¼Œå¦‚JavaScriptçš„è¯­è¨€æ ‡è¯†ç¬¦æ˜¯ã€javascriptã€‘ï¼ŒPythonçš„è¯­è¨€æ ‡è¯†ç¬¦æ˜¯ã€pythonã€‘ã€‚</p>
</li>
</ul>
<h1 id="é¢„å¤‡çŸ¥è¯†"><a href="#é¢„å¤‡çŸ¥è¯†" class="headerlink" title="é¢„å¤‡çŸ¥è¯†"></a>é¢„å¤‡çŸ¥è¯†</h1><h2 id="è®¤è¯†TypeScript-å˜é‡å’Œç±»å‹"><a href="#è®¤è¯†TypeScript-å˜é‡å’Œç±»å‹" class="headerlink" title="è®¤è¯†TypeScript-å˜é‡å’Œç±»å‹"></a>è®¤è¯†TypeScript-å˜é‡å’Œç±»å‹</h2><p>æœ¬èŠ‚å°†ä»‹ç»åŸºç¡€çš„TypeScriptå˜é‡ä»¥åŠå®ƒçš„ç±»å‹ç³»ç»Ÿï¼Œå®ƒæœ¬è´¨ä¸Šå’ŒJavaScriptæ˜¯ä¸€æ ·çš„ï¼Œä¸è¿‡ä¸œè¥¿ä¼šæ›´å¤šä¸€ç‚¹ï¼Œå¯¹äºéjså¼€å‘è€…æ¥è¯´ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°ç†Ÿæ‚‰çš„â€œæšä¸¾â€ã€â€œå…ƒç»„â€ç±»å‹ï¼Œäº†è§£äº†è¿™ç‚¹ï¼Œæˆ–è®¸èƒ½è®©ä½ å®‰å¿ƒå¹¶æ›´å¿«åœ°æŒæ¡TSï¼Œä½†æ˜¯è¿™å¹¶ä¸æ„å‘³ç€ä½ å°±å¯ä»¥é«˜æ•æ— å¿§äº†ï¼Œè™½ç„¶TSæ‰©å±•äº†JSçš„ç±»å‹èƒ½åŠ›ï¼Œä½†å®ƒæœ¬è´¨ä¸Šä¾æ—§æ˜¯ä¸€é—¨å¼±ç±»å‹è¯­è¨€ï¼Œè¯·åœ¨ä¹¦å†™ä»£ç æ—¶éµå¾ªç¤¾åŒºçš„æœ€ä½³å®è·µå¹¶ä¿æŒè°¨æ…ã€‚</p>
<p>?&gt; æœ¬æ–‡å‚è€ƒç¤¾åŒºç¿»è¯‘æ–‡æ¡£ï¼Œè¯¦è§<a href="https://www.tslang.cn/docs/handbook/basic-types.html" target="_blank" rel="noopener">https://www.tslang.cn/docs/handbook/basic-types.html</a></p>
<h3 id="ç±»å‹"><a href="#ç±»å‹" class="headerlink" title="ç±»å‹"></a>ç±»å‹</h3><hr>
<p>å˜é‡å£°æ˜çš„åŸºç¡€è§„åˆ™è¯·è‡ªè¡Œå‚è€ƒJavaScriptï¼ŒJavaScriptæ”¯æŒåŠ åˆ†å·å’Œä¸åŠ åˆ†å·ä¸¤ç§é£æ ¼ï¼Œæ–¹ä¾¿èµ·è§ï¼Œæœ¬ç« çš„æ‰€æœ‰ç¤ºä¾‹ä»£ç éƒ½ä¸ä¼šåˆ»æ„æ·»åŠ åˆ†å·ï¼Œæœ‰å…³åˆ†å·é£æ ¼ï¼Œè¯·å‚é˜…ã€‚</p>
<h4 id="ç±»å‹æ³¨è§£"><a href="#ç±»å‹æ³¨è§£" class="headerlink" title="ç±»å‹æ³¨è§£"></a>ç±»å‹æ³¨è§£</h4><p>TSæ‰©å±•äº†JSçš„è¯­æ³•æ ¼å¼ï¼Œè§„åˆ™ï¼šåœ¨å˜é‡ã€å£°æ˜çš„åé¢ç«‹å³åŠ ä¸Šå†’å·<code>:</code>ï¼Œå¦‚ï¼š</p>
<pre><code>// å­—ç¬¦ä¸²æ³¨è§£
const XXX: string = 'string type'
// å¸ƒå°”å€¼æ³¨è§£
let true_or_false: boolean = false
// å‡½æ•°å‚æ•°ç±»å‹æ³¨è§£
function params (value: string) {
    console.log(value) // è¿”å›stringç±»å‹
}
// å‡½æ•°è¿”å›å€¼ç±»å‹æ³¨è§£
function returnValue (): string {
    return 'value is stirng'
}</code></pre><p>è¯·æ³¨æ„ï¼Œç±»å‹æ³¨é‡Šåº”ä½¿ç”¨å°å†™ï¼Œè€Œä¸æ˜¯ä½¿ç”¨é¦–å­—æ¯å¤§å†™çš„JavaScriptçš„è¡ç”Ÿç±»å‹ï¼ˆåº”ä½¿ç”¨<code>string</code>ï¼Œè€Œä¸æ˜¯<code>String</code>ï¼‰</p>
<h4 id="å¸ƒå°”å€¼"><a href="#å¸ƒå°”å€¼" class="headerlink" title="å¸ƒå°”å€¼"></a>å¸ƒå°”å€¼</h4><p>æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹å°±æ˜¯ç®€å•çš„true/falseå€¼ï¼Œåœ¨JavaScriptå’ŒTypeScripté‡Œå«åšbooleanï¼ˆå…¶å®ƒè¯­è¨€ä¸­ä¹Ÿä¸€æ ·ï¼‰ã€‚</p>
<pre><code>let isDone: boolean = false;</code></pre><h4 id="æ•°å­—"><a href="#æ•°å­—" class="headerlink" title="æ•°å­—"></a>æ•°å­—</h4><p>å’ŒJavaScriptä¸€æ ·ï¼ŒTypeScripté‡Œçš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯æµ®ç‚¹æ•°ã€‚ è¿™äº›æµ®ç‚¹æ•°çš„ç±»å‹æ˜¯ numberã€‚ é™¤äº†æ”¯æŒåè¿›åˆ¶å’Œåå…­è¿›åˆ¶å­—é¢é‡ï¼ŒTypeScriptè¿˜æ”¯æŒECMAScript 2015ä¸­å¼•å…¥çš„äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶å­—é¢é‡ã€‚éJSå¼€å‘è€…éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒTSå’ŒJSä¸€æ ·ï¼Œæ²¡æœ‰åŒºåˆ†æ•°å­—ç±»å‹ï¼ˆå¦‚Intï¼ŒLongï¼‰ï¼Œå¦‚æœä½ éœ€è¦æ•´æ•°ï¼Œéœ€ä½¿ç”¨<code>Number.parseInt()</code>æ–¹æ³•ã€‚</p>
<pre><code>let decLiteral: number = 6;
let hexLiteral: number = 0xf00d;
let binaryLiteral: number = 0b1010;
let octalLiteral: number = 0o744;</code></pre><h4 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h4><p>JavaScriptç¨‹åºçš„å¦ä¸€é¡¹åŸºæœ¬æ“ä½œæ˜¯å¤„ç†ç½‘é¡µæˆ–æœåŠ¡å™¨ç«¯çš„æ–‡æœ¬æ•°æ®ã€‚ åƒå…¶å®ƒè¯­è¨€é‡Œä¸€æ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨ stringè¡¨ç¤ºæ–‡æœ¬æ•°æ®ç±»å‹ã€‚ å’ŒJavaScriptä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨åŒå¼•å·ï¼ˆ â€œï¼‰æˆ–å•å¼•å·ï¼ˆâ€™ï¼‰è¡¨ç¤ºå­—ç¬¦ä¸²ã€‚</p>
<pre><code>let name: string = "bob";
name = "smith";</code></pre><p>ä½ è¿˜å¯ä»¥ä½¿ç”¨æ¨¡ç‰ˆå­—ç¬¦ä¸²ï¼Œå®ƒå¯ä»¥å®šä¹‰å¤šè¡Œæ–‡æœ¬å’Œå†…åµŒè¡¨è¾¾å¼ã€‚ è¿™ç§å­—ç¬¦ä¸²æ˜¯è¢«åå¼•å·åŒ…å›´ï¼ˆ <code>ï¼‰ï¼Œå¹¶ä¸”ä»¥</code>${ expr }`è¿™ç§å½¢å¼åµŒå…¥è¡¨è¾¾å¼</p>
<pre><code>let name: string = `Gene`;
let age: number = 37;
let sentence: string = `Hello, my name is ${ name }.
I'll be ${ age + 1 } years old next month.`;</code></pre><p>è¿™ä¸ä¸‹é¢å®šä¹‰<code>sentence</code>çš„æ–¹å¼æ•ˆæœç›¸åŒï¼š</p>
<pre><code>let sentence: string = "Hello, my name is " + name + ".\n\n" +
    "I'll be " + (age + 1) + " years old next month.";</code></pre><h4 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h4><p>TypeScriptåƒJavaScriptä¸€æ ·å¯ä»¥æ“ä½œæ•°ç»„å…ƒç´ ã€‚ æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å®šä¹‰æ•°ç»„ã€‚ ç¬¬ä¸€ç§ï¼Œå¯ä»¥åœ¨å…ƒç´ ç±»å‹åé¢æ¥ä¸Š []ï¼Œè¡¨ç¤ºç”±æ­¤ç±»å‹å…ƒç´ ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ï¼š</p>
<pre><code>let list: number[] = [1, 2, 3];</code></pre><p>ç¬¬äºŒç§æ–¹å¼æ˜¯ä½¿ç”¨æ•°ç»„æ³›å‹ï¼ŒArray&lt;å…ƒç´ ç±»å‹&gt;ï¼š</p>
<pre><code>let list: Array&lt;number&gt; = [1, 2, 3];</code></pre><h4 id="å…ƒç»„-Tuple"><a href="#å…ƒç»„-Tuple" class="headerlink" title="å…ƒç»„ Tuple"></a>å…ƒç»„ Tuple</h4><p>å…ƒç»„ç±»å‹å…è®¸è¡¨ç¤ºä¸€ä¸ªå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ï¼Œå„å…ƒç´ çš„ç±»å‹ä¸å¿…ç›¸åŒã€‚ æ¯”å¦‚ï¼Œä½ å¯ä»¥å®šä¹‰ä¸€å¯¹å€¼åˆ†åˆ«ä¸º stringå’Œnumberç±»å‹çš„å…ƒç»„ã€‚</p>
<pre><code>// å£°æ˜ä¸€ä¸ªå…ƒç»„
let x: [string, number];
// å°†å…¶åˆå§‹åŒ–
x = ['hello', 10]; // OK
// å°†å…¶é”™è¯¯åœ°åˆå§‹åŒ–
x = [10, 'hello']; // Error
å½“è®¿é—®ä¸€ä¸ªå·²çŸ¥ç´¢å¼•çš„å…ƒç´ ï¼Œä¼šå¾—åˆ°æ­£ç¡®çš„ç±»å‹ï¼š
console.log(x[0].substr(1)); // OK
console.log(x[1].substr(1)); // Error, 'number'ç±»å‹æ²¡æœ‰'substr'æ–¹æ³•</code></pre><h4 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h4><p>enumç±»å‹æ˜¯å¯¹JavaScriptæ ‡å‡†æ•°æ®ç±»å‹çš„ä¸€ä¸ªè¡¥å……ã€‚ åƒC#ç­‰å…¶å®ƒè¯­è¨€ä¸€æ ·ï¼Œä½¿ç”¨æšä¸¾ç±»å‹å¯ä»¥ä¸ºä¸€ç»„æ•°å€¼èµ‹äºˆå‹å¥½çš„åå­—ã€‚</p>
<pre><code>enum Color {Red, Green, Blue}
let c: Color = Color.Green;</code></pre><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä»0å¼€å§‹ä¸ºå…ƒç´ ç¼–å·ã€‚ ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨çš„æŒ‡å®šæˆå‘˜çš„æ•°å€¼ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†ä¸Šé¢çš„ä¾‹å­æ”¹æˆä» 1å¼€å§‹ç¼–å·ï¼š</p>
<pre><code>enum Color {Red = 1, Green, Blue}
let c: Color = Color.Green;</code></pre><p>æˆ–è€…ï¼Œå…¨éƒ¨éƒ½é‡‡ç”¨æ‰‹åŠ¨èµ‹å€¼ï¼š</p>
<pre><code>enum Color {Red = 1, Green = 2, Blue = 4}
let c: Color = Color.Green;</code></pre><p>æšä¸¾ç±»å‹æä¾›çš„ä¸€ä¸ªä¾¿åˆ©æ˜¯ä½ å¯ä»¥ç”±æšä¸¾çš„å€¼å¾—åˆ°å®ƒçš„åå­—ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬çŸ¥é“æ•°å€¼ä¸º2ï¼Œä½†æ˜¯ä¸ç¡®å®šå®ƒæ˜ å°„åˆ°Coloré‡Œçš„å“ªä¸ªåå­—ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥æ‰¾ç›¸åº”çš„åå­—ï¼š</p>
<pre><code>enum Color {Red = 1, Green, Blue}
let colorName: string = Color[2];
console.log(colorName);  // æ˜¾ç¤º'Green'å› ä¸ºä¸Šé¢ä»£ç é‡Œå®ƒçš„å€¼æ˜¯2</code></pre><h4 id="Any"><a href="#Any" class="headerlink" title="Any"></a>Any</h4><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæƒ³è¦ä¸ºé‚£äº›åœ¨ç¼–å†™é˜¶æ®µè¿˜ä¸æ¸…æ¥šç±»å‹çš„å˜é‡æŒ‡å®šä¸€ä¸ªç±»å‹ã€‚ è¿™äº›å€¼å¯èƒ½æ¥è‡ªäºåŠ¨æ€çš„å†…å®¹ï¼Œæ¯”å¦‚æ¥è‡ªç”¨æˆ·è¾“å…¥æˆ–ç¬¬ä¸‰æ–¹ä»£ç åº“ã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›ç±»å‹æ£€æŸ¥å™¨å¯¹è¿™äº›å€¼è¿›è¡Œæ£€æŸ¥è€Œæ˜¯ç›´æ¥è®©å®ƒä»¬é€šè¿‡ç¼–è¯‘é˜¶æ®µçš„æ£€æŸ¥ã€‚ é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ anyç±»å‹æ¥æ ‡è®°è¿™äº›å˜é‡ï¼š</p>
<pre><code>let notSure: any = 4;
notSure = "maybe a string instead";
notSure = false; // åˆæ³•, å®šä¹‰äº†ä¸€ä¸ªå¸ƒå°”å€¼</code></pre><p>å½“ä½ åªçŸ¥é“ä¸€éƒ¨åˆ†æ•°æ®çš„ç±»å‹æ—¶ï¼Œanyç±»å‹ä¹Ÿæ˜¯æœ‰ç”¨çš„ã€‚ æ¯”å¦‚ï¼Œä½ æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒåŒ…å«äº†ä¸åŒçš„ç±»å‹çš„æ•°æ®ï¼š</p>
<pre><code>let list: any[] = [1, true, "free"];
list[1] = 100;</code></pre><h4 id="Void"><a href="#Void" class="headerlink" title="Void"></a>Void</h4><p>æŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œvoidç±»å‹åƒæ˜¯ä¸anyç±»å‹ç›¸åï¼Œå®ƒè¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ã€‚ å½“ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œä½ é€šå¸¸ä¼šè§åˆ°å…¶è¿”å›å€¼ç±»å‹æ˜¯ voidï¼š</p>
<pre><code>function warnUser(): void {
    console.log("This is my warning message");
}</code></pre><p>å£°æ˜ä¸€ä¸ªvoidç±»å‹çš„å˜é‡æ²¡æœ‰ä»€ä¹ˆå¤§ç”¨ï¼Œå› ä¸ºä½ åªèƒ½ä¸ºå®ƒèµ‹äºˆundefinedå’Œnullï¼š</p>
<pre><code>let unusable: void = undefined;</code></pre><h4 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h4><p>objectè¡¨ç¤ºéåŸå§‹ç±»å‹ï¼Œä¹Ÿå°±æ˜¯é™¤numberï¼Œstringï¼Œbooleanï¼Œsymbolï¼Œnullæˆ–undefinedä¹‹å¤–çš„ç±»å‹ã€‚</p>
<p>ä½¿ç”¨objectç±»å‹ï¼Œå°±å¯ä»¥æ›´å¥½çš„è¡¨ç¤ºåƒ<code>Object.create</code>è¿™æ ·çš„APIã€‚ä¾‹å¦‚ï¼š</p>
<pre><code>declare function create(o: object | null): void;
create({ prop: 0 }); // OK
create(null); // OK
create(42); // Error
create("string"); // Error
create(false); // Error
create(undefined); // Error</code></pre><h3 id="TypeScriptç±»å‹è¡¨"><a href="#TypeScriptç±»å‹è¡¨" class="headerlink" title="TypeScriptç±»å‹è¡¨"></a>TypeScriptç±»å‹è¡¨</h3><hr>
<table>
<thead>
<tr>
<th align="left">ç±»å‹</th>
<th align="left">ä¾‹å­</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>åŸºæœ¬ç±»å‹</strong></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">boolean</td>
<td align="left"><code>x: boolean = false</code></td>
</tr>
<tr>
<td align="left">number</td>
<td align="left"><code>x: number = 10</code></td>
</tr>
<tr>
<td align="left">string</td>
<td align="left"><code>x: string = '10'</code></td>
</tr>
<tr>
<td align="left">undefined</td>
<td align="left"><code>x: undefined = undefined</code></td>
</tr>
<tr>
<td align="left">null</td>
<td align="left"><code>x: null = null</code></td>
</tr>
<tr>
<td align="left"><strong>å¼•ç”¨ç±»å‹ä»¥åŠå…¶ä»–ç±»å‹</strong></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">object</td>
<td align="left"><code>x: object = { age: '14', name: 'John' }</code></td>
</tr>
<tr>
<td align="left">array</td>
<td align="left"><code>x: array = [1, '2', 3.0]</code></td>
</tr>
<tr>
<td align="left">function</td>
<td align="left"><code>x: function = (args) =&gt; { console.log(args) }</code></td>
</tr>
<tr>
<td align="left">symbol</td>
<td align="left"><code>x: symbol = Symbol('id')</code></td>
</tr>
<tr>
<td align="left"><strong>TypeScript è¡¥å……ç±»å‹</strong></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">any</td>
<td align="left"><code>x: any = null</code></td>
</tr>
<tr>
<td align="left">never</td>
<td align="left"><code>function error (msg): never =&gt; { throw new Error(msg) }</code></td>
</tr>
<tr>
<td align="left">enum</td>
<td align="left"><code>enum Color {Red = 1, Green, Blue}</code></td>
</tr>
<tr>
<td align="left">tuple</td>
<td align="left"><code>x: [string, number] = ['name', 12]</code></td>
</tr>
</tbody></table>
<h3 id="ç±»å‹æ–­è¨€"><a href="#ç±»å‹æ–­è¨€" class="headerlink" title="ç±»å‹æ–­è¨€"></a>ç±»å‹æ–­è¨€</h3><hr>
<p>æœ‰æ—¶å€™ä½ ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œä½ æ¯”TypeScriptæ›´äº†è§£æŸä¸ªå€¼çš„å…·ä½“ä¿¡æ¯ã€‚</p>
<p>é€šè¿‡<em>ç±»å‹æ–­è¨€</em>è¿™ç§æ–¹å¼å¯ä»¥å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œâ€œç›¸ä¿¡æˆ‘ï¼Œæˆ‘çŸ¥é“è‡ªå·±åœ¨å¹²ä»€ä¹ˆâ€ã€‚ ç±»å‹æ–­è¨€å¥½æ¯”å…¶å®ƒè¯­è¨€é‡Œçš„ç±»å‹è½¬æ¢ï¼Œä½†æ˜¯ä¸è¿›è¡Œç‰¹æ®Šçš„æ•°æ®æ£€æŸ¥å’Œè§£æ„ã€‚å®ƒæ²¡æœ‰è¿è¡Œæ—¶çš„å½±å“ï¼Œåªæ˜¯åœ¨ç¼–è¯‘é˜¶æ®µèµ·ä½œç”¨ã€‚TypeScriptä¼šå‡è®¾ä½ â€”â€”ç¨‹åºå‘˜â€”â€”å·²ç»è¿›è¡Œäº†å¿…é¡»çš„æ£€æŸ¥ã€‚</p>
<p>ç±»å‹æ–­è¨€æœ‰ä¸¤ç§å½¢å¼ã€‚ å…¶ä¸€æ˜¯â€œå°–æ‹¬å·â€è¯­æ³•ï¼š</p>
<pre><code>let someValue: any = "this is a string";
let strLength: number = (&lt;string&gt;someValue).length;</code></pre><p>å¦ä¸€ä¸ªä¸ºasè¯­æ³•ï¼š</p>
<pre><code>let someValue: any = "this is a string";
let strLength: number = (someValue as string).length;</code></pre><p>!&gt; æ³¨æ„ï¼šæœ¬ç« å…¨éƒ¨é‡‡ç”¨äº†letï¼Œconstå…³é”®å­—ï¼Œä»¥åŠä½ æ¥ä¸‹æ¥å¯ä»¥è§åˆ°çš„æ‰€æœ‰ä¾‹å­ä¸­ï¼Œéƒ½ä¸å†ä½¿ç”¨varå£°æ˜å˜é‡ï¼Œä¸ºäº†é¿å…varå¸¦æ¥çš„å‰¯ä½œç”¨å’Œå½±å“ï¼Œæˆ‘ä»¬æ›´æå€¡ä½¿ç”¨æ–°çš„å…³é”®å­—ã€‚</p>
<h3 id="å˜é‡å£°æ˜"><a href="#å˜é‡å£°æ˜" class="headerlink" title="å˜é‡å£°æ˜"></a>å˜é‡å£°æ˜</h3><hr>
<h4 id="letå£°æ˜"><a href="#letå£°æ˜" class="headerlink" title="letå£°æ˜"></a>letå£°æ˜</h4><p>letçš„å£°æ˜æ ¼å¼</p>
<pre><code>let hello = "Hello!";</code></pre><h5 id="å—ä½œç”¨åŸŸ"><a href="#å—ä½œç”¨åŸŸ" class="headerlink" title="å—ä½œç”¨åŸŸ"></a>å—ä½œç”¨åŸŸ</h5><p>å½“ç”¨letå£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå®ƒä½¿ç”¨çš„æ˜¯è¯æ³•ä½œç”¨åŸŸæˆ–å—ä½œç”¨åŸŸã€‚ ä¸åŒäºä½¿ç”¨ varå£°æ˜çš„å˜é‡é‚£æ ·å¯ä»¥åœ¨åŒ…å«å®ƒä»¬çš„å‡½æ•°å¤–è®¿é—®ï¼Œå—ä½œç”¨åŸŸå˜é‡åœ¨åŒ…å«å®ƒä»¬çš„å—æˆ–forå¾ªç¯ä¹‹å¤–æ˜¯ä¸èƒ½è®¿é—®çš„ã€‚</p>
<pre><code>function f(input: boolean) {
    let a = 100;
    if (input) {
        // ä½ åœ¨è¿™é‡Œè¿˜å¯ä»¥è®¿é—®åˆ°a
        let b = a + 1;
        return b;
    }
    // é”™è¯¯: 'b'ä¸å­˜åœ¨
    return b;
}</code></pre><p>è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†2ä¸ªå˜é‡<code>a</code>å’Œ<code>b</code>ã€‚ <code>a</code>çš„ä½œç”¨åŸŸåœ¨<code>f</code>å‡½æ•°ä½“å†…ï¼Œè€Œ<code>b</code>çš„ä½œç”¨åŸŸåªåœ¨<code>if</code>è¯­å¥å—é‡Œã€‚</p>
<p>æ‹¥æœ‰å—çº§ä½œç”¨åŸŸçš„å˜é‡çš„å¦ä¸€ä¸ªç‰¹ç‚¹æ˜¯ï¼Œå®ƒä»¬ä¸èƒ½åœ¨è¢«å£°æ˜ä¹‹å‰è¯»æˆ–å†™ã€‚ è™½ç„¶è¿™äº›å˜é‡å§‹ç»ˆâ€œå­˜åœ¨â€äºå®ƒä»¬çš„ä½œç”¨åŸŸé‡Œï¼Œä½†åœ¨ç›´åˆ°å£°æ˜å®ƒçš„ä»£ç ä¹‹å‰çš„åŒºåŸŸéƒ½å±äº <em>æš‚æ—¶æ€§æ­»åŒº</em>ã€‚ å®ƒåªæ˜¯ç”¨æ¥è¯´æ˜æˆ‘ä»¬ä¸èƒ½åœ¨ letè¯­å¥ä¹‹å‰è®¿é—®å®ƒä»¬ï¼Œå¹¸è¿çš„æ˜¯TypeScriptå¯ä»¥å‘Šè¯‰æˆ‘ä»¬è¿™äº›ä¿¡æ¯ã€‚</p>
<pre><code>a++; // illegal to use 'a' before it's declared;
let a;</code></pre><p>æ³¨æ„ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥åœ¨ä¸€ä¸ªæ‹¥æœ‰å—ä½œç”¨åŸŸå˜é‡è¢«å£°æ˜å‰è·å–å®ƒã€‚ åªæ˜¯æˆ‘ä»¬ä¸èƒ½åœ¨å˜é‡å£°æ˜å‰å»è°ƒç”¨é‚£ä¸ªå‡½æ•°ã€‚ å¦‚æœç”Ÿæˆä»£ç ç›®æ ‡ä¸ºES2015ï¼Œè¿è¡Œæ—¶ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼›ç„¶è€Œï¼Œç›®å‰TypeScriptæ˜¯ä¸ä¼šæŠ¥é”™çš„ã€‚</p>
<pre><code>function foo() {
    // okay to capture 'a'
    return a;
}
// ä¸èƒ½åœ¨'a'è¢«å£°æ˜å‰è°ƒç”¨'foo'
// è¿è¡Œæ—¶ä¼šæŠ›å‡ºé”™è¯¯
foo();
let a;</code></pre><h4 id="é‡å®šä¹‰åŠå±è”½"><a href="#é‡å®šä¹‰åŠå±è”½" class="headerlink" title="é‡å®šä¹‰åŠå±è”½"></a>é‡å®šä¹‰åŠå±è”½</h4><p>ä½ ä¸å¯ä»¥é‡å¤å®šä¹‰åŒä¸€ä¸ªå˜é‡ï¼Œåœ¨ä½¿ç”¨<code>var</code>æ—¶ï¼Œè¿™æ˜¯è¢«å…è®¸çš„ã€‚</p>
<pre><code>let x = 10;
let x = 20; // é”™è¯¯ï¼Œä¸èƒ½åœ¨1ä¸ªä½œç”¨åŸŸé‡Œå¤šæ¬¡å£°æ˜`x`</code></pre><p>ä»¥ä¸‹æƒ…å†µï¼ŒTypeScriptå‡ä¼šæŠ¥é”™</p>
<pre><code>function f(x) {
    let x = 100; // error: interferes with parameter declaration
}
function g() {
    let x = 100;
    var x = 100; // error: can't have both declarations of 'x'
}</code></pre><p>æ³¨æ„å‡½æ•°ä½œç”¨åŸŸå’Œå—ä½œç”¨åŸŸä¸åŒï¼Œä½ å¯ä»¥åœ¨å‡½æ•°ä½œç”¨åŸŸé‡ŒåµŒå¥—å—ä½œç”¨åŸŸï¼Œä½œç”¨åŸŸä¹‹é—´çš„å˜é‡å£°æ˜äº’ä¸å½±å“ï¼ŒåŒæ—¶ï¼Œå—ä½œç”¨åŸŸæ˜¯å…è®¸åµŒå¥—çš„ã€‚</p>
<p>åœ¨ä¸€ä¸ªåµŒå¥—ä½œç”¨åŸŸé‡Œå¼•å…¥ä¸€ä¸ªæ–°åå­—çš„è¡Œä¸ºç§°åš<strong>å±è”½</strong>ã€‚ å®ƒæ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œå®ƒå¯èƒ½ä¼šä¸å°å¿ƒåœ°å¼•å…¥æ–°é—®é¢˜ï¼Œè¿˜å¯èƒ½ä¼šé®è”½æ‰ä¸€äº›é”™è¯¯ã€‚</p>
<pre><code>function f(condition, x) {
    if (condition) {
        let x = 100;
        return x;
    }
    return x;
}
f(false, 0); // returns 0
f(true, 0);  // returns 100</code></pre><h4 id="constå£°æ˜"><a href="#constå£°æ˜" class="headerlink" title="constå£°æ˜"></a>constå£°æ˜</h4><p><code>const</code>å£°æ˜æ˜¯å£°æ˜å˜é‡çš„å¦ä¸€ç§æ–¹å¼ã€‚å®ƒä»¬ä¸letå£°æ˜ç›¸ä¼¼ï¼Œä½†æ˜¯å°±åƒå®ƒçš„åå­—æ‰€è¡¨è¾¾çš„ï¼Œå®ƒä»¬è¢«èµ‹å€¼åä¸èƒ½å†æ”¹å˜ã€‚ æ¢å¥è¯è¯´ï¼Œå®ƒä»¬æ‹¥æœ‰ä¸ letç›¸åŒçš„ä½œç”¨åŸŸè§„åˆ™ï¼Œä½†æ˜¯ä¸èƒ½å¯¹å®ƒä»¬é‡æ–°èµ‹å€¼ã€‚</p>
<p>è¿™å¾ˆå¥½ç†è§£ï¼Œå®ƒä»¬å¼•ç”¨çš„å€¼æ˜¯ä¸å¯å˜çš„ã€‚</p>
<pre><code>const numLivesForCat = 9;
const kitty = {
    name: "Aurora",
    numLives: numLivesForCat,
}
// Error
kitty = {
    name: "Danielle",
    numLives: numLivesForCat
};
// all "okay"
kitty.name = "Rory";
kitty.name = "Kitty";
kitty.name = "Cat";
kitty.numLives--;</code></pre><p>é™¤éä½ ä½¿ç”¨ç‰¹æ®Šçš„æ–¹æ³•å»é¿å…ï¼Œå®é™…ä¸Šconstå˜é‡çš„å†…éƒ¨çŠ¶æ€æ˜¯å¯ä¿®æ”¹çš„ã€‚</p>
<h3 id="è®¿é—®-è®¾ç½®å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•"><a href="#è®¿é—®-è®¾ç½®å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•" class="headerlink" title="è®¿é—®/è®¾ç½®å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•"></a>è®¿é—®/è®¾ç½®å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•</h3><hr>
<p>æˆ‘ä»¬åœ¨å‰é¢å·²ç»çœ‹è¿‡å¾ˆå¤šå¯¹è±¡çš„ä¾‹å­äº†ï¼Œè€Œä¸”JavaScriptçš„å„ç§è¡ç”Ÿç±»å‹éƒ½æ˜¯åŸºäºObjectæ„é€ å‡ºæ¥çš„ï¼Œæ‰€ä»¥æœ¬å°èŠ‚ä»‹ç»çš„å†…å®¹ä¹ŸåŒæ—¶é€‚ç”¨æ•°ç»„ã€å…ƒç»„ç­‰æ•°æ®ç±»å‹ã€‚</p>
<h4 id="ç‚¹è¡¨ç¤ºæ³•"><a href="#ç‚¹è¡¨ç¤ºæ³•" class="headerlink" title="ç‚¹è¡¨ç¤ºæ³•"></a>ç‚¹è¡¨ç¤ºæ³•</h4><p>å¯¹è±¡çš„åå­—è¡¨ç°ä¸ºä¸€ä¸ªå‘½åç©ºé—´(namespace)ï¼Œå®ƒå¿…é¡»å†™åœ¨ç¬¬ä¸€ä½â€”â€”å½“ä½ æƒ³è®¿é—®å¯¹è±¡å†…éƒ¨çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œç„¶åæ˜¯ä¸€ä¸ªç‚¹<code>.</code>ï¼Œç´§æ¥ç€æ˜¯ä½ æƒ³è¦è®¿é—®çš„é¡¹ç›®ï¼Œæ ‡è¯†å¯ä»¥æ˜¯ç®€å•å±æ€§çš„åå­—(name)ï¼Œæˆ–è€…æ˜¯æ•°ç»„å±æ€§çš„ä¸€ä¸ªå­å…ƒç´ ï¼Œåˆæˆ–è€…æ˜¯å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ã€‚</p>
<pre><code>person.age
person.interests[1]
person.bio()</code></pre><p>åˆ›å»ºä¸€ä¸ªå¯¹è±¡åœ¨TypeScriptä¸­éå¸¸ç®€å•ï¼Œåœ¨èµ‹å€¼è¯­å¥å³ä¾§ä½¿ç”¨å½¢å¦‚<code>{}</code>çš„æ–¹å¼å°±èƒ½åˆ›å»ºå¯¹è±¡</p>
<pre><code>const name = {
  first : 'Bob',
  last : 'Smith'
}</code></pre><p>ç”¨ç‚¹è¡¨ç¤ºæ³•è®¿é—®å¯¹è±¡å±æ€§</p>
<pre><code>name.firstname.last</code></pre><h4 id="ä¸­æ‹¬å·è¡¨ç¤ºæ³•"><a href="#ä¸­æ‹¬å·è¡¨ç¤ºæ³•" class="headerlink" title="ä¸­æ‹¬å·è¡¨ç¤ºæ³•"></a>ä¸­æ‹¬å·è¡¨ç¤ºæ³•</h4><p>å¦å¤–ä¸€ç§è®¿é—®å±æ€§çš„æ–¹å¼æ˜¯ä½¿ç”¨æ‹¬å·è¡¨ç¤ºæ³•(bracket notation)ï¼Œæ›¿ä»£è¿™æ ·çš„ä»£ç </p>
<pre><code>person.age
person.name.first

person['age']
person['name']['first']</code></pre><p>åŒæ ·ï¼Œåˆ›å»ºä¸€ä¸ªæ•°ç»„ä¹Ÿéå¸¸å®¹æ˜“</p>
<pre><code>const name = ['Bob', 'Smith']</code></pre><p>ç”¨ä¸­æ‹¬å·è¡¨ç¤ºæ³•è®¿é—®æ•°ç»„å…ƒç´ </p>
<pre><code>name[0]
name[1]
// æ•°ç»„æˆ–ç±»æ•°ç»„æ ¼å¼çš„æ•°æ®åªèƒ½ç”¨æ‹¬å·è¡¨ç¤ºæ³•è®¿é—®å…ƒç´ ï¼Œä¸å¯ä»¥ä½¿ç”¨`name.0`æ–¹å¼è®¿é—®</code></pre><h4 id="è®¾ç½®å¯¹è±¡æˆå‘˜"><a href="#è®¾ç½®å¯¹è±¡æˆå‘˜" class="headerlink" title="è®¾ç½®å¯¹è±¡æˆå‘˜"></a>è®¾ç½®å¯¹è±¡æˆå‘˜</h4><p>åˆ†åˆ«ç”¨ç‚¹è¡¨ç¤ºæ³•å’Œä¸­æ‹¬å·è¡¨ç¤ºæ³•è®¾ç½®å¯¹è±¡æˆå‘˜çš„å€¼</p>
<pre><code>person.age = 45
person['name']['last'] = 'Cratchit'</code></pre><p>è®¾ç½®æˆå‘˜å¹¶ä¸æ„å‘³ç€ä½ åªèƒ½æ›´æ–°å·²ç»å­˜åœ¨çš„å±æ€§çš„å€¼ï¼Œä½ å®Œå…¨å¯ä»¥åˆ›å»ºæ–°çš„æˆå‘˜ï¼Œå°è¯•ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code>person['eyes'] = 'hazel'
person.farewell = function() { alert("Bye everybody!") }</code></pre><p>ç°åœ¨ä½ å¯ä»¥æµ‹è¯•ä½ æ–°åˆ›å»ºçš„æˆå‘˜</p>
<pre><code>person['eyes']
person.farewell()</code></pre><h3 id="å˜é‡è§£æ„"><a href="#å˜é‡è§£æ„" class="headerlink" title="å˜é‡è§£æ„"></a>å˜é‡è§£æ„</h3><hr>
<p>ES2015çš„å˜é‡è§£æ„æœ¬è´¨æ¥è¯´æ˜¯ä¸€ç§ä¾¿åˆ©çš„è¯­æ³•ç³–</p>
<h4 id="è§£æ„æ•°ç»„"><a href="#è§£æ„æ•°ç»„" class="headerlink" title="è§£æ„æ•°ç»„"></a>è§£æ„æ•°ç»„</h4><p>æœ€ç®€å•çš„è§£æ„è«è¿‡äºæ•°ç»„çš„è§£æ„èµ‹å€¼äº†ï¼š</p>
<pre><code>let input = [1, 2];
let [first, second] = input;
console.log(first); // outputs 1
console.log(second); // outputs 2</code></pre><p>ä¸Šé¢çš„ä¾‹å­ç­‰ä»·äº</p>
<pre><code>first = input[0];
second = input[1];</code></pre><p>ä½œç”¨äºå‡½æ•°å‚æ•°ï¼š</p>
<pre><code>function f([first, second]: [number, number]) { // æ³¨æ„åé¢éƒ¨åˆ†[number, number]æ˜¯typescriptçš„ç±»å‹æ³¨è§£
    console.log(first);
    console.log(second);
}
const input = [12, 44]
f(input);</code></pre><p>ä½ å¯ä»¥åœ¨æ•°ç»„é‡Œä½¿ç”¨<code>...</code>è¯­æ³•åˆ›å»ºå‰©ä½™å˜é‡ï¼š</p>
<pre><code>let [first, ...rest] = [1, 2, 3, 4];
console.log(first); // outputs 1
console.log(rest); // outputs [ 2, 3, 4 ]</code></pre><p>å½“ç„¶ï¼Œç”±äºæ˜¯JavaScript, ä½ å¯ä»¥å¿½ç•¥ä½ ä¸å…³å¿ƒçš„å°¾éšå…ƒç´ ï¼š</p>
<pre><code>let [first] = [1, 2, 3, 4];
console.log(first); // outputs 1</code></pre><p>æˆ–å…¶å®ƒå…ƒç´ ï¼š</p>
<pre><code>let [, second, , fourth] = [1, 2, 3, 4];</code></pre><h4 id="å¯¹è±¡è§£æ„"><a href="#å¯¹è±¡è§£æ„" class="headerlink" title="å¯¹è±¡è§£æ„"></a>å¯¹è±¡è§£æ„</h4><p>ä½ ä¹Ÿå¯ä»¥è§£æ„å¯¹è±¡ï¼š</p>
<pre><code>let o = {
    a: "foo",
    b: 12,
    c: "bar"
};
let { a, b } = o;</code></pre><p>ä½ å¯ä»¥åœ¨å¯¹è±¡é‡Œä½¿ç”¨<code>...</code>è¯­æ³•åˆ›å»ºå‰©ä½™å˜é‡ï¼š</p>
<pre><code>let { a, ...passthrough } = o;
let total = passthrough.b + passthrough.c.length;</code></pre><p>ä½ ä¹Ÿå¯ä»¥ç»™å±æ€§ä»¥ä¸åŒçš„åå­—ï¼š</p>
<pre><code>let { a: newName1, b: newName2 } = o;</code></pre><p>è¿™é‡Œçš„è¯­æ³•å¼€å§‹æœ‰äº›æ··ä¹±ã€‚ ä½ å¯ä»¥å°† <code>a: newName1</code> è¯»åšè®² â€œaâ€ å–å‡ºä½œä¸º â€œnewName1â€ã€‚ æ–¹å‘æ˜¯ä»å·¦åˆ°å³ï¼Œå¥½åƒä½ å†™æˆäº†ä»¥ä¸‹æ ·å­ï¼š</p>
<pre><code>let newName1 = o.a;
let newName2 = o.b;</code></pre><p>ä»¤ä½ å›°æƒ‘çš„å¯èƒ½æ˜¯=è¿™é‡Œçš„å†’å·ä¸æ˜¯æŒ‡ç¤ºç±»å‹çš„ï¼Œæˆ‘ä»¬å‰é¢è¯´ï¼Œä»¥å†’å·åè·Ÿçš„æ˜¯<em>ç±»å‹æ³¨è§£</em>ã€‚ å¦‚æœä½ æƒ³æŒ‡å®šå®ƒçš„ç±»å‹ï¼Œä»ç„¶éœ€è¦åœ¨å…¶åå†™ä¸Šå®Œæ•´çš„æ¨¡å¼ã€‚</p>
<pre><code>// æ­£ç¡®
let {a, b}: {a: string, b: number} = o;
// é”™è¯¯
let {a: n1, b: n2}: {n1: string, n2: number} = o;</code></pre><h4 id="é»˜è®¤å€¼"><a href="#é»˜è®¤å€¼" class="headerlink" title="é»˜è®¤å€¼"></a>é»˜è®¤å€¼</h4><p>é»˜è®¤å€¼å¯ä»¥è®©ä½ åœ¨å±æ€§ä¸º undefined æ—¶ä½¿ç”¨ç¼ºçœå€¼ï¼š</p>
<pre><code>function keepWholeObject(wholeObject: { a: string, b?: number }) {
    let { a, b = 1001 } = wholeObject;
}</code></pre><p>ç°åœ¨ï¼Œå³ä½¿ <code>b</code> ä¸º <code>undefined</code> ï¼Œ keepWholeObject å‡½æ•°çš„å˜é‡ <code>wholeObject</code> çš„å±æ€§ a å’Œ b éƒ½ä¼šæœ‰å€¼ã€‚</p>
<h4 id="å‡½æ•°å£°æ˜"><a href="#å‡½æ•°å£°æ˜" class="headerlink" title="å‡½æ•°å£°æ˜"></a>å‡½æ•°å£°æ˜</h4><p>è§£æ„ä¹Ÿèƒ½ç”¨äºå‡½æ•°å£°æ˜ã€‚ çœ‹ä»¥ä¸‹ç®€å•çš„æƒ…å†µï¼š</p>
<pre><code>
type C = { a: string, b?: number }
// æ™®é€šå†™æ³•
function f(C) {
    // ...
}
// è§£æ„
function f({ a, b }: C): void {
    // ...
}</code></pre><h4 id="å˜é‡å±•å¼€"><a href="#å˜é‡å±•å¼€" class="headerlink" title="å˜é‡å±•å¼€"></a>å˜é‡å±•å¼€</h4><p>å±•å¼€æ“ä½œç¬¦æ­£ä¸è§£æ„ç›¸åã€‚ å®ƒå…è®¸ä½ å°†ä¸€ä¸ªæ•°ç»„å±•å¼€ä¸ºå¦ä¸€ä¸ªæ•°ç»„ï¼Œæˆ–å°†ä¸€ä¸ªå¯¹è±¡å±•å¼€ä¸ºå¦ä¸€ä¸ªå¯¹è±¡ã€‚ ä¾‹å¦‚ï¼š</p>
<pre><code>let first = [1, 2];
let second = [3, 4];
let bothPlus = [0, ...first, ...second, 5];</code></pre><p>è¿™ä¼šä»¤bothPlusçš„å€¼ä¸º<code>[0, 1, 2, 3, 4, 5]</code>ã€‚ å±•å¼€æ“ä½œåˆ›å»ºäº† firstå’Œsecondçš„ä¸€ä»½<strong>æµ…æ‹·è´</strong>ã€‚ å®ƒä»¬ä¸ä¼šè¢«å±•å¼€æ“ä½œæ‰€æ”¹å˜ã€‚</p>
<p>ä½ è¿˜å¯ä»¥å±•å¼€å¯¹è±¡ï¼š</p>
<pre><code>let defaults = { food: "spicy", price: "$$", ambiance: "noisy" };
let search = { ...defaults, food: "rich" };</code></pre><p>searchçš„å€¼ä¸º<code>{ food: "rich", price: "$$", ambiance: "noisy" }</code>ã€‚ å¯¹è±¡çš„å±•å¼€æ¯”æ•°ç»„çš„å±•å¼€è¦å¤æ‚çš„å¤šã€‚ åƒæ•°ç»„å±•å¼€ä¸€æ ·ï¼Œå®ƒæ˜¯ä»å·¦è‡³å³è¿›è¡Œå¤„ç†ï¼Œä½†ç»“æœä»ä¸ºå¯¹è±¡ã€‚ è¿™å°±æ„å‘³ç€å‡ºç°åœ¨<strong>å±•å¼€å¯¹è±¡åé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§</strong>ã€‚ å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ä¿®æ”¹ä¸Šé¢çš„ä¾‹å­ï¼Œåœ¨ç»“å°¾å¤„è¿›è¡Œå±•å¼€çš„è¯ï¼š</p>
<pre><code>let defaults = { food: "spicy", price: "$$", ambiance: "noisy" };
let search = { food: "rich", ...defaults };</code></pre><p>é‚£ä¹ˆï¼Œdefaultsé‡Œçš„foodå±æ€§ä¼šé‡å†™<code>food: "rich"</code>ï¼Œåœ¨è¿™é‡Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚</p>
<h2 id="è®¤è¯†Typescript-ç±»"><a href="#è®¤è¯†Typescript-ç±»" class="headerlink" title="è®¤è¯†Typescript-ç±»"></a>è®¤è¯†Typescript-ç±»</h2><p>ä¼ ç»Ÿçš„JavaScriptç¨‹åºä½¿ç”¨<strong>å‡½æ•°</strong>å’ŒåŸºäº<strong>åŸå‹</strong>çš„ç»§æ‰¿æ¥åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ã€‚Typescriptåˆ™åœ¨æ­¤åŸºç¡€ä¸ŠåŠ å…¥äº†è¯­æ³•ç³–<strong>ç±»</strong>ã€‚</p>
<p>äº†è§£Javascriptçš„åŸºç¡€å†…å®¹è¯·å‚è€ƒ<a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Objects/Object_prototypes" target="_blank" rel="noopener">å¯¹è±¡åŸå‹</a>ã€‚</p>
<h3 id="å£°æ˜ç±»"><a href="#å£°æ˜ç±»" class="headerlink" title="å£°æ˜ç±»"></a>å£°æ˜ç±»</h3><p>æˆ‘ä»¬é¦–å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­</p>
<pre><code>class Greeter {
    greeting: string;
    constructor(message: string) {
        this.greeting = message;
    }
    greet() {
        return "Hello, " + this.greeting;
    }
}
let greeter = new Greeter("world");</code></pre><p>å¦‚æœä½ ä½¿ç”¨è¿‡C#æˆ–Javaï¼Œä½ ä¼šå¯¹è¿™ç§è¯­æ³•éå¸¸ç†Ÿæ‚‰ã€‚ æˆ‘ä»¬å£°æ˜ä¸€ä¸ª Greeterç±»ã€‚è¿™ä¸ªç±»æœ‰3ä¸ªæˆå‘˜ï¼šä¸€ä¸ªå«åš greetingçš„å±æ€§ï¼Œä¸€ä¸ªæ„é€ å‡½æ•°å’Œä¸€ä¸ª greetæ–¹æ³•ã€‚</p>
<p>ä½ ä¼šæ³¨æ„åˆ°ï¼Œæˆ‘ä»¬åœ¨å¼•ç”¨ä»»ä½•ä¸€ä¸ªç±»æˆå‘˜çš„æ—¶å€™éƒ½ç”¨äº† thisã€‚ å®ƒè¡¨ç¤ºæˆ‘ä»¬è®¿é—®çš„æ˜¯ç±»çš„æˆå‘˜ã€‚</p>
<p>æœ€åä¸€è¡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ newæ„é€ äº† Greeterç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚ å®ƒä¼šè°ƒç”¨ä¹‹å‰å®šä¹‰çš„æ„é€ å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ª Greeterç±»å‹çš„æ–°å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œæ„é€ å‡½æ•°åˆå§‹åŒ–å®ƒã€‚</p>
<h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><p>åœ¨TypeScripté‡Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¸¸ç”¨çš„é¢å‘å¯¹è±¡æ¨¡å¼ã€‚ åŸºäºç±»çš„ç¨‹åºè®¾è®¡ä¸­ä¸€ç§æœ€åŸºæœ¬çš„æ¨¡å¼æ˜¯å…è®¸ä½¿ç”¨ç»§æ‰¿æ¥æ‰©å±•ç°æœ‰çš„ç±»ã€‚</p>
<p>çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<pre><code>class Animal {
    move(distance: number = 0) {
        console.log(`Animal moved ${distance}m.`);
    }
}
class Dog extends Animal {
    bark() {
        console.log('Woof! Woof!');
    }
}
const dog = new Dog();
dog.bark();
dog.move(10);
dog.bark();</code></pre><p>è¿™ä¸ªä¾‹å­å±•ç¤ºäº†æœ€åŸºæœ¬çš„ç»§æ‰¿ï¼šç±»ä»åŸºç±»ä¸­ç»§æ‰¿äº†å±æ€§å’Œæ–¹æ³•ã€‚è¿™é‡Œï¼Œ<code>Dog</code>æ˜¯ä¸€ä¸ª <em>æ´¾ç”Ÿç±»</em>ï¼Œé€šè¿‡ <code>extends</code>å…³é”®å­—ä½¿å®ƒä» <code>Animal</code> åŸºç±»ä¸­æ´¾ç”Ÿå‡ºæ¥ã€‚ æ´¾ç”Ÿç±»é€šå¸¸è¢«ç§°ä½œ å­ç±»ï¼ŒåŸºç±»é€šå¸¸è¢«ç§°ä½œ è¶…ç±»æˆ–çˆ¶ç±»ã€‚</p>
<p>å› ä¸º Dogç»§æ‰¿äº† Animalçš„åŠŸèƒ½ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª Dogçš„å®ä¾‹ï¼Œå®ƒèƒ½å¤Ÿ bark()å’Œ move()ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸ªæ›´åŠ å¤æ‚çš„ä¾‹å­ã€‚</p>
<pre><code>class Animal {
    name: string;
    constructor(theName: string) { this.name = theName; }
    move(distance: number = 0) {
        console.log(`${this.name} moved ${distance}m.`);
    }
}
class Snake extends Animal {
    constructor(name: string) { super(name); }
    move(distance = 5) {
        console.log("Slithering...");
        super.move(distance);
    }
}
class Horse extends Animal {
    constructor(name: string) { super(name); }
    move(distance = 45) {
        console.log("Galloping...");
        super.move(distance);
    }
}
let sam = new Snake("Sammy the Python");
let tom: Animal = new Horse("Tommy the Palomino");
sam.move();
tom.move(34);</code></pre><p>ä¸å‰ä¸€ä¸ªä¾‹å­çš„ä¸åŒç‚¹æ˜¯ï¼Œè¿™æ¬¡ä¸¤ä¸ªæ´¾ç”Ÿç±»åŒ…å«äº†ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå®ƒ<strong>å¿…é¡»è°ƒç”¨ <code>super()</code></strong>ï¼Œå®ƒä¼šæ‰§è¡ŒåŸºç±»çš„æ„é€ å‡½æ•°ã€‚ è€Œä¸”ï¼Œåœ¨æ„é€ å‡½æ•°é‡Œè®¿é—® thisçš„å±æ€§ä¹‹å‰ï¼Œæˆ‘ä»¬ <strong>å¿…é¡»</strong>è¦è°ƒç”¨ super()ï¼Œè¿™ä¸ªæ˜¯TypeScriptå¼ºåˆ¶è§„å®šçš„ã€‚</p>
<h3 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h3><h4 id="public"><a href="#public" class="headerlink" title="public"></a>public</h4><p>å¦‚æœä½ å¯¹å…¶å®ƒè¯­è¨€ä¸­çš„ç±»æ¯”è¾ƒäº†è§£ï¼Œå°±ä¼šæ³¨æ„åˆ°æˆ‘ä»¬åœ¨ä¹‹å‰çš„ä»£ç é‡Œå¹¶æ²¡æœ‰ä½¿ç”¨ <code>public</code>æ¥åšä¿®é¥°ï¼›ä¾‹å¦‚ï¼ŒC#è¦æ±‚å¿…é¡»æ˜ç¡®åœ°ä½¿ç”¨ <code>public</code>æŒ‡å®šæˆå‘˜æ˜¯å¯è§çš„ã€‚ åœ¨TypeScripté‡Œï¼Œæˆå‘˜éƒ½é»˜è®¤ä¸º <code>public</code>ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬å¯ä»¥è‡ªç”±çš„è®¿é—®ç¨‹åºé‡Œå®šä¹‰çš„æˆå‘˜ã€‚</p>
<h4 id="private"><a href="#private" class="headerlink" title="private"></a>private</h4><p>å½“æˆå‘˜è¢«æ ‡è®°æˆ <code>private</code>æ—¶ï¼Œå®ƒå°±ä¸èƒ½åœ¨å£°æ˜å®ƒçš„ç±»çš„å¤–éƒ¨è®¿é—®ã€‚æ¯”å¦‚</p>
<pre><code>class Animal {
    private name: string;
    constructor(theName: string) { this.name = theName; }
}
new Animal("Cat").name; // é”™è¯¯: 'name' æ˜¯ç§æœ‰çš„.</code></pre><h4 id="protected"><a href="#protected" class="headerlink" title="protected"></a>protected</h4><p>protectedä¿®é¥°ç¬¦ä¸ privateä¿®é¥°ç¬¦çš„è¡Œä¸ºå¾ˆç›¸ä¼¼ï¼Œä½†æœ‰ä¸€ç‚¹ä¸åŒï¼Œ protectedæˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶å¯ä»¥è®¿é—®ã€‚</p>
<pre><code>class Person {
    protected name: string;
    constructor(name: string) { this.name = name; }
}
class Employee extends Person {
    private department: string;
    constructor(name: string, department: string) {
        super(name)
        this.department = department;
    }
    public getElevatorPitch() {
        return `Hello, my name is ${this.name} and I work in ${this.department}.`;
    }
}
let howard = new Employee("Howard", "Sales");
console.log(howard.getElevatorPitch());
console.log(howard.name); // é”™è¯¯</code></pre><p>æ³¨æ„ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨ <code>Person</code>ç±»å¤–ä½¿ç”¨ <code>name</code>ï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶å¯ä»¥é€šè¿‡ <code>Employee</code>ç±»çš„<strong>å®ä¾‹æ–¹æ³•</strong>è®¿é—®ï¼Œå› ä¸º <code>Employee</code>æ˜¯ç”± <code>Person</code>æ´¾ç”Ÿè€Œæ¥çš„ã€‚</p>
<h4 id="readonly"><a href="#readonly" class="headerlink" title="readonly"></a>readonly</h4><p>ä½ å¯ä»¥ä½¿ç”¨ <code>readonly</code>å…³é”®å­—å°†å±æ€§è®¾ç½®ä¸ºåªè¯»çš„ã€‚ åªè¯»å±æ€§å¿…é¡»åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°é‡Œè¢«åˆå§‹åŒ–ã€‚</p>
<pre><code>class Octopus {
    readonly name: string;
    readonly numberOfLegs: number = 8;
    constructor (theName: string) {
        this.name = theName;
    }
}
let dad = new Octopus("Man with the 8 strong legs");
dad.name = "Man with the 3-piece suit"; // é”™è¯¯! name æ˜¯åªè¯»çš„.</code></pre><h4 id="get-set"><a href="#get-set" class="headerlink" title="get/set"></a>get/set</h4><p>TypeScriptæ”¯æŒé€šè¿‡<code>getters/setters</code>æ¥æˆªå–å¯¹å¯¹è±¡æˆå‘˜çš„è®¿é—®ã€‚ å®ƒèƒ½å¸®åŠ©ä½ æœ‰æ•ˆçš„æ§åˆ¶å¯¹å¯¹è±¡æˆå‘˜çš„è®¿é—®ã€‚</p>
<p>ä¸‹é¢æ¥çœ‹å¦‚ä½•æŠŠä¸€ä¸ªç®€å•çš„ç±»æ”¹å†™æˆä½¿ç”¨ <code>get</code>å’Œ <code>set</code>ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬ä»ä¸€ä¸ªæ²¡æœ‰ä½¿ç”¨å­˜å–å™¨çš„ä¾‹å­å¼€å§‹ã€‚</p>
<pre><code>class Employee {
    fullName: string;
}
let employee = new Employee();
employee.fullName = "Bob Smith";
if (employee.fullName) {
    console.log(employee.fullName);
}</code></pre><p>ä¸‹é¢è¿™ä¸ªç‰ˆæœ¬é‡Œï¼Œæˆ‘ä»¬å…ˆæ£€æŸ¥ç”¨æˆ·å¯†ç æ˜¯å¦æ­£ç¡®ï¼Œç„¶åå†å…è®¸å…¶ä¿®æ”¹å‘˜å·¥ä¿¡æ¯ã€‚ æˆ‘ä»¬æŠŠå¯¹ <code>fullName</code>çš„ç›´æ¥è®¿é—®æ”¹æˆäº†å¯ä»¥æ£€æŸ¥å¯†ç çš„ setæ–¹æ³•ã€‚ æˆ‘ä»¬ä¹ŸåŠ äº†ä¸€ä¸ª getæ–¹æ³•ï¼Œè®©ä¸Šé¢çš„ä¾‹å­ä»ç„¶å¯ä»¥å·¥ä½œã€‚</p>
<pre><code>let passcode = "secret passcode";
class Employee {
    private _fullName: string;
    get fullName(): string {
        return this._fullName;
    }
    set fullName(newName: string) {
        if (passcode &amp;&amp; passcode == "secret passcode") {
            this._fullName = newName;
        }
        else {
            console.log("Error: Unauthorized update of employee!");
        }
    }
}
let employee = new Employee();
employee.fullName = "Bob Smith";
if (employee.fullName) {
    alert(employee.fullName);
}</code></pre><h4 id="static"><a href="#static" class="headerlink" title="static"></a>static</h4><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªè®¨è®ºäº†ç±»çš„å®ä¾‹æˆå‘˜ï¼Œé‚£äº›ä»…å½“ç±»è¢«å®ä¾‹åŒ–çš„æ—¶å€™æ‰ä¼šè¢«åˆå§‹åŒ–çš„å±æ€§ã€‚ æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ›å»ºç±»çš„é™æ€æˆå‘˜ï¼Œè¿™äº›å±æ€§å­˜åœ¨äºç±»æœ¬èº«ä¸Šé¢è€Œä¸æ˜¯ç±»çš„å®ä¾‹ä¸Šã€‚</p>
<pre><code>class Router {
    static baseRoute = '/basePath';
    calculateRoute(path: string) {
        return this.baseRoute + this.commonPrefix  + path;
    }
    constructor (public commonPrefix: number) { }
}
let route1 = new Router('/api');  // ä¸€çº§è·¯å¾„ä¸º/api
let route2 = new Router('/page');  // ä¸€çº§è·¯å¾„ä¸º/page
console.log(route1.calculateRoute('/main');  // æœ€ç»ˆè·¯å¾„/basePath/api/main
console.log(route2.calculateRoute('/user');  // æœ€ç»ˆè·¯å¾„/basePath/page/user</code></pre><h4 id="abstract"><a href="#abstract" class="headerlink" title="abstract"></a>abstract</h4><p>æŠ½è±¡ç±»åšä¸ºå…¶å®ƒæ´¾ç”Ÿç±»çš„åŸºç±»ä½¿ç”¨ã€‚ å®ƒä»¬ä¸€èˆ¬ä¸ä¼šç›´æ¥è¢«å®ä¾‹åŒ–ã€‚ ä¸åŒäºæ¥å£ï¼ŒæŠ½è±¡ç±»å¯ä»¥åŒ…å«æˆå‘˜çš„å®ç°ç»†èŠ‚ã€‚ <code>abstract</code>å…³é”®å­—æ˜¯ç”¨äºå®šä¹‰æŠ½è±¡ç±»å’Œåœ¨æŠ½è±¡ç±»å†…éƒ¨å®šä¹‰æŠ½è±¡æ–¹æ³•ã€‚</p>
<pre><code>abstract class Animal {
    abstract makeSound(): void;
    move(): void {
        console.log('roaming the earch...');
    }
}</code></pre><h2 id="è®¤è¯†TypeScript-ç±»å‹æ¥å£å’Œå‘½åç©ºé—´"><a href="#è®¤è¯†TypeScript-ç±»å‹æ¥å£å’Œå‘½åç©ºé—´" class="headerlink" title="è®¤è¯†TypeScript-ç±»å‹æ¥å£å’Œå‘½åç©ºé—´"></a>è®¤è¯†TypeScript-ç±»å‹æ¥å£å’Œå‘½åç©ºé—´</h2><p>TypeScriptçš„æ ¸å¿ƒåŸåˆ™ä¹‹ä¸€æ˜¯å¯¹æ•°æ®çš„ç»“æ„è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚ å®ƒæœ‰æ—¶è¢«ç§°åšâ€œé¸­å¼è¾¨å‹æ³•â€æˆ–â€œç»“æ„æ€§å­ç±»å‹åŒ–â€ã€‚ åœ¨TypeScripté‡Œï¼Œ<strong>æ¥å£</strong>çš„ä½œç”¨å°±æ˜¯ä¸ºè¿™äº›ç±»å‹å‘½åå’Œä¸ºä½ çš„ä»£ç æˆ–ç¬¬ä¸‰æ–¹ä»£ç å®šä¹‰<strong>å¥‘çº¦</strong>ã€‚</p>
<h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><hr>
<h4 id="æ¥å£åˆæ¢"><a href="#æ¥å£åˆæ¢" class="headerlink" title="æ¥å£åˆæ¢"></a>æ¥å£åˆæ¢</h4><p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªç®€å•ç¤ºä¾‹æ¥è§‚å¯Ÿæ¥å£æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š</p>
<pre><code>function printLabel(labelledObj: { label: string }) {
  console.log(labelledObj.label);
}
let myObj = { size: 10, label: "Size 10 Object" };
printLabel(myObj);</code></pre><p>ç±»å‹æ£€æŸ¥å™¨ä¼šæ£€æŸ¥<code>printLabel</code>çš„è°ƒç”¨ã€‚ <code>printLabel</code>æœ‰ä¸€ä¸ªå‚æ•°ï¼Œå¹¶è¦æ±‚è¿™ä¸ªå¯¹è±¡å‚æ•°æœ‰ä¸€ä¸ªåä¸º<code>label</code>ç±»å‹ä¸º<code>string</code>çš„å±æ€§ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬ä¼ å…¥çš„å¯¹è±¡å‚æ•°å®é™…ä¸Šä¼šåŒ…å«å¾ˆå¤šå±æ€§ï¼Œä½†æ˜¯ç¼–è¯‘å™¨åªä¼šæ£€æŸ¥é‚£äº›å¿…éœ€çš„å±æ€§æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”å…¶ç±»å‹æ˜¯å¦åŒ¹é…ã€‚ ç„¶è€Œï¼Œæœ‰äº›æ—¶å€™TypeScriptå´å¹¶ä¸ä¼šè¿™ä¹ˆå®½æ¾ï¼Œæˆ‘ä»¬ä¸‹é¢ä¼šç¨åšè®²è§£ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬é‡å†™ä¸Šé¢çš„ä¾‹å­ï¼Œè¿™æ¬¡ä½¿ç”¨æ¥å£æ¥æè¿°ï¼šå¿…é¡»åŒ…å«ä¸€ä¸ª<code>label</code>å±æ€§ä¸”ç±»å‹ä¸º<code>string</code>ï¼š</p>
<pre><code>interface LabelledValue {
  label: string;
}
function printLabel(labelledObj: LabelledValue) {
  console.log(labelledObj.label);
}
let myObj = {size: 10, label: "Size 10 Object"};
printLabel(myObj);</code></pre><p><code>LabelledValue</code>æ¥å£å°±å¥½æ¯”ä¸€ä¸ªåå­—ï¼Œç”¨æ¥æè¿°ä¸Šé¢ä¾‹å­é‡Œçš„è¦æ±‚ã€‚ å®ƒä»£è¡¨äº†æœ‰ä¸€ä¸ª <code>label</code>å±æ€§ä¸”ç±»å‹ä¸º<code>string</code>çš„å¯¹è±¡ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå¹¶ä¸èƒ½åƒåœ¨å…¶å®ƒè¯­è¨€é‡Œä¸€æ ·ï¼Œè¯´ä¼ ç»™ <code>printLabel</code>çš„å¯¹è±¡å®ç°äº†è¿™ä¸ªæ¥å£ã€‚æˆ‘ä»¬åªä¼šå»å…³æ³¨å€¼çš„å¤–å½¢ã€‚ åªè¦ä¼ å…¥çš„å¯¹è±¡æ»¡è¶³ä¸Šé¢æåˆ°çš„å¿…è¦æ¡ä»¶ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯è¢«å…è®¸çš„ã€‚</p>
<p>è¿˜æœ‰ä¸€ç‚¹å€¼å¾—æçš„æ˜¯ï¼Œç±»å‹æ£€æŸ¥å™¨ä¸ä¼šå»æ£€æŸ¥å±æ€§çš„é¡ºåºï¼Œåªè¦ç›¸åº”çš„å±æ€§å­˜åœ¨å¹¶ä¸”ç±»å‹ä¹Ÿæ˜¯å¯¹çš„å°±å¯ä»¥ã€‚</p>
<h4 id="å¯é€‰å±æ€§"><a href="#å¯é€‰å±æ€§" class="headerlink" title="å¯é€‰å±æ€§"></a>å¯é€‰å±æ€§</h4><p>æ¥å£é‡Œçš„å±æ€§ä¸å…¨éƒ½æ˜¯å¿…éœ€çš„ã€‚ æœ‰äº›æ˜¯åªåœ¨æŸäº›æ¡ä»¶ä¸‹å­˜åœ¨ï¼Œæˆ–è€…æ ¹æœ¬ä¸å­˜åœ¨ã€‚ å¯é€‰å±æ€§åœ¨åº”ç”¨â€œoption bagsâ€æ¨¡å¼æ—¶å¾ˆå¸¸ç”¨ï¼Œå³ç»™å‡½æ•°ä¼ å…¥çš„å‚æ•°å¯¹è±¡ä¸­åªæœ‰éƒ¨åˆ†å±æ€§èµ‹å€¼äº†ã€‚</p>
<p>ä¸‹é¢æ˜¯åº”ç”¨äº†â€œoption bagsâ€çš„ä¾‹å­ï¼š</p>
<pre><code>interface SquareConfig {
  color?: string;
  width?: number;
}
function createSquare(config: SquareConfig): {color: string; area: number} {
  let newSquare = {color: "white", area: 100};
  if (config.color) {
    newSquare.color = config.color;
  }
  if (config.width) {
    newSquare.area = config.width * config.width;
  }
  return newSquare;
}
let mySquare = createSquare({color: "black"});</code></pre><p>å¸¦æœ‰å¯é€‰å±æ€§çš„æ¥å£ä¸æ™®é€šçš„æ¥å£å®šä¹‰å·®ä¸å¤šï¼Œåªæ˜¯åœ¨å¯é€‰å±æ€§åå­—å®šä¹‰çš„åé¢åŠ ä¸€ä¸ª<code>?</code>ç¬¦å·ã€‚</p>
<p>å¯é€‰å±æ€§çš„å¥½å¤„ä¹‹ä¸€æ˜¯å¯ä»¥å¯¹å¯èƒ½å­˜åœ¨çš„å±æ€§è¿›è¡Œé¢„å®šä¹‰ï¼Œå¥½å¤„ä¹‹äºŒæ˜¯å¯ä»¥æ•è·å¼•ç”¨äº†ä¸å­˜åœ¨çš„å±æ€§æ—¶çš„é”™è¯¯ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬æ•…æ„å°† createSquareé‡Œçš„colorå±æ€§åæ‹¼é”™ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯æç¤ºï¼š</p>
<pre><code>interface SquareConfig {
  color?: string;
  width?: number;
}
function createSquare(config: SquareConfig): { color: string; area: number } {
  let newSquare = {color: "white", area: 100};
  if (config.clor) {
    // Error: Property 'clor' does not exist on type 'SquareConfig'
    newSquare.color = config.clor;
  }
  if (config.width) {
    newSquare.area = config.width * config.width;
  }
  return newSquare;
}
let mySquare = createSquare({color: "black"});</code></pre><h4 id="åªè¯»å±æ€§"><a href="#åªè¯»å±æ€§" class="headerlink" title="åªè¯»å±æ€§"></a>åªè¯»å±æ€§</h4><p>ä¸€äº›å¯¹è±¡å±æ€§åªèƒ½åœ¨å¯¹è±¡åˆšåˆšåˆ›å»ºçš„æ—¶å€™ä¿®æ”¹å…¶å€¼ã€‚ ä½ å¯ä»¥åœ¨å±æ€§åå‰ç”¨ readonlyæ¥æŒ‡å®šåªè¯»å±æ€§:</p>
<pre><code>interface Point {
    readonly x: number;
    readonly y: number;
}</code></pre><p>ä½ å¯ä»¥é€šè¿‡èµ‹å€¼ä¸€ä¸ªå¯¹è±¡å­—é¢é‡æ¥æ„é€ ä¸€ä¸ªPointã€‚ èµ‹å€¼åï¼Œ xå’Œyå†ä¹Ÿä¸èƒ½è¢«æ”¹å˜äº†ã€‚</p>
<pre><code>let p1: Point = { x: 10, y: 20 };
p1.x = 5; // error!</code></pre><p>TypeScriptå…·æœ‰<code>ReadonlyArray&lt;T&gt;</code>ç±»å‹ï¼Œå®ƒä¸<code>Array&lt;T&gt;</code>ç›¸ä¼¼ï¼Œåªæ˜¯æŠŠæ‰€æœ‰å¯å˜æ–¹æ³•å»æ‰äº†ï¼Œå› æ­¤å¯ä»¥ç¡®ä¿æ•°ç»„åˆ›å»ºåå†ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ï¼š</p>
<pre><code>let a: number[] = [1, 2, 3, 4];
let ro: ReadonlyArray&lt;number&gt; = a;
ro[0] = 12; // error!
ro.push(5); // error!
ro.length = 100; // error!
a = ro; // error!</code></pre><p>ä¸Šé¢ä»£ç çš„æœ€åä¸€è¡Œï¼Œå¯ä»¥çœ‹åˆ°å°±ç®—æŠŠæ•´ä¸ªReadonlyArrayèµ‹å€¼åˆ°ä¸€ä¸ªæ™®é€šæ•°ç»„ä¹Ÿæ˜¯ä¸å¯ä»¥çš„ã€‚ ä½†æ˜¯ä½ å¯ä»¥ç”¨ç±»å‹æ–­è¨€é‡å†™ï¼š</p>
<pre><code>a = ro as number[];</code></pre><p><strong>readonly vs const</strong></p>
<p>æœ€ç®€å•åˆ¤æ–­è¯¥ç”¨<strong>readonly</strong>è¿˜æ˜¯<strong>const</strong>çš„æ–¹æ³•æ˜¯çœ‹è¦æŠŠå®ƒåšä¸ºå˜é‡ä½¿ç”¨è¿˜æ˜¯åšä¸ºä¸€ä¸ªå±æ€§ã€‚ åšä¸ºå˜é‡ä½¿ç”¨çš„è¯ç”¨ constï¼Œè‹¥åšä¸ºå±æ€§åˆ™ä½¿ç”¨readonlyã€‚</p>
<h4 id="é¢å¤–çš„å±æ€§æ£€æŸ¥"><a href="#é¢å¤–çš„å±æ€§æ£€æŸ¥" class="headerlink" title="é¢å¤–çš„å±æ€§æ£€æŸ¥"></a>é¢å¤–çš„å±æ€§æ£€æŸ¥</h4><p>æˆ‘ä»¬åœ¨ç¬¬ä¸€ä¸ªä¾‹å­é‡Œä½¿ç”¨äº†æ¥å£ï¼ŒTypeScriptè®©æˆ‘ä»¬ä¼ å…¥<code>{ size: number; label: string; }</code>åˆ°ä»…æœŸæœ›å¾—åˆ°<code>{ label: string; }</code>çš„å‡½æ•°é‡Œã€‚ æˆ‘ä»¬å·²ç»å­¦è¿‡äº†å¯é€‰å±æ€§ï¼Œå¹¶ä¸”çŸ¥é“ä»–ä»¬åœ¨â€œoption bagsâ€æ¨¡å¼é‡Œå¾ˆæœ‰ç”¨ã€‚</p>
<p>ç„¶è€Œï¼Œå¤©çœŸåœ°å°†è¿™ä¸¤è€…ç»“åˆçš„è¯å°±ä¼šåƒåœ¨JavaScripté‡Œé‚£æ ·æ¬èµ·çŸ³å¤´ç ¸è‡ªå·±çš„è„šã€‚ æ¯”å¦‚ï¼Œæ‹¿<code>createSquare</code>ä¾‹å­æ¥è¯´ï¼š</p>
<pre><code>interface SquareConfig {
    color?: string;
    width?: number;
}
function createSquare(config: SquareConfig): { color: string; area: number } {
    // ...
}
let mySquare = createSquare({ colour: "red", width: 100 });</code></pre><p>æ³¨æ„ä¼ å…¥<code>createSquare</code>çš„å‚æ•°æ‹¼å†™ä¸º<code>colour</code>è€Œä¸æ˜¯<code>color</code>ã€‚ åœ¨JavaScripté‡Œï¼Œè¿™ä¼šå¯¼è‡´é™é»˜å¤±è´¥ã€‚</p>
<p>ä½ å¯èƒ½ä¼šäº‰è¾©è¿™ä¸ªç¨‹åºå·²ç»æ­£ç¡®åœ°ç±»å‹åŒ–äº†ï¼Œå› ä¸ºwidthå±æ€§æ˜¯å…¼å®¹çš„ï¼Œä¸å­˜åœ¨<code>color</code>å±æ€§ï¼Œè€Œä¸”é¢å¤–çš„<code>colour</code>å±æ€§æ˜¯æ— æ„ä¹‰çš„ã€‚</p>
<p>ç„¶è€Œï¼ŒTypeScriptä¼šè®¤ä¸ºè¿™æ®µä»£ç å¯èƒ½å­˜åœ¨bugã€‚ å¯¹è±¡å­—é¢é‡ä¼šè¢«ç‰¹æ®Šå¯¹å¾…è€Œä¸”ä¼šç»è¿‡ é¢å¤–å±æ€§æ£€æŸ¥ï¼Œå½“å°†å®ƒä»¬èµ‹å€¼ç»™å˜é‡æˆ–ä½œä¸ºå‚æ•°ä¼ é€’çš„æ—¶å€™ã€‚ å¦‚æœä¸€ä¸ªå¯¹è±¡å­—é¢é‡å­˜åœ¨ä»»ä½•â€œç›®æ ‡ç±»å‹â€ä¸åŒ…å«çš„å±æ€§æ—¶ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚</p>
<pre><code>// error: 'colour' not expected in type 'SquareConfig'
let mySquare = createSquare({ colour: "red", width: 100 });</code></pre><p>ç»•å¼€è¿™äº›æ£€æŸ¥éå¸¸ç®€å•ã€‚ æœ€ç®€ä¾¿çš„æ–¹æ³•æ˜¯ä½¿ç”¨ç±»å‹æ–­è¨€ï¼š</p>
<pre><code>let mySquare = createSquare({ width: 100, opacity: 0.5 } as SquareConfig);</code></pre><p>ç„¶è€Œï¼Œæœ€ä½³çš„æ–¹å¼æ˜¯èƒ½å¤Ÿæ·»åŠ ä¸€ä¸ªå­—ç¬¦ä¸²ç´¢å¼•ç­¾åï¼Œå‰ææ˜¯ä½ èƒ½å¤Ÿç¡®å®šè¿™ä¸ªå¯¹è±¡å¯èƒ½å…·æœ‰æŸäº›åšä¸ºç‰¹æ®Šç”¨é€”ä½¿ç”¨çš„é¢å¤–å±æ€§ã€‚ å¦‚æœ <code>SquareConfig</code>å¸¦æœ‰ä¸Šé¢å®šä¹‰çš„ç±»å‹çš„<code>color</code>å’Œ<code>width</code>å±æ€§ï¼Œå¹¶ä¸”è¿˜ä¼šå¸¦æœ‰ä»»æ„æ•°é‡çš„å…¶å®ƒå±æ€§ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·å®šä¹‰å®ƒï¼š</p>
<pre><code>interface SquareConfig {
    color?: string;
    width?: number;
    [propName: string]: any;
}</code></pre><p>æˆ‘ä»¬ç¨åä¼šè®²åˆ°ç´¢å¼•ç­¾åï¼Œä½†åœ¨è¿™æˆ‘ä»¬è¦è¡¨ç¤ºçš„æ˜¯<code>SquareConfig</code>å¯ä»¥æœ‰ä»»æ„æ•°é‡çš„å±æ€§ï¼Œå¹¶ä¸”åªè¦å®ƒä»¬ä¸æ˜¯<code>color</code>å’Œ<code>width</code>ï¼Œé‚£ä¹ˆå°±æ— æ‰€è°“å®ƒä»¬çš„ç±»å‹æ˜¯ä»€ä¹ˆã€‚</p>
<p>è¿˜æœ‰æœ€åä¸€ç§è·³è¿‡è¿™äº›æ£€æŸ¥çš„æ–¹å¼ï¼Œè¿™å¯èƒ½ä¼šè®©ä½ æ„Ÿåˆ°æƒŠè®¶ï¼Œå®ƒå°±æ˜¯å°†è¿™ä¸ªå¯¹è±¡èµ‹å€¼ç»™ä¸€ä¸ªå¦ä¸€ä¸ªå˜é‡ï¼š å› ä¸º <code>squareOptions</code>ä¸ä¼šç»è¿‡é¢å¤–å±æ€§æ£€æŸ¥ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨ä¸ä¼šæŠ¥é”™ã€‚</p>
<pre><code>let squareOptions = { colour: "red", width: 100 };
let mySquare = createSquare(squareOptions);</code></pre><p>è¦ç•™æ„ï¼Œåœ¨åƒä¸Šé¢ä¸€æ ·çš„ç®€å•ä»£ç é‡Œï¼Œä½ å¯èƒ½ä¸åº”è¯¥å»ç»•å¼€è¿™äº›æ£€æŸ¥ã€‚ å¯¹äºåŒ…å«æ–¹æ³•å’Œå†…éƒ¨çŠ¶æ€çš„å¤æ‚å¯¹è±¡å­—é¢é‡æ¥è®²ï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨è¿™äº›æŠ€å·§ï¼Œä½†æ˜¯å¤§éƒ¨é¢å¤–å±æ€§æ£€æŸ¥é”™è¯¯æ˜¯çœŸæ­£çš„bugã€‚ å°±æ˜¯è¯´ä½ é‡åˆ°äº†é¢å¤–ç±»å‹æ£€æŸ¥å‡ºçš„é”™è¯¯ï¼Œæ¯”å¦‚â€œoption bagsâ€ï¼Œä½ åº”è¯¥å»å®¡æŸ¥ä¸€ä¸‹ä½ çš„ç±»å‹å£°æ˜ã€‚ åœ¨è¿™é‡Œï¼Œå¦‚æœæ”¯æŒä¼ å…¥ <code>color</code>æˆ–<code>colour</code>å±æ€§åˆ°<code>createSquare</code>ï¼Œä½ åº”è¯¥ä¿®æ”¹<code>SquareConfig</code>å®šä¹‰æ¥ä½“ç°å‡ºè¿™ä¸€ç‚¹ã€‚</p>
<h4 id="å‡½æ•°ç±»å‹"><a href="#å‡½æ•°ç±»å‹" class="headerlink" title="å‡½æ•°ç±»å‹"></a>å‡½æ•°ç±»å‹</h4><p>æ¥å£èƒ½å¤Ÿæè¿°JavaScriptä¸­å¯¹è±¡æ‹¥æœ‰çš„å„ç§å„æ ·çš„å¤–å½¢ã€‚ é™¤äº†æè¿°å¸¦æœ‰å±æ€§çš„æ™®é€šå¯¹è±¡å¤–ï¼Œæ¥å£ä¹Ÿå¯ä»¥æè¿°å‡½æ•°ç±»å‹ã€‚</p>
<p>ä¸ºäº†ä½¿ç”¨æ¥å£è¡¨ç¤ºå‡½æ•°ç±»å‹ï¼Œæˆ‘ä»¬éœ€è¦ç»™æ¥å£å®šä¹‰ä¸€ä¸ªè°ƒç”¨ç­¾åã€‚ å®ƒå°±åƒæ˜¯ä¸€ä¸ªåªæœ‰å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹çš„å‡½æ•°å®šä¹‰ã€‚å‚æ•°åˆ—è¡¨é‡Œçš„æ¯ä¸ªå‚æ•°éƒ½éœ€è¦åå­—å’Œç±»å‹ã€‚</p>
<pre><code>interface SearchFunc {
  (source: string, subString: string): boolean;
}</code></pre><p>è¿™æ ·å®šä¹‰åï¼Œæˆ‘ä»¬å¯ä»¥åƒä½¿ç”¨å…¶å®ƒæ¥å£ä¸€æ ·ä½¿ç”¨è¿™ä¸ªå‡½æ•°ç±»å‹çš„æ¥å£ã€‚ä¸‹ä¾‹å±•ç¤ºäº†å¦‚ä½•åˆ›å»ºä¸€ä¸ªå‡½æ•°ç±»å‹çš„å˜é‡ï¼Œå¹¶å°†ä¸€ä¸ªåŒç±»å‹çš„å‡½æ•°èµ‹å€¼ç»™è¿™ä¸ªå˜é‡ã€‚</p>
<pre><code>let mySearch: SearchFunc;
mySearch = function(source: string, subString: string) {
  let result = source.search(subString);
  return result &gt; -1;
}</code></pre><p>å¯¹äºå‡½æ•°ç±»å‹çš„ç±»å‹æ£€æŸ¥æ¥è¯´ï¼Œå‡½æ•°çš„å‚æ•°åä¸éœ€è¦ä¸æ¥å£é‡Œå®šä¹‰çš„åå­—ç›¸åŒ¹é…ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„ä»£ç é‡å†™ä¸Šé¢çš„ä¾‹å­ï¼š</p>
<pre><code>let mySearch: SearchFunc;
mySearch = function(src: string, sub: string): boolean {
  let result = src.search(sub);
  return result &gt; -1;
}</code></pre><p>å‡½æ•°çš„å‚æ•°ä¼š<strong>é€ä¸ªè¿›è¡Œæ£€æŸ¥</strong>ï¼Œè¦æ±‚<strong>å¯¹åº”ä½ç½®ä¸Šçš„å‚æ•°ç±»å‹æ˜¯å…¼å®¹çš„</strong>ã€‚ å¦‚æœä½ ä¸æƒ³æŒ‡å®šç±»å‹ï¼ŒTypeScriptçš„ç±»å‹ç³»ç»Ÿä¼šæ¨æ–­å‡ºå‚æ•°ç±»å‹ï¼Œå› ä¸ºå‡½æ•°ç›´æ¥èµ‹å€¼ç»™äº† <code>SearchFunc</code>ç±»å‹å˜é‡ã€‚ å‡½æ•°çš„è¿”å›å€¼ç±»å‹æ˜¯é€šè¿‡å…¶è¿”å›å€¼æ¨æ–­å‡ºæ¥çš„ï¼ˆæ­¤ä¾‹æ˜¯ falseå’Œtrueï¼‰ã€‚ å¦‚æœè®©è¿™ä¸ªå‡½æ•°è¿”å›æ•°å­—æˆ–å­—ç¬¦ä¸²ï¼Œç±»å‹æ£€æŸ¥å™¨ä¼šè­¦å‘Šæˆ‘ä»¬å‡½æ•°çš„è¿”å›å€¼ç±»å‹ä¸ <code>SearchFunc</code>æ¥å£ä¸­çš„å®šä¹‰ä¸åŒ¹é…ã€‚</p>
<pre><code>let mySearch: SearchFunc;
mySearch = function(src, sub) {
    let result = src.search(sub);
    return result &gt; -1;
}</code></pre><h4 id="å¯ç´¢å¼•çš„ç±»å‹"><a href="#å¯ç´¢å¼•çš„ç±»å‹" class="headerlink" title="å¯ç´¢å¼•çš„ç±»å‹"></a>å¯ç´¢å¼•çš„ç±»å‹</h4><p>ä¸ä½¿ç”¨æ¥å£æè¿°å‡½æ•°ç±»å‹å·®ä¸å¤šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æè¿°é‚£äº›èƒ½å¤Ÿâ€œé€šè¿‡ç´¢å¼•å¾—åˆ°â€çš„ç±»å‹ï¼Œæ¯”å¦‚<code>a[10]</code>æˆ–<code>ageMap["daniel"]</code>ã€‚ å¯ç´¢å¼•ç±»å‹å…·æœ‰ä¸€ä¸ª <em>ç´¢å¼•ç­¾å</em>ï¼Œå®ƒæè¿°äº†å¯¹è±¡ç´¢å¼•çš„ç±»å‹ï¼Œè¿˜æœ‰ç›¸åº”çš„ç´¢å¼•è¿”å›å€¼ç±»å‹ã€‚ è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code>interface StringArray {
  [index: number]: string;
}
let myArray: StringArray;
myArray = ["Bob", "Fred"];
let myStr: string = myArray[0];</code></pre><p>ä¸Šé¢ä¾‹å­é‡Œï¼Œæˆ‘ä»¬å®šä¹‰äº†<code>StringArray</code>æ¥å£ï¼Œå®ƒå…·æœ‰ç´¢å¼•ç­¾åã€‚ è¿™ä¸ªç´¢å¼•ç­¾åè¡¨ç¤ºäº†å½“ç”¨ <code>number</code>å»ç´¢å¼•<code>StringArray</code>æ—¶ä¼šå¾—åˆ°<code>string</code>ç±»å‹çš„è¿”å›å€¼ã€‚</p>
<p>TypeScriptæ”¯æŒä¸¤ç§ç´¢å¼•ç­¾åï¼šå­—ç¬¦ä¸²å’Œæ•°å­—ã€‚ å¯ä»¥åŒæ—¶ä½¿ç”¨ä¸¤ç§ç±»å‹çš„ç´¢å¼•ï¼Œä½†æ˜¯æ•°å­—ç´¢å¼•çš„è¿”å›å€¼å¿…é¡»æ˜¯å­—ç¬¦ä¸²ç´¢å¼•è¿”å›å€¼ç±»å‹çš„å­ç±»å‹ã€‚ è¿™æ˜¯å› ä¸ºå½“ä½¿ç”¨ <code>number</code>æ¥ç´¢å¼•æ—¶ï¼ŒJavaScriptä¼šå°†å®ƒè½¬æ¢æˆ<code>string</code>ç„¶åå†å»ç´¢å¼•å¯¹è±¡ã€‚ ä¹Ÿå°±æ˜¯è¯´ç”¨ 100ï¼ˆä¸€ä¸ª<code>number</code>ï¼‰å»ç´¢å¼•ç­‰åŒäºä½¿ç”¨â€100â€ï¼ˆä¸€ä¸ª<code>string</code>ï¼‰å»ç´¢å¼•ï¼Œå› æ­¤ä¸¤è€…éœ€è¦ä¿æŒä¸€è‡´ã€‚</p>
<pre><code>class Animal {
    name: string;
}
class Dog extends Animal {
    breed: string;
}
// é”™è¯¯ï¼šä½¿ç”¨æ•°å€¼å‹çš„å­—ç¬¦ä¸²ç´¢å¼•ï¼Œæœ‰æ—¶ä¼šå¾—åˆ°å®Œå…¨ä¸åŒçš„Animal!
interface NotOkay {
    [x: number]: Animal;
    [x: string]: Dog;
}</code></pre><p>å­—ç¬¦ä¸²ç´¢å¼•ç­¾åèƒ½å¤Ÿå¾ˆå¥½çš„æè¿°dictionaryæ¨¡å¼ï¼Œå¹¶ä¸”å®ƒä»¬ä¹Ÿä¼šç¡®ä¿æ‰€æœ‰å±æ€§ä¸å…¶è¿”å›å€¼ç±»å‹ç›¸åŒ¹é…ã€‚ å› ä¸ºå­—ç¬¦ä¸²ç´¢å¼•å£°æ˜äº† <code>obj.property</code>å’Œ<code>obj["property"]</code>ä¸¤ç§å½¢å¼éƒ½å¯ä»¥ã€‚ ä¸‹é¢çš„ä¾‹å­é‡Œï¼Œ nameçš„ç±»å‹ä¸å­—ç¬¦ä¸²ç´¢å¼•ç±»å‹ä¸åŒ¹é…ï¼Œæ‰€ä»¥ç±»å‹æ£€æŸ¥å™¨ç»™å‡ºä¸€ä¸ªé”™è¯¯æç¤ºï¼š</p>
<pre><code>interface NumberDictionary {
  [index: string]: number;
  length: number;    // å¯ä»¥ï¼Œlengthæ˜¯numberç±»å‹
  name: string       // é”™è¯¯ï¼Œ`name`çš„ç±»å‹ä¸ç´¢å¼•ç±»å‹è¿”å›å€¼çš„ç±»å‹ä¸åŒ¹é…
}</code></pre><p>æœ€åï¼Œä½ å¯ä»¥å°†ç´¢å¼•ç­¾åè®¾ç½®ä¸ºåªè¯»ï¼Œè¿™æ ·å°±é˜²æ­¢äº†ç»™ç´¢å¼•èµ‹å€¼ï¼š</p>
<pre><code>interface ReadonlyStringArray {
    readonly [index: number]: string;
}
let myArray: ReadonlyStringArray = ["Alice", "Bob"];
myArray[2] = "Mallory"; // error!</code></pre><p>ä½ ä¸èƒ½è®¾ç½®<code>myArray[2]</code>ï¼Œå› ä¸ºç´¢å¼•ç­¾åæ˜¯åªè¯»çš„ã€‚</p>
<h4 id="ç±»ç±»å‹"><a href="#ç±»ç±»å‹" class="headerlink" title="ç±»ç±»å‹"></a>ç±»ç±»å‹</h4><p>ä¸C#æˆ–Javaé‡Œæ¥å£çš„åŸºæœ¬ä½œç”¨ä¸€æ ·ï¼ŒTypeScriptä¹Ÿèƒ½å¤Ÿç”¨å®ƒæ¥æ˜ç¡®æˆ–å¼ºåˆ¶ä¸€ä¸ªç±»å»ç¬¦åˆæŸç§å¥‘çº¦ã€‚</p>
<pre><code>interface ClockInterface {
    currentTime: Date;
}
class Clock implements ClockInterface {
    currentTime: Date;
    constructor(h: number, m: number) { }
}</code></pre><p>ä½ ä¹Ÿå¯ä»¥åœ¨æ¥å£ä¸­æè¿°ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨ç±»é‡Œå®ç°å®ƒï¼Œå¦‚åŒä¸‹é¢çš„<code>setTime</code>æ–¹æ³•ä¸€æ ·ï¼š</p>
<pre><code>interface ClockInterface {
    currentTime: Date;
    setTime(d: Date);
}
class Clock implements ClockInterface {
    currentTime: Date;
    setTime(d: Date) {
        this.currentTime = d;
    }
    constructor(h: number, m: number) { }
}</code></pre><p>æ¥å£æè¿°äº†ç±»çš„å…¬å…±éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯å…¬å…±å’Œç§æœ‰ä¸¤éƒ¨åˆ†ã€‚ å®ƒä¸ä¼šå¸®ä½ æ£€æŸ¥ç±»æ˜¯å¦å…·æœ‰æŸäº›ç§æœ‰æˆå‘˜ã€‚</p>
<h4 id="ç±»çš„é™æ€éƒ¨åˆ†å’Œå®ä¾‹éƒ¨åˆ†"><a href="#ç±»çš„é™æ€éƒ¨åˆ†å’Œå®ä¾‹éƒ¨åˆ†" class="headerlink" title="ç±»çš„é™æ€éƒ¨åˆ†å’Œå®ä¾‹éƒ¨åˆ†"></a>ç±»çš„é™æ€éƒ¨åˆ†å’Œå®ä¾‹éƒ¨åˆ†</h4><p>å½“ä½ åœ¨ç±»ä¸Šé¢ä½¿ç”¨æ¥å£æ—¶ï¼Œä½ éœ€è¦æ³¨æ„ä¸€ä¸ª<strong>ç±»</strong>æ˜¯ç”±ä¸¤éƒ¨åˆ†æ„æˆçš„ï¼šç±»çš„é™æ€éƒ¨åˆ†å’Œå®ä¾‹éƒ¨åˆ†ã€‚å¦‚æœä½ çš„æ¥å£ä¸Šé¢å£°æ˜äº†æ„é€ å™¨ç­¾åï¼Œç„¶åå°†è¿™ä¸ªæ¥å£åº”ç”¨åœ¨ç±»ä¸Šï¼Œä½ ä¼šçœ‹åˆ°æŠ¥é”™ï¼š</p>
<pre><code>interface ClockConstructor {
    new (hour: number, minute: number);
}
class Clock implements ClockConstructor {
    currentTime: Date;
    constructor(h: number, m: number) { }
}</code></pre><p>è¿™æ˜¯å› ä¸ºä¸€ä¸ªç±»å®ç°æŸä¸ªæ¥å£æ—¶ï¼Œæ¥å£åªæ£€æŸ¥<strong>ç±»</strong>çš„å®ä¾‹éƒ¨åˆ†ï¼Œè€Œ<code>constructor</code>æ„é€ å™¨æ–¹æ³•æ˜¯ç±»çš„é™æ€éƒ¨åˆ†ï¼Œå› æ­¤å®ƒä¸åŒ…å«åœ¨ç±»å‹æ£€æŸ¥ä¹‹å†…ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å…¶å®åªè¦ç›´æ¥æ“ä½œç±»çš„é™æ€éƒ¨åˆ†å°±å¯ä»¥äº†ã€‚åœ¨ä¸‹è¿°ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰2ä¸ªæ¥å£ï¼Œä¸€ä¸ª<code>ClockConstructor</code>ç»™æ„é€ å™¨ä½¿ç”¨ï¼Œä¸€ä¸ª<code>ClockInterface</code>ä¾›å®ä¾‹æ–¹æ³•ä½¿ç”¨ã€‚æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬å†å®šä¹‰ä¸€ä¸ªæ„é€ å™¨å‡½æ•°<code>createClock</code>ï¼š</p>
<pre><code>interface ClockConstructor {
    new (hour: number, minute: number): ClockInterface;
}
interface ClockInterface {
    tick(): void;
}
function createClock(ctor: ClockConstructor, hour: number, minute: number): ClockInterface {
    return new ctor(hour, minute);
}
class DigitalClock implements ClockInterface {
    constructor(h: number, m: number) { }
    tick() {
        console.log("beep beep");
    }
}
class AnalogClock implements ClockInterface {
    constructor(h: number, m: number) { }
    tick() {
        console.log("tick tock");
    }
}</code></pre><p>å› ä¸º<code>createClock</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>ClockConstructor</code>ç±»å‹ï¼Œåœ¨<code>createClock(AnalogClock, 7, 32)</code>é‡Œï¼Œä¼šæ£€æŸ¥<code>AnalogClock</code>æ˜¯å¦ç¬¦åˆæ„é€ å‡½æ•°ç­¾åã€‚</p>
<h4 id="æ¥å£ç»§æ‰¿"><a href="#æ¥å£ç»§æ‰¿" class="headerlink" title="æ¥å£ç»§æ‰¿"></a>æ¥å£ç»§æ‰¿</h4><p>å’Œç±»ä¸€æ ·ï¼Œæ¥å£ä¹Ÿå¯ä»¥ç›¸äº’ç»§æ‰¿ã€‚ è¿™è®©æˆ‘ä»¬èƒ½å¤Ÿä»ä¸€ä¸ªæ¥å£é‡Œå¤åˆ¶æˆå‘˜åˆ°å¦ä¸€ä¸ªæ¥å£é‡Œï¼Œå¯ä»¥æ›´çµæ´»åœ°å°†æ¥å£åˆ†å‰²åˆ°å¯é‡ç”¨çš„æ¨¡å—é‡Œã€‚</p>
<pre><code>interface Shape {
    color: string;
}
interface Square extends Shape {
    sideLength: number;
}
let square = &lt;Square&gt;{};
square.color = "blue";
square.sideLength = 10;</code></pre><p>ä¸€ä¸ªæ¥å£å¯ä»¥ç»§æ‰¿å¤šä¸ªæ¥å£ï¼Œåˆ›å»ºå‡ºå¤šä¸ªæ¥å£çš„åˆæˆæ¥å£ã€‚</p>
<pre><code>interface Shape {
    color: string;
}
interface PenStroke {
    penWidth: number;
}
interface Square extends Shape, PenStroke {
    sideLength: number;
}
let square = &lt;Square&gt;{};
square.color = "blue";
square.sideLength = 10;
square.penWidth = 5.0;</code></pre><h4 id="æ··åˆç±»å‹"><a href="#æ··åˆç±»å‹" class="headerlink" title="æ··åˆç±»å‹"></a>æ··åˆç±»å‹</h4><p>å…ˆå‰æˆ‘ä»¬æè¿‡ï¼Œæ¥å£èƒ½å¤Ÿæè¿°JavaScripté‡Œä¸°å¯Œçš„ç±»å‹ã€‚ å› ä¸ºJavaScriptå…¶åŠ¨æ€çµæ´»çš„ç‰¹ç‚¹ï¼Œæœ‰æ—¶ä½ ä¼šå¸Œæœ›ä¸€ä¸ªå¯¹è±¡å¯ä»¥åŒæ—¶å…·æœ‰ä¸Šé¢æåˆ°çš„å¤šç§ç±»å‹ã€‚</p>
<p>ä¸€ä¸ªä¾‹å­å°±æ˜¯ï¼Œä¸€ä¸ªå¯¹è±¡å¯ä»¥åŒæ—¶åšä¸ºå‡½æ•°å’Œå¯¹è±¡ä½¿ç”¨ï¼Œå¹¶å¸¦æœ‰é¢å¤–çš„å±æ€§ã€‚</p>
<pre><code>interface Counter {
    (start: number): string;
    interval: number;
    reset(): void;
}
function getCounter(): Counter {
    let counter = &lt;Counter&gt;function (start: number) { };
    counter.interval = 123;
    counter.reset = function () { };
    return counter;
}
let c = getCounter();
c(10);
c.reset();
c.interval = 5.0;</code></pre><h3 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h3><hr>
<h4 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h4><p>æˆ‘ä»¬å…ˆæ¥å†™ä¸€æ®µç¨‹åºå¹¶å°†åœ¨æ•´ç¯‡æ–‡ç« ä¸­éƒ½ä½¿ç”¨è¿™ä¸ªä¾‹å­ã€‚ æˆ‘ä»¬å®šä¹‰å‡ ä¸ªç®€å•çš„å­—ç¬¦ä¸²éªŒè¯å™¨ï¼Œå‡è®¾ä½ ä¼šä½¿ç”¨å®ƒä»¬æ¥éªŒè¯è¡¨å•é‡Œçš„ç”¨æˆ·è¾“å…¥æˆ–éªŒè¯å¤–éƒ¨æ•°æ®ã€‚</p>
<p>æ‰€æœ‰çš„éªŒè¯å™¨éƒ½æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼š</p>
<pre><code>interface StringValidator {
    isAcceptable(s: string): boolean;
}
let lettersRegexp = /^[A-Za-z]+$/;
let numberRegexp = /^[0-9]+$/;
class LettersOnlyValidator implements StringValidator {
    isAcceptable(s: string) {
        return lettersRegexp.test(s);
    }
}
class ZipCodeValidator implements StringValidator {
    isAcceptable(s: string) {
        return s.length === 5 &amp;&amp; numberRegexp.test(s);
    }
}
// ä¸€ä¸ªä½¿ç”¨ä¾‹å­
let strings = ["Hello", "98052", "101"];
// å¯ä»¥ä½¿ç”¨çš„æ ¡éªŒå™¨
let validators: { [s: string]: StringValidator; } = {};
validators["ZIP code"] = new ZipCodeValidator();
validators["Letters only"] = new LettersOnlyValidator();
// æ¯ä¸ªstringsæ˜¯å¦éƒ½èƒ½æ‰¾åˆ°å¯¹åº”çš„æ ¡éªŒå™¨
for (let s of strings) {
    for (let name in validators) {
        let isMatch = validators[name].isAcceptable(s);
        console.log(`'${ s }' ${ isMatch ? "matches" : "does not match" } '${ name }'.`);
    }
}</code></pre><h4 id="å‘½åç©ºé—´-1"><a href="#å‘½åç©ºé—´-1" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h4><p>éšç€æ›´å¤šéªŒè¯å™¨çš„åŠ å…¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ‰‹æ®µæ¥ç»„ç»‡ä»£ç ï¼Œä»¥ä¾¿äºåœ¨è®°å½•å®ƒä»¬ç±»å‹çš„åŒæ—¶è¿˜ä¸ç”¨æ‹…å¿ƒä¸å…¶å®ƒå¯¹è±¡äº§ç”Ÿå‘½åå†²çªã€‚ å› æ­¤ï¼Œæˆ‘ä»¬æŠŠéªŒè¯å™¨åŒ…è£¹åˆ°ä¸€ä¸ªå‘½åç©ºé—´å†…ï¼Œè€Œä¸æ˜¯æŠŠå®ƒä»¬æ”¾åœ¨å…¨å±€å‘½åç©ºé—´ä¸‹ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­é‡Œï¼ŒæŠŠæ‰€æœ‰ä¸éªŒè¯å™¨ç›¸å…³çš„ç±»å‹éƒ½æ”¾åˆ°ä¸€ä¸ªå«åš<code>Validation</code>çš„å‘½åç©ºé—´é‡Œã€‚ å› ä¸ºæˆ‘ä»¬æƒ³è®©è¿™äº›æ¥å£å’Œç±»åœ¨å‘½åç©ºé—´ä¹‹å¤–ä¹Ÿæ˜¯å¯è®¿é—®çš„ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨<code>export</code>ã€‚ ç›¸åçš„ï¼Œå˜é‡ <code>lettersRegexp</code>å’Œ<code>numberRegexp</code>æ˜¯å®ç°çš„ç»†èŠ‚ï¼Œä¸éœ€è¦å¯¼å‡ºï¼Œå› æ­¤å®ƒä»¬åœ¨å‘½åç©ºé—´å¤–æ˜¯ä¸èƒ½è®¿é—®çš„ã€‚ åœ¨æ–‡ä»¶æœ«å°¾çš„æµ‹è¯•ä»£ç é‡Œï¼Œç”±äºæ˜¯åœ¨å‘½åç©ºé—´ä¹‹å¤–è®¿é—®ï¼Œå› æ­¤éœ€è¦é™å®šç±»å‹çš„åç§°ï¼Œæ¯”å¦‚ <code>Validation.LettersOnlyValidator</code>ã€‚</p>
<p>ä½¿ç”¨å‘½åç©ºé—´çš„éªŒè¯å™¨:</p>
<pre><code>namespace Validation {
    export interface StringValidator {
        isAcceptable(s: string): boolean;
    }
    const lettersRegexp = /^[A-Za-z]+$/;
    const numberRegexp = /^[0-9]+$/;
    export class LettersOnlyValidator implements StringValidator {
        isAcceptable(s: string) {
            return lettersRegexp.test(s);
        }
    }
    export class ZipCodeValidator implements StringValidator {
        isAcceptable(s: string) {
            return s.length === 5 &amp;&amp; numberRegexp.test(s);
        }
    }
}
// ä¸€ä¸ªä¾‹å­
let strings = ["Hello", "98052", "101"];
let validators: { [s: string]: Validation.StringValidator; } = {};
validators["ZIP code"] = new Validation.ZipCodeValidator();
validators["Letters only"] = new Validation.LettersOnlyValidator();
for (let s of strings) {
    for (let name in validators) {
        console.log(`"${ s }" - ${ validators[name].isAcceptable(s) ? "matches" : "does not match" } ${ name }`);
    }
}</code></pre><h4 id="åˆ†ç¦»æ–‡ä»¶"><a href="#åˆ†ç¦»æ–‡ä»¶" class="headerlink" title="åˆ†ç¦»æ–‡ä»¶"></a>åˆ†ç¦»æ–‡ä»¶</h4><p>å½“åº”ç”¨å˜å¾—è¶Šæ¥è¶Šå¤§æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†ä»£ç åˆ†ç¦»åˆ°ä¸åŒçš„æ–‡ä»¶ä¸­ä»¥ä¾¿äºç»´æŠ¤ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬æŠŠ<code>Validation</code>å‘½åç©ºé—´åˆ†å‰²æˆå¤šä¸ªæ–‡ä»¶ã€‚ å°½ç®¡æ˜¯ä¸åŒçš„æ–‡ä»¶ï¼Œå®ƒä»¬ä»æ˜¯åŒä¸€ä¸ªå‘½åç©ºé—´ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨çš„æ—¶å€™å°±å¦‚åŒå®ƒä»¬åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å®šä¹‰çš„ä¸€æ ·ã€‚ å› ä¸ºä¸åŒæ–‡ä»¶ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬åŠ å…¥äº†å¼•ç”¨æ ‡ç­¾æ¥å‘Šè¯‰ç¼–è¯‘å™¨æ–‡ä»¶ä¹‹é—´çš„å…³è”ã€‚ æˆ‘ä»¬çš„æµ‹è¯•ä»£ç ä¿æŒä¸å˜ã€‚</p>
<pre><code>Validation.ts

namespace Validation {
    export interface StringValidator {
        isAcceptable(s: string): boolean;
    }
}

LettersOnlyValidator.ts

/// &lt;reference path="Validation.ts" /&gt;
namespace Validation {
    const lettersRegexp = /^[A-Za-z]+$/;
    export class LettersOnlyValidator implements StringValidator {
        isAcceptable(s: string) {
            return lettersRegexp.test(s);
        }
    }
}

ZipCodeValidator.ts

/// &lt;reference path="Validation.ts" /&gt;
namespace Validation {
    const numberRegexp = /^[0-9]+$/;
    export class ZipCodeValidator implements StringValidator {
        isAcceptable(s: string) {
            return s.length === 5 &amp;&amp; numberRegexp.test(s);
        }
    }
}

Test.ts

/// &lt;reference path="Validation.ts" /&gt;
/// &lt;reference path="LettersOnlyValidator.ts" /&gt;
/// &lt;reference path="ZipCodeValidator.ts" /&gt;
// Some samples to try
let strings = ["Hello", "98052", "101"];
// Validators to use
let validators: { [s: string]: Validation.StringValidator; } = {};
validators["ZIP code"] = new Validation.ZipCodeValidator();
validators["Letters only"] = new Validation.LettersOnlyValidator();
// Show whether each string passed each validator
for (let s of strings) {
    for (let name in validators) {
        console.log(`"${ s }" - ${ validators[name].isAcceptable(s) ? "matches" : "does not match" } ${ name }`);
    }
}</code></pre><p>å½“æ¶‰åŠåˆ°å¤šæ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»ç¡®ä¿æ‰€æœ‰ç¼–è¯‘åçš„ä»£ç éƒ½è¢«åŠ è½½äº†ã€‚ æˆ‘ä»¬æœ‰ä¸¤ç§æ–¹å¼ã€‚</p>
<p>ç¬¬ä¸€ç§æ–¹å¼ï¼ŒæŠŠæ‰€æœ‰çš„è¾“å…¥æ–‡ä»¶ç¼–è¯‘ä¸ºä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨â€”outFileæ ‡è®°ï¼š</p>
<pre><code>tsc --outFile sample.js Test.ts</code></pre><p>ç¼–è¯‘å™¨ä¼šæ ¹æ®æºç é‡Œçš„å¼•ç”¨æ ‡ç­¾è‡ªåŠ¨åœ°å¯¹è¾“å‡ºè¿›è¡Œæ’åºã€‚ä½ ä¹Ÿå¯ä»¥å•ç‹¬åœ°æŒ‡å®šæ¯ä¸ªæ–‡ä»¶ã€‚</p>
<pre><code>tsc --outFile sample.js Validation.ts LettersOnlyValidator.ts ZipCodeValidator.ts Test.ts</code></pre><p>ç¬¬äºŒç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–è¯‘æ¯ä¸€ä¸ªæ–‡ä»¶ï¼ˆé»˜è®¤æ–¹å¼ï¼‰ï¼Œé‚£ä¹ˆæ¯ä¸ªæºæ–‡ä»¶éƒ½ä¼šå¯¹åº”ç”Ÿæˆä¸€ä¸ªJavaScriptæ–‡ä»¶ã€‚ ç„¶åï¼Œåœ¨é¡µé¢ä¸Šé€šè¿‡ <code>&lt;script&gt;</code>æ ‡ç­¾æŠŠæ‰€æœ‰ç”Ÿæˆçš„JavaScriptæ–‡ä»¶æŒ‰æ­£ç¡®çš„é¡ºåºå¼•è¿›æ¥ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code>&lt;script src="Validation.js" type="text/javascript" /&gt;
&lt;script src="LettersOnlyValidator.js" type="text/javascript" /&gt;
&lt;script src="ZipCodeValidator.js" type="text/javascript" /&gt;
&lt;script src="Test.js" type="text/javascript" /&gt;</code></pre><h2 id="è®¤è¯†Typescript-æ³›å‹"><a href="#è®¤è¯†Typescript-æ³›å‹" class="headerlink" title="è®¤è¯†Typescript-æ³›å‹"></a>è®¤è¯†Typescript-æ³›å‹</h2><p>è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…è¦åˆ›å»ºä¸€è‡´çš„å®šä¹‰è‰¯å¥½çš„APIï¼ŒåŒæ—¶ä¹Ÿè¦è€ƒè™‘å¯é‡ç”¨æ€§ã€‚ ç»„ä»¶ä¸ä»…èƒ½å¤Ÿæ”¯æŒå½“å‰çš„æ•°æ®ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ”¯æŒæœªæ¥çš„æ•°æ®ç±»å‹ï¼Œè¿™åœ¨åˆ›å»ºå¤§å‹ç³»ç»Ÿæ—¶ä¸ºä½ æä¾›äº†ååˆ†çµæ´»çš„åŠŸèƒ½ã€‚</p>
<p>åœ¨åƒC#å’ŒJavaè¿™æ ·çš„è¯­è¨€ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<strong>æ³›å‹</strong>æ¥åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ï¼Œä¸€ä¸ªç»„ä»¶å¯ä»¥æ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ã€‚ è¿™æ ·ç”¨æˆ·å°±å¯ä»¥ä»¥è‡ªå·±çš„æ•°æ®ç±»å‹æ¥ä½¿ç”¨ç»„ä»¶ã€‚</p>
<h3 id="æ³›å‹ä¹‹Hello-World"><a href="#æ³›å‹ä¹‹Hello-World" class="headerlink" title="æ³›å‹ä¹‹Hello World"></a>æ³›å‹ä¹‹Hello World</h3><hr>
<p>ä¸‹é¢æ¥åˆ›å»ºç¬¬ä¸€ä¸ªä½¿ç”¨æ³›å‹çš„ä¾‹å­ï¼šidentityå‡½æ•°ã€‚ è¿™ä¸ªå‡½æ•°ä¼šè¿”å›ä»»ä½•ä¼ å…¥å®ƒçš„å€¼ã€‚ ä½ å¯ä»¥æŠŠè¿™ä¸ªå‡½æ•°å½“æˆæ˜¯ <code>echo</code>å‘½ä»¤ã€‚</p>
<p>ä¸ç”¨æ³›å‹çš„è¯ï¼Œè¿™ä¸ªå‡½æ•°å¯èƒ½æ˜¯ä¸‹é¢è¿™æ ·ï¼š</p>
<pre><code>function identity(arg: number): number {
    return arg;
}</code></pre><p>æˆ–è€…ï¼Œæˆ‘ä»¬ä½¿ç”¨anyç±»å‹æ¥å®šä¹‰å‡½æ•°ï¼š</p>
<pre><code>function identity(arg: any): any {
    return arg;
}</code></pre><p>ä½¿ç”¨<code>any</code>ç±»å‹ä¼šå¯¼è‡´è¿™ä¸ªå‡½æ•°å¯ä»¥æ¥æ”¶ä»»ä½•ç±»å‹çš„argå‚æ•°ï¼Œè¿™æ ·å°±ä¸¢å¤±äº†ä¸€äº›ä¿¡æ¯ï¼šä¼ å…¥çš„ç±»å‹ä¸è¿”å›çš„ç±»å‹åº”è¯¥æ˜¯ç›¸åŒçš„ã€‚å¦‚æœæˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬åªçŸ¥é“ä»»ä½•ç±»å‹çš„å€¼éƒ½æœ‰å¯èƒ½è¢«è¿”å›ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•ä½¿è¿”å›å€¼çš„ç±»å‹ä¸ä¼ å…¥å‚æ•°çš„ç±»å‹æ˜¯ç›¸åŒçš„ã€‚ è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<strong>ç±»å‹å˜é‡</strong>ï¼Œå®ƒæ˜¯ä¸€ç§ç‰¹æ®Šçš„å˜é‡ï¼Œ<em>åªç”¨äºè¡¨ç¤ºç±»å‹è€Œä¸æ˜¯å€¼</em>ã€‚</p>
<pre><code>function identity&lt;T&gt;(arg: T): T {
    return arg;
}</code></pre><p>æˆ‘ä»¬ç»™identityæ·»åŠ äº†ç±»å‹å˜é‡<code>T</code>ã€‚ <code>T</code>å¸®åŠ©æˆ‘ä»¬æ•è·ç”¨æˆ·ä¼ å…¥çš„ç±»å‹ï¼ˆæ¯”å¦‚ï¼š<code>number</code>ï¼‰ï¼Œä¹‹åæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªç±»å‹ã€‚ ä¹‹åæˆ‘ä»¬å†æ¬¡ä½¿ç”¨äº†<code>T</code>å½“åšè¿”å›å€¼ç±»å‹ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥çŸ¥é“å‚æ•°ç±»å‹ä¸è¿”å›å€¼ç±»å‹æ˜¯ç›¸åŒçš„äº†ã€‚ è¿™å…è®¸æˆ‘ä»¬è·Ÿè¸ªå‡½æ•°é‡Œä½¿ç”¨çš„ç±»å‹çš„ä¿¡æ¯ã€‚</p>
<p>æˆ‘ä»¬æŠŠè¿™ä¸ªç‰ˆæœ¬çš„<code>identity</code>å‡½æ•°å«åšæ³›å‹ï¼Œå› ä¸ºå®ƒå¯ä»¥é€‚ç”¨äºå¤šä¸ªç±»å‹ã€‚ ä¸åŒäºä½¿ç”¨<code>any</code>ï¼Œå®ƒä¸ä¼šä¸¢å¤±ä¿¡æ¯ï¼Œåƒç¬¬ä¸€ä¸ªä¾‹å­é‚£åƒä¿æŒå‡†ç¡®æ€§ï¼Œä¼ å…¥æ•°å€¼ç±»å‹å¹¶è¿”å›æ•°å€¼ç±»å‹ã€‚</p>
<p>æˆ‘ä»¬å®šä¹‰äº†æ³›å‹å‡½æ•°åï¼Œå¯ä»¥ç”¨ä¸¤ç§æ–¹æ³•ä½¿ç”¨ã€‚ ç¬¬ä¸€ç§æ˜¯ï¼Œä¼ å…¥æ‰€æœ‰çš„å‚æ•°ï¼ŒåŒ…å«ç±»å‹å‚æ•°ï¼š</p>
<pre><code>let output = identity&lt;string&gt;("myString");  // type of output will be 'string'</code></pre><p>è¿™é‡Œæˆ‘ä»¬æ˜ç¡®çš„æŒ‡å®šäº†<code>T</code>æ˜¯<code>string</code>ç±»å‹ï¼Œå¹¶åšä¸ºä¸€ä¸ªå‚æ•°ä¼ ç»™å‡½æ•°ï¼Œä½¿ç”¨äº†<code>&lt;&gt;</code>æ‹¬èµ·æ¥è€Œä¸æ˜¯<code>()</code>ã€‚</p>
<p>ç¬¬äºŒç§æ–¹æ³•æ›´æ™®éã€‚åˆ©ç”¨äº†<em>ç±»å‹æ¨è®º</em> â€” å³ç¼–è¯‘å™¨ä¼šæ ¹æ®ä¼ å…¥çš„å‚æ•°è‡ªåŠ¨åœ°å¸®åŠ©æˆ‘ä»¬ç¡®å®šTçš„ç±»å‹ï¼š</p>
<pre><code>let output = identity("myString");  // type of output will be 'string'</code></pre><p>æ³¨æ„æˆ‘ä»¬æ²¡å¿…è¦ä½¿ç”¨å°–æ‹¬å·ï¼ˆ<code>&lt;&gt;</code>ï¼‰æ¥æ˜ç¡®åœ°ä¼ å…¥ç±»å‹ï¼›ç¼–è¯‘å™¨å¯ä»¥æŸ¥çœ‹<code>myString</code>çš„å€¼ï¼Œç„¶åæŠŠ<code>T</code>è®¾ç½®ä¸ºå®ƒçš„ç±»å‹ã€‚ ç±»å‹æ¨è®ºå¸®åŠ©æˆ‘ä»¬ä¿æŒä»£ç ç²¾ç®€å’Œé«˜å¯è¯»æ€§ã€‚å¦‚æœç¼–è¯‘å™¨ä¸èƒ½å¤Ÿè‡ªåŠ¨åœ°æ¨æ–­å‡ºç±»å‹çš„è¯ï¼Œåªèƒ½åƒä¸Šé¢é‚£æ ·æ˜ç¡®çš„ä¼ å…¥<code>T</code>çš„ç±»å‹ï¼Œåœ¨ä¸€äº›å¤æ‚çš„æƒ…å†µä¸‹ï¼Œè¿™æ˜¯å¯èƒ½å‡ºç°çš„ã€‚</p>
<h3 id="ä½¿ç”¨æ³›å‹å˜é‡"><a href="#ä½¿ç”¨æ³›å‹å˜é‡" class="headerlink" title="ä½¿ç”¨æ³›å‹å˜é‡"></a>ä½¿ç”¨æ³›å‹å˜é‡</h3><hr>
<p>ä½¿ç”¨æ³›å‹åˆ›å»ºåƒ<code>identity</code>è¿™æ ·çš„æ³›å‹å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨è¦æ±‚ä½ åœ¨å‡½æ•°ä½“å¿…é¡»æ­£ç¡®çš„ä½¿ç”¨è¿™ä¸ªé€šç”¨çš„ç±»å‹ã€‚ æ¢å¥è¯è¯´ï¼Œä½ å¿…é¡»æŠŠè¿™äº›å‚æ•°å½“åšæ˜¯ä»»æ„æˆ–æ‰€æœ‰ç±»å‹ã€‚</p>
<p>çœ‹ä¸‹ä¹‹å‰identityä¾‹å­ï¼š</p>
<pre><code>function identity&lt;T&gt;(arg: T): T {
    return arg;
}</code></pre><p>å¦‚æœæˆ‘ä»¬æƒ³åŒæ—¶æ‰“å°å‡ºargçš„é•¿åº¦ã€‚ æˆ‘ä»¬å¾ˆå¯èƒ½ä¼šè¿™æ ·åšï¼š</p>
<pre><code>function loggingIdentity&lt;T&gt;(arg: T): T {
    console.log(arg.length);  // Error: T doesn't have .length
    return arg;
}</code></pre><p>å¦‚æœè¿™ä¹ˆåšï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™è¯´æˆ‘ä»¬ä½¿ç”¨äº†<code>arg</code>çš„<code>.length</code>å±æ€§ï¼Œä½†æ˜¯æ²¡æœ‰åœ°æ–¹æŒ‡æ˜<code>arg</code>å…·æœ‰è¿™ä¸ªå±æ€§ã€‚ è®°ä½ï¼Œè¿™äº›ç±»å‹å˜é‡ä»£è¡¨çš„æ˜¯ä»»æ„ç±»å‹ï¼Œæ‰€ä»¥ä½¿ç”¨è¿™ä¸ªå‡½æ•°çš„äººå¯èƒ½ä¼ å…¥çš„æ˜¯ä¸ªæ•°å­—ï¼Œè€Œæ•°å­—æ˜¯æ²¡æœ‰ <code>.length</code>å±æ€§çš„ã€‚</p>
<p>ç°åœ¨å‡è®¾æˆ‘ä»¬æƒ³æ“ä½œTç±»å‹çš„æ•°ç»„è€Œä¸ç›´æ¥æ˜¯Tã€‚ç”±äºæˆ‘ä»¬æ“ä½œçš„æ˜¯æ•°ç»„ï¼Œæ‰€ä»¥<code>.length</code>å±æ€§æ˜¯åº”è¯¥å­˜åœ¨çš„ã€‚ æˆ‘ä»¬å¯ä»¥åƒåˆ›å»ºå…¶å®ƒæ•°ç»„ä¸€æ ·åˆ›å»ºè¿™ä¸ªæ•°ç»„ï¼š</p>
<pre><code>function loggingIdentity&lt;T&gt;(arg: T[]): T[] {
    console.log(arg.length);  // Array has a .length, so no more error
    return arg;
}</code></pre><p>ä½ å¯ä»¥è¿™æ ·ç†è§£<code>loggingIdentity</code>çš„ç±»å‹ï¼šæ³›å‹å‡½æ•°<code>loggingIdentity</code>ï¼Œæ¥æ”¶ç±»å‹å‚æ•°<code>T</code>å’Œå‚æ•°<code>arg</code>ï¼Œå®ƒæ˜¯ä¸ªå…ƒç´ ç±»å‹æ˜¯<code>T</code>çš„æ•°ç»„ï¼Œå¹¶è¿”å›å…ƒç´ ç±»å‹æ˜¯<code>T</code>çš„æ•°ç»„ã€‚ å¦‚æœæˆ‘ä»¬ä¼ å…¥æ•°å­—æ•°ç»„ï¼Œå°†è¿”å›ä¸€ä¸ªæ•°å­—æ•°ç»„ï¼Œå› ä¸ºæ­¤æ—¶ <code>T</code>çš„çš„ç±»å‹ä¸ºnumberã€‚ è¿™å¯ä»¥è®©æˆ‘ä»¬æŠŠæ³›å‹å˜é‡<code>T</code>å½“åšç±»å‹çš„ä¸€éƒ¨åˆ†ä½¿ç”¨ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç±»å‹ï¼Œå¢åŠ äº†çµæ´»æ€§ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·å®ç°ä¸Šé¢çš„ä¾‹å­ï¼š</p>
<pre><code>function loggingIdentity&lt;T&gt;(arg: Array&lt;T&gt;): Array&lt;T&gt; {
    console.log(arg.length);  // Array has a .length, so no more error
    return arg;
}</code></pre><p>ä½¿ç”¨è¿‡å…¶å®ƒè¯­è¨€çš„è¯ï¼Œä½ å¯èƒ½å¯¹è¿™ç§è¯­æ³•å·²ç»å¾ˆç†Ÿæ‚‰äº†ã€‚ åœ¨ä¸‹ä¸€èŠ‚ï¼Œä¼šä»‹ç»å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰æ³›å‹åƒ Arrayä¸€æ ·ã€‚</p>
<h3 id="æ³›å‹ç±»å‹"><a href="#æ³›å‹ç±»å‹" class="headerlink" title="æ³›å‹ç±»å‹"></a>æ³›å‹ç±»å‹</h3><hr>
<p>ä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬åˆ›å»ºäº†identityé€šç”¨å‡½æ•°ï¼Œå¯ä»¥é€‚ç”¨äºä¸åŒçš„ç±»å‹ã€‚ åœ¨è¿™èŠ‚ï¼Œæˆ‘ä»¬ç ”ç©¶ä¸€ä¸‹å‡½æ•°æœ¬èº«çš„ç±»å‹ï¼Œä»¥åŠå¦‚ä½•åˆ›å»ºæ³›å‹æ¥å£ã€‚</p>
<p>æ³›å‹å‡½æ•°çš„ç±»å‹ä¸éæ³›å‹å‡½æ•°çš„ç±»å‹æ²¡ä»€ä¹ˆä¸åŒï¼Œåªæ˜¯æœ‰ä¸€ä¸ªç±»å‹å‚æ•°åœ¨æœ€å‰é¢ï¼Œåƒå‡½æ•°å£°æ˜ä¸€æ ·ï¼š</p>
<pre><code>function identity&lt;T&gt;(arg: T): T {
    return arg;
}
let myIdentity: &lt;T&gt;(arg: T) =&gt; T = identity;</code></pre><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸åŒçš„æ³›å‹å‚æ•°åï¼Œåªè¦åœ¨æ•°é‡ä¸Šå’Œä½¿ç”¨æ–¹å¼ä¸Šèƒ½å¯¹åº”ä¸Šå°±å¯ä»¥ã€‚</p>
<pre><code>function identity&lt;T&gt;(arg: T): T {
    return arg;
}
let myIdentity: &lt;U&gt;(arg: U) =&gt; U = identity;</code></pre><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å¸¦æœ‰è°ƒç”¨ç­¾åçš„å¯¹è±¡å­—é¢é‡æ¥å®šä¹‰æ³›å‹å‡½æ•°ï¼š</p>
<pre><code>function identity&lt;T&gt;(arg: T): T {
    return arg;
}
let myIdentity: {&lt;T&gt;(arg: T): T} = identity;</code></pre><p>è¿™å¼•å¯¼æˆ‘ä»¬å»å†™ç¬¬ä¸€ä¸ªæ³›å‹æ¥å£äº†ã€‚ æˆ‘ä»¬æŠŠä¸Šé¢ä¾‹å­é‡Œçš„å¯¹è±¡å­—é¢é‡æ‹¿å‡ºæ¥åšä¸ºä¸€ä¸ªæ¥å£ï¼š</p>
<pre><code>interface GenericIdentityFn {
    &lt;T&gt;(arg: T): T;
}
function identity&lt;T&gt;(arg: T): T {
    return arg;
}
let myIdentity: GenericIdentityFn = identity;</code></pre><p>ä¸€ä¸ªç›¸ä¼¼çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯èƒ½æƒ³æŠŠæ³›å‹å‚æ•°å½“ä½œæ•´ä¸ªæ¥å£çš„ä¸€ä¸ªå‚æ•°ã€‚ è¿™æ ·æˆ‘ä»¬å°±èƒ½æ¸…æ¥šçš„çŸ¥é“ä½¿ç”¨çš„å…·ä½“æ˜¯å“ªä¸ªæ³›å‹ç±»å‹ï¼ˆæ¯”å¦‚ï¼š <code>Dictionary&lt;string&gt;è€Œä¸åªæ˜¯Dictionary</code>ï¼‰ã€‚ è¿™æ ·æ¥å£é‡Œçš„å…¶å®ƒæˆå‘˜ä¹Ÿèƒ½çŸ¥é“è¿™ä¸ªå‚æ•°çš„ç±»å‹äº†ã€‚</p>
<pre><code>interface GenericIdentityFn&lt;T&gt; {
    (arg: T): T;
}
function identity&lt;T&gt;(arg: T): T {
    return arg;
}
let myIdentity: GenericIdentityFn&lt;number&gt; = identity;</code></pre><p>æ³¨æ„ï¼Œæˆ‘ä»¬çš„ç¤ºä¾‹åšäº†å°‘è®¸æ”¹åŠ¨ã€‚ ä¸å†æè¿°æ³›å‹å‡½æ•°ï¼Œè€Œæ˜¯æŠŠéæ³›å‹å‡½æ•°ç­¾åä½œä¸ºæ³›å‹ç±»å‹ä¸€éƒ¨åˆ†ã€‚ å½“æˆ‘ä»¬ä½¿ç”¨ <code>GenericIdentityFn</code> çš„æ—¶å€™ï¼Œè¿˜å¾—ä¼ å…¥ä¸€ä¸ªç±»å‹å‚æ•°æ¥æŒ‡å®šæ³›å‹ç±»å‹ï¼ˆè¿™é‡Œæ˜¯ï¼š<code>number</code>ï¼‰ï¼Œé”å®šäº†ä¹‹åä»£ç é‡Œä½¿ç”¨çš„ç±»å‹ã€‚ å¯¹äºæè¿°å“ªéƒ¨åˆ†ç±»å‹å±äºæ³›å‹éƒ¨åˆ†æ¥è¯´ï¼Œç†è§£ä½•æ—¶æŠŠå‚æ•°æ”¾åœ¨è°ƒç”¨ç­¾åé‡Œå’Œä½•æ—¶æ”¾åœ¨æ¥å£ä¸Šæ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚</p>
<p>é™¤äº†æ³›å‹æ¥å£ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åˆ›å»ºæ³›å‹ç±»ã€‚ æ³¨æ„ï¼Œæ— æ³•åˆ›å»ºæ³›å‹æšä¸¾å’Œæ³›å‹å‘½åç©ºé—´ã€‚</p>
<h3 id="æ³›å‹ç±»"><a href="#æ³›å‹ç±»" class="headerlink" title="æ³›å‹ç±»"></a>æ³›å‹ç±»</h3><hr>
<pre><code>class GenericNumber&lt;T&gt; {
    zeroValue: T;
    add: (x: T, y: T) =&gt; T;
}
let myGenericNumber = new GenericNumber&lt;number&gt;();
myGenericNumber.zeroValue = 0;
myGenericNumber.add = function(x, y) { return x + y; };</code></pre><p>GenericNumberç±»çš„ä½¿ç”¨æ˜¯ååˆ†ç›´è§‚çš„ï¼Œå¹¶ä¸”ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†ï¼Œæ²¡æœ‰ä»€ä¹ˆå»é™åˆ¶å®ƒåªèƒ½ä½¿ç”¨numberç±»å‹ã€‚ ä¹Ÿå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æˆ–å…¶å®ƒæ›´å¤æ‚çš„ç±»å‹ã€‚</p>
<pre><code>let stringNumeric = new GenericNumber&lt;string&gt;();
stringNumeric.zeroValue = "";
stringNumeric.add = function(x, y) { return x + y; };
console.log(stringNumeric.add(stringNumeric.zeroValue, "test"));</code></pre><p>ä¸æ¥å£ä¸€æ ·ï¼Œç›´æ¥æŠŠæ³›å‹ç±»å‹æ”¾åœ¨ç±»åé¢ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç¡®è®¤ç±»çš„æ‰€æœ‰å±æ€§éƒ½åœ¨ä½¿ç”¨ç›¸åŒçš„ç±»å‹ã€‚</p>
<h3 id="æ³›å‹çº¦æŸ"><a href="#æ³›å‹çº¦æŸ" class="headerlink" title="æ³›å‹çº¦æŸ"></a>æ³›å‹çº¦æŸ</h3><hr>
<p>ä½ åº”è¯¥ä¼šè®°å¾—ä¹‹å‰çš„ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™æƒ³æ“ä½œæŸç±»å‹çš„ä¸€ç»„å€¼ï¼Œå¹¶ä¸”æˆ‘ä»¬çŸ¥é“è¿™ç»„å€¼å…·æœ‰ä»€ä¹ˆæ ·çš„å±æ€§ã€‚ åœ¨ <code>loggingIdentity</code> ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æƒ³è®¿é—®<code>arg</code>çš„<code>length</code>å±æ€§ï¼Œä½†æ˜¯ç¼–è¯‘å™¨å¹¶ä¸èƒ½è¯æ˜æ¯ç§ç±»å‹éƒ½æœ‰<code>length</code>å±æ€§ï¼Œæ‰€ä»¥å°±æŠ¥é”™äº†ã€‚</p>
<pre><code>function loggingIdentity&lt;T&gt;(arg: T): T {
    console.log(arg.length);  // Error: T doesn't have .length
    return arg;
}</code></pre><p>ç›¸æ¯”äºæ“ä½œanyæ‰€æœ‰ç±»å‹ï¼Œæˆ‘ä»¬æƒ³è¦é™åˆ¶å‡½æ•°å»å¤„ç†ä»»æ„å¸¦æœ‰<code>.length</code>å±æ€§çš„æ‰€æœ‰ç±»å‹ã€‚ åªè¦ä¼ å…¥çš„ç±»å‹æœ‰è¿™ä¸ªå±æ€§ï¼Œæˆ‘ä»¬å°±å…è®¸ï¼Œå°±æ˜¯è¯´è‡³å°‘åŒ…å«è¿™ä¸€å±æ€§ã€‚ ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦åˆ—å‡ºå¯¹äºTçš„çº¦æŸè¦æ±‚ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ¥å£æ¥æè¿°çº¦æŸæ¡ä»¶ã€‚ åˆ›å»ºä¸€ä¸ªåŒ…å« <code>.length</code>å±æ€§çš„æ¥å£ï¼Œä½¿ç”¨è¿™ä¸ªæ¥å£å’Œextendså…³é”®å­—æ¥å®ç°çº¦æŸï¼š</p>
<pre><code>interface Lengthwise {
    length: number;
}
function loggingIdentity&lt;T extends Lengthwise&gt;(arg: T): T {
    console.log(arg.length);  // Now we know it has a .length property, so no more error
    return arg;
}</code></pre><p>ç°åœ¨è¿™ä¸ªæ³›å‹å‡½æ•°è¢«å®šä¹‰äº†çº¦æŸï¼Œå› æ­¤å®ƒä¸å†æ˜¯é€‚ç”¨äºä»»æ„ç±»å‹ï¼š</p>
<pre><code>loggingIdentity(3);  // Error, number doesn't have a .length property</code></pre><p>æˆ‘ä»¬éœ€è¦ä¼ å…¥ç¬¦åˆçº¦æŸç±»å‹çš„å€¼ï¼Œå¿…é¡»åŒ…å«å¿…é¡»çš„å±æ€§ï¼š</p>
<pre><code>loggingIdentity({length: 10, value: 3});</code></pre><h4 id="åœ¨æ³›å‹çº¦æŸä¸­ä½¿ç”¨ç±»å‹å‚æ•°"><a href="#åœ¨æ³›å‹çº¦æŸä¸­ä½¿ç”¨ç±»å‹å‚æ•°" class="headerlink" title="åœ¨æ³›å‹çº¦æŸä¸­ä½¿ç”¨ç±»å‹å‚æ•°"></a>åœ¨æ³›å‹çº¦æŸä¸­ä½¿ç”¨ç±»å‹å‚æ•°</h4><p>ä½ å¯ä»¥å£°æ˜ä¸€ä¸ªç±»å‹å‚æ•°ï¼Œä¸”å®ƒè¢«å¦ä¸€ä¸ªç±»å‹å‚æ•°æ‰€çº¦æŸã€‚ æ¯”å¦‚ï¼Œç°åœ¨æˆ‘ä»¬æƒ³è¦ç”¨å±æ€§åä»å¯¹è±¡é‡Œè·å–è¿™ä¸ªå±æ€§ã€‚ å¹¶ä¸”æˆ‘ä»¬æƒ³è¦ç¡®ä¿è¿™ä¸ªå±æ€§å­˜åœ¨äºå¯¹è±¡ objä¸Šï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨è¿™ä¸¤ä¸ªç±»å‹ä¹‹é—´ä½¿ç”¨çº¦æŸã€‚</p>
<pre><code>function getProperty(obj: T, key: K) {
    return obj[key];
}
let x = { a: 1, b: 2, c: 3, d: 4 };
getProperty(x, "a"); // okay
getProperty(x, "m"); // error: Argument of type 'm' isn't assignable to 'a' | 'b' | 'c' | 'd'.</code></pre><h2 id="è®¤è¯†Typescript-å£°æ˜æ–‡ä»¶"><a href="#è®¤è¯†Typescript-å£°æ˜æ–‡ä»¶" class="headerlink" title="è®¤è¯†Typescript-å£°æ˜æ–‡ä»¶"></a>è®¤è¯†Typescript-å£°æ˜æ–‡ä»¶</h2><p>å½“ä½ åœ¨ä½¿ç”¨VS Codeç¼–å†™TypeScriptæ–‡ä»¶æ—¶ï¼Œä½ ä¸å¤ªå¯èƒ½åœ¨æ¯ä¸ªæ–‡ä»¶ä¸Šéƒ½æ ‡æ˜<code>interface</code>å­—æ ·çš„æ¥å£ï¼Œä¸€æ—¦æŸä¸ªæ–‡ä»¶çš„æ–¹æ³•æˆ–è€…å˜é‡æ¯”è¾ƒå¤šï¼Œä½ çš„ä»£ç å¯èƒ½å°±ä¼šè¢«éå¸¸å¤šçš„ç±»å‹æ³¨è§£å æ®ï¼Œåœ¨å¤§å‹é¡¹ç›®æˆ–è€…æ˜¯ä½ ç”Ÿæˆçš„åº“æ–‡ä»¶ä¸­ä¸ºäº†ä¿æŒä»£ç çš„æ•´æ´ï¼Œä½ å°±å¯èƒ½éœ€è¦<strong>å£°æ˜æ–‡ä»¶</strong>çš„å¸®åŠ©ã€‚</p>
<h3 id="åˆ›å»ºä¸€ä¸ªå£°æ˜æ–‡ä»¶"><a href="#åˆ›å»ºä¸€ä¸ªå£°æ˜æ–‡ä»¶" class="headerlink" title="åˆ›å»ºä¸€ä¸ªå£°æ˜æ–‡ä»¶"></a>åˆ›å»ºä¸€ä¸ªå£°æ˜æ–‡ä»¶</h3><hr>
<p>å£°æ˜æ–‡ä»¶ä»¥<code>.d.ts</code>ç»“å°¾ï¼Œä¸TypeScriptæ–‡ä»¶<code>.ts</code>ç¨æœ‰åŒºåˆ«ã€‚å½“ä½ çš„é¡¹ç›®ç›®å½•ä¸­å‡ºç°äº†<code>.d.ts</code>ç»“å°¾çš„æ–‡ä»¶æ—¶ï¼Œæ‰€æœ‰ä¸ä¹‹å…³è”çš„è§„åˆ™éƒ½ä¼šè‡ªåŠ¨åº”ç”¨ã€‚å£°æ˜æ–‡ä»¶æ”¯æŒæˆ‘ä»¬å‰é¢ä»‹ç»çš„å„ç±»è¯­æ³•ï¼Œä½†æ˜¯ä½ å¾—åœ¨è¯­æ³•å‰é¢åŠ ä¸Š<code>declare</code>ã€‚</p>
<h3 id="å…¨å±€å˜é‡"><a href="#å…¨å±€å˜é‡" class="headerlink" title="å…¨å±€å˜é‡"></a>å…¨å±€å˜é‡</h3><p><strong>æ–‡æ¡£</strong></p>
<blockquote>
<p>å…¨å±€å˜é‡fooåŒ…å«äº†å­˜åœ¨ç»„ä»¶æ€»æ•°ã€‚</p>
</blockquote>
<p><strong>ä»£ç </strong></p>
<pre><code>console.log("Half the number of widgets is " + (foo / 2));</code></pre><p><strong>å£°æ˜</strong></p>
<p>ä½¿ç”¨declare varå£°æ˜å˜é‡ã€‚ å¦‚æœå˜é‡æ˜¯åªè¯»çš„ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ declare constã€‚ ä½ è¿˜å¯ä»¥ä½¿ç”¨ declare letå¦‚æœå˜é‡æ‹¥æœ‰å—çº§ä½œç”¨åŸŸã€‚</p>
<pre><code>/** ç»„ä»¶æ€»æ•° */
declare var foo: number;</code></pre><h3 id="å…¨å±€å‡½æ•°"><a href="#å…¨å±€å‡½æ•°" class="headerlink" title="å…¨å±€å‡½æ•°"></a>å…¨å±€å‡½æ•°</h3><p><strong>æ–‡æ¡£</strong></p>
<blockquote>
<p>ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°è°ƒç”¨greetå‡½æ•°å‘ç”¨æˆ·æ˜¾ç¤ºä¸€æ¡æ¬¢è¿ä¿¡æ¯ã€‚</p>
</blockquote>
<p><strong>ä»£ç </strong></p>
<pre><code>greet("hello, world");</code></pre><p><strong>å£°æ˜</strong></p>
<p>ä½¿ç”¨declare functionå£°æ˜å‡½æ•°ã€‚</p>
<pre><code>declare function greet(greeting: string): void;</code></pre><h3 id="å¸¦å±æ€§çš„å¯¹è±¡"><a href="#å¸¦å±æ€§çš„å¯¹è±¡" class="headerlink" title="å¸¦å±æ€§çš„å¯¹è±¡"></a>å¸¦å±æ€§çš„å¯¹è±¡</h3><p><strong>æ–‡æ¡£</strong></p>
<blockquote>
<p>å…¨å±€å˜é‡myLibåŒ…å«ä¸€ä¸ªmakeGreetingå‡½æ•°ï¼Œ è¿˜æœ‰ä¸€ä¸ªå±æ€§ numberOfGreetingsæŒ‡ç¤ºç›®å‰ä¸ºæ­¢æ¬¢è¿æ•°é‡ã€‚</p>
</blockquote>
<p><strong>ä»£ç </strong></p>
<pre><code>let result = myLib.makeGreeting("hello, world");
console.log("The computed greeting is:" + result);
let count = myLib.numberOfGreetings;</code></pre><p><strong>å£°æ˜</strong></p>
<p>ä½¿ç”¨declare namespaceæè¿°ç”¨ç‚¹è¡¨ç¤ºæ³•è®¿é—®çš„ç±»å‹æˆ–å€¼ã€‚</p>
<pre><code>declare namespace myLib {
    function makeGreeting(s: string): string;
    let numberOfGreetings: number;
}</code></pre><h3 id="å‡½æ•°é‡è½½"><a href="#å‡½æ•°é‡è½½" class="headerlink" title="å‡½æ•°é‡è½½"></a>å‡½æ•°é‡è½½</h3><p><strong>æ–‡æ¡£</strong></p>
<p>getWidgetå‡½æ•°æ¥æ”¶ä¸€ä¸ªæ•°å­—ï¼Œè¿”å›ä¸€ä¸ªç»„ä»¶ï¼Œæˆ–æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›ä¸€ä¸ªç»„ä»¶æ•°ç»„ã€‚</p>
<p><strong>ä»£ç </strong></p>
<pre><code>let x: Widget = getWidget(43);
let arr: Widget[] = getWidget("all of them");</code></pre><p><strong>å£°æ˜</strong></p>
<pre><code>declare function getWidget(n: number): Widget;
declare function getWidget(s: string): Widget[];</code></pre><h3 id="å¯é‡ç”¨ç±»å‹ï¼ˆæ¥å£ï¼‰"><a href="#å¯é‡ç”¨ç±»å‹ï¼ˆæ¥å£ï¼‰" class="headerlink" title="å¯é‡ç”¨ç±»å‹ï¼ˆæ¥å£ï¼‰"></a>å¯é‡ç”¨ç±»å‹ï¼ˆæ¥å£ï¼‰</h3><p><strong>æ–‡æ¡£</strong></p>
<blockquote>
<p>å½“æŒ‡å®šä¸€ä¸ªæ¬¢è¿è¯æ—¶ï¼Œä½ å¿…é¡»ä¼ å…¥ä¸€ä¸ªGreetingSettingså¯¹è±¡ã€‚ è¿™ä¸ªå¯¹è±¡å…·æœ‰ä»¥ä¸‹å‡ ä¸ªå±æ€§ï¼š</p>
<p>1- greetingï¼šå¿…éœ€çš„å­—ç¬¦ä¸²</p>
<p>2- duration: å¯é€‰çš„æ—¶é•¿ï¼ˆæ¯«ç§’è¡¨ç¤ºï¼‰</p>
<p>3- color: å¯é€‰å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚â€˜#ff00ffâ€™</p>
</blockquote>
<p><strong>ä»£ç </strong></p>
<pre><code>greet({
  greeting: "hello world",
  duration: 4000
});</code></pre><p><strong>å£°æ˜</strong></p>
<p>ä½¿ç”¨interfaceå®šä¹‰ä¸€ä¸ªå¸¦æœ‰å±æ€§çš„ç±»å‹ã€‚</p>
<pre><code>interface GreetingSettings {
  greeting: string;
  duration?: number;
  color?: string;
}
declare function greet(setting: GreetingSettings): void;</code></pre><h3 id="å¯é‡ç”¨ç±»å‹ï¼ˆç±»å‹åˆ«åï¼‰"><a href="#å¯é‡ç”¨ç±»å‹ï¼ˆç±»å‹åˆ«åï¼‰" class="headerlink" title="å¯é‡ç”¨ç±»å‹ï¼ˆç±»å‹åˆ«åï¼‰"></a>å¯é‡ç”¨ç±»å‹ï¼ˆç±»å‹åˆ«åï¼‰</h3><p><strong>æ–‡æ¡£</strong></p>
<blockquote>
<p>åœ¨ä»»ä½•éœ€è¦æ¬¢è¿è¯çš„åœ°æ–¹ï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ªstringï¼Œä¸€ä¸ªè¿”å›stringçš„å‡½æ•°æˆ–ä¸€ä¸ªGreeterå®ä¾‹ã€‚</p>
</blockquote>
<p><strong>ä»£ç </strong></p>
<pre><code>function getGreeting() {
    return "howdy";
}
class MyGreeter extends Greeter { }
greet("hello");
greet(getGreeting);
greet(new MyGreeter());</code></pre><p><strong>å£°æ˜</strong></p>
<p>ä½ å¯ä»¥ä½¿ç”¨ç±»å‹åˆ«åæ¥å®šä¹‰ç±»å‹çš„çŸ­åï¼š</p>
<pre><code>type GreetingLike = string | (() =&gt; string) | MyGreeter;
declare function greet(g: GreetingLike): void;</code></pre><h3 id="ç»„ç»‡ç±»å‹"><a href="#ç»„ç»‡ç±»å‹" class="headerlink" title="ç»„ç»‡ç±»å‹"></a>ç»„ç»‡ç±»å‹</h3><p><strong>æ–‡æ¡£</strong></p>
<blockquote>
<p>greeterå¯¹è±¡èƒ½å¤Ÿè®°å½•åˆ°æ–‡ä»¶æˆ–æ˜¾ç¤ºä¸€ä¸ªè­¦å‘Šã€‚ ä½ å¯ä»¥ä¸º .log(â€¦)æä¾›LogOptionså’Œä¸º.alert(â€¦)æä¾›é€‰é¡¹ã€‚</p>
</blockquote>
<p><strong>ä»£ç </strong></p>
<pre><code>const g = new Greeter("Hello");
g.log({ verbose: true });
g.alert({ modal: false, title: "Current Greeting" });</code></pre><p><strong>å£°æ˜</strong></p>
<p>ä½¿ç”¨å‘½åç©ºé—´ç»„ç»‡ç±»å‹ã€‚</p>
<pre><code>declare namespace GreetingLib {
    interface LogOptions {
        verbose?: boolean;
    }
    interface AlertOptions {
        modal: boolean;
        title?: string;
        color?: string;
    }
}</code></pre><p>ä½ ä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªå£°æ˜ä¸­åˆ›å»ºåµŒå¥—çš„å‘½åç©ºé—´ï¼š</p>
<pre><code>declare namespace GreetingLib.Options {
    // Refer to via GreetingLib.Options.Log
    interface Log {
        verbose?: boolean;
    }
    interface Alert {
        modal: boolean;
        title?: string;
        color?: string;
    }
}</code></pre><h3 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h3><p><strong>æ–‡æ¡£</strong></p>
<blockquote>
<p>ä½ å¯ä»¥é€šè¿‡å®ä¾‹åŒ–Greeterå¯¹è±¡æ¥åˆ›å»ºæ¬¢è¿è¯ï¼Œæˆ–è€…ç»§æ‰¿Greeterå¯¹è±¡æ¥è‡ªå®šä¹‰æ¬¢è¿è¯ã€‚</p>
</blockquote>
<p><strong>ä»£ç </strong></p>
<pre><code>const myGreeter = new Greeter("hello, world");
myGreeter.greeting = "howdy";
myGreeter.showGreeting();
class SpecialGreeter extends Greeter {
    constructor() {
        super("Very special greetings");
    }
}</code></pre><p><strong>å£°æ˜</strong></p>
<p>ä½¿ç”¨declare classæè¿°ä¸€ä¸ªç±»æˆ–åƒç±»ä¸€æ ·çš„å¯¹è±¡ã€‚ ç±»å¯ä»¥æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œå°±å’Œæ„é€ å‡½æ•°ä¸€æ ·ã€‚</p>
<pre><code>declare class Greeter {
    constructor(greeting: string);
    greeting: string;
    showGreeting(): void;
}</code></pre><h1 id="æ’ä»¶-API"><a href="#æ’ä»¶-API" class="headerlink" title="æ’ä»¶ API"></a>æ’ä»¶ API</h1><p>VS Codeå†…ç½®äº†æ‰©å±•èƒ½åŠ›ï¼Œåœ¨æ’ä»¶APIåŠ æŒä¹‹ä¸‹ï¼ŒVS Codeå‡ ä¹æ¯ä¸€ä¸ªéƒ¨åˆ†éƒ½å¯ä»¥è‡ªå®šä¹‰æˆ–è€…åŠ å¼ºã€‚è€Œä¸”ï¼ŒVS Codeä¸­çš„å¾ˆå¤šæ ¸å¿ƒåŠŸèƒ½å·²ç¼–è¯‘ä¸º<a href="https://github.com/Microsoft/vscode/tree/master/extensions" target="_blank" rel="noopener">æ’ä»¶</a>ï¼Œå®ƒä»¬éƒ½å…±ç”¨äº†ä¸€å¥—æ’ä»¶APIã€‚</p>
<p>æœ¬æ–‡æ¡£å°†ä»‹ç»ï¼š</p>
<ul>
<li>å¦‚ä½•æ„å»ºã€è¿è¡Œã€è°ƒè¯•ã€æµ‹è¯•å’Œå‘å¸ƒæ’ä»¶</li>
<li>å¦‚ä½•åˆ©ç”¨å¥½VS Codeä¸°å¯Œçš„æ’ä»¶API</li>
<li>ä»£ç ç¤ºä¾‹å’Œå„ä¸ªæŒ‡å—çš„ä½ç½®ï¼Œæ–¹ä¾¿ä½ å¿«é€Ÿå…¥é—¨ã€‚å¦‚æœä½ åªæ˜¯æƒ³çœ‹çœ‹å·²ç»å‘å¸ƒçš„æ’ä»¶ï¼Œå¯ç§»æ­¥è‡³<a href="https://marketplace.visualstudio.com/vscode" target="_blank" rel="noopener">VS Codeæ’ä»¶å¸‚åœº</a></li>
</ul>
<h2 id="æ’ä»¶èƒ½åšä»€ä¹ˆï¼Ÿ"><a href="#æ’ä»¶èƒ½åšä»€ä¹ˆï¼Ÿ" class="headerlink" title="æ’ä»¶èƒ½åšä»€ä¹ˆï¼Ÿ"></a>æ’ä»¶èƒ½åšä»€ä¹ˆï¼Ÿ</h2><hr>
<p>ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹ä½¿ç”¨æ’ä»¶APIèƒ½åšåˆ°äº›ä»€ä¹ˆï¼š</p>
<ul>
<li>æ”¹å˜VS Codeçš„é¢œè‰²å’Œå›¾æ ‡ä¸»é¢˜â€”â€”ä¸»é¢˜</li>
<li>åœ¨UIä¸­æ·»åŠ è‡ªå®šä¹‰ç»„ä»¶å’Œè§†å›¾â€”â€”æ‰©å±•å·¥ä½œå°</li>
<li>åˆ›å»ºWebviewï¼Œä½¿ç”¨HTML/CSS/JSæ˜¾ç¤ºè‡ªå®šä¹‰ç½‘é¡µâ€”â€”WebviewæŒ‡å—</li>
<li>æ”¯æŒæ–°çš„ç¼–ç¨‹è¯­è¨€â€”â€”è¯­è¨€æ’ä»¶æ¦‚è§ˆ</li>
<li>æ”¯æŒç‰¹å®šè¿è¡Œæ—¶çš„è°ƒè¯•â€”â€”è°ƒè¯•æ’ä»¶æŒ‡å—</li>
</ul>
<p>å¦‚æœä½ æƒ³å¤§æ¦‚æµè§ˆä¸€ä¸‹æ‰€æœ‰çš„æ’ä»¶APIï¼Œè¯·å‚é˜…æ’ä»¶åŠŸèƒ½æ¦‚è¿°ã€‚æ’ä»¶æŒ‡å—åˆ—å‡ºäº†å„ç§æ’ä»¶APIä½¿ç”¨çš„ç¤ºä¾‹ä»£ç å’ŒæŒ‡å—ã€‚</p>
<h2 id="å¦‚ä½•æ„å»ºæ’ä»¶ï¼Ÿ"><a href="#å¦‚ä½•æ„å»ºæ’ä»¶ï¼Ÿ" class="headerlink" title="å¦‚ä½•æ„å»ºæ’ä»¶ï¼Ÿ"></a>å¦‚ä½•æ„å»ºæ’ä»¶ï¼Ÿ</h2><hr>
<p>æƒ³è¦åšå‡ºä¸€ä¸ªå¥½æ’ä»¶éœ€è¦èŠ±è´¹ä¸å°‘ç²¾åŠ›ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªæ•™ç¨‹çš„æ¯ä¸ªç« èŠ‚èƒ½ä¸ºä½ åšç‚¹ä»€ä¹ˆï¼š</p>
<ul>
<li><strong>ç¬¬ä¸€æ­¥</strong> Hello Worldç¤ºä¾‹ä¼šæ•™ä½ è´¯ç©¿äºåˆ¶ä½œæ’ä»¶æ—¶çš„åŸºæœ¬æ¦‚å¿µ</li>
<li><strong>å¼€å‘æ’ä»¶</strong> åŒ…å«äº†å„ç±»æ’ä»¶å¼€å‘æ›´æ·±çš„ä¸»é¢˜ï¼Œæ¯”å¦‚å‘å¸ƒå’Œæµ‹è¯•æ’ä»¶</li>
<li><strong>æ’ä»¶åŠŸèƒ½</strong> å°†VS Codeåºæ‚çš„APIæ‹†è§£æˆäº†å‡ ä¸ªå°åˆ†ç±»ï¼Œå¸®ä½ æŒæ¡åˆ°æ¯ä¸ªä¸»é¢˜ä¸‹çš„å¼€å‘ç»†èŠ‚</li>
<li><strong>æ’ä»¶æŒ‡å—</strong> åŒ…æ‹¬æŒ‡å—å’Œä»£ç å®ä¾‹ï¼Œè¯¦ç»†ä»‹ç»ç‰¹å®šAPIçš„ä½¿ç”¨åœºæ™¯</li>
<li><strong>è¯­è¨€æ’ä»¶</strong> é€šè¿‡ä»£ç å’ŒæŒ‡å—é˜è¿°å¦‚ä½•æ·»åŠ ç¼–ç¨‹è¯­è¨€æ”¯æŒ</li>
<li><strong>è¿›é˜¶ä¸»é¢˜</strong> è§£é‡Šäº†æ’ä»¶ä¸»æœºå’Œä½¿ç”¨ä¸ç¨³å®šçš„APIç­‰æ›´æ·±å±‚çº§çš„æ¦‚å¿µ</li>
</ul>
<h2 id="å¯»æ±‚å¸®åŠ©"><a href="#å¯»æ±‚å¸®åŠ©" class="headerlink" title="å¯»æ±‚å¸®åŠ©"></a>å¯»æ±‚å¸®åŠ©</h2><hr>
<p>å¦‚æœä½ åœ¨å¼€å‘ä¸­é‡åˆ°äº†é—®é¢˜ï¼Œè¯·å°è¯•ï¼š</p>
<ul>
<li><a href="https://stackoverflow.com/questions/tagged/visual-studio-code" target="_blank" rel="noopener">Stack Overflow</a>ï¼šå…¶ä¸­æœ‰å°†è¿‘<a href="https://stackoverflow.com/questions/tagged/visual-studio-code" target="_blank" rel="noopener">12k</a>ä¸ªæ‰“äº†<code>visual-studio-code</code>æ ‡ç­¾çš„é—®é¢˜ï¼Œè€Œä¸”åŠæ•°ä»¥ä¸Šéƒ½å·²ç»æœ‰äº†ç­”æ¡ˆï¼Œæœç´¢ä½ é‡åˆ°çš„é—®é¢˜ï¼Œæé—®ï¼Œæˆ–è€…å¸®åŠ©å…¶ä»–äººè§£å†³VS Codeä¸­é‡åˆ°çš„é—®é¢˜ã€‚</li>
<li><a href="https://gitter.im/Microsoft/vscode" target="_blank" rel="noopener">Gitteré¢‘é“</a>å’Œ<a href="https://join.slack.com/t/vscode-dev-community/shared_invite/enQtMjIxOTgxNDE3NzM0LWU5M2ZiZDU1YjBlMzdlZjA2YjBjYzRhYTM5NTgzMTAxMjdiNWU0ZmQzYWI3MWU5N2Q1YjBiYmQ4MzY0NDE1MzY" target="_blank" rel="noopener">VS Code Dev Slack</a>ï¼šæ’ä»¶å¼€å‘äººå‘˜çš„å…¬å…±èŠå¤©å®¤ï¼ŒVS Codeé¡¹ç›®ç»„æˆå‘˜å¶å°”ä¹Ÿä¼šå‡ºç°ã€‚</li>
</ul>
<p>ä½ è‹¥å¯¹æœ¬æ–‡æ¡£æœ‰ä»»ä½•å»ºè®®ï¼Œè¯·åœ¨<a href="https://github.com/Microsoft/vscode-docs/issues" target="_blank" rel="noopener">Microsoft/vscode-docs</a>ä¸­åˆ›å»ºissueã€‚å¦‚æœä½ çš„æ’ä»¶é—®é¢˜æ— æ³•è§£å†³ï¼Œæˆ–è€…å¯¹VS Codeæ’ä»¶APIæœ‰ä»»ä½•å»ºè®®ï¼Œè¯·åœ¨<a href="https://github.com/Microsoft/vscode/issues" target="_blank" rel="noopener">Microsoft/vscode</a>ä¸­æ–°å»ºissueã€‚</p>
<h1 id="ç¬¬ä¸€æ­¥-1"><a href="#ç¬¬ä¸€æ­¥-1" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h1><h2 id="ä½ çš„ç¬¬ä¸€ä¸ªæ’ä»¶"><a href="#ä½ çš„ç¬¬ä¸€ä¸ªæ’ä»¶" class="headerlink" title="ä½ çš„ç¬¬ä¸€ä¸ªæ’ä»¶"></a>ä½ çš„ç¬¬ä¸€ä¸ªæ’ä»¶</h2><p>åœ¨æœ¬å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä¼šæ•™ä½ ä¸€äº›åŸºç¡€æ¦‚å¿µï¼Œè¯·å…ˆå®‰è£…å¥½<a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a>å’Œ<a href="https://git-scm.com/" target="_blank" rel="noopener">Git</a>ï¼Œç„¶åå®‰è£…<a href="http://yeoman.io/" target="_blank" rel="noopener">Yeoman</a>å’Œ<a href="https://www.npmjs.com/package/generator-code" target="_blank" rel="noopener">VS Code Extension Generator</a>ï¼š</p>
<pre><code>npm install -g yo generator-code</code></pre><p>è¿™ä¸ªè„šæ‰‹æ¶ä¼šç”Ÿæˆä¸€ä¸ªå¯ä»¥ç«‹é©¬å¼€å‘çš„é¡¹ç›®ã€‚è¿è¡Œç”Ÿæˆå™¨ï¼Œç„¶åå¡«å¥½ä¸‹åˆ—å­—æ®µï¼š</p>
<pre><code>yo code
# ? What type of extension do you want to create? New Extension (TypeScript)
# ? What's the name of your extension? HelloWorld
### Press &lt;Enter&gt; to choose default for all options below ###
# ? What's the identifier of your extension? helloworld
# ? What's the description of your extension? LEAVE BLANK
# ? Enable stricter TypeScript checking in 'tsconfig.json'? Yes
# ? Setup linting using 'tslint'? Yes
# ? Initialize a git repository? Yes
# ? Which package manager to use? npm
code ./helloworld</code></pre><p>å®Œæˆåè¿›å…¥ VS Codeï¼ŒæŒ‰ä¸‹<code>F5</code>ï¼Œä½ ä¼šç«‹å³çœ‹åˆ°ä¸€ä¸ª<strong>æ’ä»¶å‘å¼€ä¸»æœº</strong>çª—å£ï¼Œå…¶ä¸­å°±è¿è¡Œç€æ’ä»¶ã€‚</p>
<p>åœ¨å‘½ä»¤é¢æ¿(<code>Ctrl+Shift+P</code>)ä¸­è¾“å…¥<code>Hello World</code>å‘½ä»¤ã€‚</p>
<p>å¦‚æœä½ çœ‹åˆ°äº†<code>Hello World</code>æç¤ºå¼¹çª—ï¼Œæ­å–œä½ æˆåŠŸäº†ï¼</p>
<h3 id="å¼€å‘æ’ä»¶"><a href="#å¼€å‘æ’ä»¶" class="headerlink" title="å¼€å‘æ’ä»¶"></a>å¼€å‘æ’ä»¶</h3><hr>
<p>ç°åœ¨è®©æˆ‘ä»¬ç¨ç¨æ”¹åŠ¨ä¸€ä¸‹å¼¹çª—æ˜¾ç¤ºçš„å†…å®¹ï¼š</p>
<ul>
<li>å°†é¡¹ç›®æ–‡ä»¶<code>extension.ts</code>ä¸­çš„<code>Hello World</code>æ”¹ä¸º<code>Hello VS Code</code></li>
<li>é‡æ–°åŠ è½½å¼€å‘çª—å£</li>
<li>å†æ¬¡è¿è¡Œ<code>Hello World</code>å‘½ä»¤</li>
</ul>
<p>è¯·æµè§ˆä½ çš„é¡¹ç›®ç›®å½•å’Œä»£ç ï¼Œç„¶åè¿›è¡Œä¸‹é¢çš„å°ç»ƒä¹ ï¼š</p>
<ul>
<li>ä¸ºå‘½ä»¤é¢æ¿ä¸­çš„<code>Hello World</code>æ¢ä¸€ä¸ªåå­—</li>
<li>é…ç½®ä¸€ä¸ªæ–°çš„å‘½ä»¤ï¼šæ‰“å¼€ä¸€ä¸ªæç¤ºå¼¹çª—ï¼Œæ˜¾ç¤ºå½“å‰æ—¶é—´</li>
<li>ç”¨æ˜¾ç¤ºè­¦å‘Šä¿¡æ¯çš„VS Code APIæ›¿æ¢åŸæœ¬çš„<code>vscode.window.showInformationMessage</code></li>
</ul>
<h3 id="è°ƒè¯•æ’ä»¶"><a href="#è°ƒè¯•æ’ä»¶" class="headerlink" title="è°ƒè¯•æ’ä»¶"></a>è°ƒè¯•æ’ä»¶</h3><hr>
<p>VS Code å†…ç½®çš„è°ƒè¯•åŠŸèƒ½å·²ç»éå¸¸æ–¹ä¾¿äº†ï¼Œåœ¨ä»£ç åºå·çš„å·¦ä¾§ç©ºç™½å¤„ç‚¹å‡»ä¸€ä¸‹ï¼ŒVS Code å°±ä¼šè®¾ä¸‹æ–­ç‚¹ï¼Œè¿›å…¥è°ƒè¯•æ¨¡å¼åå°†é¼ æ ‡æ‚¬åœäºå˜é‡ä¸Šæ˜¾ç¤ºå˜é‡å€¼ï¼Œæˆ–æ˜¯åœ¨è°ƒè¯•ä¾§è¾¹æ ä¸­æ£€æŸ¥å˜é‡å€¼ï¼Œæ­¤æ—¶ï¼Œä½ è¿˜å¯ä»¥ç”¨<strong>è°ƒè¯•æ§åˆ¶å°</strong>ç›´æ¥å¯¹è¡¨è¾¾å¼æ±‚å€¼ã€‚</p>
<h2 id="è§£ææ’ä»¶ç»“æ„"><a href="#è§£ææ’ä»¶ç»“æ„" class="headerlink" title="è§£ææ’ä»¶ç»“æ„"></a>è§£ææ’ä»¶ç»“æ„</h2><p>ä¸Šä¸€èŠ‚ä¸­ï¼Œä½ å·²ç»èƒ½å¤Ÿè‡ªå·±åˆ›å»ºä¸€ä¸ªåŸºç¡€çš„æ’ä»¶äº†ï¼Œä½†æ˜¯åœ¨é¢çº±ä¹‹ä¸‹ï¼Œå®ƒç©¶ç«Ÿæ˜¯æ€ä¹ˆè¿ä½œçš„å‘¢ï¼Ÿ</p>
<p><code>Hello World</code>æ’ä»¶åŒ…å«äº†3ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li>æ³¨å†Œ<code>onCommand</code> <strong>æ¿€æ´»äº‹ä»¶</strong>: <code>onCommand:extension.helloWorld</code>ï¼Œæ‰€ä»¥ç”¨æˆ·å¯ä»¥åœ¨è¾“å…¥<code>Hello World</code>å‘½ä»¤åæ¿€æ´»æ’ä»¶ã€‚</li>
<li>ä½¿ç”¨<code>contributes.commands</code> <strong>å‘å¸ƒå†…å®¹é…ç½®</strong>ï¼Œç»‘å®šä¸€ä¸ªå‘½ä»¤ID <code>extension.helloWorld</code>ï¼Œç„¶å <code>Hello World</code>å‘½ä»¤å°±å¯ä»¥åœ¨å‘½ä»¤é¢æ¿ä¸­ä½¿ç”¨äº†ã€‚</li>
<li>ä½¿ç”¨<code>commands.registerCommand</code> <strong>VS Code API</strong> å°†ä¸€ä¸ªå‡½æ•°ç»‘å®šåˆ°ä½ æ³¨å†Œçš„å‘½ä»¤ID<code>extension.helloWorld</code>ä¸Šã€‚</li>
</ul>
<p>ç†è§£ä¸‹é¢ä¸‰ä¸ªå…³é”®æ¦‚å¿µä½ æ‰èƒ½ä½œå‡ºä¸€ä¸ªåŸºæœ¬çš„æ’ä»¶ï¼š</p>
<ul>
<li><strong>æ¿€æ´»äº‹ä»¶</strong>: æ’ä»¶æ¿€æ´»çš„æ—¶æœºã€‚</li>
<li><strong>å‘å¸ƒå†…å®¹é…ç½®</strong>: VS Codeæ‰©å±•äº† <code>package.json</code> æ’ä»¶æ¸…å•çš„å­—æ®µä»¥ä¾¿äºå¼€å‘æ’ä»¶ã€‚</li>
<li><strong>VS Code API</strong>: ä½ çš„æ’ä»¶ä»£ç ä¸­éœ€è¦è°ƒç”¨çš„ä¸€ç³»åˆ—JavaScript APIã€‚</li>
</ul>
<p>å¤§ä½“ä¸Šï¼Œä½ çš„æ’ä»¶å°±æ˜¯é€šè¿‡ç»„åˆå‘å¸ƒå†…å®¹é…ç½®å’ŒVS Code APIæ‰©å±•VS Codeçš„åŠŸèƒ½ã€‚ä½ èƒ½åœ¨æ’ä»¶åŠŸèƒ½æ¦‚è¿°ä¸»é¢˜ä¸­æ‰¾åˆ°åˆé€‚ä½ æ’ä»¶çš„é…ç½®ç‚¹å’ŒVS Code APIã€‚</p>
<p>å¥½äº†ï¼Œç°åœ¨è®©æˆ‘ä»¬è‡ªå·±ç§ä¸€ç§<code>Hello World</code>ç¤ºä¾‹çš„æºç éƒ¨åˆ†ï¼Œä»¥åŠæˆ‘ä»¬ä¸Šé¢æåˆ°çš„3ä¸ªæ¦‚å¿µæ˜¯å¦‚ä½•åº”ç”¨å…¶ä¸­çš„ã€‚</p>
<h3 id="æ’ä»¶ç›®å½•ç»“æ„"><a href="#æ’ä»¶ç›®å½•ç»“æ„" class="headerlink" title="æ’ä»¶ç›®å½•ç»“æ„"></a>æ’ä»¶ç›®å½•ç»“æ„</h3><hr>
<pre><code>.
â”œâ”€â”€ .vscode
â”‚   â”œâ”€â”€ launch.json     // æ’ä»¶åŠ è½½å’Œè°ƒè¯•çš„é…ç½®
â”‚   â””â”€â”€ tasks.json      // é…ç½®TypeScriptç¼–è¯‘ä»»åŠ¡
â”œâ”€â”€ .gitignore          // å¿½ç•¥æ„å»ºè¾“å‡ºå’Œnode_modulesæ–‡ä»¶
â”œâ”€â”€ README.md           // ä¸€ä¸ªå‹å¥½çš„æ’ä»¶æ–‡æ¡£
â”œâ”€â”€ src
â”‚   â””â”€â”€ extension.ts    // æ’ä»¶æºä»£ç 
â”œâ”€â”€ package.json        // æ’ä»¶é…ç½®æ¸…å•
â”œâ”€â”€ tsconfig.json       // TypeScripté…ç½®</code></pre><p>ä¸‹é¢çš„å‡ ä¸ªæ–‡ä»¶è¶…å‡ºäº†æœ¬èŠ‚è®¨è®ºçš„èŒƒå›´ï¼Œä½ å¯ä»¥è‡ªè¡Œå‰å¾€ç›¸åº”çš„ç« èŠ‚æŒ–æ˜è¯¦ç»†å†…å®¹ï¼š</p>
<ul>
<li><code>launch.json</code> ç”¨äºé…ç½®VS Code <a href="https://code.visualstudio.com/docs/editor/debugging" target="_blank" rel="noopener">è°ƒè¯•</a></li>
<li><code>tasks.json</code> ç”¨äºå®šä¹‰VS Code <a href="https://code.visualstudio.com/docs/editor/tasks" target="_blank" rel="noopener">ä»»åŠ¡</a></li>
<li><code>tsconfig.json</code> å‚é˜…TypeScript <a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html" target="_blank" rel="noopener">Handbook</a></li>
</ul>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æŠŠç²¾åŠ›é›†ä¸­åœ¨è¿™ä¸ªæ’ä»¶çš„å…³é”®éƒ¨åˆ†â€”â€”<code>package.json</code>å’Œ<code>extensions.ts</code>ã€‚</p>
<h4 id="æ’ä»¶æ¸…å•"><a href="#æ’ä»¶æ¸…å•" class="headerlink" title="æ’ä»¶æ¸…å•"></a>æ’ä»¶æ¸…å•</h4><p>æ¯ä¸ªVS Codeæ’ä»¶éƒ½å¿…é¡»åŒ…å«ä¸€ä¸ª<code>package.json</code>ï¼Œå®ƒå°±æ˜¯æ’ä»¶çš„é…ç½®æ¸…å•ã€‚<code>package.json</code>æ··åˆäº†Node.jså­—æ®µï¼Œå¦‚ï¼š<code>scripts</code>ã€<code>dependencies</code>ï¼Œè¿˜åŠ å…¥äº†ä¸€äº›VS Codeç‹¬æœ‰çš„å­—æ®µï¼Œå¦‚ï¼š<code>publisher</code>ã€<code>activationEvents</code>ã€<code>contributes</code>ç­‰ã€‚å…³äºè¿™äº›VS Codeå­—æ®µè¯´æ˜éƒ½åœ¨æ’ä»¶æ¸…å•å‚è€ƒä¸­å¯ä»¥æ‰¾åˆ°ã€‚æˆ‘ä»¬åœ¨æœ¬èŠ‚ä»‹ç»ä¸€äº›éå¸¸é‡è¦çš„å­—æ®µï¼š</p>
<ul>
<li><code>name</code> å’Œ <code>publisher</code>: VS Code ä½¿ç”¨<code>&lt;publisher&gt;.&lt;name&gt;</code>ä½œä¸ºä¸€ä¸ªæ’ä»¶çš„IDã€‚ä½ å¯ä»¥è¿™ä¹ˆç†è§£ï¼ŒHello World ä¾‹å­çš„ ID å°±æ˜¯<code>vscode-samples.helloworld-sample</code>ã€‚VS Code ä½¿ç”¨ ID æ¥åŒºåˆ†å„ä¸ªä¸åŒçš„æ’ä»¶ã€‚</li>
<li><code>main</code>: æ’ä»¶çš„ä¸»å…¥å£ã€‚</li>
<li><code>activationEvents</code> å’Œ <code>contributes</code>: æ¿€æ´»äº‹ä»¶ and å‘å¸ƒå†…å®¹é…ç½®ã€‚</li>
<li><code>engines.vscode</code>: æè¿°äº†è¿™ä¸ªæ’ä»¶ä¾èµ–çš„æœ€ä½VS Code APIç‰ˆæœ¬ã€‚</li>
<li><code>postinstall</code> è„šæœ¬: å¦‚æœä½ çš„<code>engines.vscode</code>å£°æ˜çš„æ˜¯1.25ç‰ˆçš„VS Code APIï¼Œé‚£å®ƒå°±ä¼šæŒ‰ç…§è¿™ä¸ªå£°æ˜å»å®‰è£…ç›®æ ‡ç‰ˆæœ¬ã€‚ä¸€æ—¦<code>vscode.d.ts</code>æ–‡ä»¶å­˜åœ¨äº<code>node_modules/vscode/vscode.d.ts</code>ï¼ŒIntelliSenseå°±ä¼šå¼€å§‹è¿ä½œï¼Œä½ å°±å¯ä»¥å¯¹æ‰€æœ‰VS Code APIè¿›è¡Œå®šä¹‰è·³è½¬æˆ–è€…è¯­æ³•æ£€æŸ¥äº†ã€‚</li>
</ul>
<pre><code>{
    "name": "helloworld-sample",
    "displayName": "helloworld-sample",
    "description": "HelloWorld example for VS Code",
    "version": "0.0.1",
    "publisher": "vscode-samples",
    "repository": "https://github.com/Microsoft/vscode-extension-samples/helloworld-sample",
    "engines": {
        "vscode": "^1.25.0"
    },
    "categories": ["Other"],
    "activationEvents": ["onCommand:extension.helloWorld"],
    "main": "./out/extension.js",
    "contributes": {
        "commands": [
            {
                "command": "extension.helloWorld",
                "title": "Hello World"
            }
        ]
    },
    "scripts": {
        "vscode:prepublish": "npm run compile",
        "compile": "tsc -p ./",
        "watch": "tsc -watch -p ./",
        "postinstall": "node ./node_modules/vscode/bin/install"
    },
    "devDependencies": {
        "@types/node": "^8.10.25",
        "tslint": "^5.11.0",
        "typescript": "^2.6.1",
        "vscode": "^1.1.22"
    }
}</code></pre><h3 id="æ’ä»¶å…¥å£æ–‡ä»¶"><a href="#æ’ä»¶å…¥å£æ–‡ä»¶" class="headerlink" title="æ’ä»¶å…¥å£æ–‡ä»¶"></a>æ’ä»¶å…¥å£æ–‡ä»¶</h3><hr>
<p>æ’ä»¶å…¥å£æ–‡ä»¶ä¼šå¯¼å‡ºä¸¤ä¸ªå‡½æ•°ï¼Œ<code>activate</code> å’Œ <code>deactivate</code>ï¼Œä½ æ³¨å†Œçš„<strong>æ¿€æ´»äº‹ä»¶</strong>è¢«è§¦å‘ä¹‹æ—¶æ‰§è¡Œ<code>activate</code>ï¼Œ<code>deactivate</code>åˆ™æä¾›äº†æ’ä»¶å…³é—­å‰æ‰§è¡Œæ¸…ç†å·¥ä½œçš„æœºä¼šã€‚</p>
<p><a href="https://www.npmjs.com/package/vscode" target="_blank" rel="noopener"><code>vscode</code></a>æ¨¡å—åŒ…å«äº†ä¸€ä¸ªä½äº<code>node ./node_modules/vscode/bin/install</code>çš„è„šæœ¬ï¼Œè¿™ä¸ªè„šæœ¬ä¼šæ‹‰å–<code>package.json</code>ä¸­<code>engines.vscode</code>å­—æ®µå®šä¹‰çš„VS Code APIã€‚è¿™ä¸ªè„šæœ¬æ‰§è¡Œè¿‡åï¼Œä½ å°±å¾—åˆ°äº†æ™ºèƒ½ä»£ç æç¤ºï¼Œå®šä¹‰è·³è½¬ç­‰TSç‰¹æ€§äº†ã€‚</p>
<pre><code>// 'vscode'æ¨¡å—åŒ…å«äº†VS Code extensibility API
// æŒ‰ä¸‹è¿°æ–¹å¼å¯¼å…¥è¿™ä¸ªæ¨¡å—
import * as vscode from 'vscode';
// ä¸€æ—¦ä½ çš„æ’ä»¶æ¿€æ´»ï¼Œvscodeä¼šç«‹åˆ»è°ƒç”¨ä¸‹è¿°æ–¹æ³•
export function activate(context: vscode.ExtensionContext) {
    // ç”¨consoleè¾“å‡ºè¯Šæ–­ä¿¡æ¯(console.log)å’Œé”™è¯¯(console.error)
    // ä¸‹é¢çš„ä»£ç åªä¼šåœ¨ä½ çš„æ’ä»¶æ¿€æ´»æ—¶æ‰§è¡Œä¸€æ¬¡
    console.log('Congratulations, your extension "my-first-extension" is now active!');
    // å…¥å£å‘½ä»¤å·²ç»åœ¨package.jsonæ–‡ä»¶ä¸­å®šä¹‰å¥½äº†ï¼Œç°åœ¨è°ƒç”¨registerCommandæ–¹æ³•
    // registerCommandä¸­çš„å‚æ•°å¿…é¡»ä¸package.jsonä¸­çš„commandä¿æŒä¸€è‡´
    let disposable = vscode.commands.registerCommand('extension.sayHello', () =&gt; {
        // æŠŠä½ çš„ä»£ç å†™åœ¨è¿™é‡Œï¼Œæ¯æ¬¡å‘½ä»¤æ‰§è¡Œæ—¶éƒ½ä¼šè°ƒç”¨è¿™é‡Œçš„ä»£ç 
        // ...
        // ç»™ç”¨æˆ·æ˜¾ç¤ºä¸€ä¸ªæ¶ˆæ¯æç¤º
        vscode.window.showInformationMessage('Hello World!');
    });
    context.subscriptions.push(disposable);
}</code></pre><h1 id="å¼€å‘æ’ä»¶-1"><a href="#å¼€å‘æ’ä»¶-1" class="headerlink" title="å¼€å‘æ’ä»¶"></a>å¼€å‘æ’ä»¶</h1><h2 id="æµ‹è¯•æ’ä»¶"><a href="#æµ‹è¯•æ’ä»¶" class="headerlink" title="æµ‹è¯•æ’ä»¶"></a>æµ‹è¯•æ’ä»¶</h2><p>VS Code ä¸ºä½ çš„æ’ä»¶æä¾›äº†è¿è¡Œå’Œè°ƒè¯•çš„èƒ½åŠ›ã€‚æµ‹è¯•ä¼šè¿è¡Œåœ¨ä¸€ä¸ªç‰¹æ®Šçš„ VS Code å®ä¾‹ä¸­â€”â€”<code>æ‰©å±•å¼€å‘ç¯å¢ƒ</code>ï¼Œè¿™ä¸ªç‰¹æ®Šå®ä¾‹æ‹¥æœ‰è®¿é—® VS Code API çš„å…¨éƒ¨æƒé™ã€‚æœ¬ç¯‡ä¾§é‡äº VS Code çš„é›†æˆæµ‹è¯•ï¼Œè‡³äºå•å…ƒæµ‹è¯•ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»»ä½•æµè¡Œçš„æµ‹è¯•æ¡†æ¶ï¼Œå¦‚<a href="https://mochajs.org/" target="_blank" rel="noopener">Mocha</a>æˆ–è€…<a href="https://jasmine.github.io/" target="_blank" rel="noopener">Jasmine</a>ã€‚</p>
<h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><hr>
<p><em>å¦‚æœä½ åŸæœ¬ä½¿ç”¨<code>vscode</code>åº“è¿›è¡Œæµ‹è¯•ï¼Œå¯ä»¥å‚è€ƒä»<code>vscode</code>è¿ç§»éƒ¨åˆ†</em></p>
<p>å¦‚æœä½ æ­£åœ¨ä½¿ç”¨<a href="https://github.com/Microsoft/vscode-generator-code" target="_blank" rel="noopener">yo code ç”Ÿæˆå™¨</a>ï¼Œé‚£ä¹ˆç”Ÿæˆçš„é¡¹ç›®ä¸­åº”è¯¥å·²ç»åŒ…å«äº†ä¸€äº›æµ‹è¯•ç¤ºä¾‹å’ŒæŒ‡å¼•ã€‚</p>
<p>ä½¿ç”¨<code>npm run test</code>æˆ–è€…<code>yarn test</code>å¯åŠ¨é›†æˆæµ‹è¯•ï¼Œæµ‹è¯•å·¥ç¨‹éšåä¼šï¼š</p>
<ul>
<li>ä¸‹è½½å¹¶è§£å‹æœ€æ–°çš„ VS Code ç‰ˆæœ¬</li>
<li>è¿è¡Œæ’ä»¶çš„<strong>æµ‹è¯•è„šæœ¬</strong>ä¸­æ‰€è§„å®šçš„<a href="https://mochajs.org/" target="_blank" rel="noopener">Mocha</a>æµ‹è¯•</li>
</ul>
<p>ä½ å¯ä»¥åœ¨<a href="https://github.com/microsoft/vscode-extension-samples/tree/master/helloworld-test-sample" target="_blank" rel="noopener">helloworld-test-sample</a>ä¸­æ‰¾åˆ°æœ¬ç¯‡ç¤ºä¾‹ï¼Œæœ¬ç¯‡å‰©ä½™éƒ¨åˆ†å°†è§£é‡Šä¾‹å­ä¸­çš„å¦‚ä¸‹éƒ¨åˆ†ï¼š</p>
<ul>
<li>æµ‹è¯•å…¥å£ï¼ˆ<a href="https://github.com/microsoft/vscode-extension-samples/blob/master/helloworld-test-sample/src/test/runTest.ts" target="_blank" rel="noopener">src/test/runTest.ts</a>ï¼‰</li>
<li>æµ‹è¯•è„šæœ¬(<a href="https://github.com/microsoft/vscode-extension-samples/blob/master/helloworld-test-sample/src/test/suite/index.ts" target="_blank" rel="noopener">src/test/suite/index.ts</a>)</li>
</ul>
<h3 id="æµ‹è¯•å…¥å£"><a href="#æµ‹è¯•å…¥å£" class="headerlink" title="æµ‹è¯•å…¥å£"></a>æµ‹è¯•å…¥å£</h3><hr>
<p>VS Code æä¾›äº† 2 ä¸ª CLI å‚æ•°æ¥è¿è¡Œæ’ä»¶æµ‹è¯•â€”â€”<code>--extensionDevelopmentPath</code>å’Œ<code>--extensionTestsPath</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code># - Launches VS Code Extension Host
# - Loads the extension at &lt;EXTENSION-ROOT-PATH&gt;
# - Executes the test runner script at &lt;TEST-RUNNER-SCRIPT-PATH&gt;
code \
--extensionDevelopmentPath=&lt;EXTENSION-ROOT-PATH&gt; \
--extensionTestsPath=&lt;TEST-RUNNER-SCRIPT-PATH&gt;</code></pre><p><strong>æµ‹è¯•å…¥å£</strong>ï¼ˆ<a href="https://github.com/microsoft/vscode-extension-samples/blob/master/helloworld-test-sample/src/test/runTest.ts" target="_blank" rel="noopener">src/test/runTest.ts</a>ï¼‰ï¼‰ä½¿ç”¨äº†<code>vscode-test</code>APIï¼Œç®€åŒ–äº†ä¸‹è½½ã€è§£å‹ã€å¯åŠ¨ VS Code çš„æµ‹è¯•æµç¨‹ï¼š</p>
<pre><code>import*as path from"path";
import{ runTests }from"vscode-test";
async function main(){
try{
// The folder containing the Extension Manifest package.json
// Passed to `--extensionDevelopmentPath`
const extensionDevelopmentPath = path.resolve(__dirname,"../../");
// The path to the extension test runner script
// Passed to --extensionTestsPath
const extensionTestsPath = path.resolve(__dirname,"./suite/index");
// Download VS Code, unzip it and run the integration test
    await runTests({ extensionDevelopmentPath, extensionTestsPath });
}catch(err){
    console.error("Failed to run tests");
    process.exit(1);
}
}
main();</code></pre><p><code>vscode-test</code>è¿˜æ”¯æŒï¼š</p>
<ul>
<li>å¯åŠ¨ VS Code æ—¶æ‰“å¼€æŒ‡å®šå·¥ä½œåŒº</li>
<li>ä¸‹è½½ä¸åŒç‰ˆæœ¬çš„ VS Code</li>
<li>ä½¿ç”¨å…¶ä»– CLI å‚æ•°å¯åŠ¨</li>
</ul>
<p>ä½ å¯ä»¥åœ¨<a href="https://github.com/microsoft/vscode-test" target="_blank" rel="noopener">microsoft/vscode-test</a>ä¸­æ‰¾åˆ°æ›´å¤šç”¨æ³•ã€‚</p>
<h3 id="æµ‹è¯•è„šæœ¬"><a href="#æµ‹è¯•è„šæœ¬" class="headerlink" title="æµ‹è¯•è„šæœ¬"></a>æµ‹è¯•è„šæœ¬</h3><hr>
<p>å½“ä½ è¿è¡Œæ’ä»¶çš„é›†æˆæµ‹è¯•æ—¶ï¼Œ<code>--extensionTestsPath</code>ä¼šæŒ‡å‘<strong>æµ‹è¯•è„šæœ¬</strong>(<a href="https://github.com/microsoft/vscode-extension-samples/blob/master/helloworld-test-sample/src/test/suite/index.ts" target="_blank" rel="noopener">src/test/suite/index.ts</a>)ï¼Œç„¶åè¿™ä¸ªè„šæœ¬ä¼šè¿›ä¸€æ­¥è¿è¡Œæµ‹è¯•å¥—ä»¶ã€‚ä¸‹é¢æ˜¯<code>helloworld-test-sample</code>ä¸­çš„<a href="https://github.com/microsoft/vscode-extension-samples/blob/master/helloworld-test-sample/src/test/suite/index.ts" target="_blank" rel="noopener">æµ‹è¯•è„šæœ¬</a>ï¼Œå®ƒä½¿ç”¨äº† Mocha è¿è¡Œæµ‹è¯•å¥—ä»¶ã€‚ä½ å¯ä»¥æŠŠè¿™ä¸ªæ–‡ä»¶è§†ä¸ºæµ‹è¯•çš„èµ·ç‚¹ï¼Œä½ å¯ä»¥ç”¨<a href="https://mochajs.org/api/mocha" target="_blank" rel="noopener">Mocha çš„ API</a>è‡ªå®šä¹‰å¯åŠ¨æ—¶çš„é…ç½®ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨å…¶ä»–ä»»æ„å–œæ¬¢çš„æµ‹è¯•æ¡†æ¶æ›¿ä»£ Mochaã€‚</p>
<pre><code>import*as path from"path";
import*asMochafrom"mocha";
import*as glob from"glob";
exportfunction run():Promise&lt;void&gt;{
// Create the mocha test
const mocha =newMocha({
    ui:"tdd"
});
  mocha.useColors(true);
const testsRoot = path.resolve(__dirname,"..");
returnnewPromise((c, e)=&gt;{
    glob("**/**.test.js",{ cwd: testsRoot },(err, files)=&gt;{
if(err){
return e(err);
}
// Add files to the test suite
      files.forEach(f =&gt; mocha.addFile(path.resolve(testsRoot, f)));
try{
// Run the mocha test
        mocha.run(failures =&gt;{
if(failures &gt;0){
            e(newError(`${failures} tests failed.`));
}else{
            c();
}
});
}catch(err){
        e(err);
}
});
});
}</code></pre><p>æ‰€æœ‰æµ‹è¯•è„šæœ¬å’Œ<code>*.test.js</code>æ–‡ä»¶éƒ½æœ‰è®¿é—® VS Code API çš„æƒé™ã€‚ çœ‹çœ‹è¿™ä¸ªä¾‹å­(<a href="https://github.com/microsoft/vscode-extension-samples/blob/master/helloworld-test-sample/src/test/suite/extension.test.ts" target="_blank" rel="noopener">src/test/suite/extension.test.ts</a>)</p>
<pre><code>import*asassertfrom"assert";
import{ after }from"mocha";
// You can import and use all API from the 'vscode' module
// as well as import your extension to test it
import*as vscode from"vscode";
// import * as myExtension from '../extension';
suite("Extension Test Suite",()=&gt;{
  after(()=&gt;{
    vscode.window.showInformationMessage("All tests done!");
});
  test("Sample test",()=&gt;{
assert.equal(-1,[1,2,3].indexOf(5));
assert.equal(-1,[1,2,3].indexOf(0));
});
});</code></pre><h3 id="è°ƒè¯•æµ‹è¯•æ–‡ä»¶"><a href="#è°ƒè¯•æµ‹è¯•æ–‡ä»¶" class="headerlink" title="è°ƒè¯•æµ‹è¯•æ–‡ä»¶"></a>è°ƒè¯•æµ‹è¯•æ–‡ä»¶</h3><hr>
<p>è°ƒè¯•æµ‹è¯•æ–‡ä»¶å’Œè°ƒè¯•æ’ä»¶æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸ª<code>launch.json</code>è°ƒè¯•å™¨é…ç½®çš„ä¾‹å­ï¼š</p>
<pre><code>{
"version":"0.2.0",
"configurations":[
{
"name":"Extension Tests",
"type":"extensionHost",
"request":"launch",
"runtimeExecutable":"${execPath}",
"args":[
"--extensionDevelopmentPath=${workspaceFolder}",
"--extensionTestsPath=${workspaceFolder}/out/test/suite/index"
],
"outFiles":["${workspaceFolder}/out/test/**/*.js"]
}
]
}</code></pre><h3 id="æç¤º"><a href="#æç¤º" class="headerlink" title="æç¤º"></a>æç¤º</h3><hr>
<h4 id="ä½¿ç”¨-Insider-ç‰ˆæœ¬å¼€å‘æ’ä»¶"><a href="#ä½¿ç”¨-Insider-ç‰ˆæœ¬å¼€å‘æ’ä»¶" class="headerlink" title="ä½¿ç”¨ Insider ç‰ˆæœ¬å¼€å‘æ’ä»¶"></a>ä½¿ç”¨ Insider ç‰ˆæœ¬å¼€å‘æ’ä»¶</h4><p>ç”±äº VS Code çš„é™åˆ¶ï¼Œå¦‚æœä½ ä½¿ç”¨ VS Code ç¨³å®šç‰ˆæ¥è¿è¡Œé›†æˆæµ‹è¯•ï¼Œå®ƒä¼šæŠ¥é”™ï¼š</p>
<pre><code>Running extension tests from the command line is currently only supported ifno other instance of Codeis running.</code></pre><p>æ‰€ä»¥æ¨èä½ ä½¿ç”¨<a href="https://code.visualstudio.com/insiders/" target="_blank" rel="noopener">VS Code Insiders</a>æµ‹è¯•æ’ä»¶ã€‚</p>
<h4 id="è°ƒè¯•æ—¶ç¦ç”¨å…¶ä»–æ’ä»¶"><a href="#è°ƒè¯•æ—¶ç¦ç”¨å…¶ä»–æ’ä»¶" class="headerlink" title="è°ƒè¯•æ—¶ç¦ç”¨å…¶ä»–æ’ä»¶"></a>è°ƒè¯•æ—¶ç¦ç”¨å…¶ä»–æ’ä»¶</h4><p>å½“ä½ åœ¨ VS Code ä¸­å¯¹æµ‹è¯•è¿›è¡Œè°ƒè¯•æ—¶ï¼ŒVS Code ä½¿ç”¨çš„æ˜¯å…¨å±€å®‰è£…çš„ VS Code å®ä¾‹ï¼Œå®ƒä¼šåŠ è½½æ‰€æœ‰æ’ä»¶ã€‚ä½ å¯ä»¥åœ¨<code>launch.json</code>ä¸­æ·»åŠ <code>--disable-extensions</code>æˆ–è€…åœ¨<code>runTests</code>çš„<code>launchArgs</code>é€‰é¡¹ä¸­æ·»åŠ è¯¥é¡¹ä»¥ç¦ç”¨å…¶ä»–æ’ä»¶ã€‚</p>
<pre><code>{
"version":"0.2.0",
"configurations":[
{
"name":"Extension Tests",
"type":"extensionHost",
"request":"launch",
"runtimeExecutable":"${execPath}",
"args":[
"--disable-extensions",
"--extensionDevelopmentPath=${workspaceFolder}",
"--extensionTestsPath=${workspaceFolder}/out/test/suite/index"
],
"outFiles":["${workspaceFolder}/out/test/**/*.js"]
}
]
}</code></pre><h4 id="ä½¿ç”¨vscode-testè‡ªå®šä¹‰é…ç½®"><a href="#ä½¿ç”¨vscode-testè‡ªå®šä¹‰é…ç½®" class="headerlink" title="ä½¿ç”¨vscode-testè‡ªå®šä¹‰é…ç½®"></a>ä½¿ç”¨<code>vscode-test</code>è‡ªå®šä¹‰é…ç½®</h4><p>ä½ å¯èƒ½ä¼šéœ€è¦è‡ªå®šä¹‰ä¸€äº›å¯åŠ¨é…ç½®ï¼Œæ¯”å¦‚å¯åŠ¨æµ‹è¯•å‰æ‰§è¡Œ<code>code --install-extension</code>å®‰è£…ä¸€äº›å…¶ä»–æ’ä»¶è¿™æ ·çš„åœºæ™¯ã€‚<code>vscode-test</code>æä¾›ç²’åº¦æ›´ç»†çš„ API æ¥æ“ä½œè¿™æ ·çš„åœºæ™¯ï¼š</p>
<pre><code>await runTests({
  extensionDevelopmentPath,
  extensionTestsPath,
/**
   * A list of launch arguments passed to VS Code executable, in addition to `--extensionDevelopmentPath`
   * and `--extensionTestsPath` which are provided by `extensionDevelopmentPath` and `extensionTestsPath`
   * options.
   *
   * If the first argument is a path to a file/folder/workspace, the launched VS Code instance
   * will open it.
   *
   * See `code --help` for possible arguments.
   */
  launchArgs:["--disable-extensions"]
});</code></pre><h4 id="ä»-vscode-è¿ç§»"><a href="#ä»-vscode-è¿ç§»" class="headerlink" title="ä» vscode è¿ç§»"></a>ä» vscode è¿ç§»</h4><p><code>vscode</code>ä¸­çš„é›†æˆæµ‹è¯•æ¨¡å—å·²è¿ç§»åˆ°<code>vscode-test</code>ï¼Œä½ å¯ä»¥æŒ‰ä¸‹é¢çš„æ­¥éª¤è¿›è¡Œè¿ç§»ï¼š</p>
<ul>
<li>ç§»é™¤<code>vscode</code>ä¾èµ–</li>
<li>æ·»åŠ <code>vscode-test</code>ä¾èµ–</li>
<li>ç”±äºæ—§çš„<code>vscode</code>æ¨¡å—ä¼šä¸‹è½½ VS Code ç±»å‹å®šä¹‰ï¼Œæ‰€ä»¥ä½ éœ€è¦<ul>
<li>æ‰‹åŠ¨å®‰è£…<code>@types/vscode</code>ï¼Œè¿™ä¸ªç‰ˆæœ¬éœ€å’Œä½ <code>package.json</code>çš„<code>engine.vscode</code>ç‰ˆæœ¬ä¸€è‡´ï¼Œæ¯”å¦‚ä½ çš„<code>engine.vscode</code>ç‰ˆæœ¬æ˜¯<code>1.30</code>ï¼Œé‚£ä¹ˆå°±å®‰è£…<code>@types/vscode@1.30</code></li>
<li>åˆ é™¤<code>package.json</code>ä¸­çš„<code>"postinstall": "node ./node_modules/vscode/bin/install"</code></li>
</ul>
</li>
<li>æ·»åŠ ä¸€ä¸ªæµ‹è¯•å…¥å£ï¼Œä½ å¯ä»¥åƒæˆ‘ä»¬çš„ç¤ºä¾‹ä¸€æ ·ï¼Œç”¨<code>runTest.ts</code>ä½œä¸ºå…¥å£ã€‚</li>
<li>æŒ‡å®š<code>package.json</code>ä¸­çš„<code>test</code>è„šæœ¬ï¼Œè¿è¡Œç¼–è¯‘åçš„<code>runTest.ts</code>ã€‚</li>
<li>æ·»åŠ ä¸€ä¸ªæµ‹è¯•è„šæœ¬ï¼Œä½ å¯ä»¥ç”¨<a href="https://github.com/microsoft/vscode-extension-samples/blob/master/helloworld-test-sample/src/test/suite/index.ts" target="_blank" rel="noopener">sample test runner script</a>ä½œä¸ºå…¥å£ã€‚æ³¨æ„<code>vscode</code>è¿‡å»ä¾èµ–<code>mocha@4</code>å’Œ<code>glob</code>ï¼Œç°åœ¨ä½ éœ€è¦è‡ªå·±å®‰è£…åˆ°<code>devDependency</code>é‡Œå»ã€‚</li>
</ul>
<h2 id="å‘å¸ƒæ’ä»¶"><a href="#å‘å¸ƒæ’ä»¶" class="headerlink" title="å‘å¸ƒæ’ä»¶"></a>å‘å¸ƒæ’ä»¶</h2><h3 id="vsce-â€”â€”-å‘å¸ƒå·¥å…·å‚é˜…"><a href="#vsce-â€”â€”-å‘å¸ƒå·¥å…·å‚é˜…" class="headerlink" title="vsce â€”â€” å‘å¸ƒå·¥å…·å‚é˜…"></a>vsce â€”â€” å‘å¸ƒå·¥å…·å‚é˜…</h3><p><a href="https://github.com/Microsoft/vsce" target="_blank" rel="noopener">vsce</a>æ˜¯ä¸€ä¸ªç”¨äºå°†æ’ä»¶å‘å¸ƒåˆ°<a href="https://code.visualstudio.com/docs/editor/extension-gallery" target="_blank" rel="noopener">å¸‚åœº</a>ä¸Šçš„å‘½ä»¤è¡Œå·¥å…·ã€‚</p>
<h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><hr>
<p>è¯·ç¡®è®¤æœ¬æœºå·²ç»å®‰è£…äº†<a href="https://nodejs.org/" target="_blank" rel="noopener">Node.js</a>ï¼Œç„¶åè¿è¡Œï¼š</p>
<pre><code>npm install -g vsce</code></pre><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><hr>
<p>ç„¶åä½ å°±å¯ä»¥åœ¨å‘½ä»¤è¡Œé‡Œç›´æ¥ä½¿ç”¨<code>vsce</code>äº†ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå¿«é€Ÿå‘å¸ƒçš„ç¤ºä¾‹ï¼ˆåœ¨ä½ ç™»å½•å’Œæ‰“åŒ…å¥½æ’ä»¶ä¹‹åï¼‰:</p>
<pre><code>$ vsce publish
Publishing uuid@0.0.1...
Successfully published uuid@0.0.1!</code></pre><p>æ›´å¤šå¯ç”¨çš„å‘½ä»¤å‚æ•°ï¼Œè¯·ä½¿ç”¨<code>vsce --help</code></p>
<h3 id="å‘å¸ƒæ•™ç¨‹"><a href="#å‘å¸ƒæ•™ç¨‹" class="headerlink" title="å‘å¸ƒæ•™ç¨‹"></a>å‘å¸ƒæ•™ç¨‹</h3><hr>
<p>!&gt; <strong>æ³¨æ„ï¼š</strong> å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œ<code>vsce</code>ä¸ä¼šå‘å¸ƒåŒ…å«ç”¨æˆ·æä¾› SVG å›¾ç‰‡çš„æ’ä»¶ã€‚</p>
<p>å‘å¸ƒå·¥å…·ä¼šæ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<ul>
<li><code>pacakge.json</code>æ–‡ä»¶ä¸­çš„ icon ä¸å¯ä»¥æ˜¯ SVGã€‚</li>
<li><code>pacakge.json</code>ä¸­çš„å¾½ç« ä¸å¯ä»¥æ˜¯ SVGï¼Œé™¤éæ¥è‡ªäºå¯é çš„å›¾æ ‡æ¥æº</li>
<li><code>README.md</code>å’Œ<code>CHANGELOG.md</code>ä¸­çš„å›¾ç‰‡é“¾æ¥éœ€è¦ä½¿ç”¨<code>https</code>åè®®</li>
<li><code>README.md</code>å’Œ<code>CHANGELOG.md</code>ä¸­çš„å›¾ç‰‡ä¸å¯ä»¥æ˜¯ SVGï¼Œé™¤éæ¥è‡ªå¯é çš„å›¾æ ‡æ¥æº</li>
</ul>
<hr>
<p>VS Code æ’ä»¶å¸‚åœºçš„æœåŠ¡æ˜¯<a href="https://visualstudio.microsoft.com/team-services" target="_blank" rel="noopener">Visual Studio Team Services</a>æä¾›çš„ï¼Œå› æ­¤éªŒè¯ã€ä»£ç†ã€ç®¡ç†æ’ä»¶éƒ½æ˜¯ç”±è¿™ä¸ªæœåŠ¡æä¾›çš„ã€‚</p>
<p><code>vsce</code>åªèƒ½ç”¨<a href="https://docs.microsoft.com/vsts/integrate/get-started/authentication/pats" target="_blank" rel="noopener">Personal Access Tokens</a>å‘å¸ƒæ’ä»¶ï¼Œæ‰€ä»¥è‡³å°‘è¦åˆ›å»ºä¸€ä¸ª Token ä»¥ä¾¿å‘å¸ƒæ’ä»¶ã€‚</p>
<h4 id="è·å–-Personal-Access-Token"><a href="#è·å–-Personal-Access-Token" class="headerlink" title="è·å– Personal Access Token"></a>è·å– Personal Access Token</h4><p>é¦–å…ˆï¼Œä½ å¾—æœ‰ä¸€ä¸ª<a href="https://docs.microsoft.com/azure/devops/organizations/accounts/create-organization-msa-or-work-student" target="_blank" rel="noopener">Azure DevOps ç»„ç»‡</a>ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬å‡è®¾ç»„ç»‡åä¸º<code>vscode</code>ï¼Œä»ä½ çš„ç»„ç»‡ä¸»é¡µï¼ˆä¾‹å¦‚ï¼š<code>https://dev.azure.com/vscode</code> ï¼‰è¿›å…¥<strong>å®‰å…¨ï¼ˆSecurityï¼‰</strong>é¡µé¢ï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/855dd98a1f1058f9e3ca0b838cd98381.png" alt=""></p>
<p>é€‰æ‹© Personal Access Tokenï¼Œç‚¹å‡»<strong>New Token</strong>åˆ›å»ºä¸€ä¸ªæ–°çš„ Personal Access Token</p>
<p><img src="/images/loading.gif" data-original="../images/development/a41340c10ea46a9762691fca55215117.png" alt=""></p>
<p>ç»™ Personal Access Token æ·»åŠ æè¿°ï¼Œè¿‡æœŸæ—¶é—´ç­‰ç­‰ï¼Œä½ æœ€å¥½æŠŠè¿‡æœŸæ—¶é—´è®¾ç½®ä¸º 1 å¹´ï¼Œè¿™æ ·ä½ æ¥ä¸‹å°±èƒ½æ–¹ä¾¿å¾ˆå¤šï¼Œé€‰æ‹©<strong>custom definedï¼ˆç”¨æˆ·è‡ªå®šä¹‰ï¼‰</strong>èŒƒå›´ï¼Œç„¶åç‚¹å‡»<strong>Show all scopes(æ˜¾ç¤ºå…¨éƒ¨)</strong></p>
<p><img src="/images/loading.gif" data-original="../images/development/d8ef65068357c95e06ae7c2ab54da95b.png" alt=""></p>
<p>æœ€åï¼Œåœ¨è¿™ä¸ªåˆ—è¡¨ä¸­æ‰¾åˆ°<strong>Marketplace</strong>ï¼Œå¹¶å‹¾é€‰<strong>Acquire</strong>å’Œ<strong>Manage</strong></p>
<p><img src="/images/loading.gif" data-original="../images/development/c90dfa5bd63a7eba98997629e3f0f9c0.png" alt=""></p>
<p>ç‚¹å‡»<strong>Create</strong>ï¼Œä½ å°±ä¼šçœ‹åˆ°æ–°åˆ›å»ºçš„ Personal Access Token äº†ï¼Œå¤åˆ¶å¥½ï¼Œä½ æ¥ä¸‹æ¥å°±ä¼šç”¨åˆ°è¿™ä¸ª token æ¥åˆ›å»ºä¸€ä¸ª<em>å‘è¡Œæ–¹</em>äº†ã€‚</p>
<h4 id="åˆ›å»ºä¸€ä¸ªå‘è¡Œæ–¹"><a href="#åˆ›å»ºä¸€ä¸ªå‘è¡Œæ–¹" class="headerlink" title="åˆ›å»ºä¸€ä¸ªå‘è¡Œæ–¹"></a>åˆ›å»ºä¸€ä¸ªå‘è¡Œæ–¹</h4><p><strong>å‘è¡Œæ–¹</strong>æ˜¯ VS Code å¸‚åœºæœ‰æƒå‘å¸ƒæ’ä»¶çš„å”¯ä¸€æ ‡è¯†ï¼Œæ¯ä¸ªæ’ä»¶çš„package.jsonæ–‡ä»¶éƒ½åŒ…å«ç€<code>publisher</code>å­—æ®µã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†Personal Access Tokenï¼Œæˆ‘ä»¬é©¬ä¸Šå¯ä»¥ç”¨<code>vsce</code>åˆ›å»ºä¸€ä¸ªå‘è¡Œæ–¹ï¼š</p>
<pre><code>vsce create-publisher (publisher name)</code></pre><p><code>vsce</code>ä¼šè®°ä½è¿™ä¸ª Personal Access Tokenï¼Œæ—¥åä½ éœ€è¦å†æ¬¡ä½¿ç”¨çš„æ—¶å€™ä¼šè‡ªåŠ¨å¸¦ä¸Šã€‚</p>
<p>?&gt; æ³¨æ„ï¼šå¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å¸‚åœºçš„å‘è¡Œæ–¹<a href="https://marketplace.visualstudio.com/manage" target="_blank" rel="noopener">ç®¡ç†é¡µ</a>ä¸­åˆ›å»ºå‘è¡Œæ–¹ï¼Œç„¶åç”¨è¿™ä¸ªè´¦å·ç™»å½•<code>vsce</code>ã€‚</p>
<h4 id="å‘è¡Œæ–¹ç™»å½•"><a href="#å‘è¡Œæ–¹ç™»å½•" class="headerlink" title="å‘è¡Œæ–¹ç™»å½•"></a>å‘è¡Œæ–¹ç™»å½•</h4><p>å¦‚æœä½ å·²ç»æœ‰å‘è¡Œæ–¹è´¦å·äº†ï¼š</p>
<pre><code>vsce login (publisher name)</code></pre><p>å’Œ<code>create-publisher</code>å‘½ä»¤ç±»ä¼¼åœ°ï¼Œ<code>vsce</code>ä¼šè¦æ±‚è¾“å…¥ä½ çš„ Personal Access Tokenã€‚</p>
<p>ä½ ä¹Ÿå¯ä»¥ç”¨å‘½ä»¤å‚æ•°<code>-p &lt;token&gt;</code>ç›´æ¥ç™»å½•ç„¶åç«‹å³å‘å¸ƒæ’ä»¶ï¼š</p>
<pre><code>vsce publish -p &lt;token&gt;</code></pre><h4 id="å¢é‡æ›´æ–°æ’ä»¶ç‰ˆæœ¬"><a href="#å¢é‡æ›´æ–°æ’ä»¶ç‰ˆæœ¬" class="headerlink" title="å¢é‡æ›´æ–°æ’ä»¶ç‰ˆæœ¬"></a>å¢é‡æ›´æ–°æ’ä»¶ç‰ˆæœ¬</h4><p>ç”¨ SemVer è¯­ä¹‰æ ‡è¯†ç¬¦ï¼š<code>major</code>ï¼Œ<code>minor</code>ï¼Œ<code>patch</code>å¢é‡æ›´æ–°æ’ä»¶ç‰ˆæœ¬å·ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä½ æƒ³æŠŠæ’ä»¶ä» 1.0.0 æ›´æ–°åˆ° 1.1.0ï¼Œé‚£ä¹ˆåŠ ä¸Š<code>minor</code>ï¼š</p>
<pre><code>vsce publish minor</code></pre><p>æ’ä»¶<code>package.json</code>çš„ version ä¼šå…ˆæ›´æ–°ï¼Œç„¶åæ‰å‘å¸ƒæ’ä»¶ã€‚</p>
<p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡ŒæŒ‡å®šç‰ˆæœ¬å·ï¼š</p>
<pre><code>vsce publish 2.0.1</code></pre><h4 id="ä¸‹æ¶æ’ä»¶"><a href="#ä¸‹æ¶æ’ä»¶" class="headerlink" title="ä¸‹æ¶æ’ä»¶"></a>ä¸‹æ¶æ’ä»¶</h4><p>é€šè¿‡æŒ‡å®šæ’ä»¶ id<code>publisher.extension</code>ä¸‹æ¶æ’ä»¶ï¼š</p>
<pre><code>vsce unpublish (publisher name).(extension name)</code></pre><p>!&gt; <strong>æ³¨æ„ï¼š</strong>å½“ä½ ä¸‹æ¶æ’ä»¶çš„æ—¶å€™ï¼Œå¸‚åœºä¼šç§»é™¤æ‰€æœ‰æ’ä»¶çš„å†å²ç»Ÿè®¡æ•°æ®ï¼Œè¯·åœ¨ä¸‹æ¶å‰å†ä¸‰è€ƒè™‘ï¼Œæœ€å¥½è¿˜æ˜¯æ›´æ–°æ’ä»¶å§ã€‚</p>
<h4 id="æ’ä»¶æ‰“åŒ…"><a href="#æ’ä»¶æ‰“åŒ…" class="headerlink" title="æ’ä»¶æ‰“åŒ…"></a>æ’ä»¶æ‰“åŒ…</h4><p>ä½ ä¹Ÿå¯èƒ½åªæ˜¯æƒ³æ‰“åŒ…ä¸€ä¸‹æ’ä»¶ï¼Œè€Œä¸æ˜¯å‘å¸ƒåˆ°å•†åº—é‡Œã€‚ç”¨ä¸‹åˆ—å‘½ä»¤å°†æ’ä»¶æ‰“åŒ…åˆ°<code>.vsix</code>æ–‡ä»¶ä¸­ï¼š</p>
<pre><code>vsce package</code></pre><p>è¿™ä¸ªå‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆä¸€ä¸ª<code>.vsix</code>æ–‡ä»¶ï¼Œç›´æ¥ä»<code>.vsix</code>å®‰è£…æ’ä»¶æ˜¯å…è®¸çš„ï¼ŒæŸ¥çœ‹<a href="https://github.com/Microsoft/vscode-docs/blob/master/docs/editor/extension-gallery.md#install-from-a-vsix" target="_blank" rel="noopener">ä» VSIX å®‰è£…æ’ä»¶</a>äº†è§£æ›´å¤šå†…å®¹ã€‚</p>
<h4 id="VS-Code-ç‰ˆæœ¬å…¼å®¹æ€§"><a href="#VS-Code-ç‰ˆæœ¬å…¼å®¹æ€§" class="headerlink" title="VS Code ç‰ˆæœ¬å…¼å®¹æ€§"></a>VS Code ç‰ˆæœ¬å…¼å®¹æ€§</h4><p>å½“ä½ åˆ¶ä½œæ’ä»¶çš„æ—¶å€™ï¼Œä½ éœ€è¦æè¿°æ’ä»¶å¯¹ VS Code çš„ç‰ˆæœ¬å…¼å®¹æ€§â€”â€”ä¿®æ”¹<code>package.json</code>ä¸­çš„<code>engines.vscode</code>ï¼š</p>
<pre><code>{
  "engines": {
    "vscode": "^1.8.0"
  }
}</code></pre><p><code>1.8.0</code>è¡¨ç¤ºä½ çš„æ’ä»¶åªèƒ½å…¼å®¹<code>1.8.0</code>ç‰ˆæœ¬çš„ VS Codeï¼Œ<code>^1.8.0</code>åˆ™è¡¨ç¤ºä½ çš„æ’ä»¶å‘ä¸Šå…¼å®¹ï¼ŒåŒ…æ‹¬<code>1.8.1, 1.9.0</code>ç­‰ç­‰ã€‚</p>
<p>ä½¿ç”¨<code>engines.vscode</code>å¯ä»¥ç¡®ä¿æ’ä»¶å®‰è£…ç¯å¢ƒåŒ…å«äº†æ’ä»¶ä¾èµ–çš„ APIã€‚è¿™ä¸ªæœºåˆ¶åœ¨ç¨³å®šç‰ˆå’Œ Insider ç‰ˆæœ¬éƒ½é€‚ç”¨ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å‡è®¾æœ€æ–°çš„ç¨³å®šç‰ˆ API æ˜¯<code>1.8.0</code>ï¼Œè€Œ<code>1.9.0</code>å¼•å…¥äº†æ–°çš„ APIï¼Œæ‰€ä»¥ä½ å¯ä»¥ç”¨<code>1.9.0-insider</code>æ ‡è¯†æ’ä»¶åœ¨ Insider ç‰ˆä¸­ä¹Ÿå¯æ­£å¸¸ä½¿ç”¨ã€‚ å¦‚æœä½ æƒ³ä½¿ç”¨è¿™äº›åˆšåˆšå¼•å…¥çš„ APIï¼Œåˆ™å°†ä¾èµ–ç‰ˆæœ¬è®¾ç½®ä¸º<code>^1.9.0</code>ï¼Œä½ çš„æ’ä»¶åˆ™åªèƒ½å®‰è£…åœ¨<code>&gt;=1.9.0</code>çš„ VS Code ä¸Šï¼Œä¹Ÿå°±æ„å‘³ç€æ‰€æœ‰å½“å‰çš„ Insider ç‰ˆæœ¬éƒ½å¯ä»¥ç”¨å¾—ä¸Šï¼Œè€Œç¨³å®šç‰ˆåªæœ‰åœ¨æ›´æ–°åˆ°<code>1.9.0</code>æ‰èƒ½ä½¿ç”¨ä½ çš„æ’ä»¶ã€‚</p>
<h3 id="è¿›é˜¶ç”¨æ³•"><a href="#è¿›é˜¶ç”¨æ³•" class="headerlink" title="è¿›é˜¶ç”¨æ³•"></a>è¿›é˜¶ç”¨æ³•</h3><hr>
<h4 id="ç¬¦åˆå¸‚åœºçš„æ’ä»¶"><a href="#ç¬¦åˆå¸‚åœºçš„æ’ä»¶" class="headerlink" title="ç¬¦åˆå¸‚åœºçš„æ’ä»¶"></a>ç¬¦åˆå¸‚åœºçš„æ’ä»¶</h4><p>ä½ å¯ä»¥è‡ªå®šä¹‰æ’ä»¶åœ¨å¸‚åœºä¸­çš„å¤–è§‚ï¼ŒæŸ¥çœ‹ç¤ºä¾‹<a href="https://marketplace.visualstudio.com/items/ms-vscode.Go" target="_blank" rel="noopener">GO æ’ä»¶</a>ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›è®©ä½ çš„æ’ä»¶åœ¨å¸‚åœºçœ‹èµ·æ¥æ›´é…·çš„å°æç¤ºï¼š</p>
<ul>
<li><p>æ’ä»¶æ ¹ç›®å½•ä¸‹é¢çš„</p>
<pre><code>README.md</code></pre><p>æ–‡ä»¶å¯ä»¥ç”¨æ¥å¡«å……æ’ä»¶å¸‚åœºçš„é¡µé¢å†…å®¹ã€‚</p>
<pre><code>vsce</code></pre><p>ä¼šå°† README ä¸­çš„é“¾æ¥é€šè¿‡ä¸‹é¢ä¸¤ç§æ–¹å¼ä¿®æ”¹æ‰ï¼š</p>
<ul>
<li>å¦‚æœä½ çš„<code>package.json</code>çš„<code>repository</code>å­—æ®µæ˜¯ä¸€ä¸ª Github ä»“åº“ï¼Œ<code>vsce</code>ä¼šè‡ªåŠ¨æ£€æµ‹ï¼Œç„¶åç›¸åº”åœ°è°ƒæ•´é“¾æ¥ã€‚</li>
<li>è¿è¡Œ<code>vsce package</code>æ—¶ï¼ŒåŠ ä¸Š<code>--baseContentUrl</code>å’Œ<code>--baseImagesUrl</code>æ ‡è¯†é‡è½½ä¸Šè¿°è¡Œä¸ºã€‚</li>
</ul>
</li>
<li><p>æ’ä»¶æ ¹ç›®å½•ä¸‹çš„<code>LICENSE</code>ä¼šæˆä¸ºæ’ä»¶çš„ licenseã€‚</p>
</li>
<li><p>åŒæ ·çš„<code>CHANGELOG.md</code>æ–‡ä»¶ä¼šæˆä¸ºæ’ä»¶çš„å‘å¸ƒæ—¥å¿—ã€‚</p>
</li>
<li><p>é€šè¿‡è®¾ç½®<code>package.json</code>çš„<code>galleryBanner.color</code>hex å€¼ï¼Œä¿®æ”¹ banner çš„èƒŒæ™¯è‰²ã€‚</p>
</li>
<li><p>é€šè¿‡ç»™<code>package.json</code>ä¸­çš„<code>icon</code>è®¾ç½®ä¸€ä¸ªç›¸å¯¹è·¯å¾„ï¼Œå¯ä»¥å°†ä¸€ä¸ª<code>128px</code>çš„ PNG å›¾æ ‡æ”¾è¿›ä½ çš„æ’ä»¶ä¸­ã€‚</p>
</li>
<li><p>å‚è§<a href="https://github.com/Microsoft/vscode-docs/blob/master/docs/extensionAPI/extension-manifest.md#marketplace-presentation-tips" target="_blank" rel="noopener">æ’ä»¶å¸‚åœºå±•ç°å°æç¤º</a></p>
</li>
</ul>
<h4 id="vscodeignore"><a href="#vscodeignore" class="headerlink" title=".vscodeignore"></a><code>.vscodeignore</code></h4><p>åˆ›å»ºä¸€ä¸ª<code>.vscodeignore</code>æ–‡ä»¶å¯ä»¥æ’é™¤æ’ä»¶ç›®å½•ä¸­çš„å†…å®¹ã€‚è¿™ä¸ªæ–‡ä»¶æ”¯æŒ<a href="https://github.com/isaacs/minimatch" target="_blank" rel="noopener">glob</a>æ¨¡å¼ï¼Œæ¯ä¸ªè¡¨è¾¾å¼ä¸€è¡Œã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code>**/*.ts
**/tsconfig.json
!file.ts</code></pre><p>ä½ åº”è¯¥å¿½ç•¥å“ªäº›ä¸å¿…åœ¨è¿è¡Œæ—¶ç”¨åˆ°çš„æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼šä½ çš„æ’ä»¶æ˜¯ç”¨ Typescript å†™çš„ï¼Œé‚£ä¹ˆä½ å°±åº”è¯¥å¿½ç•¥æ‰€æœ‰çš„<code>**/*.ts</code>æ–‡ä»¶ã€‚</p>
<p>?&gt; <strong>æ³¨æ„ï¼š</strong>åœ¨<code>devDependencies</code>åˆ—å‡ºçš„å¼€å‘ä¾èµ–ä¼šè¢«è‡ªåŠ¨å¿½ç•¥ï¼Œä½ ä¸å¿…å°†ä»–ä»¬åŠ å…¥åˆ°<code>.vscodeignore</code>ä¸­ã€‚</p>
<h5 id="é¢„å‘å¸ƒæ­¥éª¤"><a href="#é¢„å‘å¸ƒæ­¥éª¤" class="headerlink" title="é¢„å‘å¸ƒæ­¥éª¤"></a>é¢„å‘å¸ƒæ­¥éª¤</h5><p>ä½ æ˜¯å¯ä»¥åœ¨æ¸…å•æ–‡ä»¶ä¸­æ·»åŠ é¢„å‘å¸ƒæ­¥éª¤çš„ï¼Œä¸‹é¢çš„å‘½ä»¤ä¼šåœ¨æ’ä»¶æ¯æ¬¡æ‰“åŒ…æ—¶æ‰§è¡Œï¼š</p>
<pre><code>{
  "name": "uuid",
  "version": "0.0.1",
  "publisher": "joaomoreno",
  "engines": {
    "vscode": "0.10.x"
  },
  "scripts": {
    "vscode:prepublish": "tsc"
  }
}</code></pre><p>ä¸Šé¢çš„ç¤ºä¾‹ä¼šåœ¨æ¯æ¬¡æ’ä»¶æ‰“åŒ…æ—¶è°ƒç”¨ Typescript ç¼–è¯‘å™¨ã€‚</p>
<h3 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h3><h5 id="é—®ï¼šå½“æˆ‘å‘å¸ƒæ’ä»¶æ—¶é‡åˆ°äº†-403-Forbiddenï¼ˆæˆ–-401-Unauthorizedï¼‰é”™è¯¯ï¼Ÿ"><a href="#é—®ï¼šå½“æˆ‘å‘å¸ƒæ’ä»¶æ—¶é‡åˆ°äº†-403-Forbiddenï¼ˆæˆ–-401-Unauthorizedï¼‰é”™è¯¯ï¼Ÿ" class="headerlink" title="é—®ï¼šå½“æˆ‘å‘å¸ƒæ’ä»¶æ—¶é‡åˆ°äº† 403 Forbiddenï¼ˆæˆ– 401 Unauthorizedï¼‰é”™è¯¯ï¼Ÿ"></a>é—®ï¼šå½“æˆ‘å‘å¸ƒæ’ä»¶æ—¶é‡åˆ°äº† 403 Forbiddenï¼ˆæˆ– 401 Unauthorizedï¼‰é”™è¯¯ï¼Ÿ</h5><p>ç­”ï¼šå¾ˆæœ‰å¯èƒ½æ˜¯ä½ åˆ›å»º PAT (Personal Access Token) æ—¶æ²¡æœ‰é€‰æ‹©<code>all accessible accounts</code>ã€‚ä½ è¿˜éœ€è¦å°†æˆæƒèŒƒå›´è®¾ç½®ä¸º<code>All scopes</code>ï¼Œè¿™æ ·å‘å¸ƒå·¥å…·æ‰èƒ½å·¥ä½œã€‚</p>
<h5 id="é—®ï¼šæˆ‘æ²¡åŠæ³•ç”¨vsceå·¥å…·ä¸‹æ¶æ’ä»¶ï¼Ÿ"><a href="#é—®ï¼šæˆ‘æ²¡åŠæ³•ç”¨vsceå·¥å…·ä¸‹æ¶æ’ä»¶ï¼Ÿ" class="headerlink" title="é—®ï¼šæˆ‘æ²¡åŠæ³•ç”¨vsceå·¥å…·ä¸‹æ¶æ’ä»¶ï¼Ÿ"></a>é—®ï¼šæˆ‘æ²¡åŠæ³•ç”¨<code>vsce</code>å·¥å…·ä¸‹æ¶æ’ä»¶ï¼Ÿ</h5><p>ç­”ï¼šä½ å¯èƒ½æ”¹å˜äº†æ’ä»¶ ID æˆ–è€…å‘è¡Œæ–¹åç§°ã€‚ä¸è¿‡ä½ è¿˜å¯ä»¥åœ¨<a href="https://marketplace.visualstudio.com/manage" target="_blank" rel="noopener">ç®¡ç†é¡µé¢</a>å‘å¸ƒæˆ–è€…ä¸‹æ¶æ’ä»¶ã€‚</p>
<h5 id="é—®ï¼šä¸ºä»€ä¹ˆ-vsce-ä¸ä¿ç•™æ–‡ä»¶å±æ€§ï¼Ÿ"><a href="#é—®ï¼šä¸ºä»€ä¹ˆ-vsce-ä¸ä¿ç•™æ–‡ä»¶å±æ€§ï¼Ÿ" class="headerlink" title="é—®ï¼šä¸ºä»€ä¹ˆ vsce ä¸ä¿ç•™æ–‡ä»¶å±æ€§ï¼Ÿ"></a>é—®ï¼šä¸ºä»€ä¹ˆ vsce ä¸ä¿ç•™æ–‡ä»¶å±æ€§ï¼Ÿ</h5><p>ç­”ï¼šè¯·æ³¨æ„ï¼Œå½“ä½ åœ¨ Windows å¹³å°æ„å»ºå’Œå‘å¸ƒæ’ä»¶çš„æ—¶å€™ï¼Œæ‰€æœ‰æ’ä»¶åŒ…å†…çš„æ–‡ä»¶ä¼šä¸¢å¤± POSIX æ–‡ä»¶å±æ€§ï¼Œæˆ–ç§°ä¹‹ä¸ºæ‰§è¡Œä½ï¼ˆexecutable bitï¼‰çš„ä¸œè¥¿ã€‚ä¸€äº›åŸºäºè¿™äº›å±æ€§çš„<code>node_modules</code>ä¾èµ–åˆ™ä¼šè°ƒæ•´å·¥ä½œæ–¹å¼ã€‚ä» Linux å’Œ macOS å¹³å°æ„å»ºåˆ™ä¼šå¦‚é¢„æœŸæ‰§è¡Œã€‚</p>
<h2 id="æ‰“åŒ…æ’ä»¶"><a href="#æ‰“åŒ…æ’ä»¶" class="headerlink" title="æ‰“åŒ…æ’ä»¶"></a>æ‰“åŒ…æ’ä»¶</h2><p>VS Code æ’ä»¶ä½“ç§¯å¸¸å¸¸éšç€æ›´æ–°è¶Šæ¥è¶Šå¤§ï¼Œå®ƒä¼šäº§ç”Ÿå¾ˆå¤šæ–‡ä»¶ï¼Œè€Œä¸”è¿˜ä¾èµ–å„ç§<a href="https://www.npmjs.com/" target="_blank" rel="noopener">npm</a>åŒ…ã€‚ ç¨‹åºå¼€å‘çš„æœ€ä½³å®è·µæ˜¯æŠ½è±¡å’Œé‡ç”¨ï¼Œä½†è¿‡åº¦æ‹†åˆ†å’Œåºå¤§çš„ä»£ç ç»“æ„äº§ç”Ÿçš„ä»£ä»·å°±æ˜¯æ›´å¤§çš„æ’ä»¶ä½“ç§¯å’Œæ›´æ…¢çš„è¿è¡Œæ•ˆç‡ã€‚åŠ è½½ 100 ä¸ªå°æ–‡ä»¶è¿œæ¯”åŠ è½½ä¸€ä¸ªå¤§æ–‡ä»¶æ¥çš„æ…¢ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ›´æ¨èæ‰“åŒ…æ’ä»¶çš„åŸå› ã€‚ <em>æ‰“åŒ…</em>æ˜¯å°†å¤šä¸ªå°çš„æºæ–‡ä»¶æ‰“åŒ…æˆå•ä¸ªå…¥å£æ–‡ä»¶çš„è¿‡ç¨‹ã€‚</p>
<p>å¯¹äº Javascript è€Œè¨€ï¼Œå¯é€‰çš„æ„å»ºå·¥å…·éå¸¸å¤šï¼Œæ¯”è¾ƒæµè¡Œçš„å¦‚<a href="https://rollupjs.org/" target="_blank" rel="noopener">rollup.js</a>ï¼Œ<a href="https://parceljs.org/" target="_blank" rel="noopener">parcel</a>å’Œ<a href="https://webpack.js.org/" target="_blank" rel="noopener">webpack</a>ã€‚å¤§éƒ¨åˆ†æ„å»ºå·¥å…·çš„æ¦‚å¿µå’ŒåŠŸèƒ½éƒ½æ˜¯ç›¸ä¼¼çš„ï¼Œæœ¬èŠ‚ä¸»è¦ä½¿ç”¨<strong>webpack</strong>æ‰“åŒ…ã€‚</p>
<h3 id="ä½¿ç”¨-webpack"><a href="#ä½¿ç”¨-webpack" class="headerlink" title="ä½¿ç”¨ webpack"></a>ä½¿ç”¨ webpack</h3><hr>
<p>webpack è¿™ä¸ªå¼€å‘å·¥å…·å¯ä»¥åœ¨<a href="https://www.npmjs.com/" target="_blank" rel="noopener">npm</a>é‡Œæ‰¾åˆ°ï¼Œä¸ºäº†è·å– webpack å’Œå®ƒçš„å‘½ä»¤è¡Œç•Œé¢ï¼Œæ‰“å¼€ç»ˆç«¯ç„¶åè¾“å…¥ï¼š</p>
<pre><code>npm i --save-dev webpack webpack-cli</code></pre><p>è¿™è¡Œå‘½ä»¤ä¼šå…ˆå®‰è£… webpackï¼Œç„¶åæ›´æ–°ä½ æ’ä»¶é‡Œçš„<code>package.json</code>ä¸­çš„<code>devDependencies</code>å­—æ®µã€‚Webpack æ˜¯ä¸€ä¸ª Javascrip æ‰“åŒ…å·¥å…·ï¼Œä½†æ˜¯å¤§éƒ¨åˆ† VS Code æ’ä»¶æ˜¯ç”¨ Typescript å†™çš„ï¼Œæ‰€ä»¥ä½ éœ€è¦åœ¨ webpack ä¸­é…ç½®<code>ts-loader</code>ï¼Œå®ƒæ‰èƒ½æ­£ç¡®ç¼–è¯‘ Typescriptã€‚å®‰è£…<code>ts-loader</code>ï¼š</p>
<pre><code>npm i --save-dev ts-loader</code></pre><h3 id="é…ç½®-webpack"><a href="#é…ç½®-webpack" class="headerlink" title="é…ç½® webpack"></a>é…ç½® webpack</h3><hr>
<p>æ—¢ç„¶æ‰€æœ‰çš„å·¥å…·éƒ½å®‰è£…å¥½äº†ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥å¼€å§‹é…ç½® webpack äº†ã€‚é€šå¸¸æ¥è¯´ï¼Œä½ çš„é¡¹ç›®ç›®å½•ä¸­éœ€è¦åˆ›å»ºä¸€ä¸ª<code>webpack.config.js</code>æ–‡ä»¶ï¼Œwebpack æ‰èƒ½çŸ¥é“æŒ‰ä»€ä¹ˆè§„åˆ™æ‰“åŒ…ä½ çš„æ’ä»¶ã€‚ä¸‹é¢çš„é…ç½®ç¤ºä¾‹æ˜¯ VS Code æ’ä»¶ä¸“ç”¨çš„ï¼Œè®©æˆ‘ä»¬æ¥å¼€è¿™ä¸ªå¤´å§ï¼š</p>
<pre><code>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
//@ts-check
"use strict";
const path = require("path");
/**@type {import('webpack').Configuration}*/
const config = {
  target: "node", // vscodeæ’ä»¶è¿è¡Œåœ¨Node.jsç¯å¢ƒä¸­ ğŸ“– -&gt; https://webpack.js.org/configuration/node/
  entry: "./src/extension.ts", // æ’ä»¶çš„å…¥å£æ–‡ä»¶ ğŸ“– -&gt; https://webpack.js.org/configuration/entry-context/
  output: {
    // æ‰“åŒ…å¥½çš„æ–‡ä»¶å‚¨å­˜åœ¨'dist'æ–‡ä»¶å¤¹ä¸­ (è¯·å‚è€ƒpackage.json), ğŸ“– -&gt; https://webpack.js.org/configuration/output/
    path: path.resolve(__dirname, "dist"),
    filename: "extension.js",
    libraryTarget: "commonjs2",
    devtoolModuleFilenameTemplate: "../[resource-path]"
  },
  devtool: "source-map",
  externals: {
    vscode: "commonjs vscode" // vscode-moduleæ˜¯çƒ­æ›´æ–°çš„ä¸´æ—¶ç›®å½•ï¼Œæ‰€ä»¥è¦æ’é™¤æ‰ã€‚ åœ¨è¿™é‡Œæ·»åŠ å…¶ä»–ä¸åº”è¯¥è¢«webpackæ‰“åŒ…çš„æ–‡ä»¶, ğŸ“– -&gt; https://webpack.js.org/configuration/externals/
  },
  resolve: {
    // æ”¯æŒè¯»å–TypeScriptå’ŒJavaScriptæ–‡ä»¶, ğŸ“– -&gt; https://github.com/TypeStrong/ts-loader
    extensions: [".ts", ".js"]
  },
  module: {
    rules: [
      {
        test: /\.ts$/,
        exclude: /node_modules/,
        use: [
          {
            loader: "ts-loader"
          }
        ]
      }
    ]
  }
};
module.exports = config;</code></pre><p>è¿™ä»½æ–‡ä»¶æ˜¯<a href="https://github.com/Microsoft/vscode-extension-samples/blob/master/webpack-sample" target="_blank" rel="noopener">webpack-extension</a>ä¸­çš„<a href="https://github.com/Microsoft/vscode-extension-samples/blob/master/webpack-sample/webpack.config.js" target="_blank" rel="noopener">ä¸€éƒ¨åˆ†</a>ã€‚webpack é…ç½®æœ€åè¾“å‡ºçš„å°±æ˜¯ JS å¯¹è±¡ã€‚</p>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬å®šä¹‰äº†å¦‚ä¸‹å†…å®¹ï¼š</p>
<ul>
<li><code>traget</code>ï¼šâ€™nodeâ€™ï¼Œå› ä¸ºæˆ‘ä»¬çš„æ’ä»¶è¿è¡Œåœ¨ Node.js ç¯å¢ƒä¸­ã€‚</li>
<li><code>entry</code>ï¼šwebpack ä½¿ç”¨çš„å…¥å£æ–‡ä»¶ã€‚è¿™å°±åƒæ˜¯<code>package.json</code>ä¸­çš„<code>main</code>å±æ€§ï¼Œæœ‰ç‚¹ä¸ä¸€æ ·çš„æ˜¯ä½ è¿˜éœ€è¦ç»™ webpack æä¾›â€sourceâ€â€”â€” ä¸€èˆ¬å°±æ˜¯<code>src/extension.ts</code>ï¼Œå°å¿ƒä¸è¦é…ç½®åœ¨â€outputâ€é‡Œäº†ã€‚webpack å¯ä»¥è§£æ Typescriptï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦å†å•ç‹¬æ‰§è¡Œ Typescript ç¼–è¯‘äº†ã€‚</li>
<li><code>output</code>é…ç½®å‘Šè¯‰ webpack åº”è¯¥æŠŠæ‰“åŒ…å¥½çš„æ–‡ä»¶æ”¾åœ¨å“ªé‡Œï¼Œä¸€èˆ¬è€Œè¨€æˆ‘ä»¬ä¼šæ”¾åœ¨<code>dist</code>æ–‡ä»¶å¤¹é‡Œã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œwebpack æœ€åä¼šäº§ç”Ÿä¸€ä¸ª<code>dist/extension.js</code>æ–‡ä»¶ã€‚</li>
<li>åœ¨<code>resolve</code>å’Œ<code>module/rules</code>ä¸­é…ç½® Typescript å’Œ Javascript çš„è§£æå™¨ã€‚</li>
<li><code>externals</code>å³æ’é™¤é…ç½®ï¼Œåœ¨è¿™é‡Œå¯ä»¥é…ç½®æ‰“åŒ…æ–‡ä»¶ä¸åº”åŒ…å«çš„æ–‡ä»¶å’Œæ¨¡å—ã€‚<code>vscode</code>ä¸éœ€è¦è¢«æ‰“åŒ…æ˜¯å› ä¸ºå®ƒå¹¶ä¸å‚¨å­˜åœ¨ç£ç›˜ä¸Šï¼Œå®ƒæ˜¯ VS Code çƒ­æ›´æ–°ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶å¤¹ã€‚æ ¹æ®æ’ä»¶ä¾èµ–çš„å…·ä½“ node æ¨¡å—ï¼Œä½ å¯èƒ½éœ€è¦é€šè¿‡è¿™ä¸ªé…ç½®ä¼˜åŒ–æ‰“åŒ…æ–‡ä»¶ã€‚</li>
</ul>
<h3 id="è¿è¡Œ-webpack"><a href="#è¿è¡Œ-webpack" class="headerlink" title="è¿è¡Œ webpack"></a>è¿è¡Œ webpack</h3><hr>
<p><code>webpack.config.js</code>æ–‡ä»¶åˆ›å»ºå¥½ä¹‹åï¼Œwebpack å°±å¯ä»¥æ­£å¼å¼€å§‹å·¥ä½œäº†ã€‚ä½ å¯ä»¥ä»å‘½ä»¤è¡Œä¸­è¿è¡Œ webpackï¼Œä¸è¿‡ä¸ºäº†é¿å…é‡å¤å·¥ä½œç”¨ npm script ä¼šæ›´æœ‰æ•ˆç‡ã€‚</p>
<p>å°†ä¸‹åˆ—è„šæœ¬å¤åˆ¶åˆ°<code>package.json</code>çš„<code>scripts</code>ä¸­å»ï¼š</p>
<pre><code>"scripts": {
  "vscode:prepublish": "webpack --mode production",
  "compile": "webpack --mode none",
  "watch": "webpack --mode none --watch",
},</code></pre><p><code>compile</code>å’Œ<code>watch</code>è„šæœ¬æ˜¯å¼€å‘æ—¶ä½¿ç”¨çš„ï¼Œå®ƒä»¬ä¼šäº§ç”Ÿæ„å»ºæ–‡ä»¶ã€‚<code>vscode:prepublish</code>æ˜¯<code>vsce</code>ä½¿ç”¨çš„ï¼Œ<code>vsce</code>æ˜¯ VS Code çš„æ‰“åŒ…å’Œå‘å¸ƒå·¥å…·ï¼Œä½ éœ€è¦åœ¨å‘å¸ƒæ’ä»¶ä¹‹å‰è¿è¡Œè¿™ä¸ªå‘½ä»¤ã€‚webpack ä¸­çš„<a href="https://webpack.js.org/concepts/mode/" target="_blank" rel="noopener">mode</a>æ˜¯æ§åˆ¶ä¼˜åŒ–çº§åˆ«çš„é…ç½®é¡¹ï¼Œå¦‚æœä½ ä½¿ç”¨<code>production</code>å­—æ®µï¼Œé‚£ä¹ˆå°±ä¼šæ‰“åŒ…å‡ºæœ€å°çš„æ„å»ºæ–‡ä»¶ï¼Œä½†æ˜¯ä¹Ÿä¼šè€—è´¹æ›´å¤šæ—¶é—´ï¼Œæ‰€ä»¥æˆ‘ä»¬å¼€å‘ä¸­ä½¿ç”¨<code>none</code>ã€‚æƒ³è¦è¿è¡Œä¸Šè¿°è„šæœ¬ï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å¼€ç»ˆç«¯ï¼ˆå‘½ä»¤è¡Œï¼‰è¾“å…¥<code>npm run compile</code>æˆ–è€…ä»<em>å‘½ä»¤é¢æ¿</em>ï¼ˆCtrl+Shift+Pï¼‰ä¸­ä½¿ç”¨<strong>è¿è¡Œä»»åŠ¡</strong>æ¥å¼€å§‹ã€‚</p>
<h3 id="è¿è¡Œæ’ä»¶"><a href="#è¿è¡Œæ’ä»¶" class="headerlink" title="è¿è¡Œæ’ä»¶"></a>è¿è¡Œæ’ä»¶</h3><hr>
<p>è¿è¡Œæ’ä»¶ä¹‹å‰ï¼Œä½ éœ€è¦å°†<code>package.json</code>ä¸­çš„<code>main</code>å±æ€§æŒ‡å‘åˆ°æ„å»ºæ–‡ä»¶ä¸Šï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸Šé¢æåˆ°çš„<a href="https://github.com/Microsoft/vscode-references-view/blob/d649d01d369e338bbe70c86e03f28269cbf87027/package.json#L26" target="_blank" rel="noopener"><code>"./dist/extension"</code></a>ï¼Œæ”¹å¥½ä¹‹åæˆ‘ä»¬å°±å¯ä»¥è¿è¡Œå’Œæµ‹è¯•æ’ä»¶äº†ã€‚å…³äºè°ƒè¯•é…ç½®ï¼Œè¯·æ³¨æ„æ›´æ–°<code>launch.json</code>ä¸­çš„<code>outFiles</code>å±æ€§ã€‚</p>
<h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><hr>
<p>æ’ä»¶å¼€å‘è€…ä¸€èˆ¬éƒ½ä¼šç»™æ’ä»¶æºä»£ç è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œä½†æ˜¯æœ‰äº†å®Œå¤‡çš„åº•å±‚æ¶æ„æ”¯æŒï¼Œæ’ä»¶çš„æºä»£ç å¯ä»¥ä¸ä¾èµ–æµ‹è¯•ï¼Œwebpack äº§ç”Ÿçš„æ„å»ºæ–‡ä»¶ä¸­ä¹Ÿä¸åº”è¯¥åŒ…å«ä»»ä½•æµ‹è¯•ä»£ç ã€‚å¦‚æœéœ€è¦è¿è¡Œå•å…ƒæµ‹è¯•ï¼Œåªéœ€è¦ç®€å•åœ°ç¼–è¯‘å°±å¥½äº†ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª<code>test-compile</code>è„šæœ¬ï¼Œå®ƒä¼šæŠŠè°ƒç”¨ Typescript ç¼–è¯‘å™¨å°†æ’ä»¶ç¼–è¯‘è‡³<code>out</code>ç›®å½•ä¸­ã€‚è¿™æ ·ä¸€æ¥æˆ‘ä»¬å°±æœ‰äº† JS æ–‡ä»¶ï¼Œå†ä½¿ç”¨ä¸‹é¢çš„<code>launch.json</code>å°±è¶³å¤Ÿåº”ä»˜æµ‹è¯•äº†ã€‚</p>
<pre><code>{
  "name": "Extension Tests",
  "type": "extensionHost",
  "request": "launch",
  "runtimeExecutable": "${execPath}",
  "args": [
    "--extensionDevelopmentPath=${workspaceFolder}",
    "--extensionTestsPath=${workspaceFolder}/out/test"
  ],
  "outFiles": ["${workspaceFolder}/out/test/**/*.js"],
  "preLaunchTask": "npm: test-compile"
}</code></pre><p>è¿™ä¸ªæµ‹è¯•é…ç½®å¯¹äºé webpack æ‰“åŒ…çš„æ’ä»¶æ¥è¯´ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨çš„ã€‚æˆ‘ä»¬æ²¡å¿…è¦å°†å•å…ƒæµ‹è¯•æ‰“åŒ…èµ·æ¥ï¼Œå› ä¸ºå®ƒä»¬ä¸åº”åŒ…å«åœ¨æˆ‘ä»¬å‘å¸ƒçš„æ’ä»¶é‡Œã€‚</p>
<h3 id="å‘å¸ƒ"><a href="#å‘å¸ƒ" class="headerlink" title="å‘å¸ƒ"></a>å‘å¸ƒ</h3><hr>
<p>å‘å¸ƒå‰ä½ éœ€è¦æ›´æ–°<code>.vscodeignore</code>æ–‡ä»¶ã€‚ç°åœ¨æ‰€æœ‰ä¸œè¥¿éƒ½æ‰“åŒ…åˆ°äº†<code>dist/extension.js</code>æ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥åº”è¯¥æ’é™¤è¿™ä¸ªæ–‡ä»¶è¿˜æœ‰<code>out</code>æ–‡ä»¶å¤¹ï¼ˆæ€•ä½ æ¼äº†ï¼Œç‰¹æ­¤æé†’ï¼‰ï¼Œä»¥åŠæœ€é‡è¦çš„<code>node_modules</code>æ–‡ä»¶å¤¹ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œ<code>.vsignore</code>æ–‡ä»¶åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code>.vscode
node_modules
out/
src/
tsconfig.json
webpack.config.js</code></pre><h3 id="è¿ç§»æ’ä»¶"><a href="#è¿ç§»æ’ä»¶" class="headerlink" title="è¿ç§»æ’ä»¶"></a>è¿ç§»æ’ä»¶</h3><hr>
<p>ç”¨ webpack è¿ç§»ç°æœ‰çš„æ’ä»¶æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œæ•´ä¸ªè¿‡ç¨‹å°±åƒæˆ‘ä»¬ä¸Šé¢çš„æŒ‡å—ä¸€æ ·ã€‚çœŸå®çš„ä¾‹å­å¦‚ VS Code çš„ References è§†å›¾å°±æ˜¯ä»è¿™ä¸ª<a href="https://github.com/Microsoft/vscode-references-view/pull/50" target="_blank" rel="noopener">pull request</a>åº”ç”¨äº† webpack è€Œæ¥çš„ã€‚</p>
<p>åœ¨é‡Œé¢ï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼š</p>
<ul>
<li><code>devDependencies</code>ä¸­æ·»åŠ <code>webpack</code>ï¼Œ<code>webpack-cli</code>å’Œ<code>ts-loader</code></li>
<li>æ›´æ–° npm è„šæœ¬ä»¥ä¾¿å¼€å‘æ—¶ä½¿ç”¨ webpack</li>
<li>æ›´æ–°è°ƒè¯•é…ç½®æ–‡ä»¶<code>launch.json</code></li>
<li>æ·»åŠ å’Œä¿®æ”¹<code>webpack.config.js</code></li>
<li>æ›´æ–°<code>.vscodeignore</code>æ’é™¤<code>node_modules</code>å’Œå…¶ä»–å¼€å‘æ—¶äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶</li>
<li>å¼€å§‹äº«å—ä½“ç§¯æ›´å°ã€å®‰è£…æ›´å¿«çš„æ’ä»¶ï¼</li>
</ul>
<h3 id="ç–‘éš¾è§£ç­”"><a href="#ç–‘éš¾è§£ç­”" class="headerlink" title="ç–‘éš¾è§£ç­”"></a>ç–‘éš¾è§£ç­”</h3><hr>
<h4 id="å‹ç¼©"><a href="#å‹ç¼©" class="headerlink" title="å‹ç¼©"></a>å‹ç¼©</h4><p>ä½¿ç”¨<code>production</code>æ¨¡å¼ä¼šæ‰§è¡Œä»£ç å‹ç¼©ï¼Œå®ƒä¼šå»é™¤æºä»£ç ä¸­çš„ç©ºæ ¼å’Œæ³¨é‡Šï¼Œå¹¶æŠŠå˜é‡åå’Œå‡½æ•°åè¿›è¡Œæ›¿æ¢â€”â€”æ··æ·†å’Œå‹ç¼©ã€‚ä¸è¿‡å½¢å¦‚<code>Function.prototype.name</code>çš„ä»£ç ä¸ä¼šå‹ç¼©ã€‚</p>
<h4 id="webpack-critical-dependencies"><a href="#webpack-critical-dependencies" class="headerlink" title="webpack critical dependencies"></a>webpack critical dependencies</h4><p>å½“ä½ è¿è¡Œ webpack æ—¶ï¼Œä½ å¯èƒ½ä¼šç¢°åˆ°åƒ<strong>Critical dependencies: the request of a dependency is an expression</strong>å­—æ ·çš„è­¦å‘Šã€‚è¿™äº›è­¦å‘Šå¿…é¡»ç«‹å³å¤„ç†ï¼Œä¸€èˆ¬æ¥è¯´ä¼šå½±å“åˆ°æ‰“åŒ…è¿‡ç¨‹ã€‚è¿™å¥è¯æ„å‘³ç€ webpack ä¸èƒ½é™æ€åˆ†ææŸäº›ä¾èµ–ï¼Œä¸€èˆ¬æ˜¯ç”±åŠ¨æ€ä½¿ç”¨<code>require</code>å¯¼è‡´çš„ï¼Œæ¯”å¦‚<code>require(someDynamicVariable)</code>ã€‚</p>
<p>æƒ³è¦å¤„ç†è¿™ç±»è­¦å‘Šï¼Œä½ éœ€è¦ï¼š</p>
<ul>
<li>å°†éœ€è¦æ‰“åŒ…çš„éƒ¨åˆ†å˜æˆé™æ€çš„ä¾èµ–ã€‚</li>
<li>é€šè¿‡<code>externals</code>æ’é™¤è¿™éƒ¨åˆ†ä¾èµ–ï¼Œä½†æ˜¯æ³¨æ„å®ƒä»¬çš„ Javascript æ–‡ä»¶è¿˜æ˜¯åº”è¯¥ä¿ç•™åœ¨æˆ‘ä»¬æ‰“åŒ…çš„æ’ä»¶é‡Œï¼Œåœ¨<code>.vscodeignore</code>ä¸­ä½¿ç”¨ glob æ¨¡å¼ï¼Œæ¯”å¦‚<code>!node_modules/mySpecialModule</code>ã€‚</li>
</ul>
<h2 id="æŒç»­é›†æˆ"><a href="#æŒç»­é›†æˆ" class="headerlink" title="æŒç»­é›†æˆ"></a>æŒç»­é›†æˆ</h2><p>æ’ä»¶æµ‹è¯•ä¹Ÿå¯ä»¥ç”¨è¯¸å¦‚<a href="https://travis-ci.org/" target="_blank" rel="noopener">Travis CI</a>è‡ªåŠ¨è¿è¡Œæµ‹è¯•ã€‚<a href="https://github.com/Microsoft/vscode-test" target="_blank" rel="noopener"><code>vscode-test</code></a>åº“å¯ä»¥åŸºäº CI è®¾ç½®æ’ä»¶æµ‹è¯•ï¼Œè€Œä¸”é‡Œé¢è¿˜åŒ…å«äº†ä¸€ä¸ª Azure Pipelines çš„<a href="https://github.com/microsoft/vscode-test/tree/master/sample" target="_blank" rel="noopener">ç¤ºä¾‹æ’ä»¶</a>ã€‚ä½ å¯ä»¥å…ˆçœ‹çœ‹<a href="https://dev.azure.com/vscode/vscode-test/_build?definitionId=15" target="_blank" rel="noopener">æ„å»ºç®¡çº¿</a>æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œæˆ–è€…ç›´æ¥æŸ¥çœ‹<a href="https://github.com/microsoft/vscode-test/blob/master/sample/azure-pipelines.yml" target="_blank" rel="noopener"><code>azure-pipelines.yml</code>file</a>ã€‚</p>
<h3 id="Azure-Pipelines"><a href="#Azure-Pipelines" class="headerlink" title="Azure Pipelines"></a>Azure Pipelines</h3><hr>
<p><img src="/images/loading.gif" data-original="../images/development/6309bb25cbdaf818b7956a84541d12b7.png" alt=""></p>
<p>ä½ å¯ä»¥åœ¨<a href="https://azure.microsoft.com/services/devops/" target="_blank" rel="noopener">Azure DevOps</a>ä¸Šåˆ›å»ºå…è´¹çš„é¡¹ç›®ï¼Œå®ƒä¸ºä½ æä¾›äº†ä»£ç æ‰˜ç®¡ã€çœ‹æ¿ã€æ„å»ºå’Œæµ‹è¯•åŸºç¡€è®¾æ–½ç­‰ç­‰ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œä½ å¯ä»¥è·å¾—<a href="https://azure.microsoft.com/services/devops/pipelines/" target="_blank" rel="noopener">10 ä¸ªå…è´¹çš„å¹¶è¡Œä»»åŠ¡</a>å®¹é‡ï¼Œç”¨äºä½ æ„å»ºé¡¹ç›®ï¼Œä¸è®ºæ˜¯åœ¨ Windows, macOS è¿˜æ˜¯ Linux ä¸Šã€‚</p>
<p>é¦–å…ˆï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªå…è´¹çš„<a href="https://azure.microsoft.com/services/devops/" target="_blank" rel="noopener">Azure DevOps</a>è´¦å·ï¼Œç„¶åç»™ä½ çš„æ’ä»¶åˆ›å»ºä¸€ä¸ª<a href="https://azure.microsoft.com/en-us/features/devops-projects/" target="_blank" rel="noopener">Azure DevOps é¡¹ç›®</a>ã€‚</p>
<p>ç„¶åï¼ŒæŠŠ<code>azure-pipelines.yml</code>æ–‡ä»¶æ·»åŠ åˆ°æ’ä»¶ä»“åº“çš„æ ¹ç›®å½•ä¸‹ï¼Œä¸åŒäº Linux ä¸­çš„<code>xvfb</code>é…ç½®è„šæœ¬ï¼Œéœ€è¦ VS Code è¿è¡Œåœ¨ Linux çš„æ— å¤´ CI æœºå™¨ä¸Šï¼Œæˆ‘ä»¬çš„é…ç½®æ–‡ä»¶éå¸¸ç®€å•ï¼š</p>
<pre><code>trigger:
  - master
strategy:
  matrix:
    linux:
      imageName: "ubuntu-16.04"
    mac:
      imageName: "macos-10.13"
    windows:
      imageName: "vs2017-win2016"
pool:
  vmImage: $(imageName)
steps:
  - task: NodeTool@0
    inputs:
      versionSpec: "8.x"
    displayName: "Install Node.js"
  - bash: |
      /usr/bin/Xvfb :99 -screen 0 1024x768x24 &gt; /dev/null 2&gt;&amp;1 &amp;
      echo "&gt;&gt;&gt; Started xvfb"
    displayName: Start xvfb
    condition: and(succeeded(), eq(variables['Agent.OS'], 'Linux'))
  - bash: |
      echo "&gt;&gt;&gt; Compile vscode-test"
      yarn &amp;&amp; yarn compile
      echo "&gt;&gt;&gt; Compiled vscode-test"
      cd sample
      echo "&gt;&gt;&gt; Run sample integration test"
      yarn &amp;&amp; yarn compile &amp;&amp; yarn test
    displayName: Run Tests
    env:
      DISPLAY: ":99.0"</code></pre><p>æœ€åï¼Œåœ¨ä½ çš„ DveOps é¡¹ç›®é‡Œ<a href="https://docs.microsoft.com/azure/devops/pipelines/get-started-yaml?view=vsts#get-your-first-build" target="_blank" rel="noopener">åˆ›å»ºä¸€ä¸ªæ–°çš„ç®¡çº¿</a>ï¼Œç„¶åæŒ‡å‘<code>azure-pipelines.yml</code>æ–‡ä»¶ï¼Œå¯åŠ¨ buildï¼Œç„¶åâ€¦â€¦çœŸé¦™~</p>
<p><img src="/images/loading.gif" data-original="../images/development/a5a729d9b0bb4fe4f13c0cbd71013d19.png" alt=""></p>
<p>ä½ å¯ä»¥å¯ç”¨æŒç»­æ„å»ºâ€”â€”æ¯å½“æœ‰ pull requests è¿›å…¥ç‰¹å®šåˆ†æ”¯çš„æ—¶å€™è‡ªåŠ¨è¿›è¡Œæ„å»ºã€‚ç›¸å…³å†…å®¹è¯·æŸ¥çœ‹<a href="https://docs.microsoft.com/azure/devops/pipelines/build/triggers" target="_blank" rel="noopener">æ„å»ºç®¡çº¿è§¦å‘å™¨</a>ã€‚</p>
<h3 id="Travis-CI"><a href="#Travis-CI" class="headerlink" title="Travis CI"></a>Travis CI</h3><hr>
<p><a href="https://github.com/microsoft/vscode-test" target="_blank" rel="noopener">vscode-test</a>è¿˜åŒ…å«äº†ä¸€ä»½<a href="https://github.com/microsoft/vscode-test/blob/master/.travis.yml" target="_blank" rel="noopener">Travis CI æ„å»ºæ–‡ä»¶</a>ï¼Œå› ä¸º Travis ä¸Šçš„ç¯å¢ƒå˜é‡å®šä¹‰å’Œ Azure æ‰€æœ‰ä¸åŒï¼Œ<code>xvfb</code>è„šæœ¬ä¹Ÿæœ‰äº›è®¸ä¸ä¸€æ ·ï¼š</p>
<pre><code>language: node_js
os:
  - osx
  - linux
node_js: 8
install:
  - |
    if [ $TRAVIS_OS_NAME == "linux" ]; then
      export DISPLAY=':99.0'
      /usr/bin/Xvfb :99 -screen 0 1024x768x24 &gt; /dev/null 2&gt;&amp;1 &amp;
    fi
script:
  - |
    echo "&gt;&gt;&gt; Compile vscode-test"
    yarn &amp;&amp; yarn compile
    echo "&gt;&gt;&gt; Compiled vscode-test"
    cd sample
    echo "&gt;&gt;&gt; Run sample integration test"
    yarn &amp;&amp; yarn compile &amp;&amp; yarn test
cache: yarn</code></pre><h1 id="æ’ä»¶åŠŸèƒ½"><a href="#æ’ä»¶åŠŸèƒ½" class="headerlink" title="æ’ä»¶åŠŸèƒ½"></a>æ’ä»¶åŠŸèƒ½</h1><h2 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>VS Code æä¾›äº†éå¸¸å¤šçš„æ–¹æ³•ï¼Œä¾›æ’ä»¶æ‰©å±•VS Codeæœ¬èº«çš„èƒ½åŠ›ã€‚ä½†æ˜¯æœ‰çš„æ—¶å€™ä¹Ÿå¾ˆéš¾æ‰¾åˆ°å¯¹çš„å‘å¸ƒå†…å®¹é…ç½®å’ŒVS Code APIã€‚è¿™ç« å†…å®¹å°†æ’ä»¶çš„åŠŸèƒ½åˆ†æˆäº†å‡ ä¸ªéƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†éƒ½å°†å‘Šè¯‰ä½ ï¼š</p>
<ul>
<li>æ’ä»¶å¯ä»¥ä½¿ç”¨çš„åŠŸèƒ½</li>
<li>è¿™äº›åŠŸèƒ½ç‚¹çš„ç»†èŠ‚ç´¢å¼•</li>
<li>ä¸€äº›æ’ä»¶çµæ„Ÿ</li>
</ul>
<p>ä¸è¿‡ï¼Œæˆ‘ä»¬ä¹Ÿä¼šå‘Šè¯‰ä½ ä¸€äº›é™åˆ¶ï¼Œä¸ºäº†é¿å…æ’ä»¶å½±å“åˆ°VS Codeçš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚æ¯”å¦‚ï¼šæ’ä»¶ä¸å¯ä»¥ä¿®æ”¹VS Code UIåº•å±‚çš„DOMã€‚</p>
<h3 id="å¸¸ç”¨åŠŸèƒ½"><a href="#å¸¸ç”¨åŠŸèƒ½" class="headerlink" title="å¸¸ç”¨åŠŸèƒ½"></a>å¸¸ç”¨åŠŸèƒ½</h3><hr>
<p>å¸¸ç”¨åŠŸèƒ½æ˜¯ä½ åœ¨ä»»ä½•æ’ä»¶ä¸­éƒ½å¯èƒ½ç”¨åˆ°çš„æ ¸å¿ƒåŠŸèƒ½ã€‚</p>
<p>è¿™äº›åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>æ³¨å†Œå‘½ä»¤ã€é…ç½®ã€å¿«æ·é”®ç»‘å®šã€èœå•ç­‰ã€‚</li>
<li>ä¿å­˜å·¥ä½œåŒºæˆ–å…¨å±€æ•°æ®ã€‚</li>
<li>æ˜¾ç¤ºé€šçŸ¥ä¿¡æ¯ã€‚</li>
<li>ä½¿ç”¨å¿«é€Ÿé€‰æ‹©è·å¾—ç”¨æˆ·è¾“å…¥ã€‚</li>
<li>æ‰“å¼€ç³»ç»Ÿçš„æ–‡ä»¶é€‰æ‹©å·¥å…·ï¼Œä»¥ä¾¿ç”¨æˆ·é€‰æ‹©æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ã€‚</li>
<li>ä½¿ç”¨è¿›åº¦APIæç¤ºè€—æ—¶è¾ƒé•¿çš„æ“ä½œã€‚</li>
</ul>
<h3 id="ä¸»é¢˜"><a href="#ä¸»é¢˜" class="headerlink" title="ä¸»é¢˜"></a>ä¸»é¢˜</h3><hr>
<p>ä¸»é¢˜æ§åˆ¶ç€VS Codeçš„å¤–è§‚â€”â€”ç¼–è¾‘å™¨ä¸­çš„æºä»£ç çš„é¢œè‰²å’ŒVS Code UIé¢œè‰²ã€‚å¦‚æœä½ æ›¾ç»æƒ³è¦æŠŠVS Codeææˆç»¿è‰²ï¼Œæƒ³è±¡è‡ªå·±åœ¨é»‘å®¢å¸å›½é‡Œå†™ä»£ç ï¼Œæˆ–è€…æƒ³è¦è¿½æ±‚æç®€æ€§å†·æ·¡ç°è‰²é£æ ¼ï¼Œé‚£ä¹ˆä¸»é¢˜ç« èŠ‚å°±æ˜¯ä¸ºä½ è€Œæ¥ã€‚</p>
<h5 id="æ’ä»¶çµæ„Ÿ"><a href="#æ’ä»¶çµæ„Ÿ" class="headerlink" title="æ’ä»¶çµæ„Ÿ"></a>æ’ä»¶çµæ„Ÿ</h5><ul>
<li>æ”¹å˜ä½ çš„ä»£ç é¢œè‰²</li>
<li>æ”¹å˜VS Code UIé¢œè‰²</li>
<li>å°†ç°æœ‰çš„TextMateä¸»é¢˜åº”ç”¨åˆ°VS Codeä¸­</li>
<li>æ·»åŠ è‡ªå®šä¹‰å›¾æ ‡</li>
</ul>
<h3 id="å£°æ˜å¼æ·»åŠ è¯­è¨€ç‰¹æ€§"><a href="#å£°æ˜å¼æ·»åŠ è¯­è¨€ç‰¹æ€§" class="headerlink" title="å£°æ˜å¼æ·»åŠ è¯­è¨€ç‰¹æ€§"></a>å£°æ˜å¼æ·»åŠ è¯­è¨€ç‰¹æ€§</h3><hr>
<p>å£°æ˜å¼è¯­è¨€ç‰¹æ€§æ·»åŠ äº†åŸºç¡€çš„ç¼–ç¨‹è¯­è¨€ç¼–è¾‘æ”¯æŒï¼Œå¦‚æ‹¬å·åŒ¹é…ã€è‡ªåŠ¨ç¼©è¿›å’Œè¯­æ³•é«˜äº®ã€‚è¿™äº›åŠŸèƒ½éƒ½å¯ä»¥é€šè¿‡å£°æ˜é…ç½®è€Œä¸ç”¨å†™ä»»ä½•ä»£ç å°±å¯ä»¥è·å¾—ï¼Œæ›´é«˜çº§çš„è¯­è¨€ç‰¹æ€§å¦‚IntelliSenseæˆ–è°ƒè¯•ï¼Œè¯·çœ‹ç¼–ç¨‹å¼æ·»åŠ è¯­è¨€ç‰¹æ€§</p>
<h5 id="æ’ä»¶çµæ„Ÿ-1"><a href="#æ’ä»¶çµæ„Ÿ-1" class="headerlink" title="æ’ä»¶çµæ„Ÿ"></a>æ’ä»¶çµæ„Ÿ</h5><ul>
<li>å°†å¸¸ç”¨çš„JSä»£ç ç‰‡æ®µæ‰“åŒ…åˆ°æ’ä»¶ä¸­</li>
<li>ä¸ºVS Codeæ·»åŠ æ–°çš„è¯­è¨€æ”¯æŒ</li>
<li>ä¸ºä¸€é—¨è¯­è¨€æ·»åŠ æˆ–æ›¿æ¢è¯­æ³•</li>
<li>é€šè¿‡æ³¨å…¥çš„æ–¹å¼ï¼Œæ‰©å±•ä¸€é—¨è¯­æ³•</li>
<li>å°†ç°æœ‰çš„ TextMate è¯­æ³•è¿ç§»åˆ°VS Codeä¸­</li>
</ul>
<h3 id="ç¼–ç¨‹å¼æ·»åŠ è¯­è¨€ç‰¹æ€§"><a href="#ç¼–ç¨‹å¼æ·»åŠ è¯­è¨€ç‰¹æ€§" class="headerlink" title="ç¼–ç¨‹å¼æ·»åŠ è¯­è¨€ç‰¹æ€§"></a>ç¼–ç¨‹å¼æ·»åŠ è¯­è¨€ç‰¹æ€§</h3><hr>
<p>ç¼–ç¨‹å¼æ·»åŠ è¯­è¨€ç‰¹æ€§å¯ä»¥ä¸ºç¼–ç¨‹è¯­è¨€æ·»åŠ æ›´ä¸ºä¸°å¯Œçš„ç‰¹æ€§ï¼Œå¦‚ï¼šæ‚¬åœæç¤ºã€è½¬è·³å®šä¹‰ã€é”™è¯¯è¯Šæ–­ã€IntelliSenseå’ŒCodeLensã€‚è¿™äº›è¯­è¨€ç‰¹æ€§æš´éœ²äº<a href="https://code.visualstudio.com/api/references/vscode-api#languages" target="_blank" rel="noopener"><code>vscode.languages.*</code></a>APIã€‚è¯­è¨€æ’ä»¶å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›APIï¼Œæˆ–æ˜¯è‡ªå·±å†™ä¸€ä¸ªè¯­è¨€æœåŠ¡å™¨ï¼Œé€šè¿‡<a href="https://github.com/Microsoft/vscode-languageserver-node" target="_blank" rel="noopener">è¯­è¨€æœåŠ¡å™¨åº“</a>å°†å®ƒé€‚é…åˆ°VS Codeã€‚</p>
<p>è™½ç„¶æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªè¯­è¨€ç‰¹æ€§åˆ—è¡¨ï¼Œä½†æ˜¯å¹¶ä¸é˜»ç¢ä½ å‘æŒ¥æƒ³è±¡ï¼Œè‡ªç”±ä½¿ç”¨è¿™äº›APIã€‚æ¯”æ–¹è¯´ï¼Œåœ¨è¡Œå†…æ˜¾ç¤ºé¢å¤–ä¿¡æ¯ï¼Œä½¿ç”¨CodeLenså’Œä»£ç æ‚¬åœæ˜¯éå¸¸å¥½çš„æ–¹å¼ï¼Œè€Œé”™è¯¯è¯Šæ–­å¯ä»¥é«˜äº®æ‹¼å†™æˆ–ä»£ç é£æ ¼é”™è¯¯ã€‚</p>
<h5 id="æ’ä»¶çµæ„Ÿ-2"><a href="#æ’ä»¶çµæ„Ÿ-2" class="headerlink" title="æ’ä»¶çµæ„Ÿ"></a>æ’ä»¶çµæ„Ÿ</h5><ul>
<li>é¼ æ ‡æ‚¬åœäºAPIä¸Šæ—¶, å‡ºç°ç”¨æ³•ç¤ºä¾‹</li>
<li>ä½¿ç”¨è¯Šæ–­ï¼ŒæŠ¥å‘Šä»£ç é£æ ¼é”™è¯¯</li>
<li>æ³¨å†Œæ–°çš„HTMLä»£ç æ ¼å¼åŒ–</li>
<li>æä¾›ä¸°å¯Œçš„IntelliSenseä¸­é—´ä»¶</li>
<li>ä¸ºä¸€é—¨è¯­è¨€æ·»åŠ ä»£ç æŠ˜å ã€é¢åŒ…å±‘ã€è½®å»“æ”¯æŒ</li>
</ul>
<h3 id="æ‰©å±•å·¥ä½œå°"><a href="#æ‰©å±•å·¥ä½œå°" class="headerlink" title="æ‰©å±•å·¥ä½œå°"></a>æ‰©å±•å·¥ä½œå°</h3><hr>
<p>æ‰©å±•å·¥ä½œå°åŠ å¼ºäº† VS Code å·¥ä½œå°çš„UIï¼Œä¸ºèµ„æºç®¡ç†ä¾§è¾¹æ æ·»åŠ äº†æ–°çš„å³å‡»è¡Œä¸ºï¼Œä½ ç”šè‡³å¯ä»¥ç”¨ TreeView APIæ„å»ºè‡ªå®šä¹‰çš„èµ„æºç®¡ç†ä¾§è¾¹æ ã€‚å¦‚æœä½ çš„æ’ä»¶éœ€è¦å®Œå…¨è‡ªå®šä¹‰ç”¨æˆ·ç•Œé¢ï¼Œé‚£å°±ä½¿ç”¨Webview APIå’ŒHTMLï¼ŒCSSï¼ŒJavascriptæ„å»ºä½ è‡ªå·±çš„UIã€‚</p>
<h5 id="æ’ä»¶çµæ„Ÿ-3"><a href="#æ’ä»¶çµæ„Ÿ-3" class="headerlink" title="æ’ä»¶çµæ„Ÿ"></a>æ’ä»¶çµæ„Ÿ</h5><ul>
<li>è‡ªå®šä¹‰èµ„æºç®¡ç†ä¾§è¾¹æ çš„èœå•è¡Œä¸º</li>
<li>åœ¨ä¾§è¾¹æ ä¸­åˆ›å»ºæ–°çš„ã€äº¤äº’å¼çš„TreeView</li>
<li>å®šä¹‰æ–°çš„æ´»åŠ¨æ è§†å›¾</li>
<li>åœ¨çŠ¶æ€æ æ˜¾ç¤ºæ–°çš„ä¿¡æ¯</li>
<li>ä½¿ç”¨<code>WebView</code> APIæ˜¾ç¤ºè‡ªå®šä¹‰å†…å®¹</li>
<li>é…ç½®<em>æºæ§åˆ¶(git/svnç­‰)</em>æ¥æº</li>
</ul>
<h3 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h3><hr>
<p>ä½ å¯ä»¥åˆ©ç”¨<a href="https://code.visualstudio.com/docs/editor/debugging" target="_blank" rel="noopener">è°ƒè¯•</a>æ¥åˆ¶ä½œè°ƒè¯•å™¨æ’ä»¶ï¼Œè¿™ä¸ªæ’ä»¶éœ€è¦å°†VS Codeçš„è°ƒè¯•UIè¿æ¥åˆ°çœŸå®çš„è°ƒè¯•å™¨æˆ–è€…è¿è¡Œæ—¶ä¸Šã€‚</p>
<h5 id="æ’ä»¶çµæ„Ÿ-4"><a href="#æ’ä»¶çµæ„Ÿ-4" class="headerlink" title="æ’ä»¶çµæ„Ÿ"></a>æ’ä»¶çµæ„Ÿ</h5><ul>
<li>é€šè¿‡<a href="https://microsoft.github.io/debug-adapter-protocol/implementors/adapters/" target="_blank" rel="noopener">è°ƒè¯•é€‚é…å™¨</a>å°†VS Codeçš„è°ƒè¯•UIè¿æ¥åˆ°çœŸå®çš„è°ƒè¯•å™¨æˆ–è€…è¿è¡Œæ—¶ä¸Š</li>
<li>é€šè¿‡è°ƒè¯•å™¨æ’ä»¶æ·»åŠ è¯­è¨€æ”¯æŒ</li>
<li>ä¸ºè°ƒè¯•é…ç½®æ–‡ä»¶æ·»åŠ ä¸°å¯Œçš„æ™ºèƒ½æç¤ºæˆ–è€…æ‚¬åœä¿¡æ¯</li>
<li>ä¸ºè°ƒè¯•é…ç½®æ–‡ä»¶æ·»åŠ ä»£ç ç‰‡æ®µ</li>
</ul>
<p>å¦ä¸€æ–¹é¢ï¼ŒVS Codeä¹Ÿæä¾›äº†éå¸¸å¤šçš„<a href="https://code.visualstudio.com/api/references/vscode-api#debug" target="_blank" rel="noopener">è°ƒè¯•å™¨æ’ä»¶API</a>ï¼Œä½ å¯ä»¥ç”¨æ¥å®ç°ä»»ä½•VS Codeè°ƒè¯•å™¨ç›¸å…³çš„åŠŸèƒ½ï¼ŒåŠ å¼ºç”¨æˆ·çš„è°ƒè¯•ä½“éªŒã€‚</p>
<h5 id="æ’ä»¶çµæ„Ÿ-5"><a href="#æ’ä»¶çµæ„Ÿ-5" class="headerlink" title="æ’ä»¶çµæ„Ÿ"></a>æ’ä»¶çµæ„Ÿ</h5><ul>
<li>åŠ¨æ€ç”Ÿæˆè°ƒè¯•å™¨é…ç½®æ–‡ä»¶ï¼Œå¯åŠ¨è°ƒè¯•å™¨ä¼šè¯</li>
<li>è·Ÿè¸ªè°ƒè¯•ä¼šè¯çš„å£°æ˜å‘¨æœŸ</li>
<li>ç¼–ç¨‹å¼ç®¡ç†æ–­ç‚¹</li>
</ul>
<h3 id="é™åˆ¶"><a href="#é™åˆ¶" class="headerlink" title="é™åˆ¶"></a>é™åˆ¶</h3><hr>
<p>æœ€åï¼Œæˆ‘è¿˜å¯¹æ’ä»¶ä¹Ÿæå‡ºäº†ä¸€äº›é™åˆ¶ã€‚</p>
<h4 id="ä¸å¯è®¿é—®DOM"><a href="#ä¸å¯è®¿é—®DOM" class="headerlink" title="ä¸å¯è®¿é—®DOM"></a>ä¸å¯è®¿é—®DOM</h4><p>æ’ä»¶æ²¡æœ‰æƒé™è®¿é—®VS Code UIçš„åº•å±‚DOMï¼Œ<strong>ç¦æ­¢</strong>æ·»åŠ è‡ªå®šä¹‰çš„CSS å’Œ HTMLç‰‡æ®µåˆ°VS Code UIä¸Šã€‚</p>
<p>æˆ‘ä»¬åœ¨ä¸€ç›´åŠªåŠ›ä¼˜åŒ–VS Codeåº•å±‚çš„webæŠ€æœ¯ï¼Œä¸ºç”¨æˆ·åˆ›é€ é«˜å¯ç”¨ã€æŒç»­å“åº”çš„ç¼–è¾‘å™¨ï¼Œè€Œæˆ‘ä»¬ä¹Ÿä¼šç»§ç»­è°ƒæ•´è¿™äº›æŠ€æœ¯ä¸­ä½¿ç”¨åˆ°çš„DOMã€‚ä¸ºäº†ç¡®ä¿ä¸ä¼šå¹²æ‰°åˆ°VS Codeçš„æ€§èƒ½å’Œç¨³å®šæ€§ï¼ŒåŒæ—¶ä¸é˜»æ–­å…¶ä»–æ’ä»¶çš„è¿è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ’ä»¶éƒ½è·‘åœ¨æ’ä»¶ä¸»æœºè¿›ç¨‹ä¸­ï¼Œè€Œä¸”é˜»æ­¢äº†æ’ä»¶ç›´æ¥è®¿é—®DOMçš„é€”å¾„ã€‚</p>
<h2 id="å¸¸ç”¨åŠŸèƒ½-1"><a href="#å¸¸ç”¨åŠŸèƒ½-1" class="headerlink" title="å¸¸ç”¨åŠŸèƒ½"></a>å¸¸ç”¨åŠŸèƒ½</h2><p>å¸¸ç”¨åŠŸèƒ½å¯¹ä½ çš„æ’ä»¶æ¥è¯´éå¸¸é‡è¦ï¼Œå‡ ä¹æ‰€æœ‰çš„éƒ½ä¼šæˆ–å¤šæˆ–å°‘åœ°ç”¨åˆ°è¿™äº›åŠŸèƒ½ï¼Œä¸‹é¢æˆ‘ä»¬ä¸ºä½ ç®€å•åœ°ä»‹ç»ä¸€ä¸‹å®ƒä»¬ã€‚</p>
<h3 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h3><hr>
<p>å‘½ä»¤æ˜¯VS Code è¿ä½œçš„æ ¸å¿ƒã€‚ä½ å¯ä»¥æ‰“å¼€<em>å‘½ä»¤é¢æ¿</em>æ‰§è¡Œï¼Œç”¨å¿«æ·é”®æ‰§è¡Œï¼Œè¿˜å¯ä»¥åœ¨èœå•ä¸­é¼ æ ‡å³é”®æ‰§è¡Œã€‚</p>
<p>ä¸€ä¸ªæ’ä»¶åº”è¯¥ï¼š</p>
<ul>
<li>ä½¿ç”¨<a href="https://code.visualstudio.com/api/references/vscode-api#commands" target="_blank" rel="noopener"><code>vscode.commands</code></a>æ³¨å†Œå’Œæ‰§è¡Œå‘½ä»¤</li>
<li>é…ç½®<code>contributes.commands</code>ï¼Œç¡®ä¿å‘½ä»¤é¢æ¿ä¸­å¯ä»¥é¡ºåˆ©æ‰§è¡Œä½ æ³¨å†Œçš„å‘½ä»¤</li>
</ul>
<h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><hr>
<p>æ’ä»¶éœ€è¦åœ¨<code>contributes.configuration</code>å‘å¸ƒå†…å®¹é…ç½®ç‚¹ä¸­å¡«å†™æœ‰å…³çš„é…ç½®ï¼Œä½ å¯ä»¥<code>workspace.getConfiguration</code> APIä¸­é˜…è¯»æœ‰å…³å†…å®¹ã€‚</p>
<h3 id="é”®ä½ç»‘å®š"><a href="#é”®ä½ç»‘å®š" class="headerlink" title="é”®ä½ç»‘å®š"></a>é”®ä½ç»‘å®š</h3><hr>
<p>æ’ä»¶å¯ä»¥æ·»åŠ è‡ªå®šä¹‰é”®ä½æ˜ å°„ï¼Œåœ¨<code>contributes.keybindings</code>å’Œ<a href="https://code.visualstudio.com/docs/getstarted/keybindings" target="_blank" rel="noopener">é”®ä½ç»‘å®š</a>ä¸­äº†è§£æ›´å¤šæœ‰å…³å†…å®¹ã€‚</p>
<h3 id="èœå•"><a href="#èœå•" class="headerlink" title="èœå•"></a>èœå•</h3><hr>
<p>æ’ä»¶å¯ä»¥è‡ªå®šä¹‰ä¸Šä¸‹æ–‡èœå•é¡¹ï¼Œèœå•ä¼šæ ¹æ®ç”¨æˆ·å³å‡»VS Code UIçš„ä¸åŒä½ç½®è€Œå„ä¸ç›¸åŒã€‚æŸ¥çœ‹æ›´å¤š<code>contributes.menus</code>å‘å¸ƒå†…å®¹é…ç½®ã€‚</p>
<h3 id="æ•°æ®å‚¨å­˜"><a href="#æ•°æ®å‚¨å­˜" class="headerlink" title="æ•°æ®å‚¨å­˜"></a>æ•°æ®å‚¨å­˜</h3><hr>
<p>VS Codeä¸­æœ‰ä¸‰ç§æ•°æ®å‚¨å­˜æ–¹å¼ï¼š</p>
<ul>
<li><a href="https://code.visualstudio.com/api/references/vscode-api#ExtensionContext.workspaceState" target="_blank" rel="noopener"><code>ExtensionContext.workspaceState</code></a>ï¼šé”®å€¼å¯¹ç»„æˆçš„å·¥ä½œåŒºæ•°æ®ã€‚å½“åŒä¸€ä¸ªå·¥ä½œåŒºå†æ¬¡æ‰“å¼€æ—¶ä¼šé‡æ–°å–å‡ºæ•°æ®ã€‚</li>
<li><a href="https://code.visualstudio.com/api/references/vscode-api#ExtensionContext.globalState" target="_blank" rel="noopener"><code>ExtensionContext.globalState</code></a>ï¼šé”®å€¼å¯¹ç»„æˆçš„å…¨å±€æ•°æ®ã€‚å½“æ’ä»¶æ¿€æ´»æ—¶ä¼šå†æ¬¡å–å‡ºè¿™äº›æ•°æ®ã€‚</li>
<li><a href="https://code.visualstudio.com/api/references/vscode-api#ExtensionContext.storagePath" target="_blank" rel="noopener"><code>ExtensionContext.storagePath</code></a>ï¼šæŒ‡å‘ä½ çš„æ’ä»¶å¯ä»¥è¯»å†™çš„æœ¬åœ°æ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚å¦‚æœä½ è¦å‚¨å­˜æ¯”è¾ƒå¤§çš„æ•°æ®ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©ã€‚</li>
<li><a href="https://code.visualstudio.com/api/references/vscode-api#ExtensionContext.globalStoragePath" target="_blank" rel="noopener"><code>ExtensionContext.globalStoragePath</code></a>ï¼šæŒ‡å‘ä½ çš„æ’ä»¶å¯ä»¥è¯»å†™çš„æœ¬åœ°å­˜å‚¨çš„è·¯å¾„ã€‚å¦‚æœä½ è¦å­˜å‚¨æ‰€æœ‰å·¥ä½œåŒºå†…çš„å¤§æ–‡ä»¶ï¼Œè¿™æ—¶ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©ã€‚</li>
</ul>
<p>æ’ä»¶çš„æ‰§è¡Œä¸Šä¸‹æ–‡åœ¨<code>activate</code>å‡½æ•°ã€‚</p>
<h3 id="æ˜¾ç¤ºé€šçŸ¥"><a href="#æ˜¾ç¤ºé€šçŸ¥" class="headerlink" title="æ˜¾ç¤ºé€šçŸ¥"></a>æ˜¾ç¤ºé€šçŸ¥</h3><hr>
<p>å‡ ä¹æ‰€æœ‰çš„æ’ä»¶éƒ½éœ€è¦åœ¨æŸäº›æ—¶å€™ä¸ºç”¨æˆ·æç¤ºä¿¡æ¯ã€‚VS Codeæä¾›äº†3ä¸ªAPIæ¥å±•ç¤ºä¸åŒé‡è¦ç¨‹åº¦çš„ä¿¡æ¯ï¼š</p>
<ul>
<li><a href="https://code.visualstudio.com/api/references/vscode-api#window.showInformationMessage" target="_blank" rel="noopener"><code>window.showInformationMessage</code></a></li>
<li><a href="https://code.visualstudio.com/api/references/vscode-api#window.showWarningMessage" target="_blank" rel="noopener"><code>window.showWarningMessage</code></a></li>
<li><a href="https://code.visualstudio.com/api/references/vscode-api#window.showErrorMessage" target="_blank" rel="noopener"><code>window.showErrorMessage</code></a></li>
</ul>
<h3 id="å¿«é€Ÿé€‰æ‹©"><a href="#å¿«é€Ÿé€‰æ‹©" class="headerlink" title="å¿«é€Ÿé€‰æ‹©"></a>å¿«é€Ÿé€‰æ‹©</h3><hr>
<p>ä½¿ç”¨<a href="https://code.visualstudio.com/api/references/vscode-api#QuickPick" target="_blank" rel="noopener"><code>vscode.QuickPick</code></a>APIï¼Œä½ å¯ä»¥è½»æ¾åœ°æ”¶é›†ç”¨æˆ·è¾“å…¥æˆ–è€…ä¸ºç”¨æˆ·æ˜¾ç¤ºé€‰æ‹©åˆ—è¡¨ã€‚<a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/quickinput-sample" target="_blank" rel="noopener">å¿«é€Ÿè¾“å…¥ ç¤ºä¾‹</a>å°†è¯¦ç»†è§£é‡Šè¿™ä¸ªAPIã€‚</p>
<h3 id="æ–‡ä»¶é€‰æ‹©"><a href="#æ–‡ä»¶é€‰æ‹©" class="headerlink" title="æ–‡ä»¶é€‰æ‹©"></a>æ–‡ä»¶é€‰æ‹©</h3><hr>
<p>æ’ä»¶å¯ä»¥ä½¿ç”¨<a href="https://code.visualstudio.com/api/references/vscode-api#vscode.window.showOpenDialog" target="_blank" rel="noopener"><code>vscode.window.showOpenDialog</code></a>APIæ‰“å¼€ç³»ç»Ÿæ–‡ä»¶é€‰æ‹©å™¨ï¼Œç„¶åé€‰æ‹©æ–‡ä»¶æˆ–æ˜¯æ–‡ä»¶å¤¹ã€‚</p>
<h3 id="è¾“å‡ºæ¸ é“"><a href="#è¾“å‡ºæ¸ é“" class="headerlink" title="è¾“å‡ºæ¸ é“"></a>è¾“å‡ºæ¸ é“</h3><hr>
<p><em>è¾“å‡ºé¢æ¿</em>æ˜¾ç¤ºäº†ä¸€ç»„<a href="https://code.visualstudio.com/api/references/vscode-api#OutputChannel" target="_blank" rel="noopener"><code>è¾“å‡ºæ¸ é“</code></a>ï¼Œä»¥ä¾¿äºä½ æŸ¥çœ‹æ—¥å¿—ã€‚ä½ å¯ä»¥ä½¿ç”¨<a href="https://code.visualstudio.com/api/references/vscode-api#window.createOutputChannel" target="_blank" rel="noopener"><code>window.createOutputChannel</code></a>åˆ›å»ºä¸€ä¸ªæ–°çš„è¾“å‡ºæ¸ é“ã€‚</p>
<h3 id="è¿›åº¦API"><a href="#è¿›åº¦API" class="headerlink" title="è¿›åº¦API"></a>è¿›åº¦API</h3><hr>
<p>ä½¿ç”¨<a href="https://code.visualstudio.com/api/references/vscode-api#Progress" target="_blank" rel="noopener"><code>vscode.Progress</code></a>å°†å¤„ç†è¿›åº¦æŠ¥å‘Šç»™ç”¨æˆ·ã€‚</p>
<p>é€šè¿‡<a href="https://code.visualstudio.com/api/references/vscode-api#ProgressLocation" target="_blank" rel="noopener"><code>ProgressLocation</code></a>é€‰é¡¹ï¼Œè¿›åº¦å¯ä»¥æ˜¾ç¤ºåœ¨ä¸åŒçš„åŒºåŸŸï¼š</p>
<ul>
<li>æ˜¾ç¤ºåœ¨é€šçŸ¥åŒº</li>
<li>æ˜¾ç¤ºåœ¨æºæ§åˆ¶è§†å›¾</li>
<li>VS Codeçª—å£ä¸­çš„é€šç”¨è¿›åº¦æ¡ä½ç½®</li>
</ul>
<p>è¯¦è§<a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/progress-sample" target="_blank" rel="noopener">è¿›åº¦ ç¤ºä¾‹</a>ã€‚</p>
<h2 id="ä¸»é¢˜-1"><a href="#ä¸»é¢˜-1" class="headerlink" title="ä¸»é¢˜"></a>ä¸»é¢˜</h2><p>VS Codeä¸­çš„ä¸»é¢˜åˆ†ä¸ºä¸¤ç±»ï¼š</p>
<ul>
<li><strong>è‰²å½©ä¸»é¢˜</strong>ï¼šUIç»„ä»¶IDå’Œæ–‡æœ¬ç¬¦å·IDåˆ°è‰²å½©é—´çš„æ˜ å°„ã€‚é€šè¿‡è‰²å½©ä¸»é¢˜ä½ å¯ä»¥ä¿®æ”¹VS Code UIç»„å’Œç¼–è¾‘å™¨ä¸­çš„æ–‡æœ¬ã€‚</li>
<li><strong>å›¾æ ‡ä¸»é¢˜</strong>ï¼šæ–‡ä»¶ç±»å‹/åç§°åˆ°å›¾ç‰‡ä¹‹é—´çš„æ˜ å°„ã€‚æ–‡ä»¶å›¾æ ‡æ˜¾ç¤ºäºVS Codeçš„èµ„æºç®¡ç†ä¾§è¾¹æ ã€å¿«é€Ÿæ‰“å¼€åˆ—è¡¨å’Œç¼–è¾‘å™¨Tabç­‰UIä¸­ã€‚</li>
</ul>
<h3 id="è‰²å½©ä¸»é¢˜"><a href="#è‰²å½©ä¸»é¢˜" class="headerlink" title="è‰²å½©ä¸»é¢˜"></a>è‰²å½©ä¸»é¢˜</h3><hr>
<p><img src="/images/loading.gif" data-original="../images/development/1dcbc165af80dbe5d13595380bf56157.png" alt=""></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè‰²å½©ä¸»é¢˜å®šä¹‰äº†2ç§æ˜ å°„ï¼š</p>
<ul>
<li><code>colors</code>æ§åˆ¶UIç»„ä»¶çš„é¢œè‰²</li>
<li><code>tokenColors</code>æ§åˆ¶äº†æ¯ä¸ªä»£ç æ ‡è®°å•å…ƒ(ä½ çš„ä»£ç ä¼šæ ¹æ®è¯­æ³•åˆ†å‰²æˆä¸€ä¸ªä¸ªæ ‡è®°å•å…ƒ)çš„é¢œè‰²ã€‚</li>
</ul>
<p>åˆ›å»ºä¸»é¢˜è¯¦è§è‰²å½©ä¸»é¢˜æŒ‡å—å’Œ<a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/theme-sample" target="_blank" rel="noopener">è‰²å½©ä¸»é¢˜ ç¤ºä¾‹</a></p>
<h3 id="å›¾æ ‡ä¸»é¢˜"><a href="#å›¾æ ‡ä¸»é¢˜" class="headerlink" title="å›¾æ ‡ä¸»é¢˜"></a>å›¾æ ‡ä¸»é¢˜</h3><hr>
<p>å›¾æ ‡ä¸»é¢˜å…è®¸ä½ ï¼š</p>
<ul>
<li>å°†å›¾æ ‡IDæ˜ å°„è‡³å›¾ç‰‡æˆ–è€…å­—ä½“å›¾æ ‡ä¸Šã€‚</li>
<li>æ ¹æ®æ–‡ä»¶åæˆ–è¿™ä¸ªæ–‡ä»¶çš„è¯­è¨€ç±»å‹å…³è”ä¸Šå›¾æ ‡ID</li>
</ul>
<h2 id="æ‰©å±•å·¥ä½œå°-1"><a href="#æ‰©å±•å·¥ä½œå°-1" class="headerlink" title="æ‰©å±•å·¥ä½œå°"></a>æ‰©å±•å·¥ä½œå°</h2><p>â€œå·¥ä½œå°â€æ˜¯æŒ‡æ•´ä¸ªVS Code UIå’Œå…¶ä¸­åŒ…å«çš„ä¸‹åˆ—UI ç»„ä»¶ï¼š</p>
<ul>
<li>æ ‡é¢˜æ </li>
<li>æ´»åŠ¨æ </li>
<li>ä¾§è¾¹æ </li>
<li>é¢æ¿</li>
<li>ç¼–è¾‘å™¨ç¾¤</li>
<li>çŠ¶æ€æ </li>
</ul>
<p>VS Codeæä¾›äº†å„å¼å„æ ·çš„APIè®©åœ¨å·¥ä½œå°ä½ æ·»åŠ è‡ªå·±çš„ç»„ä»¶ã€‚æ¯”å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/f838b50a645e72e2b4ff80292406d341.png" alt=""></p>
<ul>
<li>æ´»åŠ¨æ ï¼š<a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azureappservice" target="_blank" rel="noopener">Azure App Service extension</a>æ·»åŠ äº†ä¸€ä¸ªè§†å›¾å®¹å™¨</li>
<li>ä¾§è¾¹æ ï¼šå†…ç½®çš„<a href="https://github.com/Microsoft/vscode/tree/master/extensions/npm" target="_blank" rel="noopener">NPM æ’ä»¶</a> æ·»åŠ äº†ä¸€ä¸ª Tree View åˆ°èµ„æºç®¡ç†å™¨è§†å›¾</li>
<li>ç¼–è¾‘å™¨ç¾¤ï¼šå†…ç½®çš„<a href="https://github.com/Microsoft/vscode/tree/master/extensions/markdown-language-features" target="_blank" rel="noopener">Markdown æ’ä»¶</a> æ·»åŠ äº†ä¸€ä¸ªWebview åˆ°ç¼–è¾‘å™¨çš„æ—è¾¹</li>
<li>çŠ¶æ€æ ï¼š<a href="https://marketplace.visualstudio.com/items?itemName=vscodevim.vim" target="_blank" rel="noopener">VSCodeVim æ’ä»¶</a> æ·»åŠ äº†ä¸€ä¸ªçŠ¶æ€æ é¡¹ç›®</li>
</ul>
<h3 id="è§†å›¾å®¹å™¨"><a href="#è§†å›¾å®¹å™¨" class="headerlink" title="è§†å›¾å®¹å™¨"></a>è§†å›¾å®¹å™¨</h3><hr>
<p>åœ¨<code>contributes.viewsContainers</code>å‘å¸ƒå†…å®¹é…ç½®ä¸­ï¼Œä½ å¯ä»¥æ·»åŠ æ–°çš„è§†å›¾å®¹å™¨åœ¨5ä¸ªå†…ç½®çš„è§†å›¾å®¹å™¨ä¸­ã€‚å­¦ä¹ æ›´å¤šæ ‘è§†å›¾ã€‚</p>
<h3 id="æ ‘è§†å›¾"><a href="#æ ‘è§†å›¾" class="headerlink" title="æ ‘è§†å›¾"></a>æ ‘è§†å›¾</h3><hr>
<p>åœ¨<code>contributes.views</code>å‘å¸ƒå†…å®¹é…ç½®ä¸­ï¼Œä½ å¯ä»¥æ·»åŠ åœ¨ä»»ä½•è§†å›¾å®¹å™¨å²æ·»åŠ æ–°çš„è§†å›¾ã€‚å­¦ä¹ æ›´å¤šæ ‘è§†å›¾ã€‚</p>
<h3 id="Webview"><a href="#Webview" class="headerlink" title="Webview"></a>Webview</h3><hr>
<p>Webviewæ˜¯ä½¿ç”¨HTML/CSS/JSé«˜åº¦å®šåˆ¶çš„è§†å›¾ã€‚å®ƒä»¬æ˜¾ç¤ºåœ¨ç¼–è¾‘å™¨åŒºåŸŸä¸­ã€‚è¯¦è§WebviewæŒ‡å—ã€‚</p>
<h3 id="çŠ¶æ€æ é¡¹"><a href="#çŠ¶æ€æ é¡¹" class="headerlink" title="çŠ¶æ€æ é¡¹"></a>çŠ¶æ€æ é¡¹</h3><hr>
<p>æ’ä»¶å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰çš„<a href="https://code.visualstudio.com/api/references/vscode-api#StatusBarItem" target="_blank" rel="noopener"><code>StatusBarItem</code></a>æ˜¾ç¤ºåœ¨çŠ¶æ€æ ä¸­ã€‚çŠ¶æ€æ é¡¹å¯ä»¥æ˜¾ç¤ºæ–‡æœ¬å’Œå›¾æ ‡ï¼Œè¿˜å¯ä»¥åœ¨ç‚¹å‡»äº‹ä»¶è§¦å‘æ—¶è¿è¡Œå‘½ä»¤ã€‚</p>
<ul>
<li>æ˜¾ç¤ºæ–‡æœ¬å’Œå›¾æ ‡</li>
<li>ç‚¹å‡»æ—¶è¿è¡Œå‘½ä»¤</li>
</ul>
<p>çŠ¶æ€æ æ’ä»¶çš„ä¾‹å­å¯ä»¥<a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/statusbar-sample" target="_blank" rel="noopener">æˆ³è¿™é‡Œ</a></p>
<h1 id="æ’ä»¶æŒ‡å—"><a href="#æ’ä»¶æŒ‡å—" class="headerlink" title="æ’ä»¶æŒ‡å—"></a>æ’ä»¶æŒ‡å—</h1><h2 id="æ¦‚è¿°-2"><a href="#æ¦‚è¿°-2" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>é€šè¿‡Hello Worldå­¦ä¹ è¿‡åŸºæœ¬çš„VS Codeæ’ä»¶APIä¹‹åï¼Œç°åœ¨æ˜¯æ—¶é—´ææçœŸæ­£çš„æ’ä»¶äº†ã€‚åœ¨æ’ä»¶åŠŸèƒ½ç« èŠ‚ï¼Œåœ¨æ›´å®½æ³›çš„å±‚é¢ä¸Šä»‹ç»äº†æ’ä»¶<strong>èƒ½åš</strong>äº›ä»€ä¹ˆï¼Œæœ¬ç« åˆ™ç»†åŒ–äº†å„ä¸ªåŠŸèƒ½ç‚¹ï¼Œå¹¶æä¾›äº†<strong>è¯¦ç»†çš„ä»£ç </strong>å’ŒVS Code APIçš„è§£é‡Šã€‚</p>
<p>åœ¨æ¯ä¸ªæŒ‡å—-ç¤ºä¾‹ç»„åˆä¸­ï¼Œä½ å°†ä¼šçœ‹åˆ°ï¼š</p>
<ul>
<li>è´¯ç©¿æ•´ä¸ªä»£ç çš„æ³¨é‡Š</li>
<li>ä½¿ç”¨ç¤ºä¾‹æ’ä»¶çš„gifæˆ–è€…å›¾ç‰‡</li>
<li>è¿è¡Œç¤ºä¾‹æ’ä»¶æŒ‡å¼•</li>
<li>ä½¿ç”¨è¿‡çš„VS Code APIåˆ—è¡¨</li>
<li>ä½¿ç”¨è¿‡çš„é…ç½®ç‚¹åˆ—è¡¨</li>
<li>çœŸæ­£çš„ç»„åˆæ’ä»¶ç¤ºä¾‹</li>
<li>APIæ¦‚å¿µè§£é‡Š</li>
</ul>
<h3 id="æŒ‡å—å’Œä¾‹å­"><a href="#æŒ‡å—å’Œä¾‹å­" class="headerlink" title="æŒ‡å—å’Œä¾‹å­"></a>æŒ‡å—å’Œä¾‹å­</h3><hr>
<p>ä¸‹é¢æ˜¯ä¸€ä»½æŒ‡å—å’Œä¾‹å­çš„è¡¨æ ¼ï¼Œè™½ç„¶æ¯ä¸ªæŒ‡å—éƒ½è¦æœ‰ç¤ºä¾‹ä»£ç ï¼Œä½†æ˜¯ä¸€äº›ç¤ºä¾‹ç›®å‰æš‚æ—¶è¿˜æ²¡æœ‰ä¸ä¹‹åŒ¹é…çš„æŒ‡å—ã€‚</p>
<p>æ¯ä¸ªä¾‹å­éƒ½è‡³å°‘é˜é‡Šäº†ä¸€ä¸ªVS Code APIæˆ–è€…å‘å¸ƒå†…å®¹é…ç½®çš„ä½¿ç”¨ã€‚</p>
<table>
<thead>
<tr>
<th align="left">ä¾‹å­</th>
<th align="left">VS Codeç½‘é¡µæŒ‡å—</th>
<th align="left">API &amp; é…ç½®</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/webview-sample" target="_blank" rel="noopener">Webview Sample</a></td>
<td align="left">/extension-guides/webview</td>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#window.createWebviewPanel" target="_blank" rel="noopener">window.createWebviewPanel</a> <a href="https://code.visualstudio.com/api/references/vscode-api#window.registerWebviewPanelSerializer" target="_blank" rel="noopener">window.registerWebviewPanelSerializer</a></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/statusbar-sample" target="_blank" rel="noopener">Status Bar Sample</a></td>
<td align="left">N/A</td>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#window.createStatusBarItem" target="_blank" rel="noopener">window.createStatusBarItem</a> <a href="https://code.visualstudio.com/api/references/vscode-api#StatusBarItem" target="_blank" rel="noopener">StatusBarItem</a></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/tree-view-sample" target="_blank" rel="noopener">Tree View Sample</a></td>
<td align="left">/extension-guides/tree-view</td>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#window.createTreeView" target="_blank" rel="noopener">window.createTreeView</a> <a href="https://code.visualstudio.com/api/references/vscode-api#window.registerTreeDataProvider" target="_blank" rel="noopener">window.registerTreeDataProvider</a> <a href="https://code.visualstudio.com/api/references/vscode-api#TreeView" target="_blank" rel="noopener">TreeView</a> <a href="https://code.visualstudio.com/api/references/vscode-api#TreeDataProvider" target="_blank" rel="noopener">TreeDataProvider</a> <a href="https://www.bookstack.cn/read/VS-Code-Extension-Doc-ZH/$docs-extension-guides-references-contribution-points?#contributesviews" target="_blank" rel="noopener">contributes.views</a> <a href="https://www.bookstack.cn/read/VS-Code-Extension-Doc-ZH/$docs-extension-guides-references-contribution-points#contributesviewscontainers" target="_blank" rel="noopener">contributes.viewsContainers</a></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/task-provider-sample" target="_blank" rel="noopener">Task Provider Sample</a></td>
<td align="left">/extension-guides/task-provider</td>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#tasks.registerTaskProvider" target="_blank" rel="noopener">tasks.registerTaskProvider</a> <a href="https://code.visualstudio.com/api/references/vscode-api#Task" target="_blank" rel="noopener">Task</a> <a href="https://code.visualstudio.com/api/references/vscode-api#ShellExecution" target="_blank" rel="noopener">ShellExecution</a> <a href="https://www.bookstack.cn/read/VS-Code-Extension-Doc-ZH/$docs-extension-guides-references-contribution-points?id=contributestaskdefinitions" target="_blank" rel="noopener">contributes.taskDefinitions</a></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/basic-multi-root-sample" target="_blank" rel="noopener">Multi Root Sample</a></td>
<td align="left">N/A</td>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#workspace.getWorkspaceFolder" target="_blank" rel="noopener">workspace.getWorkspaceFolder</a> <a href="https://code.visualstudio.com/api/references/vscode-api#workspace.onDidChangeWorkspaceFolders" target="_blank" rel="noopener">workspace.onDidChangeWorkspaceFolders</a></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/completions-sample" target="_blank" rel="noopener">Completion Provider Sample</a></td>
<td align="left">N/A</td>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerCompletionItemProvider" target="_blank" rel="noopener">languages.registerCompletionItemProvider</a> <a href="https://code.visualstudio.com/api/references/vscode-api#CompletionItem" target="_blank" rel="noopener">CompletionItem</a> <a href="https://code.visualstudio.com/api/references/vscode-api#SnippetString" target="_blank" rel="noopener">SnippetString</a></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/fsprovider-sample" target="_blank" rel="noopener">File System Provider Sample</a></td>
<td align="left">N/A</td>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#workspace.registerFileSystemProvider" target="_blank" rel="noopener">workspace.registerFileSystemProvider</a></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/decorator-sample" target="_blank" rel="noopener">Editor Decorator Sample</a></td>
<td align="left">N/A</td>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#TextEditor.setDecorations" target="_blank" rel="noopener">TextEditor.setDecorations</a> <a href="https://code.visualstudio.com/api/references/vscode-api#DecorationOptions" target="_blank" rel="noopener">DecorationOptions</a> <a href="https://code.visualstudio.com/api/references/vscode-api#DecorationInstanceRenderOptions" target="_blank" rel="noopener">DecorationInstanceRenderOptions</a> <a href="https://code.visualstudio.com/api/references/vscode-api#ThemableDecorationInstanceRenderOptions" target="_blank" rel="noopener">ThemableDecorationInstanceRenderOptions</a> <a href="https://code.visualstudio.com/api/references/vscode-api#window.createTextEditorDecorationType" target="_blank" rel="noopener">window.createTextEditorDecorationType</a> <a href="https://code.visualstudio.com/api/references/vscode-api#TextEditorDecorationType" target="_blank" rel="noopener">TextEditorDecorationType</a> <a href="https://www.bookstack.cn/read/VS-Code-Extension-Doc-ZH/$docs-extension-guides-references-contribution-points#contributescolors" target="_blank" rel="noopener">contributes.colors</a></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/i18n-sample" target="_blank" rel="noopener">I18n Sample</a></td>
<td align="left">N/A</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/terminal-sample" target="_blank" rel="noopener">Terminal Sample</a></td>
<td align="left">N/A</td>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#window.createTerminal" target="_blank" rel="noopener">window.createTerminal</a> <a href="https://code.visualstudio.com/api/references/vscode-api#window.onDidChangeActiveTerminal" target="_blank" rel="noopener">window.onDidChangeActiveTerminal</a> <a href="https://code.visualstudio.com/api/references/vscode-api#window.onDidCloseTerminal" target="_blank" rel="noopener">window.onDidCloseTerminal</a> <a href="https://code.visualstudio.com/api/references/vscode-api#window.onDidOpenTerminal" target="_blank" rel="noopener">window.onDidOpenTerminal</a> <a href="https://code.visualstudio.com/api/references/vscode-api#window.Terminal" target="_blank" rel="noopener">window.Terminal</a> <a href="https://code.visualstudio.com/api/references/vscode-api#window.terminals" target="_blank" rel="noopener">window.terminals</a></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/vim-sample" target="_blank" rel="noopener">Vim Sample</a></td>
<td align="left">N/A</td>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#commands" target="_blank" rel="noopener">commands</a> <a href="https://code.visualstudio.com/api/references/vscode-api#StatusBarItem" target="_blank" rel="noopener">StatusBarItem</a> <a href="https://code.visualstudio.com/api/references/vscode-api#window.createStatusBarItem" target="_blank" rel="noopener">window.createStatusBarItem</a> <a href="https://code.visualstudio.com/api/references/vscode-api#TextEditorCursorStyle" target="_blank" rel="noopener">TextEditorCursorStyle</a> <a href="https://code.visualstudio.com/api/references/vscode-api#window.activeTextEditor" target="_blank" rel="noopener">window.activeTextEditor</a> <a href="https://code.visualstudio.com/api/references/vscode-api#Position" target="_blank" rel="noopener">Position</a> <a href="https://code.visualstudio.com/api/references/vscode-api#Range" target="_blank" rel="noopener">Range</a> <a href="https://code.visualstudio.com/api/references/vscode-api#Selection" target="_blank" rel="noopener">Selection</a> <a href="https://code.visualstudio.com/api/references/vscode-api#TextEditor" target="_blank" rel="noopener">TextEditor</a> <a href="https://code.visualstudio.com/api/references/vscode-api#TextEditorRevealType" target="_blank" rel="noopener">TextEditorRevealType</a> <a href="https://code.visualstudio.com/api/references/vscode-api#TextDocument" target="_blank" rel="noopener">TextDocument</a></td>
</tr>
</tbody></table>
<h3 id="è¯­è¨€æ’ä»¶ç¤ºä¾‹"><a href="#è¯­è¨€æ’ä»¶ç¤ºä¾‹" class="headerlink" title="è¯­è¨€æ’ä»¶ç¤ºä¾‹"></a>è¯­è¨€æ’ä»¶ç¤ºä¾‹</h3><hr>
<p>ä¸‹é¢çš„éƒ¨åˆ†æ˜¯è¯­è¨€æ’ä»¶ç›¸å…³ç¤ºä¾‹ï¼š</p>
<table>
<thead>
<tr>
<th align="left">ä¾‹å­</th>
<th align="left">VS Codeç½‘é¡µæŒ‡å—</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/snippet-sample" target="_blank" rel="noopener">Snippet Sample</a></td>
<td align="left">/language-extensions/snippet-guide</td>
<td><a href="https://code.visualstudio.com/api/references/contribution-points#contributes.snippets" target="_blank" rel="noopener">contributes.snippets</a></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/language-configuration-sample" target="_blank" rel="noopener">Language Configuration Sample</a></td>
<td align="left">/language-extensions/language-configuration-guide</td>
<td><a href="https://code.visualstudio.com/api/references/contribution-points#contributes.languages" target="_blank" rel="noopener">contributes.languages</a></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/lsp-sample" target="_blank" rel="noopener">LSP Sample</a></td>
<td align="left">/language-extensions/language-server-extension-guide</td>
<td></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/lsp-log-streaming-sample" target="_blank" rel="noopener">LSP Log Streaming Sample</a></td>
<td align="left">N/A</td>
<td></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/lsp-multi-server-sample" target="_blank" rel="noopener">LSP Multi Root Server Sample</a></td>
<td align="left"><a href="https://github.com/Microsoft/vscode/wiki/Adopting-Multi-Root-Workspace-APIs#language-client--language-server" target="_blank" rel="noopener">https://github.com/Microsoft/vscode/wiki/Adopting-Multi-Root-Workspace-APIs#language-client--language-server</a></td>
<td></td>
</tr>
</tbody></table>
<h2 id="å‘½ä»¤-1"><a href="#å‘½ä»¤-1" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h2><p>å‘½ä»¤ä¼šè§¦å‘VS Codeä¸­æ³¨å†Œçš„è¡Œä¸ºï¼Œå¦‚æœä½ <a href="https://code.visualstudio.com/docs/getstarted/keybindings" target="_blank" rel="noopener">é…ç½®è¿‡é”®ä½</a>ï¼Œé‚£ä¹ˆä½ å°±å¤„ç†è¿‡äº†å‘½ä»¤ã€‚å‘½ä»¤ä¹Ÿæ˜¯æ’ä»¶å°†åŠŸèƒ½æš´éœ²ç»™ç”¨æˆ·çš„åœ°æ–¹ï¼Œå®ƒç»‘å®šäº†VS Code UIä¸­çš„è¡Œä¸ºï¼Œå¹¶åœ¨å†…éƒ¨å¤„ç†äº†ç›¸å…³é€»è¾‘ã€‚</p>
<h3 id="ä½¿ç”¨å‘½ä»¤"><a href="#ä½¿ç”¨å‘½ä»¤" class="headerlink" title="ä½¿ç”¨å‘½ä»¤"></a>ä½¿ç”¨å‘½ä»¤</h3><hr>
<p>VS Codeå†…éƒ¨å«æœ‰å¤§é‡å’Œç¼–è¾‘å™¨äº¤äº’ã€æ§åˆ¶UIã€åå°æ“ä½œçš„å†…ç½®å‘½ä»¤ã€‚è®¸å¤šæ’ä»¶å°†å®ƒä»¬çš„æ ¸å¿ƒåŠŸèƒ½æš´éœ²ä¸º<em>å‘½ä»¤</em>çš„å½¢å¼ä¾›ç”¨æˆ·æˆ–è€…å…¶ä»–æ’ä»¶ä½¿ç”¨ã€‚</p>
<h4 id="ç¨‹åºæ€§æ‰§è¡Œä¸€ä¸ªå‘½ä»¤"><a href="#ç¨‹åºæ€§æ‰§è¡Œä¸€ä¸ªå‘½ä»¤" class="headerlink" title="ç¨‹åºæ€§æ‰§è¡Œä¸€ä¸ªå‘½ä»¤"></a>ç¨‹åºæ€§æ‰§è¡Œä¸€ä¸ªå‘½ä»¤</h4><p><a href="https://code.visualstudio.com/api/references/vscode-api#commands.executeCommand" target="_blank" rel="noopener"><code>vscode.commands.executeCommand</code></a>APIå¯ä»¥ç¨‹åºæ€§è°ƒç”¨ä¸€ä¸ªå‘½ä»¤ï¼Œä½ å¯ä»¥é€šè¿‡å®ƒå°†VS Codeçš„å†…ç½®å‡½æ•°æ„å»ºåœ¨ä½ çš„æ’ä»¶ä¸­ï¼Œæ¯”å¦‚VS Codeå†…ç½®çš„Gitå’ŒMarkdownæ’ä»¶ä¸­çš„ä¸œè¥¿ã€‚</p>
<p>æˆ‘ä»¬çœ‹ä¸ªä¾‹å­ğŸŒ°ï¼š<code>editor.action.addCommentLine</code>å‘½ä»¤å¯ä»¥å°†å½“å‰é€‰ä¸­è¡Œå˜æˆæ³¨é‡Š(ä½ å¯ä»¥å·å·æŠŠè¿™ä¸ªåŠŸèƒ½åœ°é›†æˆåˆ°ä½ è‡ªå·±çš„æ’ä»¶ä¸­å“¦)ï¼š</p>
<pre><code>import * as vscode from 'vscode';
function commentLine() {
    vscode.commands.executeCommand('editor.action.addCommentLine');
}</code></pre><p>æœ‰äº›å‘½ä»¤å¯ä»¥æ¥æ”¶æ”¹å˜è¡Œä¸ºçš„å‚æ•°ï¼Œæœ‰äº›ä¼šæœ‰è¿”å›ç»“æœã€‚å½¢å¦‚<code>vscode.executeDefinitionProvider</code>çš„APIï¼Œå®ƒè¦æ±‚ä¼ å…¥ä¸€ä¸ªdocumentçš„URIåœ°å€å’Œpositionä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«å®šä¹‰åˆ—è¡¨çš„promiseï¼š</p>
<pre><code>import * as vscode from 'vscode';
async function printDefinitionsForActiveEditor() {
    const activeEditor = vscode.window.activeTextEditor;
    if (!activeEditor) {
        return;
    }
    const definitions = await vscode.commands.executeCommand&lt;vscode.Location[]&gt;(
        'vscode.executeDefinitionProvider',
        activeEditor.document.uri,
        activeEditor.selection.active
    );
    for (const definition of definitions) {
        console.log(definition);
    }
}</code></pre><p>æ›´å¤šå‘½ä»¤è¯¦è§ï¼š</p>
<ul>
<li><a href="https://code.visualstudio.com/docs/getstarted/keybindings" target="_blank" rel="noopener">æµè§ˆé”®ç›˜å¿«æ·é”®</a></li>
<li><a href="https://www.bookstack.cn/read/VS-Code-Extension-Doc-ZH/$docs-extension-guides-references-commands" target="_blank" rel="noopener">VS Codeå†…ç½®é«˜çº§å‘½ä»¤API</a></li>
</ul>
<h4 id="å‘½ä»¤çš„URLs"><a href="#å‘½ä»¤çš„URLs" class="headerlink" title="å‘½ä»¤çš„URLs"></a>å‘½ä»¤çš„URLs</h4><p>å‘½ä»¤URIæ˜¯æ‰§è¡Œæ³¨å†Œå‘½ä»¤çš„é“¾æ¥ã€‚å®ƒä»¬å¯è¢«ç”¨äºæ‚¬åœæ–‡æœ¬ä¸Šçš„å¯ç‚¹å‡»é“¾æ¥ï¼Œä»£ç è¡¥å…¨æç¤ºä¸­çš„ç»†èŠ‚ä¿¡æ¯ï¼Œç”šè‡³å¯ä»¥å‡ºç°åœ¨webviewä¸­ã€‚</p>
<p>å‘½ä»¤URIä½¿ç”¨<code>command</code>ä½œä¸ºåè®®å¤´ï¼Œç„¶åç´§è·Ÿç€å‘½ä»¤åç§°ã€‚æ¯”å¦‚ï¼š<code>editor.action.addCommentLine</code>çš„å‘½ä»¤URIæ˜¯ï¼š<code>command:editor.action.addCommentLine</code>ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ˜¾ç¤ºåœ¨å½“å‰è¡Œæ³¨é‡Šä¸­æ˜¾ç¤ºé“¾æ¥çš„æ‚¬åœå‡½æ•°ã€‚</p>
<pre><code>import * as vscode from 'vscode';
export function activate(context: vscode.ExtensionContext) {
    vscode.languages.registerHoverProvider(
        'javascript',
        new class implements vscode.HoverProvider {
            provideHover(
                _document: vscode.TextDocument,
                _position: vscode.Position,
                _token: vscode.CancellationToken
            ): vscode.ProviderResult&lt;vscode.Hover&gt; {
                const commentCommandUri = vscode.Uri.parse(`command:editor.action.addCommentLine`);
                const contents = new vscode.MarkdownString(`[Add comment](${commentCommandUri})`);
                // command URIså¦‚æœæƒ³åœ¨Markdown å†…å®¹ä¸­ç”Ÿæ•ˆ, ä½ å¿…é¡»è®¾ç½®`isTrusted`ã€‚
                // å½“åˆ›å»ºå¯ä¿¡çš„Markdown å­—ç¬¦, è¯·åˆç†åœ°æ¸…ç†æ‰€æœ‰çš„è¾“å…¥å†…å®¹
                // ä»¥ä¾¿ä½ æœŸæœ›çš„å‘½ä»¤command URIsç”Ÿæ•ˆ
                contents.isTrusted = true;
                return new vscode.Hover(contents);
            }
        }()
    );
}</code></pre><p>å‘½ä»¤ä¸Šçš„å‚æ•°åˆ—è¡¨ä¼šä»JSONæ•°ç»„å˜æˆURIæ ¼å¼ï¼šä¸‹é¢çš„ä¾‹å­ä½¿ç”¨äº†<code>git.stage</code>å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ‚¬åœæ“ä½œâ€”â€”å°†å½“å‰æ–‡ä»¶è¿›è¡Œgitæš‚å­˜ï¼š</p>
<pre><code>import * as vscode from 'vscode';
export function activate(context: vscode.ExtensionContext) {
    vscode.languages.registerHoverProvider(
        'javascript',
        new class implements vscode.HoverProvider {
            provideHover(
                document: vscode.TextDocument,
                _position: vscode.Position,
                _token: vscode.CancellationToken
            ): vscode.ProviderResult&lt;vscode.Hover&gt; {
                const args = [{ resourceUri: document.uri }];
                const commentCommandUri = vscode.Uri.parse(
                    `command:git.stage?${encodeURIComponent(JSON.stringify(args))}`
                );
                const contents = new vscode.MarkdownString(`[Stage file](${commentCommandUri})`);
                contents.isTrusted = true;
                return new vscode.Hover(contents);
            }
        }()
    );
}</code></pre><h3 id="æ–°å»ºå‘½ä»¤"><a href="#æ–°å»ºå‘½ä»¤" class="headerlink" title="æ–°å»ºå‘½ä»¤"></a>æ–°å»ºå‘½ä»¤</h3><hr>
<h4 id="æ³¨å†Œä¸€ä¸ªå‘½ä»¤"><a href="#æ³¨å†Œä¸€ä¸ªå‘½ä»¤" class="headerlink" title="æ³¨å†Œä¸€ä¸ªå‘½ä»¤"></a>æ³¨å†Œä¸€ä¸ªå‘½ä»¤</h4><p><a href="https://code.visualstudio.com/api/references/vscode-api#commands.registerCommand" target="_blank" rel="noopener"><code>vscode.commands.registerCommand</code></a>ä¼šæŠŠå‘½ä»¤IDç»‘å®šåˆ°ä½ æ’ä»¶çš„å‡½æ•°ä¸Šï¼š</p>
<pre><code>import * as vscode from 'vscode';
export function activate(context: vscode.ExtensionContext) {
    const command = 'myExtension.sayHello';
    const commandHandler = (name?: string = 'world') =&gt; {
        console.log(`Hello ${name}!!!`);
    };
    context.subscriptions.push(vscode.commands.registerCommand(command, commandHandler));
}</code></pre><p>åªè¦<code>myExtension.sayHello</code>å‘½ä»¤æ‰§è¡Œï¼Œå°±ä¼šè°ƒç”¨å¯¹åº”çš„å¤„ç†å‡½æ•°ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡<code>executeCommand</code>ç¨‹åºæ€§è°ƒç”¨å®ƒï¼Œæˆ–è€…ä»VS Code UIä¸­ï¼ŒæŠ‘æˆ–å¿«æ·é”®çš„æ–¹å¼è°ƒç”¨ã€‚</p>
<h4 id="åˆ›å»ºé¢å‘ç”¨æˆ·çš„å‘½ä»¤"><a href="#åˆ›å»ºé¢å‘ç”¨æˆ·çš„å‘½ä»¤" class="headerlink" title="åˆ›å»ºé¢å‘ç”¨æˆ·çš„å‘½ä»¤"></a>åˆ›å»ºé¢å‘ç”¨æˆ·çš„å‘½ä»¤</h4><p><code>vscode.commands.registerCommand</code>ä»…ä»…æ˜¯å°†å‘½ä»¤idç»‘å®šåˆ°äº†å¤„ç†å‡½æ•°ä¸Šï¼Œå¦‚æœæƒ³è®©ç”¨æˆ·ä»<em>å‘½ä»¤é¢æ¿</em>ä¸­æ‰¾åˆ°ä½ çš„å‘½ä»¤ï¼Œä½ è¿˜éœ€è¦åœ¨<code>package.json</code>ä¸­é…ç½®å¯¹åº”çš„å‘½ä»¤<code>é…ç½®é¡¹(contribution)</code>ï¼š</p>
<pre><code>{
    "contributes": {
        "commands": [
            {
                "command": "myExtension.sayHello",
                "title": "Say Hello"
            }
        ]
    }
}</code></pre><p><code>commands</code>é…ç½®å‘Šè¯‰VS Codeä½ çš„æ’ä»¶æä¾›äº†ä¸€ä¸ªå‘½ä»¤ï¼Œè€Œä¸”å…è®¸ä½ æ§åˆ¶å‘½ä»¤åœ¨UIä¸­çš„æ˜¾ç¤ºã€‚ç°åœ¨ï¼Œæˆ‘ä»¬çš„å‘½ä»¤ç»ˆäºå‡ºç°åœ¨<em>å‘½ä»¤é¢æ¿</em>ä¸­äº†ï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/ac15f3d3bd3899033a1607d9ad850fe5.png" alt=""></p>
<p>æˆ‘ä»¬ä¾æ—§éœ€è¦ä½¿ç”¨<code>registerCommand</code>å°†çœŸå®çš„å‘½ä»¤idç»‘å®šåˆ°å‡½æ•°ä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬çš„æ’ä»¶æ²¡æœ‰æ¿€æ´»ï¼Œé‚£ä¹ˆç”¨æˆ·ä»<em>å‘½ä»¤é¢æ¿</em>ä¸­é€‰æ‹©<code>myExtension.sayHello</code>ä¹Ÿä¸ä¼šæœ‰ä»»ä½•æ•ˆæœã€‚ä¸ºäº†é¿å…è¿™ç§äº‹ï¼Œæ’ä»¶å¿…é¡»æ³¨å†Œä¸€ä¸ªé¢å‘å…¨éƒ¨ç”¨æˆ·åœºæ™¯çš„å‘½ä»¤<code>onCommand</code> <code>activiationEvent</code>ï¼š</p>
<pre><code>{
    "activationEvents": ["onCommand:myExtension.sayHello"]
}</code></pre><p>ç°åœ¨å½“ç”¨æˆ·ç¬¬ä¸€æ¬¡è°ƒç”¨<code>myExtension.sayHello</code>æ—¶ï¼Œæ’ä»¶å°±ä¼šè‡ªåŠ¨æ¿€æ´»ï¼Œ<code>registerCommand</code>ä¼šå°†<code>myExtension.sayHello</code>ç»‘å®šåˆ°æ­£ç¡®çš„å¤„ç†å‡½æ•°ä¸Šã€‚</p>
<p>å¯¹äºå†…éƒ¨å‘½ä»¤ä½ ä¸éœ€è¦ä½¿ç”¨<code>onCommand</code>ï¼Œä½†æ˜¯ä¸‹é¢çš„åœºæ™¯ä¸­ä½ å¿…é¡»å®šä¹‰å¥½æ¿€æ´»äº‹ä»¶ï¼š</p>
<ul>
<li>éœ€è¦ä½¿ç”¨<em>å‘½ä»¤é¢æ¿</em>è°ƒç”¨</li>
<li>éœ€è¦å¿«æ·é”®è°ƒç”¨</li>
<li>éœ€è¦é€šè¿‡VS Code UIè°ƒç”¨ï¼Œæ¯”å¦‚åœ¨ç¼–è¾‘å™¨æ ‡é¢˜æ ä¸Šè§¦å‘</li>
<li>æ„åœ¨ä¾›å…¶ä»–æ’ä»¶ä½¿ç”¨æ—¶</li>
</ul>
<h4 id="æ§åˆ¶å‘½ä»¤å‡ºç°åœ¨å‘½ä»¤é¢æ¿çš„æ—¶æœº"><a href="#æ§åˆ¶å‘½ä»¤å‡ºç°åœ¨å‘½ä»¤é¢æ¿çš„æ—¶æœº" class="headerlink" title="æ§åˆ¶å‘½ä»¤å‡ºç°åœ¨å‘½ä»¤é¢æ¿çš„æ—¶æœº"></a>æ§åˆ¶å‘½ä»¤å‡ºç°åœ¨<em>å‘½ä»¤é¢æ¿</em>çš„æ—¶æœº</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰<em>å‘½ä»¤é¢æ¿</em>ä¸­å‡ºç°çš„å‘½ä»¤éƒ½å¯ä»¥åœ¨<code>package.json</code>çš„<code>commands</code>éƒ¨åˆ†ä¸­é…ç½®ã€‚ä¸è¿‡ï¼Œæœ‰äº›å‘½ä»¤æ˜¯åœºæ™¯ç›¸å…³çš„ï¼Œæ¯”å¦‚åœ¨ç‰¹å®šçš„è¯­è¨€çš„ç¼–è¾‘å™¨ä¸­ï¼Œæˆ–è€…åªæœ‰ç”¨æˆ·è®¾ç½®äº†æŸäº›é€‰é¡¹æ—¶æ‰å±•ç¤ºã€‚</p>
<p><code>menus.commandPalette</code>å‘å¸ƒå†…å®¹é…ç½®è¿è¡Œä½ é™åˆ¶å‘½ä»¤å‡ºç°åœ¨<em>å‘½ä»¤é¢æ¿</em>çš„æ—¶æœºã€‚ä½ éœ€è¦é…ç½®å‘½ä»¤IDå’Œä¸€æ¡<a href="https://code.visualstudio.com/docs/getstarted/keybindings#_when-clause-contexts" target="_blank" rel="noopener">whenè¯­å¥</a>ï¼š</p>
<pre><code>{
    "contributes": {
        "menus": {
            "commandPalette": [
                {
                    "command": "myExtension.sayHello",
                    "when": "editorLangId == markdown"
                }
            ]
        }
    }
}</code></pre><p>ç°åœ¨<code>myExtension.sayHello</code>å‘½ä»¤åªä¼šå‡ºç°åœ¨ç”¨æˆ·çš„Markdownæ–‡ä»¶ä¸­äº†ã€‚</p>
<h2 id="è‰²å½©ä¸»é¢˜-1"><a href="#è‰²å½©ä¸»é¢˜-1" class="headerlink" title="è‰²å½©ä¸»é¢˜"></a>è‰²å½©ä¸»é¢˜</h2><p>è‰²å½©å¯è§†åŒ–å·¥ä½œåœ¨VS Codeå¯ä»¥åˆ†æˆä¸¤ç§ç±»å‹ï¼š</p>
<ul>
<li>å·¥ä½œå°ï¼ˆWorkbenchï¼‰è‰²å½©ï¼šåœ¨è§†å›¾å’Œç¼–è¾‘å™¨ä¸­ä½¿ç”¨çš„å·¥ä½œå°ï¼ˆWorkbenchï¼‰è‰²å½©ï¼ŒåŒ…æ‹¬è§†å›¾ã€ç¼–è¾‘å™¨ã€æ´»åŠ¨æ ã€çŠ¶æ€æ ç­‰ã€‚</li>
<li>è¯­æ³•è‰²å½©ï¼šè¯­æ³•è‰²å½©å°±æ˜¯ç¼–è¾‘å™¨ä¸­ä»£ç çš„é¢œè‰²ï¼Œå®ƒåŸºäºTextMateè¯­æ³•å’ŒTextMateä¸»é¢˜è§„åˆ™è¿›è¡Œç€è‰²ã€‚</li>
</ul>
<p>ä¸‹é¢å°†åˆ†åˆ«ä»‹ç»è¿™ä¸¤ç§ç±»å‹ã€‚</p>
<h3 id="å·¥ä½œå°è‰²å½©"><a href="#å·¥ä½œå°è‰²å½©" class="headerlink" title="å·¥ä½œå°è‰²å½©"></a>å·¥ä½œå°è‰²å½©</h3><hr>
<p>åˆ›å»ºå·¥ä½œå°è‰²å½©æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨ç°æˆçš„ä¸»é¢˜ï¼Œç„¶åå¼€å§‹å®šåˆ¶ã€‚</p>
<ul>
<li>åœ¨VS Codeä¸­åˆ‡æ¢åˆ°ä½ æƒ³è¦ç¼–è¾‘çš„è‰²å½©ä¸»é¢˜ã€‚</li>
<li>æ‰“å¼€<a href="https://code.visualstudio.com/docs/getstarted/settings" target="_blank" rel="noopener">è®¾ç½®</a>ï¼Œç”¨<code>workbench.colorCustomizations</code>ä¿®æ”¹è§†å›¾å’Œç¼–è¾‘å™¨è‰²å½©ã€‚ä¸€èˆ¬æ¥è¯´ä¼šå³æ—¶ç”Ÿæ•ˆï¼Œå¦‚æœæ²¡æœ‰ç”Ÿæ•ˆä½ éœ€è¦è‡ªå·±é‡å¯VS Codeã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªæ”¹å˜äº†æ ‡é¢˜æ é¢œè‰²çš„é…ç½®</p>
<pre><code>{
    "workbench.colorCustomizations": {
        "titleBar.activeBackground": "#ff0000"
    }
}</code></pre><h3 id="è¯­æ³•è‰²å½©"><a href="#è¯­æ³•è‰²å½©" class="headerlink" title="è¯­æ³•è‰²å½©"></a>è¯­æ³•è‰²å½©</h3><hr>
<p>æ–°å»ºè¯­æ³•é«˜äº®è‰²å½©æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>ç›´æ¥ä½¿ç”¨ç¤¾åŒºç°æˆçš„TextMateä¸»é¢˜ï¼ˆ<code>.tmTheme</code>æ–‡ä»¶ï¼‰</li>
<li>è‡ªå·±æƒ³ä¸€ä¸ªä¸»é¢˜è§„åˆ™å‡ºæ¥</li>
</ul>
<p>å½“ç„¶ï¼Œè¿˜æœ‰æ›´ç®€å•çš„æ–¹å¼ï¼š</p>
<ul>
<li>åˆ‡æ¢åˆ°è‰²å½©ä¸»é¢˜ï¼Œç”¨<a href="https://code.visualstudio.com/docs/getstarted/settings" target="_blank" rel="noopener">è®¾ç½®</a>ä¸­çš„<code>editor.tokenColorCustomizations</code>è¿›è¡Œè‡ªå®šä¹‰ï¼Œå°±åƒä¸Šé¢ä¿®æ”¹å·¥ä½œå°è‰²å½©ä¸€æ ·ï¼Œä¿®æ”¹ä¼šç«‹å³å‘ˆç°ï¼Œä½ ä¸éœ€è¦é‡å¯VS Codeã€‚</li>
</ul>
<p>ä¸‹é¢çš„ä¾‹å­ä¿®æ”¹äº†ç¼–è¾‘å™¨ä¸­æ³¨é‡Šçš„é¢œè‰²ï¼š</p>
<pre><code>{
    "editor.tokenColorCustomizations": {
        "comments": "#FF0000"
    }
}</code></pre><p>è®¾ç½®æ”¯æŒä¸€äº›ç®€å•çš„è¯­æ³•æ ‡è¯†æ¨¡å‹ï¼Œæ¯”å¦‚â€œcommentsâ€ï¼Œâ€œstringsâ€ï¼Œâ€œnumbersâ€ç­‰ç­‰ã€‚å¦‚æœä½ æƒ³å®šåˆ¶æ›´å¤šé¢œè‰²ï¼Œé‚£ä¹ˆç›´æ¥åº”ç”¨TextMateè¯­æ³•è§„åˆ™å°±å¯ä»¥äº†ã€‚</p>
<h3 id="åˆ›å»ºæ–°çš„è‰²å½©ä¸»é¢˜"><a href="#åˆ›å»ºæ–°çš„è‰²å½©ä¸»é¢˜" class="headerlink" title="åˆ›å»ºæ–°çš„è‰²å½©ä¸»é¢˜"></a>åˆ›å»ºæ–°çš„è‰²å½©ä¸»é¢˜</h3><hr>
<p>æ—¢ç„¶ä½ å·²ç»ç”¨è¿‡<code>workbench.colorCustomizations</code>å’Œ<code>editor.tokenColorCustomizations</code>ç¬¨æ‹™åœ°ä¿®æ”¹è¿‡é¢œè‰²ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥è§è¯†è§è¯†å¤§æ€å™¨äº†ã€‚</p>
<ul>
<li><p>æ‰“å¼€<strong>å‘½ä»¤é¢æ¿</strong>è¾“å…¥<strong>Developer: Generate Color Theme from Current Settings</strong></p>
</li>
<li><p>ä½¿ç”¨VS Codeçš„<a href="https://yeoman.io/" target="_blank" rel="noopener">Yeoman</a>æ’ä»¶ç”Ÿæˆå™¨ï¼Œç”Ÿæˆæ–°çš„ä¸»é¢˜ï¼š</p>
<pre><code>npm install -g yo generator-code
yo code</code></pre></li>
<li><p>å¦‚æœä½ åƒä¸‹å›¾è¿™æ ·é€‰æ‹©äº†è‡ªå®šä¹‰ä¸»é¢˜ï¼Œåˆ™é€‰æ‹©â€™Start freshâ€™</p>
</li>
</ul>
<p><img src="/images/loading.gif" data-original="../images/development/1758bab6b5674142162310f4d43cf80e.png" alt=""></p>
<ul>
<li>æŠŠä»è®¾ç½®ä¸­ç”Ÿæˆçš„ä¸»é¢˜æ–‡ä»¶å¤åˆ¶åˆ°æ–°çš„æ’ä»¶ä¸­</li>
<li>å¦‚æœä½ æƒ³ä½¿ç”¨ç°æˆçš„TextMateä¸»é¢˜ï¼Œé‚£ä½ å°±éœ€è¦åœ¨æ’ä»¶ç”Ÿæˆçš„æ—¶å€™é€‰æ‹©å¯¼å…¥TextMateä¸»é¢˜å¹¶æ‰“åŒ…ã€‚å¦å¤–ï¼Œå¦‚æœä½ ä¸‹è½½äº†ä¸€ä¸ªä¸»é¢˜ï¼Œé‚£ä¹ˆåªè¦ç”¨<code>.tmTheme</code>é“¾æ¥æ›¿æ¢<code>tokenColors</code>éƒ¨åˆ†å°±å¯ä»¥äº†ã€‚</li>
</ul>
<pre><code>{
    "type": "dark",
    "colors": {
        "editor.background": "#1e1e1e",
        "editor.foreground": "#d4d4d4",
        "editorIndentGuide.background": "#404040",
        "editorRuler.foreground": "#333333",
        "activityBarBadge.background": "#007acc",
        "sideBarTitle.foreground": "#bbbbbb"
    },
    "tokenColors": "./Diner.tmTheme"
}</code></pre><p>?&gt; ä¸ºä½ çš„è‰²å½©æ–‡ä»¶æ·»åŠ <code>.color-theme.json</code>å‰ç¼€ï¼Œé‚£ä¹ˆä½ åœ¨ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶æ—¶å°±èƒ½è‡ªåŠ¨è·å¾—æ‚¬æµ®æç¤ºã€ä»£ç è¡¥å…¨ã€è‰²å½©è£…é¥°å™¨å’Œè‰²å½©é€‰æ‹©å™¨ç­‰åŠŸèƒ½äº†ã€‚</p>
<p>?&gt; <a href="https://colorsublime.github.io/" target="_blank" rel="noopener">ColorSublime</a>æœ‰æˆç™¾ä¸Šåƒä¸ªç°æˆçš„TextMateä¸»é¢˜ã€‚ä½ å¯ä»¥é€‰æ‹©ä¸€ä¸ªä½ å–œæ¬¢çš„ä¸»é¢˜ï¼Œå¤åˆ¶ä¸‹è½½é“¾æ¥ï¼Œç„¶åç”¨Yeomané€‰æ‹©è¿™ä¸ªä¸»é¢˜ç”Ÿæˆä½ çš„æ’ä»¶ã€‚æ ¼å¼å¦‚ï¼š<code>"https://raw.githubusercontent.com/Colorsublime/Colorsublime-Themes/master/themes/(name).tmTheme"</code></p>
<h3 id="æµ‹è¯•æ–°çš„ä¸»é¢˜"><a href="#æµ‹è¯•æ–°çš„ä¸»é¢˜" class="headerlink" title="æµ‹è¯•æ–°çš„ä¸»é¢˜"></a>æµ‹è¯•æ–°çš„ä¸»é¢˜</h3><hr>
<p>é€šè¿‡æŒ‰F5æ‰“å¼€ä¸€ä¸ªæ’ä»¶ä¸»æœºå¼€å‘çª—å£ï¼Œæ¥æµ‹è¯•ä¸»é¢˜ã€‚</p>
<p>é€šè¿‡<strong>æ–‡ä»¶ &gt; é¦–é€‰é¡¹ &gt; é¢œè‰²ä¸»é¢˜</strong>ï¼Œåœ¨ä¸‹æ‹‰èœå•é‡Œæ‰¾åˆ°ä½ çš„ä¸»é¢˜ã€‚ç„¶åé€šè¿‡ç§»åŠ¨ä¸Šä¸‹ç®­å¤´ï¼Œé¢„è§ˆä½ è‡ªå·±çš„ä¸»é¢˜ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/a7ac8c3bb83073bdcdea0b86e5b21603.png" alt=""></p>
<p>ä¸»é¢˜æ–‡ä»¶çš„æ”¹åŠ¨ï¼Œä¼šå®æ—¶åŒæ­¥åˆ°<code>æ’ä»¶å¼€å‘ä¸»æœº</code>çª—å£ã€‚</p>
<h3 id="å°†ä¸»é¢˜å‘å¸ƒåˆ°æ’ä»¶å¸‚åœº"><a href="#å°†ä¸»é¢˜å‘å¸ƒåˆ°æ’ä»¶å¸‚åœº" class="headerlink" title="å°†ä¸»é¢˜å‘å¸ƒåˆ°æ’ä»¶å¸‚åœº"></a>å°†ä¸»é¢˜å‘å¸ƒåˆ°æ’ä»¶å¸‚åœº</h3><hr>
<p>å¦‚æœä½ æƒ³æŠŠä¸»é¢˜åˆ†äº«ç»™ç¤¾åŒºï¼Œé€šè¿‡<a href="https://code.visualstudio.com/docs/editor/extension-gallery" target="_blank" rel="noopener">æ’ä»¶å¸‚åœº</a>å»å‘å¸ƒå®ƒå§ã€‚ç”¨vsce publishing toolæ‰“åŒ…ä½ çš„ä¸»é¢˜ç„¶åå‘å¸ƒåˆ°VS Codeå¸‚åœºã€‚</p>
<p>?&gt; å°è´´å£«ï¼šæƒ³è¦ç”¨æˆ·è½»æ¾åœ°æ‰¾åˆ°ä½ çš„ä¸»é¢˜ï¼Œæœ€å¥½ä¿®æ”¹ä¸€ä¸‹<code>package.json</code>ï¼ŒæŠŠå…³é”®å­—â€themeâ€å†™åˆ°æ’ä»¶æè¿°ï¼ˆextension descriptionï¼‰ä¸­ï¼Œç„¶åæŠŠ<code>Category</code>è®¾ç½®ä¸º<code>Theme</code></p>
<h3 id="æ·»åŠ æ–°çš„è‰²å½©id"><a href="#æ·»åŠ æ–°çš„è‰²å½©id" class="headerlink" title="æ·»åŠ æ–°çš„è‰²å½©id"></a>æ·»åŠ æ–°çš„è‰²å½©id</h3><hr>
<p>è‰²å½©é…ç½®ç‚¹å¯ä»¥é…ç½®æ’ä»¶çš„<em>è‰²å½©id</em>ï¼Œå½“åœ¨<code>workbench.colorCustomizations</code>å’Œä¸»é¢˜æ–‡ä»¶ä¸­ä½¿ç”¨ä»£ç è¡¥å…¨æ—¶ï¼Œè¿™äº›è‰²å½©ä¹Ÿä¼šå‡ºç°ã€‚ç”¨æˆ·å¯ä»¥åœ¨æ’ä»¶é…ç½®é€‰é¡¹å¡ä¸­çœ‹åˆ°æ’ä»¶å®šä¹‰äº†ä»€ä¹ˆé¢œè‰²ã€‚</p>
<h3 id="æ›´å¤š"><a href="#æ›´å¤š" class="headerlink" title="æ›´å¤š"></a>æ›´å¤š</h3><ul>
<li><a href="https://css-tricks.com/creating-a-vs-code-theme/" target="_blank" rel="noopener">CSS Tricks - æ–°å»ºä¸€ä¸ªVS Codeä¸»é¢˜</a></li>
</ul>
<h2 id="å›¾æ ‡ä¸»é¢˜-1"><a href="#å›¾æ ‡ä¸»é¢˜-1" class="headerlink" title="å›¾æ ‡ä¸»é¢˜"></a>å›¾æ ‡ä¸»é¢˜</h2><p>VS Codeçš„UIåœ¨æ–‡ä»¶åç§°å·¦è¾¹æ˜¾ç¤ºå›¾æ ‡ï¼Œæ’ä»¶é…ç½®çš„å›¾æ ‡ç³»åˆ—å¯ä»¥è®©ç”¨æˆ·è‡ªç”±é€‰æ‹©ä»–ä»¬å–œçˆ±çš„å›¾æ ‡ã€‚</p>
<h3 id="æ·»åŠ æ–°çš„å›¾æ ‡ä¸»é¢˜"><a href="#æ·»åŠ æ–°çš„å›¾æ ‡ä¸»é¢˜" class="headerlink" title="æ·»åŠ æ–°çš„å›¾æ ‡ä¸»é¢˜"></a>æ·»åŠ æ–°çš„å›¾æ ‡ä¸»é¢˜</h3><hr>
<p>ä½ èƒ½ä½¿ç”¨å›¾æ ‡æ–‡ä»¶ï¼ˆæœ€å¥½æ˜¯SVGï¼‰å’Œå­—ä½“å›¾æ ‡åˆ›å»ºè‡ªå·±çš„å›¾æ ‡ä¸»é¢˜ã€‚ä½œä¸ºç¤ºä¾‹ï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹2ä¸ªå†…ç½®ä¸»é¢˜ï¼š<a href="https://github.com/Microsoft/vscode/tree/master/extensions/theme-defaults" target="_blank" rel="noopener">Minimal</a>ï¼Œ<a href="https://github.com/Microsoft/vscode/tree/master/extensions/theme-seti" target="_blank" rel="noopener">Seti</a></p>
<p>é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªVS Codeæ’ä»¶ï¼Œç„¶åæŠŠ<code>iconTheme</code>é…ç½®ç‚¹(contribution point)æ·»åŠ è¿›å»</p>
<pre><code>"contributes": {
    "iconThemes": [
        {
            "id": "turtles",
            "label": "Turtles",
            "path": "./fileicons/turtles-icon-theme.json"
        }
    ]
}</code></pre><ul>
<li><code>id</code>ä½œä¸ºè¿™ä¸ªå›¾æ ‡ä¸»é¢˜çš„æ ‡è¯†ï¼Œç›®å‰åªåšå†…éƒ¨ä½¿ç”¨ï¼Œæœªæ¥å¯èƒ½ä¼šç”¨åœ¨è®¾ç½®é‡Œé¢ï¼Œæ‰€ä»¥æœ€å¥½è®¾ç½®ä¸€ä¸ªå¯è¯»æ€§å¼ºçš„å”¯ä¸€å€¼ã€‚</li>
<li><code>label</code>ä¼šæ˜¾ç¤ºåœ¨<em>ä¸»é¢˜é€‰æ‹©</em>ä¸‹æ‹‰æ¡†ä¸­ã€‚</li>
<li><code>path</code>æŒ‡ç¤ºäº†å›¾æ ‡é›†æ‰€åœ¨çš„ä½ç½®ã€‚å¦‚æœä½ çš„å›¾æ ‡ç³»åˆ—åç§°éµå¾ª<code>*icon-theme.json</code>å‘½åè§„èŒƒï¼Œé‚£ä¹ˆVS Codeå°±èƒ½æä¾›å®Œæ•´çš„æ”¯æŒã€‚</li>
</ul>
<h3 id="å›¾æ ‡æ–‡ä»¶é›†-Icon-set-file"><a href="#å›¾æ ‡æ–‡ä»¶é›†-Icon-set-file" class="headerlink" title="å›¾æ ‡æ–‡ä»¶é›†(Icon set file)"></a>å›¾æ ‡æ–‡ä»¶é›†(Icon set file)</h3><p>å›¾æ ‡æ–‡ä»¶é›†æ˜¯ä¸€ä¸ªJSONæ–‡ä»¶ï¼ŒåŒ…å«äº†æ‰€æœ‰çš„<strong>å…³è”å›¾æ ‡</strong>å’Œå›¾æ ‡å®šä¹‰ã€‚</p>
<p>ä¸€ä¸ª<strong>å…³è”å›¾æ ‡</strong>å°†<strong>å›¾æ ‡å®šä¹‰</strong>æ˜ å°„åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸Šï¼ˆç±»å‹å¦‚ï¼šæ–‡ä»¶ï¼Œæ–‡ä»¶å¤¹ï¼Œjsonæ–‡ä»¶â€¦ï¼‰ã€‚<strong>å›¾æ ‡å®šä¹‰</strong>æŒ‡ç¤ºäº†å›¾æ ‡çš„æ‰€åœ¨ä½ç½®ï¼šå¯ä»¥æ˜¯ä¸€ä¸ªå›¾ç‰‡æ–‡ä»¶ï¼Œæˆ–è€…glyphå­—ä½“ã€‚</p>
<h3 id="å›¾æ ‡å®šä¹‰"><a href="#å›¾æ ‡å®šä¹‰" class="headerlink" title="å›¾æ ‡å®šä¹‰"></a>å›¾æ ‡å®šä¹‰</h3><p><code>iconDefinitions</code>éƒ¨åˆ†åŒ…å«äº†æ‰€æœ‰å®šä¹‰ã€‚æ¯ä¸ªå®šä¹‰æœ‰ä¸€ä¸ªidï¼Œç”¨äºæŒ‡å‘å®šä¹‰ã€‚ä¸€ä¸ªå®šä¹‰èƒ½ä¾›å¤šä¸ªæ–‡ä»¶å…³è”å¼•ç”¨ã€‚</p>
<pre><code>"iconDefinitions": {
    "_folder_dark": {
        "iconPath": "./images/Folder_16x_inverse.svg"
    }
}</code></pre><p>è¿™é‡Œï¼Œ<strong>å›¾æ ‡å®šä¹‰</strong>åŒ…å«äº†ä¸€ä¸ªæ ‡è¯†ç¬¦<code>_folder_dark</code>ã€‚é™¤æ­¤ä¹‹å¤–è¿˜æ”¯æŒä»¥ä¸‹å±æ€§ï¼š</p>
<ul>
<li><code>iconPath</code>ï¼šå½“ä½¿ç”¨svg/pngæ–‡ä»¶æ—¶ï¼šæŒ‡å‘å›¾ç‰‡çš„è·¯å¾„ã€‚</li>
<li><code>fontCharacter</code>ï¼šå½“ä½¿ç”¨glyphå­—ä½“æ—¶ï¼šå­—ä½“ä¸­ä½¿ç”¨çš„å­—ç¬¦ã€‚</li>
<li><code>fontColor</code>ï¼šå½“ä½¿ç”¨glyphå­—ä½“æ—¶ï¼šè®¾ç½®glyphçš„é¢œè‰²ã€‚</li>
<li><code>fontSize</code>ï¼šå½“ä½¿ç”¨å­—ä½“æ—¶ï¼šè®¾ç½®å­—ä½“å¤§å°ã€‚é»˜è®¤æƒ…å†µä¸‹ä¼šä½¿ç”¨å­—ä½“æœ¬èº«å®šä¹‰çš„å­—ä½“å¤§å°ã€‚è¿™ä¸ªå€¼åº”ä¸ºçˆ¶çº§å­—å·çš„ç›¸å¯¹å€¼(å¦‚ 150%)ã€‚</li>
<li><code>fontId</code>ï¼šå½“ä½¿ç”¨å­—ä½“æ—¶: å­—ä½“çš„IDã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™ä¼šé‡‡ç”¨<code>font specification</code>éƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªå­—ä½“ã€‚</li>
</ul>
<h3 id="å…³è”æ–‡ä»¶"><a href="#å…³è”æ–‡ä»¶" class="headerlink" title="å…³è”æ–‡ä»¶"></a>å…³è”æ–‡ä»¶</h3><p>å›¾æ ‡èƒ½å…³è”åˆ°æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹åç§°ï¼Œæ–‡ä»¶ï¼Œæ–‡ä»¶åç§°ï¼Œæ–‡ä»¶æ’ä»¶ï¼Œå’Œè¯­è¨€Idã€‚</p>
<p>è¿™äº›å…³è”éƒ½èƒ½è¢«æç‚¼ä¸ºè¯¸å¦‚â€™lightâ€™å’Œâ€™highContrastâ€™è‰²å½©ä¸»é¢˜ã€‚</p>
<p>æ¯ä¸ªæ–‡ä»¶å…³è”æŒ‡å‘ä¸€ä¸ª<strong>å›¾æ ‡å®šä¹‰</strong></p>
<pre><code>"file": "_file_dark",
"folder": "_folder_dark",
"folderExpanded": "_folder_open_dark",
"folderNames": {
    ".vscode": "_vscode_folder",
},
"fileExtensions": {
    "ini": "_ini_file",
},
"fileNames": {
    "win.ini": "_win_ini_file",
},
"languageIds": {
    "ini": "_ini_file"
},
"light": {
    "folderExpanded": "_folder_open_light",
    "folder": "_folder_light",
    "file": "_file_light",
    "fileExtensions": {
        "ini": "_ini_file_light",
    }
},
"highContrast": {
}</code></pre><ul>
<li><code>file</code>æ˜¯ä¸€ä¸ªé»˜è®¤æ–‡ä»¶å›¾æ ‡ï¼Œä¸ºé‚£äº›æ²¡æœ‰åŒ¹é…åˆ°ä»»ä½•æ’ä»¶ã€æ–‡ä»¶åã€è¯­è¨€ç±»å‹çš„æ–‡ä»¶æ‰€å‡†å¤‡çš„ã€‚ç›®å‰æ‰€æœ‰æ–‡ä»¶å›¾æ ‡å±æ€§éƒ½ä¼šè¢«ç»§æ‰¿(åªé€‚ç”¨äºï¼šglyphså­—ä½“ã€å­—ä½“å¤§å°(fontSize))ã€‚</li>
<li><code>folder</code>æ”¶èµ·çš„æ–‡ä»¶å¤¹å›¾æ ‡ï¼Œå¦‚æœ<code>folderExpanded</code>æ²¡æœ‰è®¾ç½®ï¼Œé‚£ä¹ˆå±•å¼€çš„æ–‡ä»¶å¤¹ä¹Ÿä¼šä½¿ç”¨è¿™ä¸ªå›¾æ ‡ã€‚ä½¿ç”¨<code>folderNames</code>å…³è”ç‰¹æ®Šåç§°çš„æ–‡ä»¶å¤¹ã€‚æ–‡ä»¶å¤¹å›¾æ ‡æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä¸è®¾ç½®ï¼Œé‚£æ–‡ä»¶å¤¹å°±ä¸ä¼šæ˜¾ç¤ºä»»ä½•å›¾æ ‡ã€‚</li>
<li><code>folderExpanded</code>å±•å¼€çš„æ–‡ä»¶å¤¹å›¾æ ‡ã€‚è¿™ä¸ªå›¾æ ‡æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä¸è®¾ç½®å°±ä¼šä½¿ç”¨<code>folder</code>å®šä¹‰å¥½çš„å›¾æ ‡ã€‚</li>
<li><code>folderNames</code>ç‰¹æ®Šåç§°æ–‡ä»¶å¤¹å›¾æ ‡ã€‚è¿™ä¸ªé”®æ˜¯ç”¨äºæ–‡ä»¶å¤¹åç§°çš„ï¼Œä¸æ”¯æŒåŒ…å«è·¯å¾„çš„åç§°ï¼Œä¸æ”¯æŒåŒ¹é…æ¨¡å¼å’Œé€šé…ç¬¦ã€‚å¤§å°å†™ä¸æ•æ„Ÿã€‚</li>
<li><code>folderNamesExpanded</code>å±•å¼€çš„ç‰¹æ®Šåç§°æ–‡ä»¶å¤¹å›¾æ ‡ã€‚</li>
<li><code>rootFolder</code> æ”¶èµ·çš„å·¥ä½œåŒºæ ¹æ–‡ä»¶å¤¹å›¾æ ‡ï¼Œå¦‚æœ<code>rootFolderExpanded</code>æ²¡æœ‰è®¾ç½®ï¼Œé‚£ä¹ˆå±•å¼€çš„å·¥ä½œåŒºæ ¹æ–‡ä»¶å¤¹ä¹Ÿä¼šä½¿ç”¨è¿™ä¸ªå›¾æ ‡ã€‚å¦‚æœä¸è®¾ç½®ï¼Œåˆ™ä¼šä½¿ç”¨<code>folder</code>å®šä¹‰çš„æ–‡ä»¶å¤¹å›¾æ ‡ã€‚</li>
<li><code>rootFolderExpanded</code> å±•å¼€çš„å·¥ä½œåŒºæ ¹æ–‡ä»¶å¤¹å›¾æ ‡ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œåˆ™ä¼šä½¿ç”¨<code>rootFolder</code>å®šä¹‰çš„æ–‡ä»¶å¤¹å›¾æ ‡ã€‚</li>
<li><code>languageIds</code>è¯­è¨€ç±»å‹å›¾æ ‡ã€‚è¿™ä¸ªé”®å°†åŒ¹é…åœ¨<em>è¯­è¨€é…ç½®ç‚¹ï¼ˆcontribution pointï¼‰</em>é…ç½®çš„è¯­è¨€idã€‚æ³¨æ„è¯­è¨€é…ç½®çš„â€™ç¬¬ä¸€è¡Œâ€™æ˜¯ä¸è€ƒè™‘åœ¨å†…çš„ã€‚</li>
<li><code>fileExtensions</code>æ–‡ä»¶æ’ä»¶å›¾æ ‡ã€‚æ ¹æ®æ–‡ä»¶æ’ä»¶çš„åç§°åŒ¹é…ã€‚æ’ä»¶åç§°æ˜¯æ–‡ä»¶åç‚¹å·åé¢ï¼ˆä¸åŒ…å«ç‚¹å·ï¼‰ã€‚æ‹¥æœ‰å¤šé‡ç‚¹å·çš„æ–‡ä»¶åç§°ï¼Œå¦‚<code>lib.d.ts</code>ä¼šåŒ¹é…å¤šä¸ªæ¨¡å¼â€”â€”<code>d.ts</code>å’Œ<code>ts</code>ã€‚å¤§å°å†™æ•æ„Ÿã€‚</li>
<li><code>fileNames</code>æ–‡ä»¶å›¾æ ‡ã€‚è¿™ä¸ªé”®éœ€è¦æ–‡ä»¶çš„å…¨ç§°è¿›è¡ŒåŒ¹é…ï¼Œä¸æ”¯æŒåŒ…å«è·¯å¾„çš„åç§°ï¼Œä¸æ”¯æŒæ¨¡å¼å’Œé€šé…ç¬¦ã€‚å¤§å°å†™æ•æ„Ÿã€‚<code>fileNames</code>æ˜¯æœ€é«˜ä¼˜å…ˆåŒ¹é…ã€‚</li>
</ul>
<p>åŒ¹é…ä¼˜å…ˆçº§ï¼š<code>fileNames</code> &gt; <code>fileExtensions</code> &gt; <code>languageIds</code></p>
<p><code>light</code>å’Œ<code>highContrast</code>éƒ¨åˆ†çš„å±æ€§è¡¨å’Œä¸Šé¢ç›¸åŒï¼Œåªæ˜¯ä¼šåœ¨å¯¹åº”çš„ä¸»é¢˜ä¸‹è¦†ç›–åŸæœ‰å›¾æ ‡é…ç½®ã€‚</p>
<h3 id="å­—ä½“å®šä¹‰"><a href="#å­—ä½“å®šä¹‰" class="headerlink" title="å­—ä½“å®šä¹‰"></a>å­—ä½“å®šä¹‰</h3><p>åœ¨â€™fontâ€™éƒ¨åˆ†æ·»åŠ ä»»æ„ä½ å–œæ¬¢çš„å­—å½¢å’Œå­—ä½“ã€‚å®šä¹‰å¥½ä¹‹åï¼Œä½ å°±å¯ä»¥åœ¨å›¾æ ‡å®šä¹‰ä¸­ä½¿ç”¨å®ƒä»¬äº†ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šå­—ä½“idï¼Œé‚£ä¹ˆé»˜è®¤ä½¿ç”¨ç¬¬ä¸€ä¸ªå®šä¹‰çš„å­—ä½“ã€‚</p>
<p>å°†å­—ä½“æ–‡ä»¶ç§»åŠ¨åˆ°ä½ çš„æ’ä»¶ä¸­ï¼Œè®¾ç½®å¥½å¯¹åº”çš„è·¯å¾„ã€‚æ¨èä½¿ç”¨<a href="https://developer.mozilla.org/zh-CN/docs/WOFF" target="_blank" rel="noopener">WOFF</a>å­—ä½“ã€‚</p>
<ul>
<li>è®¾ç½®æ ¼å¼ä¸ºâ€™woffâ€™</li>
<li>å­—é‡é”®å€¼çš„å®šä¹‰å‚è€ƒ<a href="https://developer.mozilla.org/docs/Web/CSS/font-weight#Values" target="_blank" rel="noopener">è¿™é‡Œ</a></li>
<li>æ ·å¼é”®å€¼å¯¹çš„å®šä¹‰å‚è€ƒåœ¨<a href="https://developer.mozilla.org/docs/Web/CSS/@font-face/font-style#Values" target="_blank" rel="noopener">è¿™é‡Œ</a></li>
<li>ä½¿ç”¨å›¾æ ‡å¼•ç”¨è¯¥å­—ä½“æ—¶çš„å­—å·ã€‚å› æ­¤å­—ä½“å­—å·æ€»æ˜¯ä»¥ç™¾åˆ†æ¯”è¡¨ç¤ºã€‚</li>
</ul>
<pre><code>"fonts": [
    {
        "id": "turtles-font",
        "src": [
            {
                "path": "./turtles.woff",
                "format": "woff"
            }
        ],
        "weight": "normal",
        "style": "normal",
        "size": "150%"
    }
],
"iconDefinitions": {
    "_file": {
        "fontCharacter": "\\E002",
        "fontColor": "#5f8b3b",
        "fontId": "turtles-font"
    }
}</code></pre><h3 id="å›¾æ ‡ä¸»é¢˜ä¸­çš„æ–‡ä»¶å¤¹å›¾æ ‡"><a href="#å›¾æ ‡ä¸»é¢˜ä¸­çš„æ–‡ä»¶å¤¹å›¾æ ‡" class="headerlink" title="å›¾æ ‡ä¸»é¢˜ä¸­çš„æ–‡ä»¶å¤¹å›¾æ ‡"></a>å›¾æ ‡ä¸»é¢˜ä¸­çš„æ–‡ä»¶å¤¹å›¾æ ‡</h3><p>æ–‡ä»¶å›¾æ ‡ä¸»é¢˜ä¼šå‘Šè¯‰æ–‡ä»¶æµè§ˆå™¨ä¸è¦æ˜¾ç¤ºé»˜è®¤æ–‡ä»¶å¤¹å›¾æ ‡ï¼ˆå€’ä¸‰è§’æˆ–è€…æ¨ªæ ï¼‰ï¼Œè¿™ä¸ªæ¨¡å¼å¯åœ¨é…ç½®ä¸­åŠ å…¥<code>"hidesExplorerArrows":true</code>è¦†ç›–é»˜è®¤VS Codeçš„è®¾ç½®ã€‚</p>
<h2 id="æ ‘è§†å›¾-1"><a href="#æ ‘è§†å›¾-1" class="headerlink" title="æ ‘è§†å›¾"></a>æ ‘è§†å›¾</h2><p>æœ¬èŠ‚å°†æ•™ä½ å¦‚ä½•ä¸ºVS Codeæ·»åŠ <em>è§†å›¾å®¹å™¨</em>å’Œ<em>æ ‘è§†å›¾</em>çš„æ’ä»¶ï¼Œç¤ºä¾‹æ’ä»¶çš„æºä»£ç è¯·æŸ¥çœ‹<a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/tree-view-sampleã€‚" target="_blank" rel="noopener">https://github.com/Microsoft/vscode-extension-samples/tree/master/tree-view-sampleã€‚</a></p>
<h3 id="è§†å›¾å®¹å™¨-1"><a href="#è§†å›¾å®¹å™¨-1" class="headerlink" title="è§†å›¾å®¹å™¨"></a>è§†å›¾å®¹å™¨</h3><hr>
<p><em>è§†å›¾å®¹å™¨</em>åŒ…å«äº†ä¸€åˆ—<em>è§†å›¾(views)</em>ï¼Œè¿™äº›<em>è§†å›¾</em>åˆåŒ…å«åœ¨å†…ç½®çš„<em>è§†å›¾å®¹å™¨</em>ä¸­ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/ce00849fe0fd21034e79861492ab10c3.png" alt=""></p>
<p>è¦æƒ³é…ç½®ä¸€ä¸ªè§†å›¾å®¹å™¨ï¼Œä½ é¦–å…ˆå¾—æ³¨å†Œ<code>package.json</code>ä¸­çš„<code>contributes.viewsContainers</code>ã€‚ä½ è¿˜å¿…é¡»é…ç½®ä»¥ä¸‹å­—æ®µï¼š</p>
<ul>
<li><code>id</code>: æ–°è§†å›¾å®¹å™¨çš„åç§°</li>
<li><code>title</code>: å±•ç¤ºç»™ç”¨æˆ·çš„è§†å›¾å®¹å™¨åç§°ï¼Œå®ƒä¼šæ˜¾ç¤ºåœ¨è§†å›¾å®¹å™¨ä¸Šæ–¹</li>
<li><code>icon</code>: åœ¨æ´»åŠ¨æ ä¸­å±•ç¤ºçš„å›¾æ ‡</li>
</ul>
<pre><code>"contributes": {
  "viewsContainers": {
    "activitybar": [
      {
        "id": "package-explorer",
        "title": "Package Explorer",
        "icon": "media/dep.svg"
      }
    ]
  }
}</code></pre><h3 id="æ ‘è§†å›¾-2"><a href="#æ ‘è§†å›¾-2" class="headerlink" title="æ ‘è§†å›¾"></a>æ ‘è§†å›¾</h3><hr>
<p><em>è§†å›¾</em>æ˜¯æ˜¾ç¤ºåœ¨è§†å›¾å®¹å™¨ä¸­çš„UIç‰‡æ®µã€‚ä½¿ç”¨<code>contributes.views</code>è¿›è¡Œé…ç½®ï¼Œä½ å°±å¯ä»¥å°†æ–°çš„<em>è§†å›¾</em>æ·»åŠ åˆ°å†…ç½®æˆ–è€…ä½ é…ç½®å¥½çš„è§†å›¾å®¹å™¨ä¸­äº†ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/view.png" alt=""></p>
<p>è¦æƒ³é…ç½®ä¸€ä¸ª<em>è§†å›¾</em>ï¼Œä½ é¦–å…ˆå¾—æ³¨å†Œ<code>package.json</code>ä¸­çš„<code>contributes.views</code>ã€‚ä½ å¿…é¡»ç»™<em>è§†å›¾</em>é…ç½®ä¸€ä¸ªIDå¤–åŠ ä¸€ä¸ªåç§°ï¼Œä½ è¿˜å¯ä»¥é…ç½®<em>è§†å›¾</em>å‡ºç°çš„ä½ç½®ï¼š</p>
<ul>
<li><code>explorer</code>: æ˜¾ç¤ºåœ¨èµ„æºç®¡ç†å™¨ä¾§è¾¹æ </li>
<li><code>debug</code>: æ˜¾ç¤ºåœ¨è°ƒè¯•ä¾§è¾¹æ </li>
<li><code>scm</code>: æ˜¾ç¤ºåœ¨æºä»£ç ä¾§è¾¹æ </li>
<li><code>test</code>: æµ‹è¯•ä¾§è¾¹æ ä¸­çš„èµ„æºç®¡ç†å™¨è§†å›¾</li>
<li>æ˜¾ç¤ºåœ¨ä½ å®šä¹‰å¥½çš„<em>è§†å›¾å®¹å™¨</em>ä¸­</li>
</ul>
<pre><code>"contributes": {
  "views": {
    "package-explorer": [
      {
        "id": "nodeDependencies",
        "name": "Node Dependencies",
        "when": "explorer"
      }
    ]
  }
}</code></pre><p>å½“ç”¨æˆ·æ‰“å¼€äº†å¯¹åº”çš„è§†å›¾ï¼ŒVS Codeä¼šè§¦å‘<code>onView:${viewId}</code>äº‹ä»¶(å¦‚ä¸Šé¢ä¾‹å­ä¸­ï¼Œè¿™ä¸ªäº‹ä»¶å†™ä¸º<code>onView:nodeDependencies</code>)ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡é…ç½®<code>when</code>å­—æ®µæ§åˆ¶è§†å›¾çš„å±•ç¤ºã€‚</p>
<h3 id="è§†å›¾çš„æ“ä½œ"><a href="#è§†å›¾çš„æ“ä½œ" class="headerlink" title="è§†å›¾çš„æ“ä½œ"></a>è§†å›¾çš„æ“ä½œ</h3><hr>
<p>ä½ å¯ä»¥é…ç½®<em>è§†å›¾</em>ä¸‹è¿°ä½ç½®çš„æ“ä½œï¼š</p>
<ul>
<li><code>view/title</code>: <em>è§†å›¾</em>æ ‡é¢˜ä½ç½®æ˜¾ç¤ºçš„æ“ä½œã€‚è¿™é‡Œå¯ä»¥é…ç½®ä¸»è¦çš„æ“ä½œï¼Œä½¿ç”¨<code>"group": "navigation"</code>è¿›è¡Œé…ç½®ï¼Œå‰©ä½™çš„äºŒçº§æ“ä½œåˆ™å‡ºç°åœ¨<code>...</code>èœå•ä¸­ã€‚</li>
<li><code>view/item/context</code>: æ¯ä¸ª<em>è§†å›¾é¡¹</em>çš„æ“ä½œã€‚è¿™é‡Œå¯ä»¥é…ç½®ä¸»è¦çš„æ“ä½œï¼Œä½¿ç”¨<code>"group": "inline"</code>ï¼Œå‰©ä½™çš„äºŒçº§æ“ä½œåˆ™å‡ºç°åœ¨<code>...</code>èœå•ä¸­ã€‚</li>
</ul>
<p>ä½¿ç”¨<code>when</code>å±æ€§æ§åˆ¶è¿™äº›æ“ä½œçš„å±•ç¤ºã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/11f85ec0816b83d978832d66127831a3.png" alt=""></p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code>"contributes": {
  "commands": [
    {
      "command": "nodeDependencies.refreshEntry",
      "title": "Refresh",
      "icon": {
        "light": "resources/light/refresh.svg",
        "dark": "resources/dark/refresh.svg"
      }
    },
    {
      "command": "nodeDependencies.addEntry",
      "title": "Add"
    },
    {
      "command": "nodeDependencies.editEntry",
      "title": "Edit",
      "icon": {
        "light": "resources/light/edit.svg",
        "dark": "resources/dark/edit.svg"
      }
    },
    {
      "command": "nodeDependencies.deleteEntry",
      "title": "Delete"
    }
  ],
  "menus": {
    "view/title": [
      {
        "command": "nodeDependencies.refreshEntry",
        "when": "view == nodeDependencies",
        "group": "navigation"
      },
      {
        "command": "nodeDependencies.addEntry",
        "when": "view == nodeDependencies"
      }
    ],
    "view/item/context": [
      {
        "command": "nodeDependencies.editEntry",
        "when": "view == nodeDependencies &amp;&amp; viewItem == dependency",
        "group": "inline"
      },
      {
        "command": "nodeDependencies.deleteEntry",
        "when": "view == nodeDependencies &amp;&amp; viewItem == dependency"
      }
    ]
  }
}</code></pre><p>!&gt; <strong>æ³¨æ„</strong>ï¼šå¦‚æœä½ éœ€è¦é’ˆå¯¹ç‰¹å®šçš„æ¡ç›®æ˜¾ç¤ºç‰¹æ®Šçš„æ“ä½œï¼Œå®šä¹‰æ ‘è§†å›¾é¡¹çš„<code>TreeItem.contextValue</code>ï¼Œå¹¶ä¸”åœ¨<code>when</code>ä¸­ä½¿ç”¨è¡¨è¾¾å¼ï¼Œè§†å›¾é¡¹çš„å€¼å‚¨å­˜åœ¨è¡¨è¾¾å¼çš„<code>viewItem</code>ä¸­ã€‚</p>
<p>å¦‚ï¼š</p>
<pre><code>"contributes": {
  "menus": {
    "view/item/context": [
      {
        "command": "nodeDependencies.deleteEntry",
        "when": "view == nodeDependencies &amp;&amp; viewItem == dependency"
      }
    ]
  }
}</code></pre><h3 id="ä¸ºæ ‘è§†å›¾æä¾›æ•°æ®"><a href="#ä¸ºæ ‘è§†å›¾æä¾›æ•°æ®" class="headerlink" title="ä¸ºæ ‘è§†å›¾æä¾›æ•°æ®"></a>ä¸ºæ ‘è§†å›¾æä¾›æ•°æ®</h3><hr>
<p>æ’ä»¶åˆ›ä½œè€…éœ€è¦æ³¨å†Œ<a href="https://code.visualstudio.com/api/references/vscode-api#TreeDataProvider" target="_blank" rel="noopener"><code>TreeDataProvider</code></a>ï¼Œä»¥ä¾¿åŠ¨æ€ç”Ÿæˆ<em>è§†å›¾</em>ä¸­çš„æ•°æ®ã€‚</p>
<pre><code>vscode.window.registerTreeDataProvider('nodeDependencies', new DepNodeProvider());</code></pre><p>æ›´å¤šå®ç°è¯·å‚è€ƒ<a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/tree-view-sample/src/nodeDependencies.ts" target="_blank" rel="noopener">nodeDependencies.ts</a></p>
<h3 id="åŠ¨æ€åˆ›å»ºæ ‘è§†å›¾"><a href="#åŠ¨æ€åˆ›å»ºæ ‘è§†å›¾" class="headerlink" title="åŠ¨æ€åˆ›å»ºæ ‘è§†å›¾"></a>åŠ¨æ€åˆ›å»ºæ ‘è§†å›¾</h3><hr>
<p>å¦‚æœä½ æƒ³åœ¨<em>è§†å›¾</em>ä¸­é€šè¿‡ç¼–ç¨‹æ‰‹æ®µåˆ›å»ºä¸€äº›æ“ä½œï¼Œä½ å°±ä¸èƒ½å†æ³¨å†Œ<code>window.registerTreeDataProvider</code>äº†ï¼Œè€Œæ˜¯<code>window.createTreeView</code>ï¼Œè¿™æ ·ä¸€æ¥ä½ å°±æœ‰æƒé™æä¾›ä½ å–œæ¬¢çš„è§†å›¾æ“ä½œäº†ï¼š</p>
<pre><code>vscode.window.createTreeView('ftpExplorer', {  treeDataProvider: new FtpTreeDataProvider()});</code></pre><p>æ›´å¤šå®ç°è¯·å‚è€ƒ<a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/tree-view-sample/src/ftpExplorer.ts" target="_blank" rel="noopener">ftpExplorer.ts</a></p>
<h2 id="Webview-API"><a href="#Webview-API" class="headerlink" title="Webview API"></a>Webview API</h2><p>webview APIä¸ºå¼€å‘è€…æä¾›äº†å®Œå…¨è‡ªå®šä¹‰è§†å›¾çš„èƒ½åŠ›ï¼Œä¾‹å¦‚å†…ç½®çš„Markdownæ’ä»¶ä½¿ç”¨äº†webviewæ¸²æŸ“Markdowné¢„è§ˆæ–‡ä»¶ã€‚Webviewä¹Ÿèƒ½ç”¨äºæ„å»ºæ¯”VS CodeåŸç”ŸAPIæ”¯æŒæ„å»ºçš„æ›´åŠ å¤æ‚çš„ç”¨æˆ·äº¤äº’ç•Œé¢ã€‚</p>
<p>å¯ä»¥æŠŠwebviewçœ‹æˆæ˜¯VS Codeä¸­çš„<code>iframe</code>ï¼Œå®ƒå¯ä»¥æ¸²æŸ“å‡ ä¹å…¨éƒ¨çš„HTMLå†…å®¹ï¼Œå®ƒé€šè¿‡æ¶ˆæ¯æœºåˆ¶å’Œæ’ä»¶é€šä¿¡ã€‚è¿™æ ·çš„è‡ªç”±åº¦ä»¤æˆ‘ä»¬çš„webviewéå¸¸å¼ºåŠ²å¹¶å°†æ’ä»¶çš„æ½œåŠ›æå‡åˆ°äº†æ–°çš„é«˜åº¦ã€‚</p>
<h3 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h3><hr>
<ul>
<li><a href="https://github.com/Microsoft/vscode-extension-samples/blob/master/webview-sample/README.md" target="_blank" rel="noopener">Webview ç¤ºä¾‹</a></li>
</ul>
<h4 id="ä½¿ç”¨çš„VS-Code-API"><a href="#ä½¿ç”¨çš„VS-Code-API" class="headerlink" title="ä½¿ç”¨çš„VS Code API"></a>ä½¿ç”¨çš„VS Code API</h4><ul>
<li><a href="https://code.visualstudio.com/api/references/vscode-api#window.createWebviewPanel" target="_blank" rel="noopener">window.createWebviewPanel</a></li>
<li><a href="https://code.visualstudio.com/api/references/vscode-api#window.registerWebviewPanelSerializer" target="_blank" rel="noopener">window.registerWebviewPanelSerializer</a></li>
</ul>
<h3 id="æˆ‘åº”è¯¥ç”¨webviewå—ï¼Ÿ"><a href="#æˆ‘åº”è¯¥ç”¨webviewå—ï¼Ÿ" class="headerlink" title="æˆ‘åº”è¯¥ç”¨webviewå—ï¼Ÿ"></a>æˆ‘åº”è¯¥ç”¨webviewå—ï¼Ÿ</h3><hr>
<p>webviewè™½ç„¶å¾ˆèµï¼Œä½†æ˜¯æˆ‘ä»¬åº”è¯¥èŠ‚åˆ¶åœ°ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½â€”â€”æ¯”å¦‚å½“VS CodeåŸç”ŸAPIä¸å¤Ÿç”¨æ—¶ã€‚Webviewé‡åº¦ä¾èµ–èµ„æºï¼Œæ‰€ä»¥å®ƒè„±ç¦»æ’ä»¶çš„è¿›ç¨‹è€Œå•ç‹¬è¿è¡Œåœ¨å…¶ä»–ç¯å¢ƒä¸­ã€‚åœ¨VS Codeä¸­ä½¿ç”¨è®¾è®¡ä¸è‰¯çš„webviewä¼šè®©ç”¨æˆ·æŠ“ç‹‚ã€‚</p>
<p>åœ¨ä½¿ç”¨webviewä¹‹å‰ï¼Œè¯·ä½œä»¥ä¸‹è€ƒè™‘ï¼š</p>
<ul>
<li>è¿™ä¸ªåŠŸèƒ½çœŸçš„éœ€è¦VS Codeæ¥æä¾›å—ï¼Ÿåˆ†ç¦»æˆä¸€ä¸ªåº”ç”¨æˆ–è€…ç½‘ç«™ä¼šä¸ä¼šæ›´å¥½ï¼Ÿ</li>
<li>webviewæ˜¯å®ç°è¿™ä¸ªç‰¹æ€§çš„æœ€åæ–¹æ¡ˆå—ï¼ŸVS CodeåŸç”ŸAPIæ˜¯å¦èƒ½è¾¾åˆ°åŒæ ·çš„ç›®çš„å‘¢ï¼Ÿ</li>
<li>ä½ çš„webviewæ‰€ç‰ºç‰²çš„é«˜èµ„æºå ç”¨æ˜¯å¦èƒ½æ¢å¾—åŒæ ·çš„ç”¨æˆ·ä»·å€¼ï¼Ÿ</li>
</ul>
<p>è¯·è®°ä½ï¼šä¸è¦å› ä¸ºèƒ½ä½¿ç”¨webviewè€Œæ»¥ç”¨webviewã€‚ç›¸åï¼Œå¦‚æœä½ æœ‰å……è¶³çš„ç†ç”±å’Œè‡ªä¿¡ï¼Œé‚£ä¹ˆæœ¬ç¯‡æ•™ç¨‹å¯¹ä½ æ¥è¯´ä¼šéå¸¸æœ‰ç”¨ï¼Œç°åœ¨å°±è®©æˆ‘ä»¬å¼€å§‹å§ã€‚</p>
<h3 id="Webviews-API-åŸºç¡€"><a href="#Webviews-API-åŸºç¡€" class="headerlink" title="Webviews API åŸºç¡€"></a>Webviews API åŸºç¡€</h3><hr>
<p>ä¸ºäº†è§£é‡ŠwebviewAPIï¼Œæˆ‘ä»¬å…ˆæ„å»ºä¸€ä¸ªç®€å•çš„<strong>Cat Coding</strong>æ’ä»¶ã€‚è¿™ä¸ªæ’ä»¶ä¼šç”¨ä¸€ä¸ªwebviewæ˜¾ç¤ºçŒ«å†™ä»£ç çš„gifã€‚éšç€æˆ‘ä»¬ä¸æ–­äº†è§£APIï¼Œæˆ‘ä»¬ä¼šä¸æ–­åœ°ç»™æ’ä»¶æ·»åŠ åŠŸèƒ½ï¼ŒåŒ…æ‹¬æˆ‘ä»¬çš„çŒ«å†™äº†å¤šå°‘è¡Œä»£ç çš„è®¡æ•°è·Ÿè¸ªå™¨ï¼Œå¦‚æœçŒ«çŒ«å†™å‡ºäº†bugè¿˜ä¼šæœ‰ä¸€ä¸ªæç¤ºå¼¹å‡ºæ¡†ã€‚</p>
<p>è¿™æ˜¯<strong>Cat Coding</strong>æ’ä»¶çš„ç¬¬ä¸€ç‰ˆ<code>package.json</code>ï¼Œä½ å¯ä»¥åœ¨<a href="https://github.com/Microsoft/vscode-extension-samples/blob/master/webview-sample/README.md" target="_blank" rel="noopener">è¿™é‡Œ</a>æ‰¾åˆ°å®Œæ•´çš„ä»£ç ã€‚æˆ‘ä»¬çš„ç¬¬ä¸€ç‰ˆæ’ä»¶æä¾›äº†ä¸€ä¸ªå‘½ä»¤ï¼Œå«åš<code>catCoding.start</code>ã€‚å½“ç”¨æˆ·ä»<strong>å‘½ä»¤é¢æ¿</strong>è°ƒç”¨<em>Cat Coding: Start new cat coding session</em>ï¼Œæˆ–è€…ä¸€ä¸ªåˆ›å»ºå¥½çš„<em>é”®ç»‘å®š</em>å‘½ä»¤ï¼Œæˆ‘ä»¬çš„çŒ«çŒ«ä¼šå‡ºç°åœ¨webviewçª—å£å†…ã€‚</p>
<pre><code>{
  "name": "cat-coding",
  "description": "Cat Coding",
  "version": "0.0.1",
  "publisher": "bierner",
  "engines": {
    "vscode": "^1.23.0"
  },
  "activationEvents": ["onCommand:catCoding.start"],
  "main": "./out/src/extension",
  "contributes": {
    "commands": [
      {
        "command": "catCoding.start",
        "title": "Start new cat coding session",
        "category": "Cat Coding"
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "tsc -p ./",
    "compile": "tsc -watch -p ./",
    "postinstall": "node ./node_modules/vscode/bin/install"
  },
  "dependencies": {
    "vscode": "*"
  },
  "devDependencies": {
    "@types/node": "^9.4.6",
    "typescript": "^2.8.3"
  }
}</code></pre><p>ç°åœ¨è®©æˆ‘ä»¬å®ç°<code>catCoding.start</code>å‘½ä»¤ï¼Œåœ¨æˆ‘ä»¬çš„ä¸»æ–‡ä»¶ä¸­ï¼Œåƒä¸‹é¢è¿™æ ·æ³¨å†Œä¸€ä¸ªåŸºç¡€çš„webviewï¼š</p>
<pre><code>import * as vscode from 'vscode';
export function activate(context: vscode.ExtensionContext) {
  context.subscriptions.push(
    vscode.commands.registerCommand('catCoding.start', () =&gt; {
      // åˆ›å»ºå¹¶æ˜¾ç¤ºæ–°çš„webview
      const panel = vscode.window.createWebviewPanel(
        'catCoding', // åªä¾›å†…éƒ¨ä½¿ç”¨ï¼Œè¿™ä¸ªwebviewçš„æ ‡è¯†
        'Cat Coding', // ç»™ç”¨æˆ·æ˜¾ç¤ºçš„é¢æ¿æ ‡é¢˜
        vscode.ViewColumn.One, // ç»™æ–°çš„webviewé¢æ¿ä¸€ä¸ªç¼–è¾‘å™¨è§†å›¾
        {} // Webviewé€‰é¡¹ã€‚æˆ‘ä»¬ç¨åä¼šç”¨ä¸Š
      );
    })
  );
}</code></pre><p><code>vscode.window.createWebviewPanel</code>å‡½æ•°åˆ›å»ºå¹¶åœ¨ç¼–è¾‘åŒºå±•ç¤ºäº†ä¸€ä¸ªwebviewï¼Œä¸‹å›¾æ˜¾ç¤ºäº†å¦‚æœä½ è¯•ç€è¿è¡Œ<code>catCoding.start</code>å‘½ä»¤ä¼šæ˜¾ç¤ºçš„ä¸œè¥¿ï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/08b3020ccda1d57f14212c25e8926abe.png" alt=""></p>
<p>æˆ‘ä»¬çš„å‘½ä»¤ä»¥æ­£ç¡®çš„æ ‡é¢˜æ‰“å¼€äº†ä¸€ä¸ªæ–°çš„webviewé¢æ¿ï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•å†…å®¹ï¼è¦æƒ³æŠŠæˆ‘ä»¬çš„çŒ«åŠ åˆ°è¿™ä¸ªé¢æ¿é‡Œé¢ï¼Œæˆ‘ä»¬éœ€è¦<code>webview.html</code>è®¾ç½®HTMLå†…å®¹ã€‚</p>
<pre><code>import * as vscode from 'vscode';
export function activate(context: vscode.ExtensionContext) {
  context.subscriptions.push(
    vscode.commands.registerCommand('catCoding.start', () =&gt; {
      // åˆ›å»ºå’Œæ˜¾ç¤ºwebview
      const panel = vscode.window.createWebviewPanel(
        'catCoding',
        'Cat Coding',
        vscode.ViewColumn.One,
        {}
      );
      // è®¾ç½®HTMLå†…å®¹
      panel.webview.html = getWebviewContent();
    })
  );
}
function getWebviewContent() {
  return
    `
        &lt;!DOCTYPE html&gt;
        &lt;html lang="en"&gt;
        &lt;head&gt;
            &lt;meta charset="UTF-8"&gt;
            &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
            &lt;title&gt;Cat Coding&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
            &lt;img src="https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif" width="300" /&gt;
        &lt;/body&gt;
        &lt;/html&gt;
    `;
}</code></pre><p>å¦‚æœä½ å†æ¬¡è¿è¡Œå‘½ä»¤ï¼Œåº”è¯¥èƒ½çœ‹åˆ°ä¸‹å›¾ï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/d880aa929d45fdf9b55cd623e7e880d4.png" alt=""></p>
<p>å¤§åŠŸå‘Šæˆï¼</p>
<p><code>webview.html</code>åº”è¯¥æ˜¯ä¸€ä¸ªå®Œæ•´çš„HTMLæ–‡æ¡£ã€‚ä½¿ç”¨HTMLç‰‡æ®µæˆ–è€…æ ¼å¼é”™ä¹±çš„HTMLä¼šé€ æˆå¼‚å¸¸ã€‚</p>
<h4 id="æ›´æ–°webviewå†…å®¹"><a href="#æ›´æ–°webviewå†…å®¹" class="headerlink" title="æ›´æ–°webviewå†…å®¹"></a>æ›´æ–°webviewå†…å®¹</h4><p><code>webview.html</code>ä¹Ÿèƒ½åœ¨webviewåˆ›å»ºåæ›´æ–°å†…å®¹ï¼Œè®©æˆ‘ä»¬ç”¨çŒ«çŒ«è½®æ’­å›¾ä½¿<strong>Cat Coding</strong>å…·æœ‰åŠ¨æ€æ€§ï¼š</p>
<pre><code>import * as vscode from 'vscode';
const cats = {
  'Coding Cat': 'https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif',
  'Compiling Cat': 'https://media.giphy.com/media/mlvseq9yvZhba/giphy.gif'
};
export function activate(context: vscode.ExtensionContext) {
  context.subscriptions.push(
    vscode.commands.registerCommand('catCoding.start', () =&gt; {
      const panel = vscode.window.createWebviewPanel(
        'catCoding',
        'Cat Coding',
        vscode.ViewColumn.One,
        {}
      );
      let iteration = 0;
      const updateWebview = () =&gt; {
        const cat = iteration++ % 2 ? 'Compiling Cat' : 'Coding Cat';
        panel.title = cat;
        panel.webview.html = getWebviewContent(cat);
      };
      // è®¾ç½®åˆå§‹åŒ–å†…å®¹
      updateWebview();
      // æ¯ç§’æ›´æ–°å†…å®¹
      setInterval(updateWebview, 1000);
    })
  );
}
function getWebviewContent(cat: keyof typeof cats) {
  return
    `
        &lt;!DOCTYPE html&gt;
        &lt;html lang="en"&gt;
        &lt;head&gt;
            &lt;meta charset="UTF-8"&gt;
            &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
            &lt;title&gt;Cat Coding&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
            &lt;img src="${cats[cat]}" width="300" /&gt;
        &lt;/body&gt;
        &lt;/html&gt;
    `;
}</code></pre><p><img src="/images/loading.gif" data-original="../images/development/basics-update.gif" alt=""></p>
<p>å› ä¸º<code>webview.html</code>æ–¹æ³•æ›¿æ¢äº†æ•´ä¸ªwebviewå†…å®¹ï¼Œé¡µé¢çœ‹èµ·æ¥åƒé‡æ–°åŠ è½½äº†ä¸€ä¸ªiframeã€‚è®°ä½ï¼šå¦‚æœä½ åœ¨webviewä¸­ä½¿ç”¨äº†è„šæœ¬ï¼Œé‚£å°±æ„å‘³ç€<code>webview.html</code>çš„é‡ç½®ä¼šä½¿è„šæœ¬çŠ¶æ€é‡ç½®ã€‚</p>
<p>ä¸Šè¿°ç¤ºä¾‹ä¹Ÿä½¿ç”¨äº†<code>webview.title</code>æ”¹å˜ç¼–è¾‘å™¨ä¸­çš„å±•ç¤ºçš„æ–‡ä»¶åç§°ï¼Œè®¾ç½®æ ‡é¢˜ä¸ä¼šä½¿webviewé‡è½½ã€‚</p>
<h4 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h4><p>webviewä»å±äºåˆ›å»ºä»–ä»¬çš„æ’ä»¶ï¼Œæ’ä»¶å¿…é¡»ä¿æŒä½ä»webviewè¿”å›çš„<code>createWebviewPanel</code>ã€‚å¦‚æœä½ çš„æ’ä»¶å¤±å»äº†è¿™ä¸ªå…³è”ï¼Œå®ƒå°±ä¸èƒ½å†è®¿é—®webviewäº†ï¼Œä¸è¿‡å³ä½¿è¿™æ ·ï¼Œwebviewè¿˜ä¼šç»§ç»­å±•ç¤ºåœ¨VS Codeä¸­ã€‚</p>
<p>å› ä¸ºwebviewæ˜¯ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨è§†å›¾ï¼Œæ‰€ä»¥ç”¨æˆ·å¯ä»¥éšæ—¶å…³é—­webviewã€‚å½“ç”¨æˆ·å…³é—­äº†webviewé¢æ¿åï¼Œwebviewå°±è¢«é”€æ¯äº†ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œé”€æ¯webviewæ—¶æŠ›å‡ºäº†ä¸€ä¸ªå¼‚å¸¸ï¼Œè¯´æ˜æˆ‘ä»¬ä¸Šé¢çš„ç¤ºä¾‹ä¸­ä½¿ç”¨çš„<code>seInterval</code>å®é™…ä¸Šäº§ç”Ÿäº†éå¸¸ä¸¥é‡çš„Bugï¼šå¦‚æœç”¨æˆ·å…³é—­äº†é¢æ¿ï¼Œ<code>setInterval</code>ä¼šç»§ç»­è§¦å‘ï¼Œè€Œä¸”è¿˜ä¼šå°è¯•æ›´æ–°<code>panel.webview.html</code>ï¼Œè¿™å½“ç„¶ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚å–µæ˜Ÿäººå¯ä¸å–œæ¬¢å¼‚å¸¸ï¼Œæˆ‘ä»¬ç°åœ¨å°±æ¥è§£å†³è¿™ä¸ªé—®é¢˜å§ã€‚</p>
<p><code>onDidDispose</code>äº‹ä»¶åœ¨webviewè¢«é”€æ¯æ—¶è§¦å‘ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªäº‹ä»¶ç»“æŸä¹‹åæ›´æ–°å¹¶é‡Šæ”¾webviewèµ„æºã€‚</p>
<pre><code>import * as vscode from 'vscode';
const cats = {
  'Coding Cat': 'https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif',
  'Compiling Cat': 'https://media.giphy.com/media/mlvseq9yvZhba/giphy.gif'
};
export function activate(context: vscode.ExtensionContext) {
  context.subscriptions.push(
    vscode.commands.registerCommand('catCoding.start', () =&gt; {
      const panel = vscode.window.createWebviewPanel(
        'catCoding',
        'Cat Coding',
        vscode.ViewColumn.One,
        {}
      );
      let iteration = 0;
      const updateWebview = () =&gt; {
        const cat = iteration++ % 2 ? 'Compiling Cat' : 'Coding Cat';
        panel.title = cat;
        panel.webview.html = getWebviewContent(cat);
      };
      updateWebview();
      const interval = setInterval(updateWebview, 1000);
      panel.onDidDispose(
        () =&gt; {
          // å½“é¢æ¿å…³é—­æ—¶ï¼Œå–æ¶ˆwebviewå†…å®¹ä¹‹åçš„æ›´æ–°
          clearInterval(interval);
        },
        null,
        context.subscriptions
      );
    })
  );
}</code></pre><p>æ’ä»¶ä¹Ÿå¯ä»¥é€šè¿‡ç¼–ç¨‹æ–¹å¼å…³é—­webviewè§†å›¾â€”â€”è°ƒç”¨å®ƒä»¬çš„<code>dispose()</code>æ–¹æ³•ã€‚æˆ‘ä»¬å‡è®¾ï¼Œç°åœ¨é™åˆ¶æˆ‘ä»¬çš„çŒ«çŒ«æ¯å¤©å·¥ä½œ5ç§’é’Ÿï¼š</p>
<pre><code>export function activate(context: vscode.ExtensionContext) {
  context.subscriptions.push(
    vscode.commands.registerCommand('catCoding.start', () =&gt; {
      const panel = vscode.window.createWebviewPanel(
        'catCoding',
        'Cat Coding',
        vscode.ViewColumn.One,
        {}
      );
      panel.webview.html = getWebviewContent(cats['Coding Cat']);
      // 5ç§’åï¼Œç¨‹åºæ€§åœ°å…³é—­webviewé¢æ¿
      const timeout = setTimeout(() =&gt; panel.dispose(), 5000);
      panel.onDidDispose(
        () =&gt; {
          // åœ¨ç¬¬äº”ç§’ç»“æŸä¹‹å‰å¤„ç†ç”¨æˆ·æ‰‹åŠ¨çš„å…³é—­åŠ¨ä½œ
          clearTimeout(timeout);
        },
        null,
        context.subscriptions
      );
    })
  );
}</code></pre><h4 id="ç§»åŠ¨å’Œå¯è§æ€§"><a href="#ç§»åŠ¨å’Œå¯è§æ€§" class="headerlink" title="ç§»åŠ¨å’Œå¯è§æ€§"></a>ç§»åŠ¨å’Œå¯è§æ€§</h4><p>å½“webviewé¢æ¿è¢«ç§»åŠ¨åˆ°äº†éæ¿€æ´»æ ‡ç­¾ä¸Šï¼Œå®ƒå°±éšè—èµ·æ¥äº†ã€‚ä½†è¿™æ—¶å¹¶ä¸æ˜¯é”€æ¯ï¼Œå½“é‡æ–°æ¿€æ´»æ ‡ç­¾åï¼ŒVS Codeä¼šä»<code>webview.html</code>è‡ªåŠ¨æ¢å¤webviewçš„å†…å®¹ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/basics-restore.gif" alt=""></p>
<p><code>.visible</code>å±æ€§å‘Šè¯‰ä½ å½“å‰webviewé¢æ¿æ˜¯å¦æ˜¯å¯è§çš„ã€‚</p>
<p>æ’ä»¶ä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨<code>reveal()</code>æ–¹æ³•ï¼Œç¨‹åºæ€§åœ°å°†webviewé¢æ¿æ¿€æ´»ã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªç”¨äºæ”¾ç½®é¢æ¿çš„ç›®æ ‡è§†å›¾å¸ƒå±€ã€‚ä¸€ä¸ªé¢æ¿ä¸€æ¬¡åªèƒ½æ˜¾ç¤ºåœ¨ä¸€ä¸ªç¼–è¾‘å¸ƒå±€ä¸­ã€‚è°ƒç”¨<code>reveal()</code>æˆ–è€…æ‹–åŠ¨webviewé¢æ¿åˆ°æ–°çš„ç¼–è¾‘å¸ƒå±€ä¸­å»ã€‚</p>
<p><img src="/images/loading.gif" data-original="https://static.sitestack.cn/projects/VS-Code-Extension-Doc-ZH/e485d3c3e56f2cca65cfb5a564632480.gif" alt=""></p>
<p>ç°åœ¨æ›´æ–°æˆ‘ä»¬çš„æ’ä»¶ï¼Œä¸€æ¬¡åªå…è®¸å­˜åœ¨ä¸€ä¸ªwebviewè§†å›¾ã€‚å¦‚æœé¢æ¿å¤„äºéæ¿€æ´»çŠ¶æ€ï¼Œé‚£<code>catCoding.start</code>å‘½ä»¤å°±æŠŠè¿™ä¸ªé¢æ¿æ¿€æ´»ã€‚</p>
<pre><code>export function activate(context: vscode.ExtensionContext) {
  // è¿½è¸ªå½“å‰webviewé¢æ¿
  let currentPanel: vscode.WebviewPanel | undefined = undefined;
  context.subscriptions.push(
    vscode.commands.registerCommand('catCoding.start', () =&gt; {
      const columnToShowIn = vscode.window.activeTextEditor
        ? vscode.window.activeTextEditor.viewColumn
        : undefined;
      if (currentPanel) {
        // å¦‚æœæˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªé¢æ¿ï¼Œé‚£å°±æŠŠå®ƒæ˜¾ç¤ºåˆ°ç›®æ ‡åˆ—å¸ƒå±€ä¸­
        currentPanel.reveal(columnToShowIn);
      } else {
        // ä¸ç„¶ï¼Œåˆ›å»ºä¸€ä¸ªæ–°é¢æ¿
        currentPanel = vscode.window.createWebviewPanel(
          'catCoding',
          'Cat Coding',
          columnToShowIn,
          {}
        );
        currentPanel.webview.html = getWebviewContent(cats['Coding Cat']);
        // å½“å‰é¢æ¿è¢«å…³é—­åé‡ç½®
        currentPanel.onDidDispose(
          () =&gt; {
            currentPanel = undefined;
          },
          null,
          context.subscriptions
        );
      }
    })
  );
}</code></pre><p>ä¸‹é¢æ˜¯ä¸€ä¸ªæ–°æ’ä»¶çš„è¡Œä¸ºï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/62651359ccf00c8ef99ddd8170194ffc.gif" alt=""></p>
<p>ä¸è®ºä½•æ—¶ï¼Œå¦‚æœwebviewçš„å¯è§æ€§æ”¹å˜äº†ï¼Œæˆ–è€…å½“webviewç§»åŠ¨åˆ°äº†æ–°çš„è§†å›¾å¸ƒå±€ä¸­ï¼Œå°±ä¼šè§¦å‘<code>onDidChangeViewState</code>ã€‚æˆ‘ä»¬çš„æ’ä»¶å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ—¶é—´æ”¹å˜å¸ƒå±€ä¸­çš„webviewæ˜¾ç¤ºçš„çŒ«ï¼š</p>
<pre><code>const cats = {
  'Coding Cat': 'https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif',
  'Compiling Cat': 'https://media.giphy.com/media/mlvseq9yvZhba/giphy.gif',
  'Testing Cat': 'https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif'
};
export function activate(context: vscode.ExtensionContext) {
  context.subscriptions.push(
    vscode.commands.registerCommand('catCoding.start', () =&gt; {
      const panel = vscode.window.createWebviewPanel(
        'catCoding',
        'Cat Coding',
        vscode.ViewColumn.One,
        {}
      );
      panel.webview.html = getWebviewContent(cats['Coding Cat']);
      // æ ¹æ®è§†å›¾çŠ¶æ€å˜åŠ¨æ›´æ–°å†…å®¹
      panel.onDidChangeViewState(
        e =&gt; {
          const panel = e.webviewPanel;
          switch (panel.viewColumn) {
            case vscode.ViewColumn.One:
              updateWebviewForCat(panel, 'Coding Cat');
              return;
            case vscode.ViewColumn.Two:
              updateWebviewForCat(panel, 'Compiling Cat');
              return;
            case vscode.ViewColumn.Three:
              updateWebviewForCat(panel, 'Testing Cat');
              return;
          }
        },
        null,
        context.subscriptions
      );
    })
  );
}
function updateWebviewForCat(panel: vscode.WebviewPanel, catName: keyof typeof cats) {
  panel.title = catName;
  panel.webview.html = getWebviewContent(cats[catName]);
}</code></pre><p><img src="/images/loading.gif" data-original="../images/development/basics-ondidchangeviewstate.gif" alt=""></p>
<h4 id="æ£€æŸ¥å’Œè°ƒè¯•webviews"><a href="#æ£€æŸ¥å’Œè°ƒè¯•webviews" class="headerlink" title="æ£€æŸ¥å’Œè°ƒè¯•webviews"></a>æ£€æŸ¥å’Œè°ƒè¯•webviews</h4><p>åœ¨å‘½ä»¤é¢æ¿ä¸­è¾“å…¥<strong>Developer: Toggle Developer Tools</strong>èƒ½å¸®åŠ©ä½ è°ƒè¯•webviewã€‚è¿è¡Œå‘½ä»¤ä¹‹åä¼šä¸ºå½“å‰å¯è§çš„webviewåŠ è½½ä¸€ä¸ªdevtoolï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/a4526c670d7d41753f8c9141e42d9d3e.png" alt=""></p>
<p>webviewçš„å†…å®¹æ˜¯åœ¨webviewæ–‡æ¡£ä¸­çš„ä¸€ä¸ªiframeä¸­çš„ï¼Œç”¨å¼€å‘è€…å·¥å…·æ£€æŸ¥å’Œä¿®æ”¹webviewçš„DOMï¼Œåœ¨webviewå†…è°ƒè¯•è„šæœ¬ã€‚</p>
<p>å¦‚æœä½ ç”¨äº†webviewå¼€å‘è€…å·¥å…·çš„consoleï¼Œç¡®ä¿ä½ åœ¨Consoleé¢æ¿å·¦ä¸Šè§’çš„ä¸‹æ‹‰æ¡†é‡Œé€‰ä¸­äº†å½“å‰<strong>æ¿€æ´»çª—ä½“</strong>ç¯å¢ƒï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/dccc5a34084408288c435084eac3bd37.png" alt=""></p>
<p><strong>æ¿€æ´»çª—ä½“</strong>ç¯å¢ƒæ˜¯webviewè„šæœ¬æ‰§è¡Œçš„åœ°æ–¹ã€‚</p>
<p>å¦å¤–ï¼Œ<strong>Developer: Reload Webview</strong>å‘½ä»¤ä¼šåˆ·æ–°æ‰€æœ‰å·²æ¿€æ´»çš„webviewã€‚å¦‚æœä½ éœ€è¦é‡ç½®ä¸€ä¸ªwebviewçš„çŠ¶æ€ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šéå¸¸æœ‰ç”¨ï¼Œæˆ–è€…ä½ æƒ³è¦è¯»å–ç¡¬ç›˜å†…å®¹çš„webviewæ›´æ–°ä¸€ä¸‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚</p>
<h3 id="åŠ è½½æœ¬åœ°å†…å®¹"><a href="#åŠ è½½æœ¬åœ°å†…å®¹" class="headerlink" title="åŠ è½½æœ¬åœ°å†…å®¹"></a>åŠ è½½æœ¬åœ°å†…å®¹</h3><hr>
<p>webviewè¿è¡Œåœ¨ç‹¬ç«‹çš„ç¯å¢ƒä¸­ï¼Œå› æ­¤ä¸èƒ½ç›´æ¥è®¿é—®æœ¬åœ°èµ„æºï¼Œè¿™æ˜¯å‡ºäºå®‰å…¨æ€§è€ƒè™‘çš„åšæ³•ã€‚è¿™ä¹Ÿæ„å‘³ç€è¦æƒ³ä»ä½ çš„æ’ä»¶ä¸­åŠ è½½å›¾ç‰‡ã€æ ·å¼ç­‰å…¶ä»–èµ„æºï¼Œæˆ–æ˜¯ä»ç”¨æˆ·å½“å‰çš„å·¥ä½œåŒºåŠ è½½ä»»ä½•å†…å®¹çš„è¯ï¼Œä½ å¿…é¡»ä½¿ç”¨webviewä¸­çš„<code>vscode-resource:</code>åè®®ã€‚</p>
<p><code>vscode-resource:</code>åè®®å°±åƒ<code>file:</code>åè®®ä¸€æ ·ï¼Œä¸è¿‡å®ƒåªå…è®¸è®¿é—®æœ¬åœ°æ–‡ä»¶ã€‚å’Œ<code>file:</code>ä¸€æ ·çš„æ˜¯ï¼Œ<code>vscode-resource:</code>åªèƒ½ä»ç»å¯¹è·¯å¾„ä¸­åŠ è½½èµ„æºã€‚</p>
<p>æƒ³æƒ³ä¸€ä¸‹ï¼Œæˆ‘ä»¬æƒ³è¦ä»æœ¬åœ°æŠŠå–µå–µä»¬çš„gifæ‰“åŒ…è¿›æ¥ï¼Œè€Œä¸æ˜¯ä»Giphyï¼ˆå›½å¤–å‡ºåçš„gifæ”¶é›†ç«™ï¼‰é‡ŒåŠ è½½è¿›æ¥ã€‚è¦æƒ³åšåˆ°è¿™ç‚¹ï¼Œæˆ‘ä»¬é¦–å…ˆç»™æœ¬åœ°æ–‡ä»¶æ–°å»ºä¸€ä¸ªURIï¼Œç„¶åç”¨<code>vscode-resource:</code>åè®®æ›´æ–°è¿™äº›URIï¼š</p>
<pre><code>import * as vscode from 'vscode';
import * as path from 'path';
export function activate(context: vscode.ExtensionContext) {
  context.subscriptions.push(
    vscode.commands.registerCommand('catCoding.start', () =&gt; {
      const panel = vscode.window.createWebviewPanel(
        'catCoding',
        'Cat Coding',
        vscode.ViewColumn.One,
        {}
      );
      // è·å–ç£ç›˜ä¸Šçš„èµ„æºè·¯å¾„
      const onDiskPath = vscode.Uri.file(
        path.join(context.extensionPath, 'media', 'cat.gif')
      );
      // è·å–åœ¨webviewä¸­ä½¿ç”¨çš„ç‰¹æ®ŠURI
      const catGifSrc = onDiskPath.with({ scheme: 'vscode-resource' });
      panel.webview.html = getWebviewContent(catGifSrc);
    })
  );
}</code></pre><p><code>catGifSrc</code>çš„å€¼æœ€åä¼šåƒè¿™æ ·ï¼š</p>
<pre><code>vscode-resource:/Users/toonces/projects/vscode-cat-coding/media/cat.gif</code></pre><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>scode-resource:</code>åªèƒ½è®¿é—®ä¸‹åˆ—åœ°å€çš„èµ„æºï¼š</p>
<ul>
<li>ä½ çš„æ’ä»¶å®‰è£…çš„ç›®å½•</li>
<li>ç”¨æˆ·å½“å‰æ¿€æ´»çš„å·¥ä½œåŒº</li>
</ul>
<p>ä½ ä¹Ÿå¯ä»¥ç”¨data URIå°†èµ„æºç›´æ¥åµŒå¥—åˆ°webviewä¸­å»ã€‚</p>
<h4 id="æ§åˆ¶æœ¬åœ°èµ„æºè®¿é—®"><a href="#æ§åˆ¶æœ¬åœ°èµ„æºè®¿é—®" class="headerlink" title="æ§åˆ¶æœ¬åœ°èµ„æºè®¿é—®"></a>æ§åˆ¶æœ¬åœ°èµ„æºè®¿é—®</h4><p>ä½¿ç”¨<code>localResourceRoots</code>é€‰é¡¹ï¼Œwebviewå¯ä»¥æ§åˆ¶<code>vscode-resource:</code>åŠ è½½çš„çš„èµ„æºã€‚ <code>localResourceRoots</code>å®šä¹‰äº†å¯èƒ½è¢«åŠ è½½çš„æœ¬åœ°å†…å®¹çš„æ ¹URIã€‚</p>
<p>æˆ‘ä»¬ç”¨<code>localResourceRoots</code>å»çº¦æŸ<strong>Cat Coding</strong>webviewåªåŠ è½½æˆ‘ä»¬æ’ä»¶çš„<code>media</code>ç›®å½•ä¸‹çš„å†…å®¹ï¼š</p>
<pre><code>import * as vscode from 'vscode';
import * as path from 'path';
export function activate(context: vscode.ExtensionContext) {
  context.subscriptions.push(
    vscode.commands.registerCommand('catCoding.start', () =&gt; {
      const panel = vscode.window.createWebviewPanel(
        'catCoding',
        'Cat Coding',
        vscode.ViewColumn.One,
        {
          // åªå…è®¸webviewåŠ è½½æˆ‘ä»¬æ’ä»¶çš„`media`ç›®å½•ä¸‹çš„èµ„æº
          localResourceRoots: [vscode.Uri.file(path.join(context.extensionPath, 'media'))]
        }
      );
      const onDiskPath = vscode.Uri.file(
        path.join(context.extensionPath, 'media', 'cat.gif')
      );
      const catGifSrc = onDiskPath.with({ scheme: 'vscode-resource' });
      panel.webview.html = getWebviewContent(catGifSrc);
    })
  );
}</code></pre><p>ä¸ºäº†ç¦æ­¢æ‰€æœ‰çš„æœ¬åœ°èµ„æºï¼Œåªè¦æŠŠ<code>localResourceRoots</code>è®¾ä¸º<code>[]</code>å°±å¥½äº†ã€‚</p>
<p>é€šå¸¸æ¥è¯´ï¼Œwebviewåº”è¯¥å’ŒåŠ è½½æœ¬åœ°èµ„æºä¸€æ ·ä¸¥æ ¼ï¼Œç„¶è€Œï¼Œ<code>vscode-resource</code>å’Œ<code>localResourceRoots</code>å¹¶ä¸ä¿è¯ç™¾åˆ†ç™¾çš„å®‰å…¨æ€§ã€‚è¯·ç¡®ä¿ä½ çš„webviewéµå¾ªå®‰å…¨æ€§æœ€ä½³å®è·µï¼Œå¼ºçƒˆå»ºè®®è€ƒè™‘æ·»åŠ ä¸€ä¸ªå†…å®¹å®‰å…¨æ”¿ç­–ä»¥ä¾¿çº¦æŸä¹‹ååŠ è½½çš„å†…å®¹ã€‚</p>
<h4 id="ç»™webviewå†…å®¹åŠ ä¸Šä¸»é¢˜"><a href="#ç»™webviewå†…å®¹åŠ ä¸Šä¸»é¢˜" class="headerlink" title="ç»™webviewå†…å®¹åŠ ä¸Šä¸»é¢˜"></a>ç»™webviewå†…å®¹åŠ ä¸Šä¸»é¢˜</h4><p>webviewå¯ä»¥åŸºäºå½“å‰çš„VS Codeä¸»é¢˜å’ŒCSSæ”¹å˜è‡ªèº«çš„æ ·å¼ã€‚VS Codeå°†ä¸»é¢˜åˆ†æˆ3ä¸­ç±»åˆ«ï¼Œè€Œä¸”åœ¨<code>body</code>å…ƒç´ ä¸ŠåŠ ä¸Šäº†ç‰¹æ®Šç±»åä»¥è¡¨æ˜å½“å‰ä¸»é¢˜ï¼š</p>
<ul>
<li><code>vscode-light</code>â€”â€”äº®è‰²ä¸»é¢˜</li>
<li><code>vscode-dark</code>â€”â€”æš—è‰²ä¸»é¢˜</li>
<li><code>vscode-high-contrast</code>â€”â€”é«˜åå·®ä¸»é¢˜</li>
</ul>
<p>ä¸‹åˆ—CSSæ”¹å˜äº†åŸºäºç”¨æˆ·å½“å‰ä¸»é¢˜çš„webviewå­—ä½“é¢œè‰²ï¼š</p>
<pre><code>body.vscode-light {
  color: black;
}
body.vscode-dark {
  color: white;
}
body.vscode-high-contrast {
  color: red;
}</code></pre><p>å½“å¼€å‘ä¸€ä¸ªwebviewåº”ç”¨çš„æ—¶å€™ï¼Œè¯·ä¿è¯åº”ç”¨èƒ½åœ¨ä¸‰ç§ä¸»é¢˜ä¸‹éƒ½å¯ä»¥è¿ä½œï¼ŒåŠ¡å¿…åœ¨é«˜åå·®æ¨¡å¼ä¸‹æµ‹è¯•ä½ çš„webviewï¼Œä»¥ä¾¿æœ‰è§†è§‰éšœç¢çš„ç”¨æˆ·ä¹Ÿèƒ½æ­£å¸¸ä½¿ç”¨ã€‚</p>
<p>webviewå¯ä»¥é€šè¿‡<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_variables" target="_blank" rel="noopener">CSS variables</a>è®¿é—®VS Codeä¸»é¢˜ï¼Œè¿™äº›å˜é‡ä»¥<code>vscode</code>ä¸ºå‰ç¼€ï¼Œå¹¶ä¸”ç”¨<code>-</code>æ›¿ä»£äº†<code>.</code>ï¼Œä¾‹å¦‚<code>editor.foreground</code>å˜æˆäº†<code>var(--vscode-editor-foreground)</code>ï¼š</p>
<pre><code>code {
  color: var(--vscode-editor-foreground);
}</code></pre><p>æ›´å¤šå¯ç”¨çš„ä¸»é¢˜å˜é‡ï¼Œå‚é˜…ä¸»é¢˜è‰²å½©ã€‚</p>
<p>ä¸‹é¢ä¹Ÿå®šä¹‰äº†ä¸€äº›ä¸å­—ä½“æœ‰å…³çš„å˜é‡ï¼š</p>
<ul>
<li><code>-vscode-editor-font-family</code> - ç¼–è¾‘å™¨çš„æ–‡å­—ç±»å‹(è®¾ç½®ä¸­çš„<code>editor.fontFamily</code>é…ç½®é¡¹)</li>
<li><code>-vscode-editor-font-weight</code> - ç¼–è¾‘å™¨çš„æ–‡å­—ç²—ç»†(è®¾ç½®ä¸­çš„<code>editor.fontWeight</code>é…ç½®é¡¹)</li>
<li><code>-vscode-editor-font-size</code> - ç¼–è¾‘å™¨æ–‡å­—å¤§å°(è®¾ç½®ä¸­çš„<code>editor.fontSize</code>é…ç½®é¡¹)</li>
</ul>
<h3 id="è„šæœ¬å’Œä¿¡æ¯ä¼ é€’"><a href="#è„šæœ¬å’Œä¿¡æ¯ä¼ é€’" class="headerlink" title="è„šæœ¬å’Œä¿¡æ¯ä¼ é€’"></a>è„šæœ¬å’Œä¿¡æ¯ä¼ é€’</h3><hr>
<p>æ—¢ç„¶webviewå°±åƒiframeä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬ä¹Ÿå¯ä»¥è¿è¡Œè„šæœ¬ï¼Œwebviewä¸­çš„Javascripté»˜è®¤æ˜¯ç¦ç”¨çš„ï¼Œä¸è¿‡æˆ‘ä»¬èƒ½ç”¨<code>enableScripts: true</code>æ‰“å¼€å®ƒã€‚</p>
<p>è®©æˆ‘ä»¬å†™ä¸€æ®µè„šæœ¬ï¼Œè¿½è¸ªæˆ‘ä»¬å®¶å–µæ˜Ÿäººå†™ä»£ç çš„è¡Œæ•°ã€‚è¿è¡Œä¸€ä¸ªåŸºç¡€è„šæœ¬éå¸¸çš„å®¹æ˜“ï¼Œä½†æ˜¯æ³¨æ„è¿™ä¸ªç¤ºä¾‹åªä½œæ¼”ç¤ºç”¨é€”ï¼Œåœ¨å®è·µä¸­ï¼Œä½ çš„webviewåº”è¯¥éµå¾ªå†…å®¹å®‰å…¨æ”¿ç­–ï¼Œç¦æ­¢è¡Œå†…è„šæœ¬ã€‚</p>
<pre><code>import * as path from 'path';
import * as vscode from 'vscode';
export function activate(context: vscode.ExtensionContext) {
    context.subscriptions.push(vscode.commands.registerCommand('catCoding.start', () =&gt; {
        const panel = vscode.window.createWebviewPanel('catCoding', "Cat Coding", vscode.ViewColumn.One, {
            // åœ¨webviewä¸­å¯ç”¨è„šæœ¬
            enableScripts: true
        });
        panel.webview.html = getWebviewContent();
    }));
}
function getWebviewContent() {
    return
        `
            &lt;!DOCTYPE html&gt;
            &lt;html lang="en"&gt;
            &lt;head&gt;
                &lt;meta charset="UTF-8"&gt;
                &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
                &lt;title&gt;Cat Coding&lt;/title&gt;
            &lt;/head&gt;
            &lt;body&gt;
                &lt;img src="https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif" width="300" /&gt;
                &lt;h1 id="lines-of-code-counter"&gt;0&lt;/h1&gt;
                &lt;script&gt;
                    const counter = document.getElementById('lines-of-code-counter');
                    let count = 0;
                    setInterval(() =&gt; {
                        counter.textContent = count++;
                    }, 100);
                &lt;/script&gt;
            &lt;/body&gt;
            &lt;/html&gt;
        `;
}</code></pre><p><img src="/images/loading.gif" data-original="../images/development/scripts-basic.gif" alt=""></p>
<p>å“‡ï¼çœŸæ˜¯ä½é«˜äº§çš„å–µä¸»å­!</p>
<p>!&gt; webveiwçš„è„šæœ¬èƒ½åšåˆ°ä»»ä½•æ™®é€šç½‘é¡µè„šæœ¬èƒ½åšåˆ°çš„äº‹æƒ…ï¼Œä½†æ˜¯webviewè¿è¡Œåœ¨è‡ªå·±çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œè„šæœ¬ä¸èƒ½è®¿é—®VS Code APIã€‚</p>
<h4 id="å°†æ’ä»¶çš„ä¿¡æ¯ä¼ é€’åˆ°webview"><a href="#å°†æ’ä»¶çš„ä¿¡æ¯ä¼ é€’åˆ°webview" class="headerlink" title="å°†æ’ä»¶çš„ä¿¡æ¯ä¼ é€’åˆ°webview"></a>å°†æ’ä»¶çš„ä¿¡æ¯ä¼ é€’åˆ°webview</h4><p>æ’ä»¶å¯ä»¥ç”¨<code>webview.postMessage()</code>å°†æ•°æ®å‘é€åˆ°å®ƒçš„webviewä¸­ã€‚è¿™ä¸ªæ–¹æ³•èƒ½å‘é€ä»»ä½•åºåˆ—åŒ–çš„JSONæ•°æ®åˆ°webviewä¸­ï¼Œåœ¨webviewä¸­åˆ™é€šè¿‡<code>message</code>äº‹ä»¶æ¥å—ä¿¡æ¯ã€‚</p>
<p>æˆ‘ä»¬ç°åœ¨å°±æ¥çœ‹çœ‹è¿™ä¸ªå®ç°ï¼Œåœ¨Cat Codingä¸­æ–°å¢ä¸€ä¸ªå‘½ä»¤æ¥è¡¨ç¤ºæˆ‘ä»¬å®¶çš„å–µåœ¨é‡æ„ä»–çš„ä»£ç ï¼ˆæ‰€ä»¥ä¼šå‡å°‘ä»£ç æ€»è¡Œæ•°ï¼‰ã€‚æ–°å¢<code>catCoding.doRefactor</code>å‘½ä»¤ï¼Œåˆ©ç”¨<code>postMessage</code>æŠŠæŒ‡ç¤ºå‘é€åˆ°webviewä¸­ï¼Œwebviewä¸­çš„<code>window.addEventListener('message' event =&gt; { ... })</code>åˆ™ä¼šå¤„ç†è¿™äº›ä¿¡æ¯ï¼š</p>
<pre><code>export function activate(context: vscode.ExtensionContext) {
    // ç°åœ¨åªæœ‰ä¸€åªå–µå–µç¨‹åºå‘˜äº†
    let currentPanel: vscode.WebviewPanel | undefined = undefined;
    context.subscriptions.push(vscode.commands.registerCommand('catCoding.start', () =&gt; {
        if (currentPanel) {
            currentPanel.reveal(vscode.ViewColumn.One);
        } else {
            currentPanel = vscode.window.createWebviewPanel('catCoding', "Cat Coding", vscode.ViewColumn.One, {
                enableScripts: true
            });
            currentPanel.webview.html = getWebviewContent();
            currentPanel.onDidDispose(() =&gt; { currentPanel = undefined; }, undefined, context.subscriptions);
        }
    }));
    // æˆ‘ä»¬æ–°çš„å‘½ä»¤
    context.subscriptions.push(vscode.commands.registerCommand('catCoding.doRefactor', () =&gt; {
        if (!currentPanel) {
            return;
        }
        // æŠŠä¿¡æ¯å‘é€åˆ°webview
        // ä½ å¯ä»¥å‘é€ä»»ä½•åºåˆ—åŒ–çš„JSONæ•°æ®
        currentPanel.webview.postMessage({ command: 'refactor' });
    }));
}
function getWebviewContent() {
    return
        `
            &lt;!DOCTYPE html&gt;
            &lt;html lang="en"&gt;
            &lt;head&gt;
                &lt;meta charset="UTF-8"&gt;
                &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
                &lt;title&gt;Cat Coding&lt;/title&gt;
            &lt;/head&gt;
            &lt;body&gt;
                &lt;img src="https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif" width="300" /&gt;
                &lt;h1 id="lines-of-code-counter"&gt;0&lt;/h1&gt;
                &lt;script&gt;
                    const counter = document.getElementById('lines-of-code-counter');
                    let count = 0;
                    setInterval(() =&gt; {
                        counter.textContent = count++;
                    }, 100);
                    // Handle the message inside the webview
                    window.addEventListener('message', event =&gt; {
                        const message = event.data; // The JSON data our extension sent
                        switch (message.command) {
                            case 'refactor':
                                count = Math.ceil(count * 0.5);
                                counter.textContent = count;
                                break;
                        }
                    });
                &lt;/script&gt;
            &lt;/body&gt;
            &lt;/html&gt;
        `;</code></pre><p><img src="/images/loading.gif" data-original="../images/development/scripts-extension_to_webview.gif" alt=""></p>
<h4 id="å°†webviewçš„ä¿¡æ¯ä¼ é€’åˆ°æ’ä»¶ä¸­"><a href="#å°†webviewçš„ä¿¡æ¯ä¼ é€’åˆ°æ’ä»¶ä¸­" class="headerlink" title="å°†webviewçš„ä¿¡æ¯ä¼ é€’åˆ°æ’ä»¶ä¸­"></a>å°†webviewçš„ä¿¡æ¯ä¼ é€’åˆ°æ’ä»¶ä¸­</h4><p>webviewä¹Ÿå¯ä»¥æŠŠä¿¡æ¯ä¼ é€’å›å¯¹åº”çš„æ’ä»¶ä¸­ï¼Œç”¨VS Code API ä¸ºwebviewæä¾›çš„<code>postMessage</code>å‡½æ•°æˆ‘ä»¬å°±å¯ä»¥å®Œæˆè¿™ä¸ªç›®æ ‡ã€‚è°ƒç”¨webviewä¸­çš„<code>acquireVsCodeApi</code>è·å–VS Code APIå¯¹è±¡ã€‚è¿™ä¸ªå‡½æ•°åœ¨ä¸€ä¸ªä¼šè¯ä¸­åªèƒ½è°ƒç”¨ä¸€æ¬¡ï¼Œä½ å¿…é¡»ä¿æŒä½è¿™ä¸ªæ–¹æ³•è¿”å›çš„VS Code APIå®ä¾‹ï¼Œç„¶åå†è½¬äº¤åˆ°éœ€è¦è°ƒç”¨è¿™ä¸ªå®ä¾‹çš„åœ°æ–¹ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬åœ¨<strong>Cat Coding</strong>æ·»åŠ ä¸€ä¸ªå¼¹å‡ºbugçš„è­¦ç¤ºæ¡†ï¼š</p>
<pre><code>export function activate(context: vscode.ExtensionContext) {
    context.subscriptions.push(vscode.commands.registerCommand('catCoding.start', () =&gt; {
        const panel = vscode.window.createWebviewPanel('catCoding', "Cat Coding", vscode.ViewColumn.One, {
            enableScripts: true
        });
        panel.webview.html = getWebviewContent();
        // å¤„ç†webviewä¸­çš„ä¿¡æ¯
        panel.webview.onDidReceiveMessage(message =&gt; {
            switch (message.command) {
                case 'alert':
                    vscode.window.showErrorMessage(message.text);
                    return;
            }
        }, undefined, context.subscriptions);
    }));
}
function getWebviewContent() {
    return
        `
            &lt;!DOCTYPE html&gt;
            &lt;html lang="en"&gt;
            &lt;head&gt;
                &lt;meta charset="UTF-8"&gt;
                &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
                &lt;title&gt;Cat Coding&lt;/title&gt;
            &lt;/head&gt;
            &lt;body&gt;
                &lt;img src="https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif" width="300" /&gt;
                &lt;h1 id="lines-of-code-counter"&gt;0&lt;/h1&gt;
                &lt;script&gt;
                    (function() {
                        const vscode = acquireVsCodeApi();
                        const counter = document.getElementById('lines-of-code-counter');
                        let count = 0;
                        setInterval(() =&gt; {
                            counter.textContent = count++;
                            // Alert the extension when our cat introduces a bug
                            if (Math.random() &lt; 0.001 * count) {
                                vscode.postMessage({
                                    command: 'alert',
                                    text: 'ğŸ›  on line ' + count
                                })
                            }
                        }, 100);
                    }())
                &lt;/script&gt;
            &lt;/body&gt;
            &lt;/html&gt;
        `;
}</code></pre><p><img src="/images/loading.gif" data-original="../images/development/scripts-webview_to_extension.gif" alt=""></p>
<p>å‡ºäºå®‰å…¨æ€§è€ƒè™‘ï¼Œä½ å¿…é¡»ä¿è¯VS Code APIçš„ç§æœ‰æ€§ï¼Œä¹Ÿä¸ä¼šæ³„éœ²åˆ°å…¨å±€çŠ¶æ€ä¸­å»ã€‚</p>
<h3 id="å®‰å…¨æ€§"><a href="#å®‰å…¨æ€§" class="headerlink" title="å®‰å…¨æ€§"></a>å®‰å…¨æ€§</h3><hr>
<p>æ¯ä¸€ä¸ªä½ åˆ›å»ºçš„webviewéƒ½å¿…é¡»éµå¾ªè¿™äº›åŸºç¡€çš„å®‰å…¨æ€§æœ€ä½³å®è·µã€‚</p>
<h4 id="é™åˆ¶èƒ½åŠ›"><a href="#é™åˆ¶èƒ½åŠ›" class="headerlink" title="é™åˆ¶èƒ½åŠ›"></a>é™åˆ¶èƒ½åŠ›</h4><p>webviewåº”è¯¥ç•™æœ‰å®ƒæ‰€éœ€çš„æœ€å°åŠŸèƒ½é›†åˆå³å¯ã€‚ä¾‹å¦‚ï¼šå¦‚æœä½ çš„webviewä¸éœ€è¦è¿è¡Œè„šæœ¬ï¼Œå°±ä¸è¦è®¾ç½®<code>enableScripts: true</code>ã€‚å¦‚æœä½ çš„webviewä¸éœ€è¦åŠ è½½ç”¨æˆ·å·¥ä½œåŒºçš„èµ„æºï¼Œå°±æŠŠ<code>localResourceRoots</code>è®¾ç½®ä¸º<code>[vscode.Uri.file(extensionContext.extensionPath)]</code>æˆ–è€…<code>[]</code>ä»¥ä¾¿ç¦æ­¢è®¿é—®ä»»ä½•æœ¬åœ°èµ„æºã€‚</p>
<h4 id="å†…å®¹å®‰å…¨ç­–ç•¥"><a href="#å†…å®¹å®‰å…¨ç­–ç•¥" class="headerlink" title="å†…å®¹å®‰å…¨ç­–ç•¥"></a>å†…å®¹å®‰å…¨ç­–ç•¥</h4><p><a href="https://developers.google.com/web/fundamentals/security/csp/" target="_blank" rel="noopener">å†…å®¹å®‰å…¨ç­–ç•¥</a>å¯ä»¥è¿›ä¸€æ­¥é™åˆ¶webviewå¯ä»¥åŠ è½½å’Œæ‰§è¡Œçš„å†…å®¹ã€‚ä¾‹å¦‚ï¼šå†…å®¹å®‰å…¨ç­–ç•¥å¼ºåˆ¶å¯ä»¥è¿è¡Œåœ¨webviewä¸­çš„è„šæœ¬ç™½åå•ï¼Œæˆ–è€…å‘Šè¯‰webviewåªåŠ è½½å¸¦<code>https</code>åè®®çš„å›¾ç‰‡ã€‚</p>
<p>è¦æƒ³åŠ ä¸Šå†…å®¹å®‰å…¨ç­–ç•¥ï¼Œå°†<code>&lt;meta http-equiv="Content-Security-Policy"&gt;</code>æŒ‡ä»¤æ”¾åˆ°webviewçš„<code>&lt;head&gt;</code>ä¸­</p>
<pre><code>function getWebviewContent() {
    return
        `
            &lt;!DOCTYPE html&gt;
            &lt;html lang="en"&gt;
            &lt;head&gt;
                &lt;meta charset="UTF-8"&gt;
                &lt;meta http-equiv="Content-Security-Policy" content="default-src 'none';"&gt;
                &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
                &lt;title&gt;Cat Coding&lt;/title&gt;
            &lt;/head&gt;
            &lt;body&gt;
                ...
            &lt;/body&gt;
            &lt;/html&gt;
        `;
}</code></pre><p><code>default-src 'none';</code>ç­–ç•¥ç›´æ¥ç¦æ­¢äº†æ‰€æœ‰å†…å®¹ã€‚æˆ‘ä»¬å¯ä»¥æŒ‰æ’ä»¶éœ€è¦çš„æœ€å°‘å†…å®¹ä¿®æ”¹è¿™ä¸ªæŒ‡ä»¤ï¼Œå¦‚åªå…è®¸é€šè¿‡<code>https</code>åŠ è½½æœ¬åœ°è„šæœ¬ã€æ ·å¼å’Œå›¾ç‰‡ï¼š</p>
<pre><code>&lt;meta
    http-equiv="Content-Security-Policy"
    content="default-src 'none'; img-src vscode-resource: https:; script-src vscode-resource:; style-src vscode-resource:;"
&gt;</code></pre><p>ä¸Šè¿°ç­–ç•¥ä¹Ÿéšå¼åœ°ç¦ç”¨äº†å†…è”è„šæœ¬å’Œæ ·å¼ã€‚æŠŠå†…è”æ ·å¼å’Œè„šæœ¬æå–åˆ°å¤–éƒ¨æ–‡ä»¶ä¸­æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„å®è·µï¼Œä¹Ÿä¸ä¼šä¸å†…å®¹å®‰å…¨ç­–ç•¥å†²çªã€‚</p>
<h4 id="åªé€šè¿‡httpsåŠ è½½å†…å®¹"><a href="#åªé€šè¿‡httpsåŠ è½½å†…å®¹" class="headerlink" title="åªé€šè¿‡httpsåŠ è½½å†…å®¹"></a>åªé€šè¿‡httpsåŠ è½½å†…å®¹</h4><p>å¦‚æœä½ çš„webviewå…è®¸åŠ è½½å¤–éƒ¨èµ„æºï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ åªå…è®¸é€šè¿‡<code>https</code>åŠ è½½è€Œä¸è¦ä½¿ç”¨httpï¼Œä¸Šé¢çš„ä¾‹å­å·²ç»ç”¨å†…å®¹å®‰å…¨ç­–ç•¥å±•ç¤ºäº†ä½¿ç”¨<code>https</code>çš„æ–¹å¼ã€‚</p>
<h4 id="å®¡æŸ¥ç”¨æˆ·è¾“å…¥"><a href="#å®¡æŸ¥ç”¨æˆ·è¾“å…¥" class="headerlink" title="å®¡æŸ¥ç”¨æˆ·è¾“å…¥"></a>å®¡æŸ¥ç”¨æˆ·è¾“å…¥</h4><p>å°±åƒæ„å»ºæ™®é€šHTMLé¡µé¢ä¸€æ ·ï¼Œä½ ä¹ŸåŒæ ·éœ€è¦åœ¨webviewä¸­å®¡æŸ¥ç”¨æˆ·è¾“å…¥çš„å†…å®¹ã€‚ æ²¡æœ‰å®¡æŸ¥è¾“å…¥å†…å®¹å¯èƒ½ä¼šå¯¼è‡´å†…å®¹æ³¨å…¥ï¼Œä¹Ÿå°±æ„å‘³ç€å°†ç”¨æˆ·ç½®äºäº†å±é™©ä¹‹ä¸­ã€‚</p>
<p>å¯èƒ½éœ€è¦å®¡æŸ¥çš„å€¼ï¼š</p>
<ul>
<li>æ–‡ä»¶å†…å®¹</li>
<li>æ–‡ä»¶å’Œæ–‡ä»¶å¤¹è·¯å¾„</li>
<li>ç”¨æˆ·å·¥ä½œåŒºè®¾ç½®</li>
</ul>
<p>å¯ä»¥è€ƒè™‘ç”¨ä¸€ä¸ªè¾…åŠ©åº“å»æ„å»ºHTMLæ¨¡æ¿ï¼Œæˆ–è€…ç¡®ä¿æ‰€æœ‰æ¥è‡ªç”¨æˆ·å·¥ä½œåŒºçš„å†…å®¹éƒ½é€šè¿‡äº†å®¡æŸ¥</p>
<p>åªä¾èµ–å®¡æŸ¥å†…å®¹çš„å®‰å…¨æ€§æ˜¯ä¸å¤Ÿçš„ï¼Œä½ ä¹Ÿè¦éµå¾ªå…¶ä»–å®‰å…¨æ€§çš„æœ€ä½³å®è·µï¼Œå°½å¯èƒ½å‡å°‘æ½œåœ¨çš„å†…å®¹æ³¨å…¥ã€‚</p>
<h3 id="æŒä¹…æ€§"><a href="#æŒä¹…æ€§" class="headerlink" title="æŒä¹…æ€§"></a>æŒä¹…æ€§</h3><hr>
<p>åœ¨webviewçš„æ ‡å‡†ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œ<code>createWebviewPanel</code>è´Ÿè´£åˆ›å»ºå’Œé”€æ¯ï¼ˆç”¨æˆ·å…³é—­æˆ–è€…è°ƒç”¨<code>.dispose()</code>æ–¹æ³•ï¼‰webviewã€‚è€Œwebviewçš„å†…å®¹å†æ˜¯åœ¨webviewå¯è§æ—¶åˆ›å»ºçš„ï¼Œåœ¨webviewå¤„äºéæ¿€æ´»çŠ¶æ€æ—¶é”€æ¯ã€‚webviewå¤„äºéæ¿€æ´»æ ‡ç­¾ä¸­æ—¶ï¼Œä»»ä½•webviewä¸­çš„ä¿ç•™çš„çŠ¶æ€éƒ½ä¼šä¸¢å¤±ã€‚</p>
<p>æ‰€ä»¥æœ€å¥½å‡å°‘webviewä¸­çš„çŠ¶æ€ï¼Œå–è€Œä»£ä¹‹ç”¨æ¶ˆæ¯ä¼ é€’å‚¨å­˜çŠ¶æ€ã€‚</p>
<h4 id="getStateå’ŒsetState"><a href="#getStateå’ŒsetState" class="headerlink" title="getStateå’ŒsetState"></a>getStateå’ŒsetState</h4><p>è¿è¡Œåœ¨webviewä¸­çš„è„šæœ¬å¯ä»¥ä½¿ç”¨<code>getState</code>å’Œ<code>setState</code>æ–¹æ³•ä¿å­˜å’Œæ¢å¤JSONåºåˆ—åŒ–çš„çŠ¶æ€å¯¹è±¡ã€‚è¿™ä¸ªçŠ¶æ€å¯ä»¥ä¸€ç›´ä¿ç•™ï¼Œå³ä½¿webviewé¢æ¿å·²ç»è¢«éšè—ï¼Œåªæœ‰å½“å®ƒé”€æ¯æ—¶ï¼ŒçŠ¶æ€åˆ™ä¼šä¸€èµ·é”€æ¯ã€‚</p>
<pre><code>// webviewä¸­çš„è„šæœ¬
const vscode = acquireVsCodeApi();
const counter = document.getElementById('lines-of-code-counter');
// æ£€æŸ¥æ˜¯å¦éœ€è¦æ¢å¤çŠ¶æ€
const previousState = vscode.getState();
let count = previousState ? previousState.count : 0;
counter.textContent = count;
setInterval(() =&gt; {
    counter.textContent = count++;
    // æ›´æ–°å·²ç»ä¿å­˜çš„çŠ¶æ€
    vscode.setState({ count })
}, 100);</code></pre><p><code>getState</code>å’Œ<code>setState</code>æ˜¯ç”¨æ¥ä¿å­˜çŠ¶æ€çš„æ¯”è¾ƒå¥½çš„åŠæ³•ï¼Œå› ä¸ºä»–ä»¬çš„æ€§èƒ½æ¶ˆè€—è¦è¿œä½äº<code>retainContextWhenHidden</code>ã€‚</p>
<h4 id="åºåˆ—åŒ–"><a href="#åºåˆ—åŒ–" class="headerlink" title="åºåˆ—åŒ–"></a>åºåˆ—åŒ–</h4><p>ä½¿ç”¨<code>WebviewPanelSerializer</code>ä¹‹åï¼Œä½ çš„webviewå¯ä»¥åœ¨VS Codeå…³é—­åè‡ªåŠ¨æ¢å¤ã€‚åºåˆ—åŒ–æ„å»ºäº<code>getState</code>å’Œ<code>setState</code>ä¹‹ä¸Šï¼Œåªæœ‰ä½ çš„æ’ä»¶æ³¨å†Œäº†<code>WebviewPanelSerializer</code>ï¼Œè¿™ä¸ªåŠŸèƒ½æ‰ä¼šç”Ÿæ•ˆã€‚</p>
<p>ç»™æ’ä»¶çš„<code>package.json</code>æ·»åŠ ä¸€ä¸ª<code>onWebviewPanel</code>æ¿€æ´»äº‹ä»¶ï¼Œç„¶åæˆ‘ä»¬çš„ä»£ç å–µå°±èƒ½åœ¨VS Codeé‡å¯åç»§ç»­å·¥ä½œäº†ï¼š</p>
<pre><code>"activationEvents": [
    ...,
    "onWebviewPanel:catCoding"
]</code></pre><p>è¿™ä¸ªæ¿€æ´»äº‹ä»¶ç¡®ä¿æˆ‘ä»¬çš„æ’ä»¶ä¸è®ºVS Codeä½•æ—¶æ¢å¤<code>catCoding</code>webviewæ—¶éƒ½ä¼šå¯åŠ¨ã€‚</p>
<p>ç„¶ååœ¨æˆ‘ä»¬æ’ä»¶çš„<code>activate</code>æ–¹æ³•ä¸­è°ƒç”¨<code>registerWebviewPanelSerializer</code>æ³¨å†Œä¸€ä¸ªæ–°çš„<code>WebviewPanelSerializer</code>ï¼Œè¿™ä¸ªå‡½æ•°è´Ÿè´£æ¢å¤webviewä¹‹å‰ä¿å­˜çš„å†…å®¹ã€‚å…¶ä¸­çš„stateå°±æ˜¯webviewç”¨<code>setState</code>è®¾ç½®çš„JSONæ ¼å¼çš„çŠ¶æ€ã€‚</p>
<pre><code>export function activate(context: vscode.ExtensionContext) {
    // å¸¸è§è®¾ç½®...
    // ç¡®ä¿æˆ‘ä»¬æ³¨å†Œäº†ä¸€ä¸ªåºåˆ—åŒ–å™¨
    vscode.window.registerWebviewPanelSerializer('catCoding', new CatCodingSerializer());
}
class CatCodingSerializer implements vscode.WebviewPanelSerializer {
    async deserializeWebviewPanel(webviewPanel: vscode.WebviewPanel, state: any) {
        // `state`æ˜¯webviewå†…è°ƒç”¨`setState`ä¿ç•™ä½çš„
        console.log(`Got state: ${state}`);
        // æ¢å¤æˆ‘ä»¬çš„webviewå†…å®¹
        //
        // ç¡®ä¿æˆ‘ä»¬å°†`webviewPanel`ä¼ é€’åˆ°äº†è¿™é‡Œ
        // ç„¶åç”¨äº‹ä»¶ä¾¦å¬å™¨æ¢å¤æˆ‘ä»¬çš„å†…å®¹
        webviewPanel.webview.html = getWebviewContent();
    }
}</code></pre><p>åœ¨VS Codeä¸­æ‰“å¼€ä¸€ä¸ªå–µå–µæ‰“ä»£ç çš„é¢æ¿ï¼Œå…³é—­åé‡å¯å°±èƒ½çœ‹åˆ°è¿™ä¸ªé¢æ¿æ¢å¤åˆ°äº†ä¹‹å‰çš„çŠ¶æ€å’Œä½ç½®ã€‚</p>
<h4 id="éšè—æ—¶ä¿ç•™ä¸Šä¸‹æ–‡"><a href="#éšè—æ—¶ä¿ç•™ä¸Šä¸‹æ–‡" class="headerlink" title="éšè—æ—¶ä¿ç•™ä¸Šä¸‹æ–‡"></a>éšè—æ—¶ä¿ç•™ä¸Šä¸‹æ–‡</h4><p>å¦‚æœwebviewçš„è§†å›¾éå¸¸å¤æ‚ï¼Œæˆ–è€…çŠ¶æ€ä¸èƒ½å¾ˆå¿«åœ°ä¿å­˜å’Œæ¢å¤ï¼Œä½ åˆ™å¯ä»¥ç”¨<code>retainContextWhenHidden</code>é€‰é¡¹ï¼Œè¿™ä¸ªé€‰é¡¹åœ¨ä¸å¯è§çš„çŠ¶æ€ä¸­ä¿å­˜äº†webviewçš„å†…å®¹ï¼Œå³ä½¿webviewæœ¬èº«ä¸å¤„äºæ¿€æ´»çŠ¶æ€ã€‚</p>
<p>è™½ç„¶<strong>Cat Coding</strong>è¯´ä¸ä¸Šæœ‰å¾ˆå¤æ‚çš„çŠ¶æ€ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥æ‰“å¼€<code>retainContextWhenHidden</code>çœ‹çœ‹webviewçš„è¡Œä¸ºä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–ï¼š</p>
<pre><code>import * as vscode from 'vscode';
export function activate(context: vscode.ExtensionContext) {
  context.subscriptions.push(
    vscode.commands.registerCommand('catCoding.start', () =&gt; {
      const panel = vscode.window.createWebviewPanel(
        'catCoding',
        'Cat Coding',
        vscode.ViewColumn.One,
        {
          enableScripts: true,
          retainContextWhenHidden: true
        }
      );
      panel.webview.html = getWebviewContent();
    })
  );
}
function getWebviewContent() {
  return
    `
        &lt;!DOCTYPE html&gt;
        &lt;html lang="en"&gt;
        &lt;head&gt;
            &lt;meta charset="UTF-8"&gt;
            &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
            &lt;title&gt;Cat Coding&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
            &lt;img src="https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif" width="300" /&gt;
            &lt;h1 id="lines-of-code-counter"&gt;0&lt;/h1&gt;
            &lt;script&gt;
                const counter = document.getElementById('lines-of-code-counter');
                let count = 0;
                setInterval(() =&gt; {
                    counter.textContent = count++;
                }, 100);
            &lt;/script&gt;
        &lt;/body&gt;
        &lt;/html&gt;
    `;
}</code></pre><p><img src="/images/loading.gif" data-original="https://static.sitestack.cn/projects/VS-Code-Extension-Doc-ZH/d23cbf17e1baa0f8b4b9af8fcfcbb35a.gif" alt=""></p>
<p>æˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°è®¡æ•°å™¨æ²¡æœ‰é‡ç½®ï¼Œwebviewéšè—ä¹‹åå°±æ¢å¤äº†ã€‚è€Œä¸”ä¸éœ€è¦å¤šä½™çš„ä»£ç ï¼<code>retainContextWhenHidden</code>çš„è¡Œä¸ºå°±åƒæµè§ˆå™¨ä¸€æ ·ï¼Œè„šæœ¬å’Œå…¶ä»–å†…å®¹è¢«æš‚æ—¶æŒ‚èµ·ï¼Œä½†æ˜¯ä¸€æ—¦webviewå¯è§ä¹‹åå°±ä¼šç«‹å³æ¢å¤ã€‚ä½†æ˜¯åœ¨webviewéšè—çŠ¶æ€ä¸‹ï¼Œä½ è¿˜æ˜¯ä¸èƒ½ç»™å®ƒå‘é€æ¶ˆæ¯çš„ã€‚</p>
<p>è™½ç„¶<code>retainContextWhenHidden</code>å¾ˆå¸å¼•äººï¼Œä½†æ˜¯è®°ä½è¿™ä¸ªåŠŸèƒ½çš„å†…å®¹å ç”¨å¾ˆé«˜ï¼Œåªæœ‰å…¶ä»–çš„æŒä¹…åŒ–æŠ€æœ¯æ— èƒ½ä¸ºåŠ›ä¹‹æ—¶å†é€‰æ‹©è¿™ç§æ–¹å¼ã€‚</p>
<h2 id="è™šæ‹Ÿæ–‡æ¡£"><a href="#è™šæ‹Ÿæ–‡æ¡£" class="headerlink" title="è™šæ‹Ÿæ–‡æ¡£"></a>è™šæ‹Ÿæ–‡æ¡£</h2><p>é€šè¿‡VS Codeçš„æ–‡æœ¬å†…å®¹ä¾›åº”å™¨API(text document content provider API)ï¼Œä½ å¯ä»¥ä¸ºä»»æ„æ¥æºçš„æ–‡ä»¶åˆ›å»ºåªè¯»æ–‡æ¡£ã€‚æœ¬ç¤ºä¾‹æºç è¯·æŸ¥çœ‹<a href="https://github.com/Microsoft/vscode-extension-samples/blob/master/virtual-document-sample/README.md" target="_blank" rel="noopener">https://github.com/Microsoft/vscode-extension-samples/blob/master/virtual-document-sample/README.md</a></p>
<h3 id="Text-Document-Content-Provider"><a href="#Text-Document-Content-Provider" class="headerlink" title="Text Document Content Provider"></a>Text Document Content Provider</h3><hr>
<p>è¿™ä¸ªAPIå·¥ä½œäºuriåè®®ä¹‹ä¸Šï¼Œä½ éœ€è¦å£°æ˜ä¸€ä¸ª<em>ä¾›åº”å™¨å‡½æ•°(provider)</em>ï¼Œç„¶åè¿™ä¸ªå‡½æ•°è¿˜éœ€è¦è¿”å›æ–‡æœ¬å†…å®¹ã€‚ä¾›åº”å™¨å‡½æ•°å¿…é¡»æä¾›<em>åè®®(scheme)</em>ï¼Œè€Œä¸”å‡½æ•°æ³¨å†Œä¹‹åä¸å¯æ”¹å˜è¿™ä¸ªåè®®ã€‚ä¸€ä¸ªä¾›åº”å™¨å‡½æ•°å¯ä»¥å¯¹åº”å¤šä¸ªåè®®ï¼Œè€Œå¤šä¸ªä¾›åº”å™¨å‡½æ•°ä¹Ÿå¯ä»¥åªæ³¨å†Œä¸€ä¸ªåè®®ã€‚</p>
<pre><code>vscode.workspace.registerTextDocumentContentProvider(myScheme, myProvider);</code></pre><p>è°ƒç”¨<code>registerTextDocumentContentProvider</code>å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªç”¨äºé‡Šæ”¾èµ„æºçš„<em>é‡Šæ”¾å™¨</em>ã€‚ä¾›åº”å™¨å‡½æ•°è¿˜å¿…é¡»å®ç°<code>provideTextDocumentContent</code>å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°éœ€è¦ä¼ å…¥uriå‚æ•°å’Œå–æ¶ˆå¼ä»¤ç‰Œ(cancellation token)è°ƒç”¨ã€‚</p>
<pre><code>const myProvider = class implements vscode.TextDocumentContentProvider {
    provideTextDocumentContent(uri: vscode.Uri): string {
        // ç®€å•è°ƒç”¨cowsay, ç›´æ¥æŠŠuri-pathå½“åšæ–‡æœ¬å†…å®¹
        return cowsay.say({ text: uri.path });
    }
};</code></pre><p>!&gt; <strong>æ³¨æ„</strong>ï¼šæˆ‘ä»¬çš„ä¾›åº”å™¨å‡½æ•°ä¸ä¸ºè™šæ‹Ÿæ–‡æ¡£åˆ›å»ºuriâ€”â€”ä»–çš„è§’è‰²ä»…ä»…åªæ˜¯<strong>æ ¹æ®uriè¿”å›å¯¹åº”çš„æ–‡æœ¬å†…å®¹</strong>ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ç®€å•ä½¿ç”¨ä¸€ä¸ªâ€™cowsayâ€™å‘½ä»¤åˆ›å»ºä¸€ä¸ªuriï¼Œç„¶åç¼–è¾‘å™¨å°±èƒ½æ˜¾ç¤ºäº†ï¼š</p>
<pre><code>vscode.commands.registerCommand('cowsay.say', async () =&gt; {
    let what = await vscode.window.showInputBox({ placeHolder: 'cow say?' });
    if (what) {
        let uri = vscode.Uri.parse('cowsay:' + what);
        let doc = await vscode.workspace.openTextDocument(uri); // è°ƒç”¨ä¾›åº”å™¨å‡½æ•°
        await vscode.window.showTextDocument(doc, { preview: false });
    }
});</code></pre><p>è¿™ä¸ªå‘½ä»¤é¦–å…ˆå¼¹å‡ºäº†ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œç„¶ååˆ›å»ºäº†ä¸€ä¸ª<em><code>cowsay</code>åè®®</em>çš„uriï¼Œå†ç„¶åæ ¹æ®è¿™ä¸ªuriè¯»å–äº†æ–‡æ¡£ï¼Œæœ€åä¸ºè¿™ä¸ªæ–‡æ¡£å†…å®¹æ‰“å¼€äº†ä¸€ä¸ªç¼–è¾‘å™¨ï¼ˆè¿™é‡Œçš„â€œç¼–è¾‘å™¨â€ä¸æ˜¯æŒ‡VS Codeæœ¬èº«ï¼Œè€Œæ˜¯VS Codeä¸­æ‰“å¼€çš„å•ä¸ªç¼–è¾‘åŒºtabï¼‰ã€‚åœ¨ç¬¬ä¸‰æ­¥ä¸­ï¼Œ<em>ä¾›åº”å™¨å‡½æ•°</em>éœ€è¦ä¸ºè¿™ä¸ªuriæä¾›å¯¹åº”çš„å†…å®¹ã€‚</p>
<p>ç»è¿‡è¿™æ•´ä¸ªæµç¨‹ï¼Œæˆ‘ä»¬æ‰ç®—å®Œæ•´åœ°å®ç°äº†ä¸€ä¸ª<em>æ–‡æœ¬å†…å®¹ä¾›åº”å™¨</em>ï¼Œæ¥ä¸‹æ¥çš„éƒ¨åˆ†æˆ‘ä»¬ç»§ç»­å­¦ä¹ æ€ä¹ˆæ›´æ–°è™šæ‹Ÿæ–‡æ¡£ï¼Œæ€ä¹ˆæ³¨å†Œè™šæ‹Ÿæ–‡æ¡£çš„ UIå‘½ä»¤ã€‚</p>
<h3 id="æ›´æ–°è™šæ‹Ÿæ–‡æ¡£"><a href="#æ›´æ–°è™šæ‹Ÿæ–‡æ¡£" class="headerlink" title="æ›´æ–°è™šæ‹Ÿæ–‡æ¡£"></a>æ›´æ–°è™šæ‹Ÿæ–‡æ¡£</h3><p>ä¸ºäº†æ”¯æŒè·Ÿè¸ªè™šæ‹Ÿæ–‡æ¡£å‘ç”Ÿçš„å˜åŒ–ï¼Œä¾›åº”å™¨å®ç°äº†<code>onDidChange</code>äº‹ä»¶ã€‚å¦‚æœæ–‡æ¡£æ­£åœ¨è¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆå¿…é¡»ä¸ºå…¶æä¾›ä¸€ä¸ªuriæ¥è°ƒç”¨å®ƒï¼ŒåŒæ—¶ç¼–è¾‘å™¨ä¼šè¯·æ±‚æ–°çš„å†…å®¹ã€‚</p>
<p><code>vscode.Event</code>å®šä¹‰äº†VS Codeçš„äº‹ä»¶è§„èŒƒã€‚å®ç°äº‹ä»¶çš„æœ€å¥½æ–¹å¼å°±æ˜¯ä½¿ç”¨<code>vscode.EventEmitter</code>ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code>const myProvider = class implements vscode.TextDocumentContentProvider {
  // äº‹ä»¶å‘å°„å™¨å’Œäº‹ä»¶
  onDidChangeEmitter = new vscode.EventEmitter&lt;vscode.Uri&gt;();
  onDidChange = this.onDidChangeEmitter.event;
  //...
};</code></pre><p>ä¸Šè¿°å°±æ˜¯VS Codeç›‘å¬è™šæ‹Ÿæ–‡æ¡£å˜åŒ–æ‰€å¿…é¡»çš„å†…å®¹ã€‚ä¸‹é¢å°†ä½¿ç”¨äº‹ä»¶å‘å°„å™¨æ¥æ·»åŠ <em>ç¼–è¾‘å™¨è¡Œä¸º</em>ã€‚</p>
<h3 id="æ·»åŠ ç¼–è¾‘å™¨å‘½ä»¤"><a href="#æ·»åŠ ç¼–è¾‘å™¨å‘½ä»¤" class="headerlink" title="æ·»åŠ ç¼–è¾‘å™¨å‘½ä»¤"></a>æ·»åŠ ç¼–è¾‘å™¨å‘½ä»¤</h3><p>ä¸ºäº†é˜è¿°äº‹ä»¶å˜åŠ¨å’Œè·å–æ›´å¤šcowsayï¼Œæˆ‘ä»¬éœ€è¦å€’å™cowåˆšåˆšè¯´çš„ä¸œè¥¿ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‘½ä»¤ï¼š</p>
<pre><code>// æ³¨å†Œä¸€ä¸ªå¯ä»¥æ›´æ–°å½“å‰cowçš„å‘½ä»¤
subscriptions.push(
    vscode.commands.registerCommand('cowsay.backwards', async () =&gt; {
        if (!vscode.window.activeTextEditor) {
            return; // ä¸æ‰“å¼€ç¼–è¾‘å™¨
        }
        let { document } = vscode.window.activeTextEditor;
        if (document.uri.scheme !== myScheme) {
            return; // ä¸æ˜¯æˆ‘çš„åè®®æ—¶ç›´æ¥è¿”å›
        }
        // è·å–pathçš„å†…å®¹, å¯¹è¿™ä¸ªå†…å®¹å€’åºå¤„ç†, ç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„uri
        let say = document.uri.path;
        let newSay = say
            .split('')
            .reverse()
            .join('');
        let newUri = document.uri.with({ path: newSay });
        await vscode.window.showTextDocument(newUri, { preview: false });
    })
);</code></pre><p>ä¸Šé¢çš„ä»£ç ç‰‡æ®µæ£€æŸ¥äº†æˆ‘ä»¬å½“å‰æ˜¯ä¸æ˜¯æ¿€æ´»äº†ä¸€ä¸ªç¼–è¾‘å™¨ï¼ˆç”¨æˆ·å½“å‰é€‰ä¸­çš„ç¼–è¾‘å™¨tabï¼‰ï¼Œå¯¹åº”çš„æ–‡æ¡£æ˜¯ä¸æ˜¯ç¬¦åˆæˆ‘ä»¬çš„åè®®ã€‚å› ä¸ºå‘½ä»¤æ˜¯å¯¹ä»»ä½•äººç”Ÿæ•ˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰å¿…è¦å»åšè¿™äº›æ£€æŸ¥ã€‚ç„¶åuriçš„pathå¯¹è±¡è¢«ç¿»è½¬ï¼Œå†é‡æ–°åˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„uriï¼Œæœ€ååˆ™æ‰“å¼€äº†ä¸€ä¸ªç¼–è¾‘å™¨ã€‚</p>
<p>æ³¨å†Œå‘½ä»¤æœ€é‡è¦äº‹å°±æ˜¯åœ¨<code>package.json</code>ä¸­å£°æ˜é…ç½®ã€‚æˆ‘ä»¬åœ¨<code>contributes</code>éƒ¨åˆ†æ·»åŠ ä¸‹åˆ—é…ç½®ï¼š</p>
<pre><code>"menus": {
  "editor/title": [
    {
      "command": "cowsay.backwards",
      "group": "navigation",
      "when": "resourceScheme == cowsay"
    }
  ]
}</code></pre><p><code>contributes/commands</code>ä¸­çš„<code>cowsay.backwards</code>å‘½ä»¤å‘Šè¯‰ç¼–è¾‘å™¨<em>æ“ä½œ</em>å‡ºç°åœ¨ç¼–è¾‘å™¨çš„æ ‡é¢˜èœå•ä¸­ï¼ˆå·¥å…·æ å³ä¸Šè§’ï¼‰ï¼Œä½†å¦‚æœåªæ˜¯è¿™æ ·ç®€å•çš„é…ç½®ï¼Œæ¯ä¸ªç¼–è¾‘å™¨å°±éƒ½ä¼šæ˜¾ç¤ºè¿™ä¸ªå‘½ä»¤ã€‚ç„¶åæˆ‘ä»¬çš„<code>when</code>è¯­å¥å°±å‡ºåœºäº†ï¼Œå®ƒæè¿°äº†ä½•æ—¶æ‰æ˜¾ç¤ºè¿™ä¸ªæ“ä½œã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ–‡æ¡£çš„èµ„æºåè®®å¿…é¡»æ˜¯<code>cowsay</code>ï¼Œæˆ‘ä»¬çš„å‘½ä»¤æ‰ä¼šç”Ÿæ•ˆã€‚è¿™ä¸ªé…ç½®å¯¹é»˜è®¤æ˜¾ç¤ºå…¨éƒ¨å‘½ä»¤çš„<code>commandPalette</code>èœå•åŒæ ·ç”Ÿæ•ˆã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/015208fedf08c680ecd175c9572dc323.png" alt=""></p>
<h3 id="äº‹ä»¶çš„å¯è§æ€§"><a href="#äº‹ä»¶çš„å¯è§æ€§" class="headerlink" title="äº‹ä»¶çš„å¯è§æ€§"></a>äº‹ä»¶çš„å¯è§æ€§</h3><p><em>æ–‡æ¡£ä¾›åº”å™¨å‡½æ•°</em>æ˜¯VS Codeä¸­çš„ä¸€ç­‰å…¬æ°‘ï¼Œå®ƒä»¬çš„å†…å®¹ä»¥å¸¸è§„çš„æ–‡æœ¬æ–‡æ¡£æ ¼å¼å‘ˆç°ï¼Œå®ƒä»¬å…±ç”¨ä¸€å¥—åŸºç¡€å®ç°æ–¹å¼â€”â€”å¦‚ï¼šä½¿ç”¨äº†æ–‡ä»¶ç³»ç»Ÿçš„å®ç°ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€â€œä½ çš„â€æ–‡æ¡£æ— æ³•è¢«éšè—ï¼Œå®ƒä»¬å¿…å®šä¼šå‡ºç°åœ¨<code>onDidOpenTextDocument</code>å’Œ<code>onDidCloseTextDocument</code>äº‹ä»¶ä¸­ï¼Œå®ƒä»¬æ˜¯<code>vscode.workspace.textDocuments</code>ä¸­çš„ä¸€éƒ¨åˆ†ã€‚é€šç”¨çš„å‡†åˆ™å°±æ˜¯æ ¹æ®æ–‡æ¡£çš„<code>åè®®</code>å†³å®šä½ æ˜¯å¦éœ€è¦å¯¹æ–‡æ¡£è¿›è¡Œä»€ä¹ˆæ“ä½œã€‚</p>
<h3 id="æ–‡ä»¶ç³»ç»ŸAPI"><a href="#æ–‡ä»¶ç³»ç»ŸAPI" class="headerlink" title="æ–‡ä»¶ç³»ç»ŸAPI"></a>æ–‡ä»¶ç³»ç»ŸAPI</h3><p>å¦‚æœä½ éœ€è¦æ›´å¼ºçš„çµæ´»æ€§å’ŒæŒæ§åŠ›ï¼Œè¯·æŸ¥çœ‹<a href="https://code.visualstudio.com/api/references/vscode-api#FileSystemProvider" target="_blank" rel="noopener"><code>FileSystemProvider</code></a>APIï¼Œå®ƒå¯ä»¥å®ç°æ•´å¥—å®Œæ•´çš„æ–‡ä»¶ç³»ç»Ÿï¼Œè·å–æ–‡ä»¶ã€æ–‡ä»¶å¤¹ã€äºŒè¿›åˆ¶æ•°æ®ï¼Œåˆ é™¤æ–‡ä»¶ï¼Œåˆ›å»ºæ–‡ä»¶ç­‰ç­‰ã€‚</p>
<h2 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h2><p>é€šå¸¸ï¼Œåœ¨VS Codeä¸­ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡<code>task.json</code>å®šä¹‰ä¸€ä¸ª<a href="https://code.visualstudio.com/docs/editor/tasks" target="_blank" rel="noopener">ä»»åŠ¡</a>ã€‚ä¸è¿‡åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼ŒVS Codeä¼šè‡ªåŠ¨æ£€æµ‹æŸäº›ä»»åŠ¡ã€‚</p>
<p>æœ¬èŠ‚ä»‹ç»äº†æ’ä»¶åº”è¯¥æ€æ ·ä½¿ç”¨<a href="https://ruby.github.io/rake/" target="_blank" rel="noopener">Rakefiles</a>ä¸­çš„<strong>è‡ªåŠ¨æ£€æµ‹ä»»åŠ¡</strong>é…ç½®é¡¹ï¼Œä¸ºæœ€ç»ˆç”¨æˆ·æä¾›ä»»åŠ¡ã€‚å®Œæ•´çš„æºä»£ç è¯·å‚é˜…<a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/task-provider-sample" target="_blank" rel="noopener">è¿™é‡Œ</a>ã€‚</p>
<h3 id="å®šä¹‰ä»»åŠ¡"><a href="#å®šä¹‰ä»»åŠ¡" class="headerlink" title="å®šä¹‰ä»»åŠ¡"></a>å®šä¹‰ä»»åŠ¡</h3><hr>
<p>æƒ³è¦å®šä¹‰ä¸€ä¸ªç³»ç»Ÿçº§åˆ«çš„ä»»åŠ¡ï¼Œæ’ä»¶éœ€è¦é€šè¿‡propertieså®šä¹‰ä»»åŠ¡ï¼Œåœ¨ä¸‹é¢å«åšRakeçš„ä¾‹å­ä¸­ï¼Œä»»åŠ¡æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š</p>
<p>?&gt;<strong>è¯‘è€…æ³¨ï¼š</strong>rakeæ˜¯rubyå®ç°çš„ä»»åŠ¡ç®¡ç†å’Œè‡ªåŠ¨æ„å»ºå·¥å…·ï¼Œè¯¦ç»†è¯·å‚è€ƒ<a href="https://rubygems.org/gems/rake/" target="_blank" rel="noopener">rake</a></p>
<pre><code>"taskDefinitions": [
    {
        "type": "rake",
        "required": [
            "task"
        ],
        "properties": {
            "task": {
                "type": "string",
                "description": "The Rake task to customize"
            },
            "file": {
                "type": "string",
                "description": "The Rake file that provides the task. Can be omitted."
            }
        }
    }
]</code></pre><p>ä¸Šé¢ä»£ç é‡Œé¢ï¼Œæˆ‘ä»¬ä¸º<code>rake</code><em>ä»»åŠ¡é›†</em>é…ç½®äº†ä¸€ä¸ª<strong>ä»»åŠ¡å®šä¹‰</strong>ã€‚ä»»åŠ¡å®šä¹‰æœ‰ä¸¤ä¸ªå±æ€§<code>task</code>å’Œ<code>file</code>ï¼Œ<code>task</code>æ˜¯Rakeä»»åŠ¡çš„åå­—ï¼ŒfileæŒ‡å‘äº†åŒ…å«ä»»åŠ¡çš„æ–‡ä»¶ã€‚<code>task</code>å±æ€§æ˜¯å¿…é¡»çš„ï¼Œ<code>file</code>åˆ™ä¸ºå¯é€‰ã€‚å¦‚æœçœç•¥äº†<code>file</code>å±æ€§ï¼Œåˆ™ä¼šä½¿ç”¨å·¥ä½œåŒºæ ¹ç›®å½•ä¸‹åä¸º<code>RakeFile</code>çš„æ–‡ä»¶ã€‚</p>
<h3 id="ä»»åŠ¡ä¾›åº”å™¨å‡½æ•°"><a href="#ä»»åŠ¡ä¾›åº”å™¨å‡½æ•°" class="headerlink" title="ä»»åŠ¡ä¾›åº”å™¨å‡½æ•°"></a>ä»»åŠ¡ä¾›åº”å™¨å‡½æ•°</h3><hr>
<p>å’Œè¯­è¨€ä¾›åº”å™¨å‡½æ•°ç›¸åŒï¼Œä»»åŠ¡ä¾›åº”å™¨ä½¿æ’ä»¶æ”¯æŒä»£ç è¡¥å…¨ï¼Œä¸€ä¸ªæ’ä»¶å¯ä»¥åªæ³¨å†Œä¸€ä¸ªä»»åŠ¡ä¾›åº”å™¨å‡½æ•°ç„¶åæ‰§è¡Œæ‰€æœ‰å¯ç”¨çš„ä»»åŠ¡é›†åˆã€‚ä½¿ç”¨<code>vscode.tasks</code>å‘½åç©ºé—´è¾¾æˆè¿™ä¸€ç›®æ ‡ï¼š</p>
<pre><code>import * as vscode from 'vscode';
let rakePromise: Thenable&lt;vscode.Task[]&gt; | undefined = undefined;
const taskProvider = vscode.tasks.registerTaskProvider('rake', {
    provideTasks: () =&gt; {
        if (!rakePromise) {
            rakePromise = getRakeTasks();
        }
        return rakePromise;
    },
    resolveTask(_task: vscode.Task): vscode.Task | undefined {
        return undefined;
    }
});</code></pre><p>ç›®å‰<code>resolveTask</code>åªè¿”å›äº†<code>undefined</code>ï¼Œè€Œå°†æ¥VS Codeä¼šé€šè¿‡è¿™ä¸ªæ–¹æ³•ä¼˜åŒ–ä»»åŠ¡çš„åŠ è½½ã€‚</p>
<p><code>getRakeTasks</code>çš„å®ç°åšäº†ä¸‹é¢çš„äº‹æƒ…ï¼š</p>
<ul>
<li>ä½¿ç”¨<code>rake -AT -f Rakefile</code>å‘½ä»¤åˆ—å‡ºrakeæ–‡ä»¶ä¸­çš„æ‰€æœ‰rakeä»»åŠ¡</li>
<li>è½¬æ¢ä¸ºstdioè¾“å‡º</li>
<li>å¯¹æ¯ä¸ªä»»åŠ¡åˆ›å»ºä¸€ä¸ª<code>vscode.task</code>å®ç°</li>
</ul>
<p>å› ä¸ºä¸€ä¸ªrakeä»»åŠ¡åˆå§‹åŒ–éœ€è¦<code>package.json</code>ä¸­æœ‰å¯¹åº”çš„ä»»åŠ¡å®šä¹‰ï¼ŒVS Codeä¼šç”¨TypeScriptæ¥å£å®šä¹‰å‡ºç»“æ„ï¼Œåƒè¿™æ ·ï¼š</p>
<pre><code>interface RakeTaskDefinition extends vscode.TaskDefinition {
    /**
     * The task name
     */
    task: string;
    /**
     * The rake file containing the task
     */
    file?: string;
}</code></pre><p>å‡è®¾æˆ‘ä»¬çš„è¾“å‡ºæœ€ç»ˆæ¥è‡ªäºä¸€ä¸ªå«<code>compile</code>çš„ä»»åŠ¡ï¼Œé‚£ä¹ˆå¯¹åº”çš„ä»»åŠ¡åˆ›å»ºè¿‡ç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code>let task = new vscode.Task(
    { type: 'rake', task: 'compile' },
    'compile',
    'rake',
    new vscode.ShellExecution('rake compile')
);</code></pre><p>æ¯ä¸ªè¾“å‡ºä»»åŠ¡éƒ½å¯¹åº”ç€ä¸Šè¿°è¿‡ç¨‹ï¼Œæœ€åé€šè¿‡è°ƒç”¨<code>getRakeTasks</code>ä¼šè¿”å›ä¸€ä¸ªä»»åŠ¡æ•°ç»„ã€‚</p>
<p><code>ShellExecution</code>ä¼šé’ˆå¯¹ä¸åŒçš„ç³»ç»Ÿåœ¨shellä¸­æ‰§è¡Œ<code>rake compile</code>å‘½ä»¤ï¼ˆå¦‚ï¼šåœ¨Windowsä¸‹ä¼šåœ¨PowerShellä¸­æ‰§è¡Œï¼ŒUbuntuåˆ™æ˜¯bashï¼‰ã€‚å¦‚æœæŸä¸ªä»»åŠ¡éœ€è¦ç›´æ¥æ‰§è¡Œè¿›ç¨‹ï¼ˆä¸é€šè¿‡shellç”Ÿæˆï¼‰ï¼Œåˆ™å¯ä»¥ä½¿ç”¨<code>vscode.ProcessExecution</code>ã€‚<code>ProcessExecution</code>çš„ä¼˜åŠ¿åœ¨äºæ’ä»¶å¯ä»¥å®Œå…¨æ§åˆ¶ä¼ å…¥è¿›ç¨‹çš„å‚æ•°ï¼Œ<code>ShellExecution</code>åˆ™ä¼šä½¿ç”¨shellå‘½ä»¤è½¬ä¹‰ï¼ˆæ¯”å¦‚ï¼šbashä¸­çš„*å±•å¼€ï¼‰ã€‚å¦‚æœ<code>ShellExecution</code>æ˜¯é€šè¿‡å•ä¸ªå‘½ä»¤åˆ›å»ºçš„ï¼Œé‚£ä¹ˆæ’ä»¶éœ€è¦åœ¨å‘½ä»¤å†…éƒ¨ç¡®ä¿å¼•å·å’Œè½¬ä¹‰ç¬¦çš„æ­£ç¡®ä½¿ç”¨ï¼ˆæ¯”å¦‚ï¼Œå¦‚ä½•å¤„ç†ç©ºæ ¼ï¼‰ã€‚</p>
<h2 id="æºæ§åˆ¶API"><a href="#æºæ§åˆ¶API" class="headerlink" title="æºæ§åˆ¶API"></a>æºæ§åˆ¶API</h2><p>VS Code å…è®¸æ’ä»¶åˆ›ä½œè€…é€šè¿‡æ‰©å±•APIå»å®šä¹‰<em>æºæ§åˆ¶ç®¡ç†</em>ç‰¹æ€§ï¼ˆSource Control Managementï¼ŒSCMï¼‰ï¼ŒVS Codeæ•´åˆäº†å„å¼å„æ ·çš„SCMä½“ç³»ï¼Œè€Œåªç»™ç”¨æˆ·å±•ç°äº†ä¸€ç»„å°å·§ã€å¼ºå¤§çš„APIæ¥å£ï¼Œè¿˜æ˜¯å¸¦ç”¨æˆ·ç•Œé¢çš„é‚£ç§ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/c0f272d6f40149ce45389259f99f31e1.png" alt=""></p>
<p>VS Codeè‡ªå¸¦ä¸€ä¸ªæºæ§åˆ¶å™¨ï¼šGitï¼Œå®ƒæ˜¯æºæ§åˆ¶APIçš„æœ€ä½³å®è·µã€‚å¦‚æœä½ æƒ³æ„å»ºä½ è‡ªå·±çš„SCMä¾›åº”å™¨ï¼Œé‚£ä¹ˆè¿™æ˜¯<a href="https://github.com/Microsoft/vscode/blob/master/extensions/git/src/repository.ts" target="_blank" rel="noopener">ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹</a>ã€‚</p>
<blockquote>
<p>VS Codeæ’ä»¶å¸‚åœºè¿˜æœ‰å¾ˆå¤šç±»ä¼¼çš„è¶…èµçš„æ’ä»¶ï¼Œæ¯”å¦‚<a href="https://marketplace.visualstudio.com/items?itemName=johnstoncode.svn-scm" target="_blank" rel="noopener">SVN</a>ã€‚</p>
</blockquote>
<p>å¦‚æœä½ éœ€è¦å¸®åŠ©ï¼Œè¯·æŸ¥çœ‹<a href="https://code.visualstudio.com/api/references/vscode-api#scm" target="_blank" rel="noopener">vscodeå‘½åç©ºé—´API</a>ã€‚</p>
<h3 id="æºæ§åˆ¶æ¨¡å‹"><a href="#æºæ§åˆ¶æ¨¡å‹" class="headerlink" title="æºæ§åˆ¶æ¨¡å‹"></a>æºæ§åˆ¶æ¨¡å‹</h3><hr>
<p><code>SourceControl</code>è´Ÿè´£ç”Ÿäº§æºæ§åˆ¶æ¨¡å‹çš„å®ä½“ï¼Œå®ƒé‡Œé¢æœ‰<code>SourceControlResourceState</code>å®ä¾‹çš„<strong>èµ„æºçŠ¶æ€</strong>ï¼Œè€Œèµ„æºçŠ¶æ€åˆæ˜¯<code>SourceControlResourceGroup</code>å®ä¾‹æ•´ç†æˆ<strong>ç»„</strong>çš„ã€‚</p>
<p>é€šè¿‡<code>vscode.scm.createSourceControl</code>åˆ›å»ºä¸€ä¸ªæ–°çš„<em>æºæ§åˆ¶å™¨</em>ã€‚</p>
<p>ä¸ºäº†æ›´å¥½åœ°ç†è§£è¿™å‡ ç§å®ä½“çš„äº¤äº’ï¼Œè®©æˆ‘ä»¬æ‹¿<a href="https://github.com/Microsoft/vscode/tree/master/extensions/git" target="_blank" rel="noopener">Git</a>æ¥åšä¾‹å­ï¼Œè€ƒè™‘ä¸‹åˆ—<code>git status</code>è¾“å‡ºï¼š</p>
<pre><code>vsce master* â†’ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)
        modified:   README.md
        renamed:    src/api.ts -&gt; src/test/api.ts
Changes not staged for commit:
  (use "git add/rm &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)
        deleted:    .travis.yml
        modified:   README.md</code></pre><p>è¿™ä¸ªå·¥ä½œåŒºé‡Œé¢å‘ç”Ÿäº†å¾ˆå¤šäº‹ï¼Œé¦–å…ˆï¼Œ<code>README.md</code>æ–‡ä»¶å·²ç»è¢«ä¿®æ”¹äº†ä½†è¿˜æ²¡æœ‰æäº¤ï¼Œç„¶åç«‹åˆ»åˆè¢«ä¿®æ”¹äº†ã€‚ å…¶æ¬¡ï¼Œ<code>src/api.ts</code>æ–‡ä»¶è¢«ç§»åŠ¨åˆ°äº†<code>src/test/api.ts</code>ï¼Œè¿™ä¸ªä¿®æ”¹å·²ç»å­˜å¤‡ï¼ˆstagedï¼‰ï¼Œ æœ€åï¼Œ<code>.travis.yml</code>æ–‡ä»¶è¢«åˆ é™¤ã€‚</p>
<p>å¯¹äºè¿™ä¸ªå·¥ä½œåŒºè€Œè¨€ï¼ŒGitå®šä¹‰äº†ä¸¤ä¸ªèµ„æºç»„ï¼š<strong>å·¥ä½œä¸­ï¼ˆWorking treeï¼‰</strong>å’Œ<strong>å·²ç´¢å¼•ï¼ˆIndexï¼‰</strong>ï¼Œå¯¹äºå•ä¸ªç»„è€Œè¨€ï¼Œæ¯æ¬¡<strong>æ–‡ä»¶ä¿®æ”¹</strong>å°±ä¼šäº§ç”Ÿä¸€äº›èµ„æºçŠ¶æ€ï¼š</p>
<ul>
<li><p>å·²ç´¢å¼• </p>
<p>- èµ„æºç»„</p>
<ul>
<li>ä¿®æ”¹<code>README.md</code> - èµ„æºçŠ¶æ€</li>
<li>ç§»åŠ¨<code>src/api.ts</code>åˆ°<code>src/test/api.ts</code> - èµ„æºçŠ¶æ€</li>
</ul>
</li>
<li><p>å·¥ä½œä¸­</p>
<p>- èµ„æºç»„</p>
<ul>
<li>åˆ é™¤<code>.travis.yml</code> - èµ„æºçŠ¶æ€</li>
<li>ä¿®æ”¹<code>README.md</code> - èµ„æºçŠ¶æ€</li>
</ul>
</li>
</ul>
<p>åŒä¸€ä¸ª<code>README.md</code>æ˜¯æ€ä¹ˆæˆä¸ºä¸¤ç»„æˆªç„¶ä¸åŒçš„èµ„æºçŠ¶æ€å‘¢ï¼Ÿ</p>
<p>ä¸‹é¢æ­ç§˜Gitæ˜¯å¦‚ä½•åˆ›å»ºè¿™ä¸ªæ¨¡å‹çš„ï¼š</p>
<pre><code>function createResourceUri(relativePath: string): vscode.Uri {
  const absolutePath = path.join(vscode.workspace.rootPath, relativePath);
  return vscode.Uri.file(absolutePath);
}
const gitSCM = vscode.scm.createSourceControl('git', "Git");
const index = gitSCM.createResourceGroup('index', "Index");
index.resourceStates = [
  { resourceUri: createResourceUri('README.md') },
  { resourceUri: createResourceUri('src/test/api.ts') }
];
const workingTree = gitSCM.createResourceGroup('workingTree', "Changes");
workingTree.resourceStates = [
  { resourceUri: createResourceUri('.travis.yml') },
  { resourceUri: createResourceUri('README.md') }
];</code></pre><p>æºå˜åŠ¨å’Œæœ€ç»ˆäº§ç”Ÿçš„èµ„æºç»„ä¼šä¼ é€’åˆ°æºæ§åˆ¶è§†å›¾ä¸Šã€‚</p>
<h3 id="æºæ§åˆ¶è§†å›¾"><a href="#æºæ§åˆ¶è§†å›¾" class="headerlink" title="æºæ§åˆ¶è§†å›¾"></a>æºæ§åˆ¶è§†å›¾</h3><hr>
<p>å½“æºå˜åŠ¨æ—¶ï¼ŒVS Codeä¼šç”Ÿæˆæºæ§åˆ¶è§†å›¾ã€‚æºçŠ¶æ€å¯é€šè¿‡<code>SourceControlResourceDecorations</code>è‡ªå®šä¹‰ï¼š</p>
<pre><code>export interface SourceControlResourceState {
  readonly decorations?: SourceControlResourceDecorations;
}</code></pre><p>ä¸Šè¿°ä¾‹å­å·²ç»è¶³ä»¥è®©æºæ§åˆ¶è§†å›¾ç”Ÿæˆä¸€ä¸ªç®€å•çš„åˆ—è¡¨ï¼Œä¸è¿‡ç”¨æˆ·å¯èƒ½æƒ³è¦åœ¨ä¸åŒçš„èµ„æºçŠ¶æ€ä¸Šè¿›è¡Œä¸åŒçš„æ“ä½œã€‚æ¯”å¦‚ï¼Œå½“ç”¨æˆ·ç‚¹å‡»èµ„æºçŠ¶æ€æ—¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿèµ„æºçŠ¶æ€æä¾›äº†ä¸€ä¸ªå¯é€‰å‘½ä»¤å»å¤„ç†è¿™ç±»åœºæ™¯ï¼š</p>
<pre><code>export interface SourceControlResourceState {
  readonly command?: Command;
}</code></pre><h4 id="èœå•-1"><a href="#èœå•-1" class="headerlink" title="èœå•"></a>èœå•</h4><p>è¦æƒ³æä¾›æ›´åŠ ä¸°å¯Œçš„äº¤äº’æ•ˆæœï¼Œæˆ‘ä»¬æä¾›äº†5ä¸ªæºæ§åˆ¶èœå•é¡¹ä¾›ä½ ä½¿ç”¨ã€‚</p>
<p><code>scm/title</code>èœå•åœ¨æºæ§åˆ¶è§†å›¾çš„é¡¶éƒ¨å³ä¸Šæ–¹ï¼Œèœå•é¡¹æ°´å¹³æ’åˆ—åœ¨<code>æ ‡é¢˜æ </code>ä¸­ï¼Œå¦å¤–ä¸€äº›ä¼šåœ¨<code>...</code>ä¸‹æ‹‰èœå•ä¸­ã€‚</p>
<p><code>scm/resourceGroup/context</code>å’Œ<code>scm/resourceState/context</code>æ˜¯ç±»ä¼¼çš„ï¼Œä½ å¯ä»¥é€šè¿‡å‰è€…è‡ªå®šä¹‰èµ„æºç»„ï¼Œåè€…åˆ™æ˜¯å®šä¹‰èµ„æºçŠ¶æ€ã€‚å°†èœå•é¡¹æ”¾åœ¨<code>inline</code>ç»„é‡Œï¼Œå¯ä»¥æ°´å¹³åœ¨è§†å›¾ä¸­å±•ç¤ºå®ƒä»¬ã€‚è€Œå…¶ä»–çš„èœå•é¡¹å¯ä»¥é€šè¿‡é¼ æ ‡å³å‡»çš„å½¢å¼å±•ç¤ºåœ¨èœå•ä¸­ã€‚èœå•ä¸­è°ƒç”¨çš„å‘½ä»¤ä¼šä¼ å…¥èµ„æºçŠ¶æ€ä½œä¸ºå‚æ•°ã€‚æ³¨æ„SCMè§†å›¾æä¾›å¤šé€‰ï¼Œå› æ­¤å‘½ä»¤å‡½æ•°å¯èƒ½ä¸€æ¬¡æ€§ä¼šæ¥æ”¶ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒGitæ”¯æŒå¾€<code>scm/resourceState/context</code>èœå•ä¸­æ·»åŠ <code>git.stage</code>å‘½ä»¤å’Œä½¿ç”¨ä¸‹åˆ—æ–¹æ³•ï¼Œæä¾›å¤šä¸ªæ–‡ä»¶çš„å­˜å¤‡ï¼ˆstagedï¼‰ï¼š</p>
<pre><code>stage(...resourceStates: SourceControlResourceState[]): Promise&lt;void&gt;;</code></pre><p>åˆ›å»ºå®ƒä»¬çš„æ—¶å€™ï¼Œ<code>SourceControl</code>å’Œ<code>SourceControlResourceGroup</code>å®ä¾‹ä¼šéœ€è¦ä½ æä¾›ä¸€ä¸ªstringç±»å‹çš„<code>id</code>ï¼Œè¿™äº›å€¼æœ€ç»ˆä¼šåœ¨<code>scmProvider</code>å’Œ<code>scmResourceGroup</code>ä»¥ä¸Šä¸‹æ–‡é”®å€¼çš„å½¢å¼å‡ºç°ã€‚åœ¨èœå•é¡¹çš„<code>when</code>è¯­æ³•ä¸­ä½¿ç”¨è¿™äº›<a href="https://code.visualstudio.com/docs/getstarted/keybindings#_when-clause-contexts" target="_blank" rel="noopener">ä¸Šä¸‹æ–‡é”®å€¼</a>ã€‚çœ‹ä¸ªGitå¦‚ä½•é€šè¿‡<code>git.stage</code>å‘½ä»¤æ˜¾ç¤ºèœå•é¡¹çš„ï¼š</p>
<pre><code>{
  "command": "git.stage",
  "when": "scmProvider == git &amp;&amp; scmResourceGroup == merge",
  "group": "inline"
}</code></pre><p><code>scm/change/title</code>å¯ä»¥å¯¹<em>è¡Œå†…å˜åŠ¨</em>é…ç½®æ ‡é¢˜æ çš„å‘½ä»¤ï¼ˆcontribute commands to the title bar of an inline changeï¼‰ã€‚å‘½ä»¤ä¸­çš„å‚æ•°æœ‰æ–‡æ¡£çš„URIï¼Œå˜åŠ¨æ•°ç»„ï¼Œå½“å‰è¡Œå†…å˜åŠ¨æ‰€åœ¨ç´¢å¼•ã€‚ä¾‹å¦‚ä¸‹é¢æ˜¯ä¸€ä¸ªå¯ä»¥é…ç½®èœå•çš„Git<code>stageChange</code>å‘½ä»¤å£°æ˜ï¼š</p>
<pre><code>async stageChange(uri: Uri, changes: LineChange[], index: number): Promise&lt;void&gt;;</code></pre><p><code>scm/sourceControl</code>èœå•æ ¹æ®ç¯å¢ƒå‡ºç°åœ¨æºæ§åˆ¶å®ä¾‹çš„è¾¹ä¸Šã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/c8026055fcc93be5b3838af29383a8d0.png" alt=""></p>
<p>æœ€åï¼Œ<code>scm/change/title</code>èœå•æ˜¯å’Œå¿«é€ŸDiffåŠŸèƒ½ç›¸å…³è”çš„ï¼Œè¶Šæ–°çš„æ–‡ä»¶è¶Šé å‰ï¼Œä½ å¯ä»¥é’ˆå¯¹ç‰¹å®šçš„ä»£ç å˜åŠ¨è°ƒç”¨å‘½ä»¤ã€‚</p>
<h4 id="SCM-è¾“å…¥æ¡†"><a href="#SCM-è¾“å…¥æ¡†" class="headerlink" title="SCM è¾“å…¥æ¡†"></a>SCM è¾“å…¥æ¡†</h4><p>æºæ§åˆ¶è¾“å…¥æ¡†ä½äºæ¯ä¸ªæºæ§åˆ¶è§†å›¾çš„é¡¶éƒ¨ï¼Œæ¥æ”¶ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯ã€‚ä½ å¯ä»¥è·å–ï¼ˆæˆ–è®¾ç½®ï¼‰è¿™ä¸ªä¿¡æ¯ä¾›åç»­ä½¿ç”¨ã€‚åœ¨Gitä¸­ï¼Œæ¯”å¦‚è¯´ï¼Œè¿™å¯ä»¥ä½œä¸ºä¸€ä¸ªcommitæ¡†ï¼Œç”¨æˆ·è¾“å…¥äº†æäº¤ä¿¡æ¯åï¼Œè§¦å‘<code>git commit</code>å‘½ä»¤ï¼š</p>
<pre><code>export interface SourceControlInputBox {
  value: string;
}
export interface SourceControl {
  readonly inputBox: SourceControlInputBox;
}</code></pre><p>ç”¨æˆ·å¯ä»¥é€šè¿‡Ctrl+Enterï¼ˆMacä¸Šæ˜¯Cmd+Enterï¼‰æ¥æ”¶ä»»æ„ä¿¡æ¯ï¼Œåœ¨<code>SourceControl</code>ä¸­çš„<code>acceptInputCommand</code>å¤„ç†è¿™ç±»äº‹ä»¶ã€‚</p>
<pre><code>export interface SourceControl {
  readonly acceptInputCommand?: Command;
}</code></pre><h3 id="å¿«é€ŸDiff"><a href="#å¿«é€ŸDiff" class="headerlink" title="å¿«é€ŸDiff"></a>å¿«é€ŸDiff</h3><hr>
<p>VS Codeæ”¯æŒæ˜¾ç¤º<strong>å¿«é€ŸDiff</strong>ç¼–è¾‘å™¨çš„é«˜äº®æ§½ï¼Œç‚¹å‡»è¿™äº›æ§½ä¼šå‡ºç°ä¸€ä¸ªå†…éƒ¨diffäº¤äº’å™¨ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œä¸ºä¸Šä¸‹æ–‡é…ç½®å‘½ä»¤ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/68bd3a75f4efdf1e16c4d9cd65f086f8.png" alt=""></p>
<p>è¿™äº›é«˜äº®æ§½æ˜¯VS Codeè‡ªå·±è®¡ç®—å‡ºæ¥çš„ï¼Œä½ è¦åšçš„å°±æ˜¯æ ¹æ®ç»™å®šçš„æ–‡ä»¶æä¾›åŸå§‹æ–‡ä»¶å†…å®¹</p>
<pre><code>export interface SourceControl {
  readonly acceptInputCommand?: Command;
}</code></pre><p>ä½¿ç”¨<code>QuickDiffProvider</code>ï¼Œä½ çš„å®ç°éœ€è¦å‘Šè¯‰VS Codeâ€”â€”å‚æ•°ä¼ å…¥çš„ç»™å®šèµ„æº<code>Uri</code>æ‰€å¯¹åº”çš„åŸå§‹èµ„æº<code>Uri</code>ã€‚</p>
<p>?&gt; <strong>æç¤º</strong>: å¦‚æœä½ æƒ³åœ¨ç»™å®š<code>Uri</code>çš„æƒ…å†µä¸‹ï¼Œä¸ºä»»æ„èµ„æºæä¾›å†…å®¹ï¼Œé‚£ä¹ˆä½ å¯ä»¥æŠŠ<strong>æºæ§åˆ¶API</strong>å’Œ<strong><a href="https://code.visualstudio.com/api/references/vscode-api#workspace" target="_blank" rel="noopener">å·¥ä½œåŒºå‘½åç©ºé—´çš„<code>registerTextDocumentContentProvider</code>æ–¹æ³•</a></strong>ç»“åˆèµ·æ¥ä½¿ç”¨ã€‚</p>
<h2 id="è°ƒè¯•å™¨æ’ä»¶"><a href="#è°ƒè¯•å™¨æ’ä»¶" class="headerlink" title="è°ƒè¯•å™¨æ’ä»¶"></a>è°ƒè¯•å™¨æ’ä»¶</h2><p>VS Codeå·²ç»å†…ç½®äº†ä¸€å¥—é€šç”¨çš„ç”¨æˆ·ç•Œé¢ï¼Œæ’ä»¶ä½œè€…èƒ½å¤Ÿé€šè¿‡VS Codeçš„è°ƒè¯•æ¶æ„è½»æ¾å°†å·²æœ‰çš„è°ƒè¯•å™¨æ•´åˆè¿›æ¥ã€‚</p>
<p>VS Codeå·²ç»å†…ç½®äº†ä¸€ä¸ª<a href="https://nodejs.org/" target="_blank" rel="noopener">Node.js</a>è°ƒè¯•å™¨æ’ä»¶ï¼Œå®ƒå°†æˆä¸ºä½ å­¦ä¹ VS Codeè°ƒè¯•å™¨ç‰¹æ€§çš„ç»ä½³æ­æ¡£ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/8afbfc784f15b740436f40ae74367717.png" alt=""></p>
<p>ä¸Šé¢çš„æˆªå›¾å±•ç¤ºäº†ä»¥ä¸‹è°ƒè¯•åŠŸèƒ½ï¼š</p>
<ol>
<li>ç®¡ç†è°ƒè¯•å™¨é…ç½®</li>
<li>å¼€å§‹ã€åœæ­¢ã€æ­¥è¿›ç­‰è°ƒè¯•æ“ä½œ</li>
<li>æºã€å‡½æ•°ã€æ¡ä»¶æ–­ç‚¹ã€è¡Œæ–­ç‚¹å’Œè®°å½•ç‚¹</li>
<li>æ”¯æŒå¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹çš„è°ƒç”¨æ ˆ</li>
<li>åœ¨<em>è§†å›¾</em>ä¸­æµè§ˆå¤æ‚çš„æ•°æ®ï¼Œé¼ æ ‡æ‚¬åœåœ¨æ•°æ®ä¸Šå¯ä»¥çœ‹åˆ°æ›´å¤šä¿¡æ¯</li>
<li>é¼ æ ‡æ‚¬åœåœ¨æºä»£ç ä¸­å¯ä»¥çœ‹åˆ°å˜é‡çš„å€¼</li>
<li>ç®¡ç†watchè¡¨è¾¾å¼</li>
<li>è°ƒè¯•æ§åˆ¶å°æ”¯æŒäº¤äº’æ“ä½œï¼Œå¦‚æ±‚å€¼ã€è‡ªåŠ¨è¡¥å…¨ç­‰</li>
</ol>
<p>æœ¬èŠ‚å°†å¸®ä½ åˆ›å»ºä¸€ä¸ªä»»æ„è°ƒè¯•å™¨éƒ½å¯ä»¥å’ŒVS Codeåä½œçš„è°ƒè¯•å™¨æ’ä»¶ã€‚</p>
<h3 id="VS-Code-ä¸­çš„è°ƒè¯•æ¶æ„"><a href="#VS-Code-ä¸­çš„è°ƒè¯•æ¶æ„" class="headerlink" title="VS Code ä¸­çš„è°ƒè¯•æ¶æ„"></a>VS Code ä¸­çš„è°ƒè¯•æ¶æ„</h3><hr>
<p>VS CodeåŸºäºæŠ½è±¡åè®®ï¼Œå®ç°äº†ä¸€ä¸ªåŸç”Ÿï¼ˆéè¯­è¨€ç›¸å…³çš„ï¼‰çš„è°ƒè¯•å™¨UIï¼Œå®ƒå¯ä»¥å’Œä»»æ„åå°è°ƒè¯•ç¨‹åºé€šä¿¡ã€‚é€šå¸¸æ¥è®²ï¼Œè°ƒè¯•å™¨ä¸ä¼šå®ç°è¿™ä»½åè®®ï¼Œå› æ­¤è°ƒè¯•å™¨ä¸­éœ€è¦ä¸€äº›ä¸­é—´ä»¶å»â€œé€‚é…â€è¿™ä¸ªåè®®ã€‚è¿™ä¸ªä¸­é—´ä»¶ä¸€èˆ¬è€Œè¨€æ˜¯ä¸€ä¸ªç‹¬ç«‹å’Œè°ƒè¯•å™¨é€šä¿¡çš„è¿›ç¨‹ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/de9b3a492e1d2d0c0fb6b538ae23ae32.png" alt=""></p>
<p>æˆ‘ä»¬å°†è¿™ä¸ªä¸­é—´ä»¶ç§°ä¸º<strong>è°ƒè¯•é€‚é…å™¨ï¼ˆDebug Adapterï¼‰</strong>ï¼ˆç®€å†™ä¸º<strong>DA</strong>ï¼‰ï¼Œåœ¨VS Codeå’ŒDAä¹‹é—´é€šä¿¡çš„æŠ½è±¡åè®®ç§°ä¹‹ä¸º<strong>è°ƒè¯•é€‚é…å™¨åè®®(Debug Adapter Protocol)</strong> (ç®€å†™<strong>DAP</strong>)ã€‚è°ƒè¯•é€‚é…å™¨åè®®ç‹¬ç«‹äºVS Codeï¼Œå®ƒæœ‰è‡ªå·±çš„<a href="https://microsoft.github.io/debug-adapter-protocol/" target="_blank" rel="noopener">ç½‘ç«™</a>ï¼Œä½ åœ¨ä¸Šé¢å¯ä»¥æ‰¾åˆ°ç›¸å…³çš„<a href="https://microsoft.github.io/debug-adapter-protocol/overview" target="_blank" rel="noopener">ä»‹ç»å’Œæ¦‚è¿°</a>ï¼Œä»¥åŠè¯¦ç»†çš„<a href="https://microsoft.github.io/debug-adapter-protocol/specification" target="_blank" rel="noopener">è¯´æ˜ä¹¦</a>ï¼Œä¸Šé¢è¿˜åˆ—å‡ºäº†ä¸€äº›<a href="https://microsoft.github.io/debug-adapter-protocol/implementors/adapters/" target="_blank" rel="noopener">å·²çŸ¥å®ç°å’Œæ”¯æŒå·¥å…·</a>ï¼Œè¿™ä»½åŠªåŠ›èƒŒåçš„æ•…äº‹å’ŒåŠ¨æœºï¼Œæˆ‘ä»¬éƒ½è®°å½•åœ¨äº†<a href="https://code.visualstudio.com/blogs/2018/08/07/debug-adapter-protocol-website#_why-the-need-for-decoupling-with-protocols" target="_blank" rel="noopener">åšå®¢</a>ä¸­ã€‚</p>
<p>å› ä¸ºè°ƒè¯•é€‚é…å™¨ç‹¬ç«‹äºVSCodeï¼Œæ‰€ä»¥å®ƒå¯ç”¨åœ¨<a href="https://microsoft.github.io/debug-adapter-protocol/implementors/tools/" target="_blank" rel="noopener">å…¶ä»–å¼€å‘å·¥å…·</a>ä¸­ï¼Œå®ƒä»¬æ— éœ€åŒ¹é…VS Codeçš„æ’ä»¶æ¶æ„ï¼Œè€Œåªéœ€åŸºäºæ’ä»¶å’Œ<em>å‘å¸ƒå†…å®¹é…ç½®</em>å³å¯ã€‚</p>
<p>å‡ºäºè¿™ä¸ªåŸå› ï¼ŒVS Codeæä¾›äº†ä¸€ä¸ªé…ç½®ç‚¹<code>debuggers</code>ï¼Œè°ƒè¯•é€‚é…å™¨åœ¨è¿™é‡Œå¯ä»¥é…ç½®ç‰¹å®šçš„è°ƒè¯•ç±»å‹ï¼ˆä¾‹å¦‚ï¼šNode.jsè°ƒè¯•å™¨ä½¿ç”¨<code>node</code>ï¼‰ã€‚ç”¨æˆ·åªè¦å¯åŠ¨äº†è¿™ä¸ªç±»å‹çš„è°ƒè¯•é€‚é…å™¨ä¼šè¯ï¼ŒVS Codeå°±èƒ½åŠ è½½æ³¨å†Œå¥½çš„è°ƒè¯•é€‚é…å™¨ã€‚</p>
<p>å› æ­¤è°ƒè¯•é€‚é…å™¨çš„æœ€å°å½¢å¼å°±æ˜¯å£°æ˜ä¸€ä¸ªé…ç½®ï¼Œå¯¹åº”è°ƒè¯•é€‚é…å™¨çš„å®ç°ï¼Œè¿™ä¸ªæ’ä»¶å°±æ˜¯è°ƒè¯•é€‚é…å™¨çš„è£…è½½å®¹å™¨ï¼Œè€Œä¸”ä¸éœ€è¦ä»»ä½•å¤šä½™çš„ä»£ç ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/f581cdaa81ef0e6b3c2dfe9ab0e140e3.png" alt=""></p>
<p>ä¸€ä¸ªæ›´è´´è¿‘ç°å®çš„è°ƒè¯•å™¨æ’ä»¶å¾€å¾€ä¼šæ·»åŠ å¾ˆå¤šé…ç½®ï¼Œå¦‚ä¸‹é¢çš„ï¼š</p>
<ul>
<li>è°ƒè¯•å™¨æ”¯æŒçš„è¯­è¨€ã€‚VS Codeä¼šä¸ºè¿™äº›è¯­è¨€å¯ç”¨UIç•Œé¢çš„æ–­ç‚¹åŠŸèƒ½</li>
<li>ç”±è°ƒè¯•å™¨å¼•å…¥çš„JSONæ ¼å¼çš„è°ƒè¯•é…ç½®å±æ€§ã€‚VS Codeä¼šä½¿ç”¨è¿™ä¸ªæ ¼å¼æ ¡éªŒlaunch.jsonä¸­çš„é…ç½®ï¼Œå¹¶æä¾›è¡¥å…¨åŠŸèƒ½</li>
<li>é¦–æ¬¡åŠ è½½è°ƒè¯•æ—¶ï¼ŒVS Codeè‡ªåŠ¨ç”Ÿæˆåˆå§‹launch.jsonæ–‡ä»¶</li>
<li>ç”¨æˆ·å¯ä»¥ç»™launch.jsonæ·»åŠ çš„è°ƒè¯•é…ç½®ç‰‡æ®µ</li>
<li>å£°æ˜è°ƒè¯•é…ç½®ä¸­å¯ä»¥ä½¿ç”¨çš„å˜é‡</li>
</ul>
<h3 id="æ¨¡æ‹Ÿè°ƒè¯•æ’ä»¶"><a href="#æ¨¡æ‹Ÿè°ƒè¯•æ’ä»¶" class="headerlink" title="æ¨¡æ‹Ÿè°ƒè¯•æ’ä»¶"></a>æ¨¡æ‹Ÿè°ƒè¯•æ’ä»¶</h3><hr>
<p>ç”±äºä»å¤´å¼€å§‹åˆ›å»ºä¸€ä¸ªè°ƒè¯•é€‚é…å™¨å¤ªç¹çäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä»ç®€å•çš„DA(æˆ‘ä»¬å·²ç»åˆ›å»ºè¿‡çš„<strong>å…¥é—¨çº§è°ƒè¯•é€‚é…å™¨</strong>)å¼€å§‹ã€‚å› ä¸ºå®ƒä¸ä¸çœŸæ­£çš„è°ƒè¯•å™¨è¿›è¡Œé€šä¿¡ï¼Œæ‰€ä»¥å°±å«å®ƒâ€”â€”<em>æ¨¡æ‹Ÿè°ƒè¯•</em>å§ã€‚</p>
<p><em>æ¨¡æ‹Ÿè°ƒè¯•</em>æ¨¡æ‹Ÿäº†è°ƒè¯•å™¨åŠŸèƒ½ï¼Œæ”¯æŒï¼š</p>
<ul>
<li>å•æ­¥è°ƒè¯•</li>
<li>è·³åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹</li>
<li>æ–­ç‚¹</li>
<li>å¼‚å¸¸</li>
<li>è®¿é—®å˜é‡</li>
</ul>
<p>åœ¨æ·±å…¥äº†è§£å¼€å‘ä¸­çš„<em>æ¨¡æ‹Ÿè°ƒè¯•</em>ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå»VS Codeæ’ä»¶å¸‚åœºå®‰è£…ä¸ª<a href="https://marketplace.visualstudio.com/items?itemName=andreweinand.mock-debug" target="_blank" rel="noopener">é¢„æ„å»ºç‰ˆæœ¬</a>ç©ä¸€ç©ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p>
<ul>
<li>æ‰“å¼€VS Codeçš„æ’ä»¶é¢æ¿ï¼Œè¾“å…¥â€mockâ€å¹¶æ‰¾åˆ°<strong>Mock Debug</strong>æ’ä»¶</li>
<li><strong>å®‰è£…</strong>å¹¶<strong>é‡å¯</strong></li>
</ul>
<p>é€šè¿‡å¦‚ä¸‹æµç¨‹æ¥å¯åŠ¨<em>æ¨¡æ‹Ÿè°ƒè¯•</em>ï¼š</p>
<ul>
<li>æ–°å»ºä¸€ä¸ªç©ºçš„æ–‡ä»¶å¤¹<code>mock test</code>å¹¶åœ¨VS Codeä¸­æ‰“å¼€</li>
<li>åˆ›å»ºä¸€ä¸ª<code>readme.md</code>ï¼Œåœ¨é‡Œé¢éšä¾¿å†™ç‚¹ä»€ä¹ˆä¸œè¥¿</li>
<li>åˆ‡æ¢åˆ°<strong>è°ƒè¯•</strong>è§†å›¾ï¼Œç‚¹ä¸€ä¸‹<strong>é½¿è½®å›¾æ ‡</strong></li>
<li>VS Codeä¼šè®©ä½ é€‰æ‹©ä¸€ä¸ªâ€ç¯å¢ƒâ€ï¼Œå¹¶å°†å…¶ä½œä¸ºé»˜è®¤çš„å¯åŠ¨é…ç½®ã€‚è¿™é‡Œé€‰æ‹©â€Mock Debugâ€ã€‚</li>
<li>ç‚¹å‡»ç»¿è‰²çš„<strong>å¼€å§‹</strong>æŒ‰é’®ï¼Œç„¶åå¼€å§‹è°ƒè¯•</li>
</ul>
<p>è‡³æ­¤ï¼Œä¸€ä¸ªè°ƒè¯•ä¼šè¯å°±å¼€å§‹äº†ï¼Œä½ å¯ä»¥åœ¨<code>readme.md</code>æ–‡ä»¶ä¸­è¿›è¡Œå•æ­¥è°ƒè¯•ã€æ‰“æ–­ç‚¹ã€‚å¦‚æœæŸä¸€è¡Œå‡ºç°å¼‚å¸¸åˆ™ä¼šè·³è¿›è¯¥å¼‚å¸¸ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/4f6b0b2fc0103d45a4dc3dd6cd0352c8.gif" alt=""></p>
<p>åœ¨ä½¿ç”¨<em>æ¨¡æ‹Ÿè°ƒè¯•</em>ä¹‹å‰ï¼Œæˆ‘ä»¬å»ºè®®ä½ å¸è½½æ‰<a href="https://marketplace.visualstudio.com/items?itemName=andreweinand.mock-debug" target="_blank" rel="noopener">é¢„æ„å»ºç‰ˆæœ¬</a>ï¼š</p>
<ul>
<li>åˆ‡æ¢åˆ°Extensionsè§†å›¾ï¼Œç„¶åå•å‡»<em>æ¨¡æ‹Ÿè°ƒè¯•</em>æ’ä»¶çš„é½¿è½®å›¾æ ‡</li>
<li>å¸è½½è¯¥æ’ä»¶å¹¶é‡å¯VS Code</li>
</ul>
<h3 id="å¼€å‘ç¯å¢ƒé…ç½®æ¨¡æ‹Ÿè°ƒè¯•"><a href="#å¼€å‘ç¯å¢ƒé…ç½®æ¨¡æ‹Ÿè°ƒè¯•" class="headerlink" title="å¼€å‘ç¯å¢ƒé…ç½®æ¨¡æ‹Ÿè°ƒè¯•"></a>å¼€å‘ç¯å¢ƒé…ç½®æ¨¡æ‹Ÿè°ƒè¯•</h3><hr>
<p>ç°åœ¨è®©æˆ‘ä»¬ä¸‹è½½Mock Debugçš„æºç ï¼Œç„¶åç”¨VS Codeè¿›è¡Œå¼€å‘å§ï¼š</p>
<pre><code>git clone https://github.com/Microsoft/vscode-mock-debug.git
cd vscode-mock-debug
npm install</code></pre><p>ç”¨VS Codeæ‰“å¼€<code>vscode-mock-debug</code>é¡¹ç›®</p>
<p>æˆ‘ä»¬çš„é¡¹ç›®é‡Œé¢æœ‰ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<ul>
<li><pre><code>package.json</code></pre><p>æ˜¯mock-debugæ’ä»¶çš„é…ç½®æ¸…å•ï¼š</p>
<ul>
<li>é‡Œé¢æ˜¯mock-debugæ’ä»¶çš„<em>å‘å¸ƒå†…å®¹é…ç½®</em>æ¸…å•</li>
<li><code>compile</code>å’Œ<code>watch</code>è„šæœ¬ä¼šå°†Typescriptæºç ç¼–è¯‘åˆ°<code>out</code>æ–‡ä»¶å¤¹ä¸­ï¼Œç„¶å<code>watch</code>è„šæœ¬ä¼šè¿½è¸ªæºç æ¯ä¸ªç»†å¾®çš„ä¿®æ”¹</li>
<li><code>vscode-debugprotocol</code>ï¼Œ<code>vscode-debugadapter</code>å’Œ<code>vscode-debugadapter-testsupport</code>npmä¾èµ–åŒ…ç®€åŒ–äº†åŸºäºnodeçš„è°ƒè¯•é€‚é…å™¨å¼€å‘å·¥ä½œ</li>
</ul>
</li>
<li><p><code>src/mockRuntime.ts</code>æ˜¯ä¸€ä¸ª<strong>æ¨¡æ‹Ÿçš„</strong>è¿è¡Œæ—¶ï¼Œä»…ä»…åŒ…å«ä¸€äº›ç®€å•çš„è°ƒè¯•API</p>
</li>
<li><p><code>src/mockDebug.ts</code>æ˜¯æˆ‘ä»¬çš„ä¸»è¦ä»£ç ï¼Œæ˜¯å®ƒå°†<em>è¿è¡Œæ—¶</em>é€‚é…åˆ°<strong>è°ƒè¯•é€‚é…å™¨</strong>ä¸Šã€‚ä½ å¯ä»¥åœ¨é‡Œé¢æ‰¾åˆ°å„ç§å¤„ç†DAPè¯·æ±‚çš„æ–¹å¼ã€‚</p>
</li>
<li><p>è°ƒè¯•æ’ä»¶å®ç°äºè°ƒè¯•é€‚é…å™¨ï¼Œæ‰€ä»¥ä½ å¯ä»¥å®Œå…¨ä¸ä½¿ç”¨åˆ›å»ºæ™®é€šæ’ä»¶çš„ä»£ç ï¼ˆæ¯”å¦‚ï¼šåŸæ¥æ’ä»¶çš„ä»£ç è¿è¡Œåœ¨æ‰©å±•ä¸»æœºç¯å¢ƒä¸­ï¼‰ï¼Œä½†æ˜¯mock-debugè¿˜æ˜¯æœ‰ä¸ªå°å°çš„<code>src/extension.ts</code>ï¼Œè¿™ä»½ä»£ç é‡Œé¢é˜é‡Šäº†è°ƒè¯•å™¨æ’ä»¶ä¸­<em>æ’ä»¶</em>éƒ¨åˆ†çš„ä»£ç å¯ä»¥åšäº›ä»€ä¹ˆã€‚</p>
</li>
</ul>
<p>ç°åœ¨æ„å»ºé¡¹ç›®ï¼Œç„¶ååŠ è½½Mock Debugæ’ä»¶ã€‚é€‰æ‹©<strong>è°ƒè¯•ä¾§è¾¹æ </strong>ï¼ŒåŠ è½½ <strong>Extension</strong> é…ç½®ï¼Œç„¶åæŒ‰ä¸‹<code>F5</code>ã€‚æ¥ä¸‹æ¥ï¼Œä¼šå¯åŠ¨æ’ä»¶çš„Typescriptç¼–è¯‘å·¥ä½œï¼Œå°†è½¬æ¢åçš„ä»£ç è¾“å‡ºåˆ°<code>out</code>æ–‡ä»¶å¤¹ä¸­ï¼Œç„¶åè¿›è¡Œå…¨é‡ç¼–è¯‘ï¼Œå†æ¥ç€ï¼Œ<em>watcher</em>ä»»åŠ¡ä¼šå¯åŠ¨ä»¥ä¾¿ä¾¦å¬ä½ çš„æ”¹åŠ¨ã€‚</p>
<p>ä»£ç ç¼–è¯‘å®Œæˆåï¼Œå¸¦æœ‰â€[Extension Development Host]â€ï¼ˆä¸­æ–‡ç¯å¢ƒä¸‹æ˜¯â€[æ‰©å±•å¼€å‘ä¸»æœº]â€ï¼‰VS Codeæ–°çª—å£ä¼šè‡ªåŠ¨æ‰“å¼€ï¼ŒMock Debugæ’ä»¶å°±è¿è¡Œåœ¨è°ƒè¯•æ¨¡å¼ä¸­äº†ã€‚åœ¨è¿™ä¸ªçª—å£ä¸­ï¼Œæ‰“å¼€<code>mock test</code>é¡¹ç›®ï¼Œæ‰“å¼€é‡Œé¢çš„<code>readme.md</code>ï¼Œç„¶åç›´æ¥æŒ‰ä¸‹F5å¯åŠ¨è°ƒè¯•ä¼šè¯ï¼Œç°åœ¨ä½ å°±å¯ä»¥è°ƒè¯•äº†ï¼</p>
<p><img src="/images/loading.gif" data-original="../images/development/ce06fd67de8136a0646260692a3a29d5.png" alt=""></p>
<p>å› ä¸ºçš„ä½ æ’ä»¶è¿è¡Œåœ¨ <em>è°ƒè¯•æ¨¡å¼</em> ä¸­ï¼Œæ‰€ä»¥ä½ èƒ½åœ¨<code>src/extension.ts</code>é‡Œé¢æ‰“æ–­ç‚¹ï¼Œä¸è¿‡å°±å¦‚ä¸Šæ–‡æ‰€è¯´ï¼Œè¿™ä¸ªæ’ä»¶å…³äº<em>æ’ä»¶</em>æœ¬èº«çš„ä»£ç æ˜¯æ²¡æœ‰å¤šå°‘çš„ï¼Œæœ€æœ‰æ„æ€çš„ä»£ç è¿è¡Œåœ¨è°ƒè¯•é€‚é…å™¨é‡Œï¼Œå®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ã€‚</p>
<p>è¦æƒ³è°ƒè¯•è°ƒè¯•é€‚é…å™¨æœ¬èº«ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒè¿è¡Œåœ¨è°ƒè¯•æ¨¡å¼é‡Œã€‚æœ€ç®€å•çš„åŠæ³•å°±æ˜¯å°†è°ƒè¯•é€‚é…å™¨ä»¥<em>æœåŠ¡å™¨æ¨¡å¼</em>è¿è¡Œï¼Œç„¶åé…ç½®VS Codeå»è¿æ¥å®ƒã€‚åœ¨ä½ çš„vscode-mock-debugé¡¹ç›®ä¸­ï¼Œé‡æ–°åœ¨æ‰“å¼€çš„è°ƒè¯•ä¾§è¾¹æ çš„é…ç½®ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©<em>Server</em>é…ç½®ï¼ŒæŒ‰ä¸‹æ—è¾¹çš„ç»¿è‰²å¼€å§‹æŒ‰é’®ã€‚</p>
<p>å› ä¸ºæˆ‘ä»¬å·²ç»å¯åŠ¨äº†ä¸€ä¸ªè°ƒè¯•ä¼šè¯ï¼Œæ‰€ä»¥VS Code è°ƒè¯•å™¨UIç°åœ¨ä¼šè¿›å…¥ <em>å¤šä¼šè¯</em> æ¨¡å¼ï¼Œåœ¨<strong>è°ƒç”¨æ ˆï¼ˆCALL STACKï¼‰</strong>è§†å›¾ä¸­ä½ ç°åœ¨å¯ä»¥çœ‹åˆ°2ä¸ªè°ƒè¯•ä¼šè¯â€”â€” <strong>Extension</strong> å’Œ <strong>Server</strong> ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/6d6b6aac5ef3a69ae76e82e129109d7d.png" alt=""></p>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥åŒæ—¶è°ƒè¯•æ’ä»¶å’ŒDAï¼ˆè°ƒè¯•é€‚é…å™¨ï¼‰äº†ã€‚åˆ°æˆ‘ä»¬ç›®å‰è¿™ä¸€æ­¥è¿˜æœ‰ä¸ªæ›´å¿«çš„æ–¹å¼ï¼Œå¯åŠ¨è°ƒè¯•æ—¶é€‰æ‹©<strong>Extension + Server</strong>é…ç½®å°±ä¼šè‡ªåŠ¨åŠ è½½è¿™ä¸¤ä¸ªä¼šè¯ã€‚</p>
<p>å¦å¤–ï¼Œè°ƒè¯•æ’ä»¶å’Œè°ƒè¯•é€‚é…å™¨æ›´ç®€å•çš„æ–¹å¼ä¼šåœ¨ä¸‹é¢è¯´æ˜ã€‚</p>
<p>åœ¨<code>src/mockDebug.ts</code>ä¸­çš„<code>launchRequest(...)</code>æœ€å¼€å§‹çš„åœ°æ–¹æ‰“ä¸Šæ–­ç‚¹ï¼Œç„¶åæœ€åä¸€æ­¥åˆ™æ˜¯åœ¨ä½ çš„mock testå¯åŠ¨é…ç½®ä¸­æ·»åŠ <code>debugServer</code>å±æ€§å’Œå¯¹åº”çš„ç«¯å£å€¼<code>4711</code>å°±å®Œæˆäº†è°ƒè¯•å™¨å’Œè°ƒè¯•é€‚é…å™¨çš„è¿æ¥ã€‚</p>
<pre><code>{
    "version": "0.2.0",
    "configurations": [
        {
            "type": "mock",
            "request": "launch",
            "name": "mock test",
            "program": "${workspaceFolder}/readme.md",
            "stopOnEntry": true,
            "debugServer": 4711
        }
    ]
}</code></pre><p>å¦‚æœä½ ç°åœ¨å°±åŠ è½½è¿™ä¸ªè°ƒè¯•é…ç½®ï¼Œè°ƒè¯•é€‚é…å™¨ä¸ä¼šä»¥åˆ†ç¦»çš„è¿›ç¨‹å¯åŠ¨ï¼Œè€Œæ˜¯ç›´æ¥è¿æ¥åˆ°å·²ç»å­˜åœ¨çš„æœ¬åœ°æœåŠ¡å™¨ç«¯å£4711ä¸Šã€‚ç°åœ¨ä½ å¯ä»¥åœ¨<code>launchRequest</code>æ‰“æ–­ç‚¹äº†ã€‚</p>
<p>ç»è¿‡è¿™æ ·ä¸€è¿ä¸²çš„é…ç½®ï¼Œä½ ç»ˆäºå¯ä»¥è½»æ¾åœ°ç¼–è¾‘ã€ç¼–è¯‘å’Œè°ƒè¯•Mock Debugæ’ä»¶äº†ã€‚</p>
<p>ä½†æ˜¯å¥½æˆæ‰åˆšåˆšå¼€å§‹ï¼šä½ éœ€è¦æ›¿æ¢<code>src/mockDebug.ts</code>å’Œ<code>src/mockRuntime.ts</code>çš„ä¸­çš„è°ƒè¯•é€‚é…å™¨ä»£ç ï¼Œè®©å®ƒå¯ä»¥å’Œâ€œçœŸæ­£çš„â€è°ƒè¯•å™¨æˆ–è€…è¿è¡Œæ—¶é€šä¿¡ã€‚è¿™é¡¹å·¥ä½œæ¶‰åŠåˆ°ç†è§£å’Œå®ç°è°ƒè¯•é€‚é…å™¨åè®®ã€‚</p>
<p>æ›´å¤šå†…å®¹è¯·æŸ¥çœ‹<a href="https://microsoft.github.io/debug-adapter-protocol/overview#How_it_works" target="_blank" rel="noopener">è¿™é‡Œ</a>ã€‚</p>
<h3 id="å‰–æè°ƒè¯•å™¨æ’ä»¶çš„package-json"><a href="#å‰–æè°ƒè¯•å™¨æ’ä»¶çš„package-json" class="headerlink" title="å‰–æè°ƒè¯•å™¨æ’ä»¶çš„package.json"></a>å‰–æè°ƒè¯•å™¨æ’ä»¶çš„package.json</h3><hr>
<p>é™¤äº†æä¾›è°ƒè¯•é€‚é…çš„ç‰¹å®šå®ç°ä¹‹å¤–ï¼Œè°ƒè¯•å™¨æ’ä»¶è¿˜éœ€è¦ä¸€ä¸ªé…ç½®å„ç§å„æ ·å’Œè°ƒè¯•ç›¸å…³çš„<code>package.json</code>ã€‚</p>
<p>æ‰€ä»¥ä¸‹é¢æˆ‘ä»¬è¿›ä¸€æ­¥çœ‹çœ‹Mock Debugçš„<code>package.json</code>.</p>
<p>å°±åƒä¸€èˆ¬çš„VS Codeæ’ä»¶ï¼Œ<code>package.json</code>å£°æ˜äº†ä¸€äº›åŸºç¡€ä¿¡æ¯ï¼Œå¦‚æ’ä»¶çš„<strong>name</strong> ï¼Œ<strong>publisher</strong>ï¼Œ<strong>version</strong>ç­‰ã€‚å…¶ä¸­é…ç½®<strong>categories</strong>å­—æ®µå¯ä»¥è®©ä½ çš„æ’ä»¶æ›´å®¹æ˜“åœ¨æ’ä»¶å¸‚åœºä¸­è¢«å…¶ä»–äººå‘ç°ã€‚</p>
<pre><code>{
    "name": "mock-debug",
    "displayName": "Mock Debug",
    "version": "0.24.0",
    "publisher": "...",
    "description": "Starter extension for developing debug adapters for VS Code.",
    "author": {
        "name": "...",
        "email": "..."
    },
    "engines": {
        "vscode": "^1.17.0",
        "node": "^7.9.0"
    },
    "icon": "images/mock-debug-icon.png",
    "categories": ["Debuggers"],
    "contributes": {
        "breakpoints": [{ "language": "markdown" }],
        "debuggers": [
            {
                "type": "mock",
                "label": "Mock Debug",
                "program": "./out/mockDebug.js",
                "runtime": "node",
                "configurationAttributes": {
                    "launch": {
                        "required": ["program"],
                        "properties": {
                            "program": {
                                "type": "string",
                                "description": "Absolute path to a text file.",
                                "default": "${workspaceFolder}/${command:AskForProgramName}"
                            },
                            "stopOnEntry": {
                                "type": "boolean",
                                "description": "Automatically stop after launch.",
                                "default": true
                            }
                        }
                    }
                },
                "initialConfigurations": [
                    {
                        "type": "mock",
                        "request": "launch",
                        "name": "Ask for file name",
                        "program": "${workspaceFolder}/${command:AskForProgramName}",
                        "stopOnEntry": true
                    }
                ],
                "configurationSnippets": [
                    {
                        "label": "Mock Debug: Launch",
                        "description": "A new configuration for launching a mock debug program",
                        "body": {
                            "type": "mock",
                            "request": "launch",
                            "name": "${2:Launch Program}",
                            "program": "^\"\\${workspaceFolder}/${1:Program}\""
                        }
                    }
                ],
                "variables": {
                    "AskForProgramName": "extension.mock-debug.getProgramName"
                }
            }
        ]
    },
    "activationEvents": ["onDebug", "onCommand:extension.mock-debug.getProgramName"]
}</code></pre><p>ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹è°ƒè¯•å™¨æ’ä»¶ä¸­çš„<code>contributes</code>éƒ¨åˆ†ã€‚</p>
<p>é¦–å…ˆï¼Œ<strong>breakpoints</strong>é…ç½®éƒ¨åˆ†åˆ—å‡ºäº†å¯ä»¥ä½¿ç”¨æ–­ç‚¹çš„è¯­è¨€åˆ—è¡¨ï¼Œæ²¡æœ‰è¿™ä¸ªé…ç½®çš„è¯ï¼Œå°±ä¸å¯èƒ½åœ¨ Markdownæ–‡ä»¶ä¸­è®¾ç½®æ–­ç‚¹äº†ã€‚</p>
<p>æ¥ä¸‹æ¥æ˜¯<strong>debuggers</strong>éƒ¨åˆ†ï¼Œè¿™é‡Œå¼•å…¥äº†ä¸€ä¸ªç±»å‹æ˜¯<code>mock</code>çš„è°ƒè¯•å™¨ï¼Œç”¨æˆ·å¯ä»¥åœ¨è°ƒè¯•å™¨åŠ è½½é…ç½®ä¸­å¼•ç”¨è¿™ä¸ªç±»å‹ã€‚å¯é€‰å±æ€§<strong>label</strong>æ˜¯è¿™ä¸ªè°ƒè¯•å™¨çš„åå­—ï¼Œå®ƒä¼šæ˜¾ç¤ºåœ¨UIä¸Šã€‚</p>
<p>å› ä¸ºè°ƒè¯•å™¨æ’ä»¶ä½¿ç”¨äº†è°ƒè¯•é€‚é…å™¨ï¼Œæ‰€ä»¥å®ƒçš„çš„å…³è”è·¯å¾„å¾—é€šè¿‡<strong>program</strong>å±æ€§é…ç½®ã€‚ä¸ºäº†ä¿è¯æ’ä»¶çš„è‡ªåŒ…å«æ€§ï¼ˆself-containedï¼‰ï¼Œè¿™ä¸ªåº”ç”¨å¿…é¡»åœ¨æˆ‘ä»¬çš„æ’ä»¶æ–‡ä»¶å¤¹ä¸­ã€‚æŒ‰æƒ¯ä¾‹ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªåº”ç”¨æ”¾åœ¨<code>out</code>æˆ–è€…<code>bin</code>ä¸­ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–åç§°çš„æ–‡ä»¶å¤¹å­˜æ”¾ã€‚</p>
<p>å› ä¸ºVS Codeè¿è¡Œåœ¨ä¸åŒçš„å¹³å°ä¸Šï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿DAç¨‹åºä¹Ÿèƒ½å¤Ÿæ”¯æŒä¸åŒçš„å¹³å°ã€‚å¯¹äºè¿™ç‚¹ï¼Œæˆ‘ä»¬æä¾›äº†ä¸‹åˆ—é€‰é¡¹ï¼š</p>
<ol>
<li>å¦‚æœç¨‹åºåœ¨å¹³å°ä¸Šçš„å®ç°éƒ½æ˜¯å„è‡ªç‹¬ç«‹çš„ï¼Œæ¯”å¦‚ï¼šè¿™ä¸ªç¨‹åºçš„è¿è¡Œæ—¶æ”¯æŒæ‰€æœ‰å¹³å°ï¼Œä½ å¯ä»¥åœ¨<strong>runtime</strong>å±æ€§ä¸­æŒ‡æ˜ã€‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼ŒVS Codeæ”¯æŒ<code>node</code>å’Œ<code>moni</code>è¿è¡Œæ—¶ï¼Œæˆ‘ä»¬çš„Mock Debugå°±ä½¿ç”¨äº†è¿™ä¸ªæ–¹å¼ã€‚</li>
<li>å¦‚æœä½ çš„DAåœ¨ä¸åŒçš„å¹³å°ä¸Šå¯¹åº”ç€ä¸åŒçš„å¯æ‰§è¡Œç¨‹åºï¼Œé‚£ä¹ˆä½ å¯ä»¥è¿™æ ·ä½¿ç”¨<strong>program</strong>å±æ€§ï¼š</li>
</ol>
<pre><code>"debuggers": [{
    "type": "gdb",
    "windows": {
        "program": "./bin/gdbDebug.exe",
    },
    "osx": {
        "program": "./bin/gdbDebug.sh",
    },
    "linux": {
        "program": "./bin/gdbDebug.sh",
    }
}]</code></pre><ol>
<li>ç»„åˆä¸Šé¢ä¸¤ç§æ–¹å¼ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ä¸‹é¢çš„ä¾‹å­å®ç°äº†åœ¨macOSå’ŒLinuxä¸Šä½¿ç”¨åŒä¸€ä¸ªmonoåº”ç”¨ï¼Œä½†æ˜¯Windowsä¸Šå°±ä¸æ˜¯ã€‚</li>
</ol>
<pre><code>"debuggers": [{
    "type": "mono",
    "program": "./bin/monoDebug.exe",
    "osx": {
        "runtime": "mono"
    },
    "linux": {
        "runtime": "mono"
    }
}]</code></pre><p><strong>configurationAttributes</strong>å£°æ˜äº†è¿™ä¸ªè°ƒè¯•å™¨çš„<code>launch.json</code>ä¸­çš„å±æ€§å¯ä»¥ä½¿ç”¨çš„åè®®ã€‚è¿™ä¸ªåè®®ç”¨äºæ ¡éªŒ<code>launch.json</code>ï¼ŒåŒæ—¶æ”¯æŒç¼–è¾‘åŠ è½½é…ç½®æ—¶çš„æ™ºèƒ½è¡¥å…¨å’Œæ‚¬åœå¸®åŠ©ã€‚</p>
<p><strong>initialConfigurations</strong>å®šä¹‰äº†è¿™ä¸ªè°ƒè¯•å™¨çš„åˆå§‹<code>launch.json</code>ã€‚å½“ä¸€ä¸ªé¡¹ç›®æ²¡æœ‰<code>launch.json</code>ï¼Œç„¶åç”¨æˆ·æ‰“å¼€äº†è°ƒè¯•ä¼šè¯æ—¶ï¼Œå°±ä¼šä½¿ç”¨è¿™ä¸ªå¯åŠ¨é…ç½®ã€‚ç„¶åVS Codeä¼šè®©ç”¨æˆ·é€‰æ‹©ä¸€ä¸ªè°ƒè¯•ç¯å¢ƒï¼Œæ¥ç€å†åˆ›å»ºå¯¹åº”çš„<code>launch.json</code>ï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/c182c8ff8b5d20d22477ae5ce3c4921d.png" alt=""></p>
<p>é™¤äº†åœ¨<code>package.json</code>ä¸­é™æ€å®šä¹‰<code>launch.json</code>çš„åˆå§‹å†…å®¹ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨<code>DebugConfigurationProvider</code>åŠ¨æ€æ³¨å…¥åˆå§‹é…ç½®å†…å®¹ï¼ˆè¯¦æƒ…è§ä¸‹ä½¿ç”¨DebugConfigurationProviderï¼‰ã€‚</p>
<p><strong>configurationSnippets</strong>å®šä¹‰äº†ç¼–è¾‘<code>launch.json</code>ä¼šä¸ºç”¨æˆ·å‘ˆç°çš„ä»£ç è¡¥å…¨æç¤ºã€‚åŒæ ·ï¼ŒæŒ‰çº¦å®š<code>label</code>å±æ€§å®šä¹‰äº†è°ƒè¯•ç¯å¢ƒçš„åç§°ï¼Œæ‰€ä»¥å½“å¤§é‡è¡¥å…¨æç¤ºå‡ºç°çš„æ—¶å€™ï¼Œç”¨æˆ·æ‰èƒ½ä¸€çœ¼è®¤å‡ºè‡ªå·±æƒ³è¦çš„é‚£ä¸ªã€‚</p>
<p><strong>variables</strong>é…ç½®ï¼Œå°†â€œå˜é‡â€ç»‘å®šåˆ°äº†â€œå‘½ä»¤â€ä¸Šã€‚è¿™äº›å˜é‡ä¼šå‡ºç°åœ¨åŠ è½½é…ç½®ï¼ˆlaunch.jsonï¼‰ä¸­ï¼Œç”¨æ³•æ˜¯<strong>${command:xyz}</strong>ï¼Œè°ƒè¯•ä¼šè¯å¯åŠ¨åï¼Œå…¶ä¸­çš„å€¼ä¼šè¢«å‘½ä»¤ä¸­çš„è¿”å›å€¼æ›¿æ¢ã€‚</p>
<p><em>å‘½ä»¤</em>å®ç°åœ¨æ’ä»¶ï¼ˆè€Œä¸æ˜¯è°ƒè¯•é€‚é…å™¨ï¼‰ä¸­ï¼Œå®ƒå¯ä»¥ç”±ä¸€å¥ç®€å•çš„è¡¨è¾¾å¼å®ç°ï¼Œä¹Ÿå¯ä»¥å¤æ‚åˆ°åŸºäºæ’ä»¶APIå’ŒUIç‰¹æ€§å®ç°ã€‚Mock Debugå°†å˜é‡<code>AskForProgramName</code>ç»‘å®šåˆ°äº†å‘½ä»¤<code>extension.mock-debug.getProgramName</code>ï¼Œè¿™ä¸ªå‘½ä»¤çš„<a href="https://github.com/Microsoft/vscode-mock-debug/blob/606454ff3bd669867a38d9b2dc7b348d324a3f6b/src/extension.ts#L21-L26" target="_blank" rel="noopener">å®ç°</a>åœ¨<code>src/extension.ts</code>ä¸­ï¼Œä»£ç ä¸­çš„<code>showInputBox</code>å…è®¸ç”¨æˆ·ä¸ºç¨‹åºå‘½åï¼š</p>
<pre><code>vscode.commands.registerCommand('extension.mock-debug.getProgramName', config =&gt; {
    return vscode.window.showInputBox({
        placeHolder: 'Please enter the name of a markdown file in the workspace folder',
        value: 'readme.md'
    });
});</code></pre><p>ç°åœ¨åŠ è½½é…ç½®ï¼ˆlaunch.jsonï¼‰ä¸­å¯ä»¥ä½¿ç”¨<strong>${command:AskForProgramName}</strong>ä¸­çš„å€¼ï¼ˆæ–‡æœ¬ç±»å‹ï¼‰äº†ã€‚</p>
<h3 id="ä½¿ç”¨DebugConfigurationProvider"><a href="#ä½¿ç”¨DebugConfigurationProvider" class="headerlink" title="ä½¿ç”¨DebugConfigurationProvider"></a>ä½¿ç”¨DebugConfigurationProvider</h3><hr>
<p>å¦‚æœä½ è§‰å¾—<code>package.json</code>ä¸­å’Œè°ƒè¯•ç›¸å…³çš„å‘å¸ƒå†…å®¹é…ç½®ä¸å¤Ÿä½ ç”¨ï¼Œ<code>DebugConfigurationProvider</code>å¯ä»¥åŠ¨æ€æ§åˆ¶è°ƒè¯•æ’ä»¶ä¸‹åˆ—æ–¹é¢çš„å†…å®¹ï¼š</p>
<ul>
<li>åŠ¨æ€ç”Ÿæˆlaunch.jsonä¸­çš„é…ç½®ã€‚æ¯”å¦‚ï¼šæ ¹æ®å·¥ä½œåŒºçš„ä¿¡æ¯ç”Ÿæˆä¸€äº›é…ç½®ã€‚</li>
<li>åœ¨å¯åŠ¨æ–°çš„è°ƒè¯•ä¼šè¯å‰ï¼Œè§£æï¼ˆæˆ–ä¿®æ”¹ï¼‰åŠ è½½é…ç½®ã€‚æœ‰äº†è¿™ä¸ªåŠŸèƒ½ï¼Œä½ å¯ä»¥æ ¹æ®å·¥ä½œåŒºçš„ä¸åŒå¡«å…¥å¯¹åº”çš„é…ç½®é»˜è®¤å€¼ã€‚</li>
</ul>
<p><code>src/extension.ts</code>ä¸­çš„<code>MockConfigurationProvider</code>å®ç°äº†<code>resolveDebugConfiguration</code>ï¼Œå®ƒä¼šæ£€æµ‹è°ƒè¯•ä¼šè¯å¯åŠ¨æ—¶æ˜¯ä¸æ˜¯è¿˜æ²¡æœ‰launch.jsonæ–‡ä»¶ï¼Œè€Œä¸”Markdownæ–‡ä»¶å·²ç»æ‰“å¼€äº†ã€‚è¿™ç§åœºæ™¯éå¸¸å¸¸è§ï¼Œç”¨æˆ·å·²ç»æ‰“å¼€äº†æ–‡ä»¶ï¼Œä»–æƒ³è¦ç«‹åˆ»å¯åŠ¨è°ƒè¯•è€Œä¸”ä¸æƒ³è¦æä»»ä½•é…ç½®ã€‚</p>
<p>é€šè¿‡<code>vscode.debug.registerDebugConfigurationProvider</code>æ³¨å†Œ<em>è°ƒè¯•é…ç½®ä¾›åº”å™¨å‡½æ•°</em>ï¼Œå®ƒä¸€èˆ¬åœ¨æ’ä»¶çš„<code>active</code>å‡½æ•°ä¸­ã€‚<code>DebugConfigurationProvider</code>éœ€è¦å°½æ—©æ³¨å†Œï¼Œä¸€æ—¦è°ƒè¯•åŠŸèƒ½è¢«ä½¿ç”¨åˆ°äº†ï¼Œæ’ä»¶å°±åº”è¯¥å¯åŠ¨ã€‚æˆ‘ä»¬é€šè¿‡<code>package.json</code>ä¸­çš„<code>onDebug</code>äº‹ä»¶è½»æ¾æå®šè¿™ä¸ªéœ€æ±‚ï¼š</p>
<pre><code>"activationEvents": [
    "onDebug",
    // ...
],</code></pre><p>åœ¨ä½å¼€é”€çš„æ’ä»¶å¯åŠ¨æ—¶ï¼ˆå¯åŠ¨æ—¶ä¸ä¼šèŠ±å¤ªå¤šæ—¶é—´ï¼‰ï¼Œè¿™ä¸ªæœºåˆ¶ä¼šå¦‚é¢„æœŸå·¥ä½œã€‚ä½†æ˜¯å¦‚æœæ’ä»¶çš„å¯åŠ¨å¼€é”€è¾ƒå¤§ï¼ˆæ¯”å¦‚å¯åŠ¨ä¸€ä¸ªè¯­è¨€æœåŠ¡å™¨ï¼‰ï¼Œé‚£ä¹ˆ<code>onDebug</code>äº‹ä»¶å¯èƒ½ä¼šå¯¹å…¶ä»–è°ƒè¯•æ’ä»¶äº§ç”Ÿå‰¯ä½œç”¨ï¼Œå› ä¸º<code>onDebug</code>äº‹ä»¶å·²ç»æ¿€æ´»äº†å…¶ä»–æ’ä»¶ï¼Œä½†æ˜¯å…¶ä»–æ’ä»¶å› ä¸ºé˜»å¡è¿˜æ¥ä¸åŠæ¥æ”¶åˆ°å…·ä½“çš„è°ƒè¯•ç±»å‹ã€‚</p>
<p>å¯¹äºé«˜å¼€é”€çš„è°ƒè¯•æ’ä»¶æ¥è¯´ï¼Œæ›´å¥½çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨ç²’åº¦æ›´ç»†çš„ æ¿€æ´»äº‹ä»¶ï¼š</p>
<ul>
<li><code>onDebugInitialConfigurations</code>ä¼šåœ¨<code>DebugConfigurationProvider</code>çš„<code>provideDebugConfigurations</code>è°ƒç”¨å‰è§¦å‘</li>
<li><code>onDebugResolve:type</code>ä¼šåœ¨<code>DebugConfigurationProvider</code>çš„<code>resolveDebugConfiguration</code>å–å¾—å…·ä½“çš„è°ƒè¯•ç±»å‹å‰è§¦å‘</li>
</ul>
<p>!&gt; <strong>é¦–è¦åŸåˆ™ï¼š</strong>å¦‚æœè°ƒè¯•æ’ä»¶çš„å¼€é”€å¾ˆå°ï¼Œå°±ç”¨<code>onDebug</code>ï¼Œæ ¹æ®<code>DebugConfigurationProvider</code>æ˜¯å¦å®ç°äº†<code>provideDebugConfigurations</code>æˆ–<code>resolveDebugConfiguration</code>ï¼Œç„¶ååœ¨å¯¹åº”çš„<code>onDebugInitialConfigurations</code>æˆ–è€…<code>onDebugResolve</code>ä¸­å¤„ç†ã€‚</p>
<h3 id="å‘å¸ƒè°ƒè¯•å™¨æ’ä»¶"><a href="#å‘å¸ƒè°ƒè¯•å™¨æ’ä»¶" class="headerlink" title="å‘å¸ƒè°ƒè¯•å™¨æ’ä»¶"></a>å‘å¸ƒè°ƒè¯•å™¨æ’ä»¶</h3><hr>
<p>é€šè¿‡ä¸‹é¢çš„æ­¥éª¤å°†ä½ çš„è°ƒè¯•é€‚é…å™¨å‘å¸ƒåˆ°å¸‚åœºä¸Šï¼š</p>
<ul>
<li>æ›´æ–°<code>package.json</code>ä¸­çš„å‘å¸ƒé…ç½®å†…å®¹è¡¨æ˜ä½ è°ƒè¯•é€‚é…å™¨çš„åŠŸèƒ½å’Œç›®æ ‡</li>
<li>å‚è€ƒå‘å¸ƒæ’ä»¶éƒ¨åˆ†ç„¶åå°†ä½ çš„æ’ä»¶ä¸Šä¼ åˆ°å¸‚åœºä¸Š</li>
</ul>
<h3 id="å¼€å‘è°ƒè¯•å™¨æ’ä»¶çš„å…¶ä»–æ–¹å¼"><a href="#å¼€å‘è°ƒè¯•å™¨æ’ä»¶çš„å…¶ä»–æ–¹å¼" class="headerlink" title="å¼€å‘è°ƒè¯•å™¨æ’ä»¶çš„å…¶ä»–æ–¹å¼"></a>å¼€å‘è°ƒè¯•å™¨æ’ä»¶çš„å…¶ä»–æ–¹å¼</h3><hr>
<p>å¦‚æˆ‘ä»¬æ‰€è§ï¼Œå¼€å‘ä¸€ä¸ªè°ƒè¯•æ’ä»¶æ¶‰åŠåˆ°<em>ä¸€ä¸ªæ™®é€šæ’ä»¶</em>å†åŠ ä¸Šä¸€ä¸ªè°ƒè¯•é€‚é…å™¨ï¼Œå®ƒä»¬åˆ†åˆ«è¿è¡Œåœ¨ä¸åŒçš„ä¼šè¯ä¸­ã€‚VS Codeæ”¯æŒè¿™æ ·çš„å®ç°ï¼Œä½†æ˜¯ç®€å•çš„åŠæ³•æ˜¯è¿˜æ˜¯æŠŠ<em>æ’ä»¶</em>å’Œè°ƒè¯•é€‚é…å™¨ç”¨ä¸€ä¸ªç¨‹åºå®ç°ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨ä¸€ä¸ªè°ƒè¯•ä¼šè¯ä¸­åŒæ—¶è°ƒè¯•äº†ã€‚</p>
<p>å®é™…ä¸Šï¼Œåªè¦ä½ çš„è°ƒè¯•é€‚é…å™¨æ˜¯åŸºäºTypescript/Javascriptå®ç°çš„ï¼Œè¿™ä¸ªæ–¹æ³•å°±éƒ½æ˜¯å¯è¡Œçš„ã€‚åŸºæœ¬çš„æ€è·¯æ˜¯æŠŠè°ƒè¯•é€‚é…å™¨å®ç°ä¸ºä¸€ä¸ªæœåŠ¡å™¨ï¼Œè®©<em>æ’ä»¶</em>å»å¯åŠ¨è¿™ä¸ªæœåŠ¡ï¼Œå†è®©VS Codeè¿æ¥ä¸Šå»ï¼Œè¿™æ ·ä½ å°±ä¸ç”¨æ¯ä¸ªè°ƒè¯•ä¼šè¯éƒ½å¯åŠ¨ä¸€ä¸ªæ–°çš„è°ƒè¯•é€‚é…å™¨äº†ã€‚</p>
<p>Mock Debugçš„ä¾‹å­é˜è¿°äº†ä¸€ä¸ª<a href="https://github.com/Microsoft/vscode-mock-debug/blob/6a2ef01b95bb22cdf55683f4d616cad501051510/src/extension.ts#L74-L98" target="_blank" rel="noopener">DebugAdapterDescriptorFactory</a>å¯ä»¥æ€æ ·åˆ›å»ºå’Œ<a href="https://github.com/Microsoft/vscode-mock-debug/blob/6a2ef01b95bb22cdf55683f4d616cad501051510/src/extension.ts#L32-L36" target="_blank" rel="noopener">æ³¨å†Œ</a>ä¸€ä¸ªåŸºäºæœåŠ¡å™¨çš„è°ƒè¯•é€‚é…å™¨ã€‚é€šè¿‡å°†ç¼–è¯‘æ—¶çš„<a href="https://github.com/Microsoft/vscode-mock-debug/blob/6a2ef01b95bb22cdf55683f4d616cad501051510/src/extension.ts#L17" target="_blank" rel="noopener"><code>EMBED_DEBUG_ADAPTER</code></a>é…ç½®è®¾ç½®ä¸ºtrueå¯ç”¨è¿™ä¸ªç‰¹æ€§ã€‚ç°åœ¨å¦‚æœä½ ç”¨<strong>F5</strong>å¯åŠ¨è°ƒè¯•ï¼Œä½ å°±ä¸ä»…ä»…æ˜¯åœ¨æ’ä»¶å¼€å‘ä¸»æœºä¸­æ‰“äº†æ–­ç‚¹ï¼Œä½ ä¹ŸåŒæ—¶åœ¨è°ƒè¯•é€‚é…å™¨ä¸­æ‰“äº†åŒæ ·çš„æ–­ç‚¹ã€‚</p>
<h2 id="Markdownæ’ä»¶"><a href="#Markdownæ’ä»¶" class="headerlink" title="Markdownæ’ä»¶"></a>Markdownæ’ä»¶</h2><p>Markdownæ’ä»¶å¯ä»¥å¸®ä½ æ‰©å±•å’ŒåŠ å¼ºVS Codeå†…ç½®çš„Markdowné¢„è§ˆï¼ŒåŒ…æ‹¬æ”¹å˜é¢„è§ˆçš„æ ·å¼ã€æ·»åŠ æ–°çš„Markdownè¯­æ³•ã€‚</p>
<h3 id="ç”¨CSSæ”¹å˜Markdowné¢„è§ˆæ ·å¼"><a href="#ç”¨CSSæ”¹å˜Markdowné¢„è§ˆæ ·å¼" class="headerlink" title="ç”¨CSSæ”¹å˜Markdowné¢„è§ˆæ ·å¼"></a>ç”¨CSSæ”¹å˜Markdowné¢„è§ˆæ ·å¼</h3><hr>
<p>é…ç½®CSSå¯ä»¥æ”¹å˜markdowné¢„è§ˆçš„å¸ƒå±€å’Œæ ·å¼ï¼Œåœ¨ä½ çš„æ’ä»¶<code>pacakge.json</code>ä¸­æ³¨å†Œ<code>markdown.previewStyles</code>å‘å¸ƒå†…å®¹é…ç½®å³å¯ï¼š</p>
<pre><code>"contributes": {
    "markdown.previewStyles": [
        "./style.css"
    ]
}</code></pre><p><code>markdown.previewStyles</code>ç±»å‹æ˜¯æ’ä»¶æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶åˆ—è¡¨ã€‚</p>
<p>é…ç½®çš„æ ·å¼ä¼šåœ¨ç”¨æˆ·çš„<code>"markdown.styles"</code>ä¹‹å‰ï¼Œå†…ç½®Markdowné¢„è§ˆæ ·å¼ä¹‹ååŠ è½½ã€‚</p>
<p><a href="https://marketplace.visualstudio.com/items?itemName=bierner.markdown-preview-github-styles" target="_blank" rel="noopener">Markdown Preview GitHub Styling</a>æ˜¯ä¸€ä¸ªå¦‚ä½•å°†Markdowné¢„è§ˆå˜æˆåƒGitHubæ¸²æŸ“é£æ ¼çš„å¥½ä¾‹å­ï¼Œåœ¨GitHubä¸Šå»æŸ¥çœ‹<a href="https://github.com/mjbvz/vscode-github-markdown-preview-style" target="_blank" rel="noopener">æºç </a>å§</p>
<h3 id="ä½¿ç”¨markdown-itæ’ä»¶æ·»åŠ æ–°è¯­æ³•"><a href="#ä½¿ç”¨markdown-itæ’ä»¶æ·»åŠ æ–°è¯­æ³•" class="headerlink" title="ä½¿ç”¨markdown-itæ’ä»¶æ·»åŠ æ–°è¯­æ³•"></a>ä½¿ç”¨markdown-itæ’ä»¶æ·»åŠ æ–°è¯­æ³•</h3><hr>
<p>VS Code Markdowné¢„è§ˆæ”¯æŒ<a href="https://spec.commonmark.org/" target="_blank" rel="noopener">CommonMarkè§„æ ¼</a>ï¼Œæ’ä»¶å¯ä»¥é€šè¿‡ä¸€ä¸ª<a href="https://github.com/markdown-it/markdown-it#syntax-extensions" target="_blank" rel="noopener">markdown-itæ’ä»¶</a>æ·»åŠ æ–°çš„Markdownè¯­æ³•ã€‚</p>
<p>é¦–å…ˆï¼Œåœ¨ä½ çš„æ’ä»¶<code>package.json</code>ä¸­é…ç½®<code>"markdown.markdownItPlugins"</code>ï¼š</p>
<pre><code>"contributes": {
    "markdown.markdownItPlugins": true
}</code></pre><p>ç„¶ååœ¨æ’ä»¶çš„ä¸»<code>activation</code>å‡½æ•°ä¸­ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å<code>extendMarkdownIt</code>å‡½æ•°çš„å¯¹è±¡ã€‚è¿™ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ªmarkdown-itå®ä¾‹ï¼Œç„¶åå¿…é¡»è¿”å›å‡ºæ–°çš„markdown-itå®ä¾‹ï¼š</p>
<pre><code>import * as vscode from 'vscode'
export function activate(context: vscode.ExtensionContext) {
    return {
        extendMarkdownIt(md: any) {
            return md.use(require('markdown-it-emoji'));
        }
    }
}</code></pre><p>è‹¥æƒ³é…ç½®å¤šä¸ªmarkdown-itæ’ä»¶ï¼Œåªéœ€å¤šæ¬¡é“¾å¼è°ƒç”¨<code>use</code>å£°æ˜å³å¯ã€‚</p>
<pre><code>return md.use(require('markdown-it-emoji')).use(require('markdown-it-hashtag'));</code></pre><p>Markdowné¢„è§ˆç¬¬ä¸€æ¬¡æ˜¾ç¤ºæ—¶ï¼Œé…ç½®äº†markdown-itçš„æ’ä»¶ä¼šå˜æˆæ‡’åŠ è½½æ¿€æ´»ã€‚</p>
<p><a href="https://marketplace.visualstudio.com/items?itemName=bierner.markdown-emoji" target="_blank" rel="noopener">markdown-emoji</a>æ’ä»¶å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨markdown-itæ·»åŠ emojiæ”¯æŒï¼Œä½ å¯ä»¥åœ¨GitHubä¸ŠæŸ¥çœ‹Emojiæ’ä»¶çš„<a href="https://github.com/mjbvz/vscode-markdown-emoji" target="_blank" rel="noopener">æºç </a>ã€‚</p>
<p>ä½ å¯èƒ½è¿˜æƒ³äº†è§£ï¼š</p>
<ul>
<li>markdown-itæ’ä»¶å¼€å‘è€…<a href="https://github.com/markdown-it/markdown-it/blob/master/docs/development.md" target="_blank" rel="noopener">æŒ‡å—</a></li>
<li><a href="https://www.npmjs.com/browse/keyword/markdown-it-plugin" target="_blank" rel="noopener">ç°æˆçš„markdown-itæ’ä»¶</a></li>
</ul>
<h3 id="ç”¨è„šæœ¬æ·»åŠ è¿›é˜¶åŠŸèƒ½"><a href="#ç”¨è„šæœ¬æ·»åŠ è¿›é˜¶åŠŸèƒ½" class="headerlink" title="ç”¨è„šæœ¬æ·»åŠ è¿›é˜¶åŠŸèƒ½"></a>ç”¨è„šæœ¬æ·»åŠ è¿›é˜¶åŠŸèƒ½</h3><hr>
<p>å¯¹äºè¿›é˜¶ç‰¹æ€§ï¼Œåœ¨æ’ä»¶ä¸­é…ç½®å¯è¿è¡Œçš„è„šæœ¬ï¼š</p>
<pre><code>"contributes": {
    "markdown.previewScripts": [
        "./main.js"
    ]
}</code></pre><p>é…ç½®çš„è„šæœ¬æ˜¯å¼‚æ­¥åŠ è½½çš„ï¼Œæ¯æ¬¡å†…å®¹å˜åŠ¨è¿˜ä¼šé‡è½½ã€‚</p>
<p><a href="https://marketplace.visualstudio.com/items?itemName=bierner.markdown-mermaid" target="_blank" rel="noopener">Markdown Preview Mermaid Support</a>æ’ä»¶å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨è„šæœ¬æ·»åŠ <a href="https://knsv.github.io/mermaid/index.html" target="_blank" rel="noopener">é±¼éª¨å›¾</a>å’Œæµç¨‹å›¾é¢„è§ˆã€‚åœ¨<a href="https://github.com/mjbvz/vscode-markdown-mermaid" target="_blank" rel="noopener">è¿™é‡Œ</a>æŸ¥çœ‹æ’ä»¶æºç ã€‚</p>
<h1 id="è¯­è¨€æ’ä»¶"><a href="#è¯­è¨€æ’ä»¶" class="headerlink" title="è¯­è¨€æ’ä»¶"></a>è¯­è¨€æ’ä»¶</h1><h2 id="æ¦‚è¿°-3"><a href="#æ¦‚è¿°-3" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>VS Codeé€šè¿‡è¯­è¨€æ’ä»¶å¯ä»¥ä¸ºå„å¼å„æ ·çš„ç¼–ç¨‹è¯­è¨€æä¾›æ™ºèƒ½çš„ç¼–è¾‘ä½“éªŒã€‚VS Codeå¹¶ä¸å«å†…ç½®è¯­è¨€æ”¯æŒï¼Œä¸è¿‡æä¾›äº†ä¸€æ•´å¥—æ”¯æŒå¯Œæ–‡æœ¬ç‰¹æ€§çš„APIã€‚ æ¯”å¦‚ï¼Œ<a href="https://github.com/Microsoft/vscode/tree/master/extensions/html" target="_blank" rel="noopener">HTML</a>æ’ä»¶æ˜¯ä¸€ä¸ªå¯ä»¥ä¸ºVS Codeä¸­çš„HTMLæ–‡ä»¶æä¾›è¯­æ³•é«˜äº®çš„æ’ä»¶ã€‚ ç±»ä¼¼çš„ï¼Œå½“ä½ è¾“å…¥<code>console.</code>æ—¶ï¼Œæ™ºèƒ½è¡¥å…¨ä¼šæç¤º<code>log</code>ï¼Œè¿™æ˜¯<a href="https://github.com/Microsoft/vscode/tree/master/extensions/typescript-language-features" target="_blank" rel="noopener">Typescript Language Features</a>æ’ä»¶æä¾›çš„ã€‚</p>
<p>è¯­è¨€ç‰¹æ€§å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‹é¢ä¸¤ç§ï¼š</p>
<h3 id="å£°æ˜å¼è¯­è¨€ç‰¹æ€§"><a href="#å£°æ˜å¼è¯­è¨€ç‰¹æ€§" class="headerlink" title="å£°æ˜å¼è¯­è¨€ç‰¹æ€§"></a>å£°æ˜å¼è¯­è¨€ç‰¹æ€§</h3><hr>
<p>å®šä¹‰åœ¨é…ç½®æ–‡ä»¶çš„è¯­è¨€åŠŸèƒ½ç§°ä¹‹ä¸º<em>ç¼–ç¨‹å¼è¯­è¨€ç‰¹æ€§</em>ï¼Œæ¯”å¦‚ï¼Œ<a href="https://github.com/Microsoft/vscode/tree/master/extensions/html" target="_blank" rel="noopener">html</a>ï¼Œ<a href="https://github.com/Microsoft/vscode/tree/master/extensions/css" target="_blank" rel="noopener">css</a>å’Œ<a href="https://github.com/Microsoft/vscode/tree/master/extensions/typescript-basics" target="_blank" rel="noopener">typescript-åŸºç¡€æ”¯æŒ</a>æ’ä»¶éƒ½æ‰“åŒ…åœ¨äº†VS Codeä¸­ï¼Œæ‰€ä»¥æä¾›äº†ä¸‹åˆ—å£°æ˜å¼è¯­è¨€ç‰¹æ€§ï¼š</p>
<ul>
<li>è¯­æ³•é«˜äº®</li>
<li>ä»£ç ç‰‡æ®µè¡¥å…¨</li>
<li>æ‹¬å·åŒ¹é…</li>
<li>è‡ªåŠ¨é—­åˆæ‹¬å·</li>
<li>æ‹¬å·è¯†åˆ«</li>
<li>å¯åŠ¨ã€å…³é—­æ³¨é‡Š</li>
<li>è‡ªåŠ¨ç¼©è¿›</li>
<li>ä»£ç æŠ˜å </li>
</ul>
<p>æˆ‘ä»¬æä¾›äº†3ä¸ªæŒ‡å—ä¾›ä½ å¼€å‘è¯­è¨€æ’ä»¶çš„å£°æ˜å¼ç‰¹æ€§ï¼š</p>
<ul>
<li>è¯­æ³•é«˜äº®æŒ‡å—ï¼šVS Code ä½¿ç”¨TextMateè¯­æ³•æ¥é«˜äº®ä»£ç ã€‚è¿™ä¸ªæŒ‡å—å°†æ•™ä½ ç”¨ç®€å•çš„TextMateè¯­æ³•å¼€å‘ä¸€ä¸ªVS Codeæ’ä»¶ã€‚</li>
<li>ä»£ç ç‰‡æ®µè¡¥å…¨æŒ‡å—ï¼š è¿™ä¸ªæŒ‡å—æ•™ä½ æ€ä¹ˆæŠŠä»£ç ç‰‡æ®µæ‰“åŒ…è¿›æ’ä»¶ä¸­ã€‚</li>
<li>è¯­è¨€é…ç½®æŒ‡å—ï¼šVS Codeå…è®¸æ’ä»¶ä¸ºä»»ä½•ç¼–ç¨‹è¯­è¨€å®šä¹‰ <strong>è¯­è¨€é…ç½®</strong>ã€‚è¿™ä¸ªæ–‡ä»¶æ§åˆ¶ç€åŸºæœ¬çš„ç¼–è¾‘åŠŸèƒ½ï¼Œå¦‚å¼€é—­æ³¨é‡Šã€æ‹¬å·åŒ¹é…/è¯†åˆ«ï¼Œå’Œ(åŸºç¡€)ä»£ç æŠ˜å ã€‚</li>
</ul>
<h3 id="ç¼–ç¨‹å¼è¯­è¨€ç‰¹æ€§"><a href="#ç¼–ç¨‹å¼è¯­è¨€ç‰¹æ€§" class="headerlink" title="ç¼–ç¨‹å¼è¯­è¨€ç‰¹æ€§"></a>ç¼–ç¨‹å¼è¯­è¨€ç‰¹æ€§</h3><hr>
<p>ç¼–ç¨‹å¼è¯­è¨€ç‰¹æ€§åŒ…æ‹¬è‡ªåŠ¨è¡¥å…¨ã€é”™è¯¯æ£€æŸ¥å’Œè·³è½¬åˆ°å®šä¹‰ã€‚è¿™äº›åŠŸèƒ½ä¸€èˆ¬é€šè¿‡<em>è¯­è¨€æœåŠ¡å™¨</em>é©±åŠ¨ï¼Œè¿™ä¸ªæœåŠ¡å™¨ä¼šåˆ†æä½ çš„é¡¹ç›®ï¼Œç„¶åæä¾›å¯¹åº”çš„åŠŸèƒ½ã€‚æœ€å¥½çš„ä¾‹å­å°±æ˜¯æ‰“åŒ…åœ¨VS Codeä¸­çš„<a href="https://github.com/Microsoft/vscode/tree/master/extensions/typescript-language-features" target="_blank" rel="noopener"><code>typescript-language-features</code></a>æ’ä»¶ï¼Œå®ƒåˆ©ç”¨<a href="https://github.com/Microsoft/TypeScript/wiki/Using-the-Language-Service-API" target="_blank" rel="noopener">TypeScript Language Service</a>æä¾›äº†è¯¸å¦‚ä¸‹é¢ç½—åˆ—çš„ç¼–ç¨‹å¼è¯­è¨€ç‰¹æ€§ï¼š</p>
<ul>
<li>æ‚¬åœä¿¡æ¯ï¼ˆ<a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerHoverProvider" target="_blank" rel="noopener">vscode.languages.registerHoverProvider</a>ï¼‰</li>
<li>è‡ªåŠ¨è¡¥å…¨ï¼ˆ<a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerDefinitionProvider" target="_blank" rel="noopener">vscode.languages.registerCompletionItemProvider</a>ï¼‰</li>
<li>è½¬è·³åˆ°å®šä¹‰ï¼ˆ<a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerDefinitionProvider" target="_blank" rel="noopener">vscode.languages.registerDefinitionProvider</a>ï¼‰</li>
<li>é”™è¯¯æ£€æŸ¥</li>
<li>æ ¼å¼åŒ–</li>
<li>é‡æ„</li>
<li>ä»£ç æŠ˜å </li>
</ul>
<p>ä¸‹é¢æ˜¯ç¼–ç¨‹å¼è¯­è¨€ç‰¹æ€§çš„å®Œæ•´åˆ—è¡¨ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/c2f83fd180bbb1190354e60bd04ea7a3.png" alt=""></p>
<h3 id="è¯­è¨€æœåŠ¡å™¨åè®®ï¼ˆLanguage-Server-Protocolï¼‰"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®ï¼ˆLanguage-Server-Protocolï¼‰" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®ï¼ˆLanguage Server Protocolï¼‰"></a>è¯­è¨€æœåŠ¡å™¨åè®®ï¼ˆLanguage Server Protocolï¼‰</h3><hr>
<p><a href="https://microsoft.github.io/language-server-protocol/" target="_blank" rel="noopener">è¯­è¨€æœåŠ¡å™¨åè®®</a>å°†è¯­è¨€æœåŠ¡å™¨ï¼ˆä¸€ä¸ªé™æ€ä»£ç åˆ†æå·¥å…·ï¼‰å’Œè¯­è¨€å®¢æˆ·ç«¯ï¼ˆä¸€èˆ¬å°±æ˜¯æºä»£ç ï¼‰ä¹‹é—´çš„é€šä¿¡è¿›è¡Œäº†æ ‡å‡†åŒ–ï¼Œè¿™æ ·ä¸€æ¥æ’ä»¶å¼€å‘è€…å°±å¯ä»¥åªå†™ä¸€æ¬¡ä»£ç åˆ†æç¨‹åºï¼Œç„¶ååœ¨å¤šä¸ªç¼–è¾‘å™¨ä¸­é‡ç”¨äº†ã€‚</p>
<p>åœ¨ç¼–ç¨‹å¼è¯­è¨€ç‰¹æ€§åˆ—è¡¨ä¸­ï¼Œä½ å¯ä»¥æ‰¾åˆ°æ‰€æœ‰VS Codeçš„è¯­è¨€ç‰¹æ€§ï¼Œä»¥åŠå®ƒå’Œ<a href="https://microsoft.github.io/language-server-protocol/specification" target="_blank" rel="noopener">è¯­è¨€æœåŠ¡å™¨åè®®è§„æ ¼</a>ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚</p>
<p>æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªéå¸¸è¯¦å°½çš„æŒ‡å—ï¼Œé‡Œé¢ä¼šå‘Šè¯‰ä½ æ€ä¹ˆå®ç°ä¸€ä¸ªè¯­è¨€æœåŠ¡å™¨æ’ä»¶ï¼š</p>
<ul>
<li>è¯­è¨€æœåŠ¡å™¨æ’ä»¶æŒ‡å—</li>
</ul>
<p><img src="/images/loading.gif" data-original="../images/development/a00efb1b622ddb0de026071e93a5919a.png" alt=""></p>
<h3 id="ç‰¹æ®ŠåŠŸèƒ½"><a href="#ç‰¹æ®ŠåŠŸèƒ½" class="headerlink" title="ç‰¹æ®ŠåŠŸèƒ½"></a>ç‰¹æ®ŠåŠŸèƒ½</h3><hr>
<h4 id="å¤šç›®å½•å·¥ä½œåŒºæ”¯æŒ"><a href="#å¤šç›®å½•å·¥ä½œåŒºæ”¯æŒ" class="headerlink" title="å¤šç›®å½•å·¥ä½œåŒºæ”¯æŒ"></a>å¤šç›®å½•å·¥ä½œåŒºæ”¯æŒ</h4><p>å½“ç”¨æˆ·æ‰“å¼€äº†ä¸€ä¸ª<a href="https://code.visualstudio.com/docs/editor/multi-root-workspaces" target="_blank" rel="noopener">å¤šç›®å½•å·¥ä½œåŒº</a>ï¼Œä½ å¯èƒ½éœ€è¦å°†ä½ çš„è¯­è¨€æœåŠ¡å™¨æ’ä»¶åšç›¸åº”çš„è°ƒæ•´ã€‚è¿™ä¸ªä¸»é¢˜æ¢è®¨äº†å‡ ç§å¤šç›®å½•å·¥ä½œåŒºçš„è¯­è¨€æœåŠ¡å™¨çš„å®ç°æ–¹æ³•ã€‚ ï¼ˆè¯‘è€…æ³¨ï¼šå®˜æ–¹å¯èƒ½å°šæœªå®Œæˆè¿™ä¸ªéƒ¨åˆ†çš„æ–‡æ¡£ï¼‰</p>
<h4 id="åµŒå…¥å¼è¯­è¨€"><a href="#åµŒå…¥å¼è¯­è¨€" class="headerlink" title="åµŒå…¥å¼è¯­è¨€"></a>åµŒå…¥å¼è¯­è¨€</h4><p>åµŒå…¥å¼è¯­è¨€åœ¨webå¼€å‘ä¸­æ˜¯éå¸¸å¸¸è§çš„ï¼Œæ¯”å¦‚HTMLä¸­çš„CSS/JSï¼ŒJS/TSä¸­çš„GraphQLã€‚è¿™ä¸ªä¸»é¢˜æ¢è®¨äº†é’ˆå¯¹åµŒå…¥è¯­è¨€å®ç°VS Codeè¯­è¨€ç‰¹æ€§çš„å„ç§æ–¹æ³•ã€‚ ï¼ˆè¯‘è€…æ³¨ï¼šå®˜æ–¹å¯èƒ½å°šæœªå®Œæˆè¿™ä¸ªéƒ¨åˆ†çš„æ–‡æ¡£ï¼‰</p>
<h2 id="è¯­æ³•é«˜äº®"><a href="#è¯­æ³•é«˜äº®" class="headerlink" title="è¯­æ³•é«˜äº®"></a>è¯­æ³•é«˜äº®</h2><p>è¯­æ³•é«˜äº®å†³å®šæºä»£ç çš„é¢œè‰²å’Œæ ·å¼ï¼Œå®ƒä¸»è¦è´Ÿè´£å…³é”®å­—ï¼ˆå¦‚javascriptä¸­çš„<code>if</code>ï¼Œ<code>for</code>ï¼‰ã€å­—ç¬¦ä¸²ã€æ³¨é‡Šã€å˜é‡åç­‰ç­‰è¯­æ³•çš„ç€è‰²å·¥ä½œã€‚</p>
<p>è¯­æ³•é«˜äº®ç”±ä¸¤éƒ¨åˆ†å·¥ä½œç»„æˆï¼š</p>
<ul>
<li>æ ¹æ®è¯­æ³•å°†æ–‡æœ¬è§£ææˆç¬¦å·å’Œä½œç”¨åŸŸ</li>
<li>ç„¶åæ ¹æ®è¿™ä»½ä½œç”¨åŸŸæ˜ å°„åº”ç”¨å¯¹åº”çš„é¢œè‰²å’Œæ ·å¼</li>
</ul>
<p>æœ¬æ–‡æ¡£åªæ•™ä½ ç¬¬ä¸€éƒ¨åˆ†ï¼šæ ¹æ®è¯­æ³•å°†æ–‡æœ¬è§£ææˆç¬¦å·å’Œä½œç”¨åŸŸï¼Œç„¶åä½¿ç”¨ç°æˆçš„é¢œè‰²å’Œæ ·å¼ã€‚è‡ªå®šä¹‰æ ·å¼çš„éƒ¨åˆ†è¯·å‚è€ƒ<a href="https://www.bookstack.cn/read/VS-Code-Extension-Doc-ZH/$docs-language-extensions-extension-guides-color-theme#è¯­æ³•è‰²å½©" target="_blank" rel="noopener">è‰²å½©ä¸»é¢˜æŒ‡å—</a></p>
<h3 id="TextMate-è¯­æ³•"><a href="#TextMate-è¯­æ³•" class="headerlink" title="TextMate è¯­æ³•"></a>TextMate è¯­æ³•</h3><hr>
<p>VS Codeä½¿ç”¨<a href="https://macromates.com/manual/en/language_grammars" target="_blank" rel="noopener">TextMate è¯­æ³•</a>å°†æ–‡æœ¬åˆ†å‰²æˆä¸€ä¸ªä¸ªç¬¦å·ã€‚TextMateè¯­æ³•æ˜¯<a href="https://macromates.com/manual/en/regular_expressions" target="_blank" rel="noopener">Onigurumaæ­£åˆ™è¡¨è¾¾å¼</a>çš„é›†åˆï¼Œä¸€èˆ¬æ˜¯ä¸€ä»½plistæˆ–è€…JSONæ ¼å¼çš„æ–‡ä»¶ã€‚ä½ å¯ä»¥åœ¨<a href="https://www.apeth.com/nonblog/stories/textmatebundle.html" target="_blank" rel="noopener">è¿™é‡Œ</a>æ‰¾åˆ°æ›´æ£’çš„ä»‹ç»æ–‡æ¡£ï¼Œåœ¨é‡Œé¢å¯ä»¥æ‰¾åˆ°ä½ æ„Ÿå…´è¶£çš„TextMateè¯­æ³•ã€‚</p>
<h4 id="ç¬¦å·å’Œä½œç”¨åŸŸ"><a href="#ç¬¦å·å’Œä½œç”¨åŸŸ" class="headerlink" title="ç¬¦å·å’Œä½œç”¨åŸŸ"></a>ç¬¦å·å’Œä½œç”¨åŸŸ</h4><p>ç¬¦å·æ˜¯ç”±ä¸€é—¨ç¼–ç¨‹è¯­è¨€ä¸­æœ€å¸¸è§çš„ä¸€åˆ°å‡ ä¸ªå­—ç¬¦ç»„æˆçš„ã€‚ç¬¦å·åŒ…æ‹¬è¿ç®—ç¬¦ï¼ˆå¦‚ï¼š<code>+</code>å’Œ<code>*</code>ï¼‰ï¼Œå˜é‡åï¼ˆå¦‚ï¼š<code>myVar</code>ï¼‰ï¼Œæˆ–è€…å­—ç¬¦ä¸²ï¼ˆå¦‚ï¼š<code>"my string"</code>ï¼‰ã€‚</p>
<p>æ¯ä¸ªç¬¦å·éƒ½æœ‰å…¶ä½œç”¨åŸŸï¼Œä½œç”¨åŸŸæè¿°äº†è¿™ä¸ªç¬¦å·çš„ä¸Šä¸‹æ–‡ã€‚ä¸€ä¸ªç¬¦å·å¯è¢«ç”±<strong>ç‚¹</strong>ç¬¦å·åºåˆ—æŸ¥æ‰¾åˆ°ï¼Œæ¯”å¦‚javascriptä¸­çš„<code>+</code>ç¬¦å·æœ‰è¿™æ ·çš„ä½œç”¨åŸŸ<code>keyword.operator.arithmetic.js</code>ã€‚</p>
<p>ä¸»é¢˜ä¼šæŠŠé¢œè‰²å’Œæ ·å¼æ˜ å°„åˆ°ä½œç”¨åŸŸä¸Šï¼Œè¿™æ ·ä¸€æ¥å°±å®ç°äº†è¯­æ³•é«˜äº®ã€‚TextMateæä¾›äº†ä¸€äº›ä¸»é¢˜ä¸­<a href="https://macromates.com/manual/en/language_grammars" target="_blank" rel="noopener">å¸¸ç”¨çš„ä½œç”¨åŸŸ</a>ï¼Œå¦‚æœä½ æƒ³è¦å°½å¯èƒ½å…¨é¢åœ°æ”¯æŒè¯­æ³•ï¼Œæœ€å¥½ä»ç°æˆçš„ä¸»é¢˜ä¸­å…¥æ‰‹ï¼Œé¿å…é‡æ–°ç¼–å†™ä¸»é¢˜ã€‚</p>
<p>ä½œç”¨åŸŸæ”¯æŒåµŒå¥—ï¼Œæ¯ä¸ªç¬¦å·éƒ½ä¼šå…³è”åˆ°å®ƒçš„çˆ¶ä½œç”¨åŸŸä¸Šã€‚ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨äº†ä½œç”¨åŸŸæ£€æŸ¥å™¨ï¼Œå¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°javascriptå‡½æ•°ä¸­çš„è¿ç®—ç¬¦<code>+</code>å’Œå®ƒçš„ä½œç”¨åŸŸå±‚çº§ï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/749f00099e6e03f3cd2aa1dc42db764c.png" alt=""></p>
<p>çˆ¶ä½œç”¨åŸŸçš„ä¿¡æ¯ä¹ŸåŒæ ·æ˜¯ä¸»é¢˜ä¸­çš„ä¸€éƒ¨åˆ†ã€‚å½“ä¸»é¢˜æŒ‡å®šäº†ä½œç”¨åŸŸï¼Œè¯¥ä½œç”¨åŸŸä¸‹çš„æ‰€æœ‰ç¬¦å·éƒ½ä¼šè¿›è¡Œå¯¹åº”çš„ç€è‰²ï¼Œé™¤éä¸»é¢˜é‡Œé¢å¯¹å•ä¸ªä½œç”¨åŸŸæœ‰å…¶ç‰¹æ®Šé…ç½®ã€‚</p>
<h4 id="é…ç½®åŸºæœ¬è¯­æ³•"><a href="#é…ç½®åŸºæœ¬è¯­æ³•" class="headerlink" title="é…ç½®åŸºæœ¬è¯­æ³•"></a>é…ç½®åŸºæœ¬è¯­æ³•</h4><p>VS Codeæ”¯æŒJSONæ ¼å¼çš„TextMateè¯­æ³•ã€‚ä½ å¯ä»¥åœ¨å‘å¸ƒå†…å®¹é…ç½®é‡Œé¢çš„<code>grammers</code>è¿›è¡Œé…ç½®ã€‚</p>
<p>è¿™ä¸ªé…ç½®ç‚¹å¯ä»¥é…ç½®çš„å†…å®¹æœ‰ï¼šè¯­è¨€çš„idï¼Œé¡¶å±‚è¯­æ³•ä½œç”¨åŸŸçš„åç§°ï¼Œè¯­æ³•æ–‡ä»¶çš„è·¯å¾„ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ª<code>abc</code>è¯­è¨€çš„è¯­æ³•é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code>{
    "contributes": {
        "languages": [
            {
                "id": "abc",
                "extensions": [".abc"]
            }
        ],
        "grammars": [
            {
                "language": "abc",
                "scopeName": "source.abc",
                "path": "./syntaxes/abc.tmGrammar.json"
            }
        ]
    }
}</code></pre><p>è¿™ä¸ªè¯­æ³•æ–‡ä»¶æœ¬èº«åŒ…å«äº†ä¸€ä¸ªé¡¶å±‚è§„åˆ™ï¼Œé‡Œé¢ä¸€èˆ¬åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œ<code>patterns</code>åˆ—å‡ºäº†ç¨‹åº(program)å’Œ<code>repository</code>çš„é¡¶å±‚å…ƒç´ ã€‚è¯­æ³•ä¸­çš„å…¶ä»–è§„åˆ™éœ€è¦ä»<code>repository</code>ä¸­ä½¿ç”¨<code>{ "include": "#id" }</code>å¼•å…¥ã€‚</p>
<p><code>abc</code>è¯­æ³•æ ‡è®°äº†å­—æ¯<code>a</code>ï¼Œ<code>b</code>å’Œ<code>c</code>ä½œä¸ºå…³é”®å­—ï¼Œå¯ä»¥è¢«æ‹¬å·åŒ…èµ·æ¥æˆä¸ºä¸€ä¸ªè¡¨è¾¾å¼ã€‚</p>
<pre><code>{
    "scopeName": "source.abc",
    "patterns": [{ "include": "#expression" }],
    "repository": {
        "expression": {
            "patterns": [{ "include": "#letter" }, { "include": "#paren-expression" }]
        },
        "letter": {
            "match": "a|b|c",
            "name": "keyword.letter"
        },
        "paren-expression": {
            "begin": "\\(",
            "end": "\\)",
            "beginCaptures": {
                "0": { "name": "punctuation.paren.open" }
            },
            "endCaptures": {
                "0": { "name": "punctuation.paren.close" }
            },
            "name": "expression.group",
            "patterns": [{ "include": "#expression" }]
        }
    }
}</code></pre><p>è¯­æ³•å¼•æ“ä¼šè¯•ç€é€æ­¥å°†<code>expression</code>ä¸­çš„è§„åˆ™åº”ç”¨åˆ°æ–‡æœ¬ä¸­ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªç®€å•çš„ç¨‹åºï¼š</p>
<pre><code>a
(
    b
)
x
(
    (
        c
        xyz
    )
)
(
a</code></pre><p>è¿™ä¸ªä¾‹å­ä¸­çš„è¯­æ³•äº§ç”Ÿäº†ä¸‹é¢çš„ä½œç”¨åŸŸåˆ—è¡¨ï¼ˆä»å·¦åˆ°å³ï¼Œä»æœ€ä½³åŒ¹é…åˆ°æœ€ä¸åŒ¹é…ï¼‰</p>
<pre><code>a               keyword.letter, source.abc
(               punctuation.paren.open, expression.group, source.abc
    b           expression.group, source.abc
)               punctuation.paren.close, expression.group, source.abc
x               source.abc
(               punctuation.paren.open, expression.group, source.abc
    (           punctuation.paren.open, expression.group, expression.group, source.abc
        c       keyword.letter, expression.group, expression.group, source.abc
        xyz     expression.group, expression.group, source.abc
    )           punctuation.paren.close, expression.group, expression.group, source.abc
)               punctuation.paren.close, expression.group, source.abc
(               source.abc
a               keyword.letter, source.abc</code></pre><p>æ³¨æ„æ–‡æœ¬åŒ¹é…ä¸æ˜¯å•ä¸€è§„åˆ™ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²<code>xyz</code>ï¼Œæ˜¯åŒ…å«åœ¨å½“å‰ä½œç”¨åŸŸä¸­çš„ã€‚æ–‡ä»¶çš„æœ€åä¸€ä¸ªæ‹¬å·åœ¨<code>expression.group</code>é‡Œé¢ï¼Œå› ä¸ºä¸ä¼šåŒ¹é…<code>end</code>è§„åˆ™ã€‚</p>
<h4 id="åµŒå…¥å¼è¯­è¨€-1"><a href="#åµŒå…¥å¼è¯­è¨€-1" class="headerlink" title="åµŒå…¥å¼è¯­è¨€"></a>åµŒå…¥å¼è¯­è¨€</h4><p>å¦‚æœä½ çš„è¯­æ³•ä¸­éœ€è¦åœ¨çˆ¶è¯­è¨€ä¸­åµŒå…¥å…¶ä»–è¯­è¨€ï¼Œæ¯”å¦‚HTMLä¸­çš„CSSï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨<code>embeddedLanguages</code>é…ç½®ï¼Œå‘Šè¯‰VSCodeæ€ä¹ˆå¤„ç†åµŒå…¥çš„è¯­è¨€ã€‚ç„¶ååµŒå…¥è¯­è¨€çš„æ‹¬å·åŒ¹é…ï¼Œæ³¨é‡Šï¼Œå’Œå…¶ä»–åŸºç¡€è¯­è¨€åŠŸèƒ½éƒ½ä¼šæ­£å¸¸è¿ä½œã€‚</p>
<p><code>embeddedLanguages</code>é…ç½®å°†åµŒå…¥è¯­è¨€çš„ä½œç”¨åŸŸæ˜ å°„åˆ°é¡¶å±‚è¯­è¨€çš„ä½œç”¨åŸŸä¸Šã€‚ä¸‹é¢é‡Œçš„ä¾‹å­é‡Œï¼Œ<code>meta.embedded.block.javascript</code>ä½œç”¨åŸŸä¸­çš„ä»»ä½•ç¬¦å·éƒ½ä¼šä»¥javscriptå¤„ç†ï¼š</p>
<pre><code>{
    "contributes": {
        "grammars": [
            {
                "path": "./syntaxes/abc.tmLanguage.json",
                "scopeName": "source.abc",
                "embeddedLanguages": {
                    "meta.embedded.block.javascript": "source.js"
                }
            }
        ]
    }
}</code></pre><p>ç°åœ¨ï¼Œå¦‚ä½ å¯¹åº”ç”¨äº†<code>meta.embedded.block.javascript</code>çš„ç¬¦å·è¿›è¡Œæ³¨é‡Šå°±ä¼šæœ‰æ­£ç¡®çš„<code>//</code>javascripté£æ ¼ï¼Œå¦‚æœä½ è§¦å‘ä»£ç ç‰‡æ®µï¼Œä¹Ÿä¼šæç¤ºå¯¹åº”çš„javascriptç‰‡æ®µã€‚</p>
<h3 id="å¼€å‘å…¨æ–°çš„è¯­æ³•æ’ä»¶"><a href="#å¼€å‘å…¨æ–°çš„è¯­æ³•æ’ä»¶" class="headerlink" title="å¼€å‘å…¨æ–°çš„è¯­æ³•æ’ä»¶"></a>å¼€å‘å…¨æ–°çš„è¯­æ³•æ’ä»¶</h3><hr>
<p>ä½¿ç”¨VS Codeçš„Yeomanæ¨¡æ¿å¿«é€Ÿåˆ›å»ºä¸€ä¸ªæ–°çš„è¯­æ³•æ’ä»¶ï¼Œè¿è¡Œ<code>yo code</code>ç„¶åé€‰æ‹©<code>New Language</code>ï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/92a55a8b23b5e5efa3002190171a7d85.png" alt=""></p>
<p>Yeomané€šè¿‡é—®é—®é¢˜çš„æ–¹å¼æœ€åç”Ÿæˆæ–°çš„æ’ä»¶ï¼Œå¯¹äºåˆ›å»ºè¯­æ³•æ’ä»¶æœ€é‡è¦çš„å‡ ç‚¹å°±æ˜¯ï¼š</p>
<ul>
<li><code>Language Id</code> - è¿™ä¸ªè¯­è¨€çš„id</li>
<li><code>Language Name</code> - å‹å¥½çš„åç§°</li>
<li><code>Scope names</code> - TextMateæ ¹ä½œç”¨åŸŸåç§°</li>
</ul>
<p><img src="/images/loading.gif" data-original="../images/development/yo-new-language-questions.png" alt=""></p>
<p>ç”Ÿæˆå™¨ä¼šå‡è®¾ä½ è¦åŒæ—¶å¯¹æ–°è¯­è¨€å®šä¹‰å¥½è¯­è¨€idå’Œè¯­æ³•ã€‚å¦‚æœä½ åªæ˜¯æ ¹æ®å·²æœ‰çš„è¯­è¨€åˆ›å»ºæ–°çš„è¯­æ³•ï¼Œé‚£ä¹ˆä½ åªè¦å¡«å¥½ç›®æ ‡è¯­è¨€çš„ä¿¡æ¯å°±å¥½ï¼Œç„¶åä¸€å®šè¦åˆ é™¤ç”Ÿæˆçš„<code>package.json</code>ä¸­çš„<code>languages</code>éƒ¨åˆ†ã€‚</p>
<p>å›ç­”äº†ä¸€å¤§å †é—®é¢˜ä¹‹åï¼ŒYeomanä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ’ä»¶ï¼Œå…¶ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/bc2fb741735d4e90cb0c0d9028112c6e.png" alt=""></p>
<p>!&gt; æ³¨æ„ï¼šå¦‚æœä½ åªæ˜¯é…ç½®ä¸€ä¸ªVS Codeä¸­å·²æœ‰è¯­è¨€çš„è¯­æ³•ï¼Œè®°å¾—åˆ æ‰ç”Ÿæˆçš„<code>package.json</code>ä¸­çš„<code>languages</code>é…ç½®ã€‚</p>
<h4 id="è¿ç§»ç°æˆçš„TextMateè¯­æ³•"><a href="#è¿ç§»ç°æˆçš„TextMateè¯­æ³•" class="headerlink" title="è¿ç§»ç°æˆçš„TextMateè¯­æ³•"></a>è¿ç§»ç°æˆçš„TextMateè¯­æ³•</h4><p><code>yo code</code>ä¹Ÿå¿«æˆå¸®ä½ æŠŠå·²æœ‰çš„TextMateè¯­æ³•è½¬æˆä¸€ä¸ªVS Codeæ’ä»¶ã€‚ä½¿ç”¨<code>yo code</code>ï¼Œé€‰æ‹©<code>Language extension</code>ï¼Œå½“è¯¢é—®æ˜¯å¦ä»å·²æœ‰TextMateæ–‡ä»¶æ’ä»¶çš„æ—¶å€™ï¼Œå¡«å…¥åç¼€ä¸º<code>.tmLanguage</code>æˆ–<code>.json</code>çš„TextMateè¯­æ³•æ–‡ä»¶ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/881444e9e7f42d78e6065f1609941a31.png" alt=""></p>
<h4 id="ç”¨YAMLé…ç½®è¯­æ³•"><a href="#ç”¨YAMLé…ç½®è¯­æ³•" class="headerlink" title="ç”¨YAMLé…ç½®è¯­æ³•"></a>ç”¨YAMLé…ç½®è¯­æ³•</h4><p>éšç€è¯­è¨€æ—¥ç›Šå¤æ‚ï¼Œä½ å¯èƒ½å¾ˆå¿«å°±ä¼šéš¾ä»¥ç†è§£å’Œç»´æŠ¤ä½ çš„jsonæ–‡ä»¶ã€‚å¦‚æœä½ å‘ç°è‡ªå·±éœ€è¦å†™å¾ˆå¤šæ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ–æ˜¯éœ€è¦æ·»åŠ å¤§é‡è§£é‡Šè¯­æ³•å±‚é¢çš„æ³¨é‡Šï¼Œä½ å¯èƒ½éœ€è¦è€ƒè™‘ä½¿ç”¨yamlå®šä¹‰è¯­æ³•æ–‡ä»¶äº†ã€‚</p>
<p>Yamlè¯­æ³•å’Œjsonæœ‰ç€åŒæ ·çš„ç»“æ„ï¼Œä½†æ˜¯å®ƒçš„è¯­æ³•æ›´åŠ ç²¾ç®€ï¼Œå¦‚å¤šè¡Œå­—ç¬¦ä¸²å’Œæ³¨é‡Šã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/21e6d5c90d532aeb8cf36fda9c7512b3.png" alt=""></p>
<p>VS Codeåªèƒ½åŠ è½½jsonè¯­æ³•ï¼Œæ‰€ä»¥yamlæ ¼å¼çš„è¯­æ³•æ–‡ä»¶å¿…é¡»æœ€ç»ˆè½¬æ¢æˆjsonæ–‡ä»¶ã€‚<a href="https://www.npmjs.com/package/js-yaml" target="_blank" rel="noopener"><code>js-yaml</code>åŒ…</a>å¯ä»¥å¸®ä½ å®Œæˆè¿™ä¸ªä»»åŠ¡ï¼š</p>
<pre><code># Install js-yaml as a development only dependency in your extension
$ npm install js-yaml --save-dev
# Use the command line tool to convert the yaml grammar to json
$ npx js-yaml syntaxes/abc.tmLanguage.yaml &gt; syntaxes/abc.tmLanguage.json</code></pre><h4 id="ä½œç”¨åŸŸæ£€æŸ¥å™¨"><a href="#ä½œç”¨åŸŸæ£€æŸ¥å™¨" class="headerlink" title="ä½œç”¨åŸŸæ£€æŸ¥å™¨"></a>ä½œç”¨åŸŸæ£€æŸ¥å™¨</h4><p>VS Codeè‡ªå¸¦çš„ä½œç”¨åŸŸæ£€æŸ¥å™¨èƒ½å¸®ä½ è°ƒè¯•è¯­æ³•æ–‡ä»¶ã€‚å®ƒèƒ½æ˜¾ç¤ºå½“å‰ä½ç½®<em>ç¬¦å·</em>ä½œç”¨åŸŸï¼Œä»¥åŠåº”ç”¨åœ¨ä¸Šé¢çš„ä¸»é¢˜è§„åˆ™å’Œå…ƒä¿¡æ¯ã€‚</p>
<p>åœ¨å‘½ä»¤é¢æ¿ä¸­è¾“å…¥<code>Developer: Inspect TM Scopes</code>æˆ–è€…<a href="https://code.visualstudio.com/docs/getstarted/keybindings" target="_blank" rel="noopener">ä½¿ç”¨å¿«æ·é”®</a>å¯åŠ¨<em>ä½œç”¨åŸŸæ£€æŸ¥å™¨</em>ã€‚</p>
<pre><code>{
    "key": "cmd+alt+shift+i",
    "command": "editor.action.inspectTMScopes"
}</code></pre><p><img src="/images/loading.gif" data-original="../images/development/f6feb546eda5cf416d64297b6c8acbfe.png" alt=""></p>
<p>ä½œç”¨åŸŸæ£€æŸ¥å™¨å¯ä»¥æ˜¾ç¤ºä»¥ä¸‹çš„ä¿¡æ¯ï¼š</p>
<ol>
<li>å½“å‰ç¬¦å·</li>
<li>å…³äºç¬¦å·çš„å…ƒä¿¡æ¯ï¼Œè¿™äº›å€¼éƒ½æ˜¯è®¡ç®—åçš„å€¼ã€‚å¦‚æœä½ ä½¿ç”¨äº†åµŒå…¥è¯­è¨€ï¼Œé‚£ä¹ˆè¿™é‡Œæœ€é‡è¦çš„ä¿¡æ¯å°±æ˜¯<code>language</code>å’Œ<code>token type</code>äº†</li>
<li>ç¬¦å·ä½¿ç”¨çš„ä¸»é¢˜è§„åˆ™ã€‚è¿™é‡Œåªæ˜¾ç¤ºå½“å‰åº”ç”¨çš„è§„åˆ™ï¼Œè€Œä¸æ˜¾ç¤ºè¢«å…¶ä»–æ ·å¼è¦†ç›–çš„è§„åˆ™ã€‚</li>
<li>å®Œæ•´çš„ä½œç”¨åŸŸåˆ—è¡¨ï¼Œè¶Šå¾€ä¸Šä½œç”¨åŸŸè¶Šæ˜ç¡®ã€‚</li>
</ol>
<h3 id="è¯­æ³•æ³¨å…¥"><a href="#è¯­æ³•æ³¨å…¥" class="headerlink" title="è¯­æ³•æ³¨å…¥"></a>è¯­æ³•æ³¨å…¥</h3><hr>
<p>ä½ å¯ä»¥é€šè¿‡<em>è¯­æ³•æ³¨å…¥</em>æ‰©å±•ä¸€ä¸ªç°æˆçš„è¯­æ³•æ–‡ä»¶ã€‚<em>è¯­æ³•æ³¨å…¥</em>å°±æ˜¯å¸¸è§„çš„TextMateè¯­æ³•ï¼Œ<em>è¯­æ³•æ³¨å…¥</em>çš„åº”ç”¨æœ‰ï¼š</p>
<ul>
<li>é«˜äº®æ³¨é‡Šä¸­çš„å…³é”®å­—ï¼Œå¦‚<code>TODO</code></li>
<li>å¯¹ç°æœ‰è¯­æ³•æ·»åŠ æ›´æ˜ç¡®çš„ä½œç”¨åŸŸä¿¡æ¯</li>
<li>å‘Markdownä¸­çš„ä»£ç åŒºå—æ·»åŠ è¯­æ³•é«˜äº®</li>
</ul>
<h4 id="åˆ›å»ºä¸€ä¸ªåŸºç¡€è¯­æ³•æ³¨å…¥"><a href="#åˆ›å»ºä¸€ä¸ªåŸºç¡€è¯­æ³•æ³¨å…¥" class="headerlink" title="åˆ›å»ºä¸€ä¸ªåŸºç¡€è¯­æ³•æ³¨å…¥"></a>åˆ›å»ºä¸€ä¸ªåŸºç¡€è¯­æ³•æ³¨å…¥</h4><p><em>è¯­æ³•æ³¨å…¥</em>ä¹Ÿæ˜¯åœ¨<code>package.json</code>ä¸­é…ç½®çš„ï¼Œä¸è¿‡è¿™æ¬¡ä¸éœ€è¦é…ç½®<code>language</code>ï¼Œè€Œæ˜¯é…ç½®<code>injectTo</code>æŒ‡æ˜ç›®éœ€è¦æ³¨å…¥çš„è¯­è¨€ä½œç”¨åŸŸåˆ—è¡¨ã€‚</p>
<p>åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬ä¼šæ–°å»ºä¸€ä¸ªéå¸¸ç®€å•çš„æ³¨å…¥è¯­æ³•ï¼Œå¯¹javascriptæ³¨é‡Šä¸­çš„<code>TODO</code>è¿›è¡Œé«˜äº®ã€‚æˆ‘ä»¬åœ¨<code>injectTo</code>ä¸­ç”¨<code>source.js</code>æŒ‡å‘ç›®æ ‡è¯­è¨€çš„ä½œç”¨åŸŸã€‚</p>
<pre><code>{
    "contributes": {
        "grammars": [
            {
                "path": "./syntaxes/injection.json",
                "scopeName": "todo-comment.injection",
                "injectTo": ["source.js"]
            }
        ]
    }
}</code></pre><p>é™¤äº†é¡¶å±‚çš„<code>injectionSelector</code>ï¼Œè¯­æ³•æœ¬èº«å°±åº”è¯¥æ˜¯æ ‡å‡†çš„TextMateè¯­æ³•ã€‚<code>injectionSelector</code>æ˜¯ä¸€ä¸ªä½œç”¨åŸŸé€‰æ‹©å™¨ï¼Œå®ƒæŒ‡æ˜äº†<em>è¯­æ³•æ³¨å…¥</em>ç”Ÿæ•ˆçš„ä½œç”¨åŸŸã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬æƒ³è¦åœ¨æ‰€æœ‰<code>//</code>æ³¨é‡Šä¸­çš„<code>TODO</code>é«˜äº®ã€‚ä½¿ç”¨ä½œç”¨åŸŸæ£€æŸ¥å™¨ï¼Œæˆ‘ä»¬ä¼šå‘ç°JavaScriptçš„åŒæ–œæ å­˜åœ¨ä½œç”¨åŸŸ<code>comment.line.double-slash</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ³¨å…¥é€‰æ‹©å™¨æ˜¯<code>L:comment.line.double-slash</code>ï¼š</p>
<pre><code>{
    "scopeName": "todo-comment.injection",
    "injectionSelector": "L:comment.line.double-slash",
    "patterns": [
        {
            "include": "#todo-keyword"
        }
    ],
    "repository": {
        "todo-keyword": {
            "match": "TODO",
            "name": "keyword.todo"
        }
    }
}</code></pre><p>æ³¨å…¥é€‰æ‹©å™¨ä¸­çš„<code>L:</code>ä»£è¡¨æ³¨å…¥çš„è¯­æ³•æ·»åŠ åœ¨ç°æœ‰è¯­æ³•è§„åˆ™çš„å·¦è¾¹ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æ³¨å…¥çš„è¯­æ³•è§„åˆ™ä¼šåœ¨ä»»ä½•ç°æœ‰è¯­æ³•è§„åˆ™ä¹‹å‰ç”Ÿæ•ˆã€‚</p>
<h4 id="åµŒå…¥è¯­æ³•"><a href="#åµŒå…¥è¯­æ³•" class="headerlink" title="åµŒå…¥è¯­æ³•"></a>åµŒå…¥è¯­æ³•</h4><p><em>è¯­æ³•æ³¨å…¥</em>ä¹Ÿå¯ä»¥ç”¨åœ¨åµŒå…¥è¯­è¨€ä¸­ï¼Œåœ¨ä»–ä»¬çš„çˆ¶çº§è¯­æ³•ä¸­è¿›è¡Œé…ç½®ã€‚å°±å’Œæ™®é€šçš„è¯­æ³•æ„ä¹‰ï¼Œ<em>è¯­æ³•æ³¨å…¥</em>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>embeddedLanguages</code>å°†åµŒå…¥è¯­è¨€çš„ä½œç”¨åŸŸæ˜ å°„åˆ°é¡¶å±‚çš„è¯­è¨€ä½œç”¨åŸŸä¸Šã€‚</p>
<p>æ¯”å¦‚é«˜äº®JSå­—ç¬¦ä¸²ä¸­çš„sqlæŸ¥è¯¢çš„æ’ä»¶ï¼Œå¯ä»¥ä½¿ç”¨<code>embeddedLanguages</code>ä¸ºå­—ç¬¦ä¸²ä¸­æ‰€æœ‰åŒ¹é…<code>meta.embedded.inline.sql</code>çš„ç¬¦å·åº”ç”¨sqlè¯­è¨€çš„åŸºæœ¬åŠŸèƒ½ï¼Œæ¯”å¦‚æ‹¬å·åŒ¹é…å’Œç‰‡æ®µé€‰æ‹©ã€‚</p>
<pre><code>{
    "contributes": {
        "grammars": [
            {
                "path": "./syntaxes/injection.json",
                "scopeName": "sql-string.injection",
                "injectTo": ["source.js"],
                "embeddedLanguages": {
                    "meta.embedded.inline.sql": "source.sql"
                }
            }
        ]
    }
}</code></pre><h4 id="ç¬¦å·ç±»å‹å’ŒåµŒå…¥è¯­è¨€"><a href="#ç¬¦å·ç±»å‹å’ŒåµŒå…¥è¯­è¨€" class="headerlink" title="ç¬¦å·ç±»å‹å’ŒåµŒå…¥è¯­è¨€"></a>ç¬¦å·ç±»å‹å’ŒåµŒå…¥è¯­è¨€</h4><p>å¯¹äºåµŒå…¥è¯­è¨€ä¸­çš„æ³¨å…¥è¯­è¨€è¿˜ä¼šæœ‰ä¸ªå‰¯ä½œç”¨ï¼Œé‚£å°±æ˜¯VS CodeæŠŠæ‰€æœ‰å­—ç¬¦ä¸²ï¼ˆstringï¼‰ä¸­çš„<em>ç¬¦å·</em>è§†ä¸ºå­—ç¬¦æ–‡æœ¬ï¼Œè€Œä¸”æŠŠæ³¨é‡Šä¸­çš„æ‰€æœ‰<em>ç¬¦å·</em>è§†ä¸ºç¬¦å·å†…å®¹ï¼ˆtoken contentï¼‰ã€‚ å› æ­¤è¯¸å¦‚æ‹¬å·åŒ¹é…å’Œè‡ªåŠ¨è¡¥å…¨åœ¨å­—ç¬¦ä¸²å’Œæ³¨é‡Šä¸­æ˜¯æ— æ³•ä½¿ç”¨çš„ï¼Œå¦‚æœ<em>åµŒå…¥è¯­è¨€</em>åˆšå¥½å‡ºç°åœ¨å­—ç¬¦ä¸²æˆ–æ³¨é‡Šä¸­ï¼Œé‚£ä¹ˆè¿™äº›åŠŸèƒ½å°±æ— æ³•åœ¨<em>åµŒå…¥è¯­è¨€</em>ä¸­ä½¿ç”¨ã€‚</p>
<p>æƒ³è¦é‡è½½è¿™ä¸ªè¡Œä¸ºï¼Œä½ éœ€è¦ä½¿ç”¨<code>meta.embedded.*</code>ä½œç”¨åŸŸé‡ç½®VS Codeæ ‡è®°å­—ç¬¦ä¸²å’Œæ³¨é‡Šè¡Œä¸ºã€‚æœ€ä½³å®è·µå°±æ˜¯å§‹ç»ˆå°†åµŒå…¥è¯­è¨€æ”¾åœ¨<code>meta.embedded.*</code>ä½œç”¨åŸŸä¸­ï¼Œç¡®ä¿VS Codeèƒ½å¤Ÿæ­£ç¡®å¤„ç†åµŒå…¥è¯­è¨€ã€‚</p>
<p>å¦‚æœä½ æ— æ³•ä¸ºä½ çš„è¯­æ³•æ·»åŠ <code>meta.embedded.*</code>ä½œç”¨åŸŸï¼Œä½ å¯ä»¥åœ¨è¯­æ³•é…ç½®ä¸­ç”¨<code>tokenTypes</code>ï¼ŒæŒ‡å®š<em>ä½œç”¨åŸŸ</em>åˆ°å†…å®¹æ¨¡å¼ï¼ˆcontent modeï¼‰ä¸Šã€‚ ä¸‹é¢çš„<code>tokenTypes</code>ç¡®ä¿<code>my.sql.template.string</code>ä½œç”¨åŸŸä¸­çš„ä»»ä½•å†…å®¹éƒ½åº”è§†ä¸ºä»£ç ï¼š</p>
<pre><code>{
    "contributes": {
        "grammars": [
            {
                "path": "./syntaxes/injection.json",
                "scopeName": "sql-string.injection",
                "injectTo": ["source.js"],
                "embeddedLanguages": {
                    "my.sql.template.string": "source.sql"
                },
                "tokenTypes": {
                    "my.sql.template.string": "other"
                }
            }
        ]
    }
}</code></pre><h2 id="ä»£ç ç‰‡æ®µ"><a href="#ä»£ç ç‰‡æ®µ" class="headerlink" title="ä»£ç ç‰‡æ®µ"></a>ä»£ç ç‰‡æ®µ</h2><p><code>contributes.snippets</code>é…ç½®å…è®¸ä½ å°†<em>ä»£ç ç‰‡æ®µ</em>æ‰“åŒ…è¿›VS Codeæ’ä»¶ä¸­ã€‚</p>
<p><a href="https://code.visualstudio.com/docs/editor/userdefinedsnippets#_creating-your-own-snippets" target="_blank" rel="noopener">åˆ›å»ºä»£ç ç‰‡æ®µ</a>ä¸»é¢˜è¯¦ç»†ä»‹ç»äº†æ–°å»ºä»£ç ç‰‡æ®µçš„å…¨éƒ¨å†…å®¹ã€‚æœ¬ç¯‡æŒ‡å—åªæ˜¯å‘Šè¯‰ä½ å…³äºæ‰“åŒ…<em>ä»£ç ç‰‡æ®µ</em>çš„å¤§ä½“æ€è·¯ã€‚æ¯”è¾ƒæ¨èçš„åšæ³•æ˜¯ï¼š</p>
<ul>
<li>ç”¨<code>Preferences: Configure User Snippets</code>å‘½ä»¤åˆ›å»ºå’Œè°ƒè¯•ä»£ç ç‰‡æ®µã€‚</li>
<li>å¦‚æœä½ è§‰å¾—æ»¡æ„äº†ï¼Œå°†æ•´ä¸ªJSONæ–‡ä»¶å¤åˆ¶åˆ°æ’ä»¶ç›®å½•ä¸‹ï¼Œèµ·ä¸ªåå­—æ¯”å¦‚è¯´<code>snippets.json</code>æ–‡ä»¶ã€‚</li>
<li>å°†ä¸‹åˆ—é…ç½®æ·»åŠ åˆ°ä½ çš„<code>package.json</code>ä¸­</li>
</ul>
<pre><code>{
    "contributes": {
        "snippets": [
            {
                "language": "javascript",
                "path": "./snippets.json"
            }
        ]
    }
}</code></pre><p>æœ¬ç¯‡çš„æºä»£ç åœ¨<a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/snippet-sample" target="_blank" rel="noopener">https://github.com/Microsoft/vscode-extension-samples/tree/master/snippet-sample</a></p>
<p>?&gt; æç¤ºï¼šåœ¨<code>package.json</code>ä¸­æ·»åŠ å¦‚ä¸‹åˆ†ç±»ï¼Œç”¨æˆ·æ‰èƒ½è½»æ¾æ‰¾åˆ°ä½ çš„æ’ä»¶ã€‚</p>
<pre><code>{
    "categories": ["Snippets"]
}</code></pre><h3 id="ä½¿ç”¨TextMateä»£ç ç‰‡æ®µ"><a href="#ä½¿ç”¨TextMateä»£ç ç‰‡æ®µ" class="headerlink" title="ä½¿ç”¨TextMateä»£ç ç‰‡æ®µ"></a>ä½¿ç”¨TextMateä»£ç ç‰‡æ®µ</h3><hr>
<p>ä½ ä¹Ÿå¯ä»¥ç”¨<a href="https://www.bookstack.cn/read/VS-Code-Extension-Doc-ZH/$docs-language-extensions-get-started-your-first-extension" target="_blank" rel="noopener">yo code</a>å°†TextMateä»£ç ç‰‡æ®µï¼ˆ.tmSnippetsï¼‰ç›´æ¥æ·»åŠ åˆ°æ’ä»¶é‡Œå»ã€‚ç”Ÿæˆå™¨ä¸­çš„å¯é€‰é¡¹<code>New Code Snippets</code>ä¼šå¸®ä½ æŒ‡å‘.tmSnippetsçš„ç›®å½•ï¼Œå®ƒä»¬æœ€åéƒ½ä¼šä¸€èµ·æ‰“åŒ…åˆ°VS Code æ’ä»¶é‡Œã€‚ç”Ÿæˆå™¨ç”šè‡³è¿˜æ”¯æŒSublimeä»£ç ç‰‡æ®µï¼ˆ.sublime-snippetsï¼‰ã€‚</p>
<p>ç”Ÿæˆå™¨æœ€ç»ˆè¾“å‡ºçš„æ–‡ä»¶æœ‰ä¸¤ä¸ªï¼šä¸€ä»½æ’ä»¶æ¸…å•<code>package.json</code>ï¼Œå’Œä¸€ä»½è½¬æ¢ä¸ºVS Codeä»£ç ç‰‡æ®µçš„<code>snippets.json</code>ã€‚</p>
<pre><code>.
â”œâ”€â”€ snippets                    // VS Code integration
â”‚   â””â”€â”€ snippets.json           // The JSON file w/ the snippets
â””â”€â”€ package.json                // extension's manifest</code></pre><p>æŠŠç”Ÿæˆçš„ä»£ç ç‰‡æ®µæ–‡ä»¶å¤¹å¤åˆ¶åˆ°ä½ çš„<code>.vscode/extensions</code>ä¸‹çš„æ–°æ–‡ä»¶å¤¹ä¸­ï¼Œç„¶åé‡å¯VS Codeã€‚</p>
<h2 id="è¯­è¨€é…ç½®"><a href="#è¯­è¨€é…ç½®" class="headerlink" title="è¯­è¨€é…ç½®"></a>è¯­è¨€é…ç½®</h2><p>é€šè¿‡<code>contributes.languages</code>å‘å¸ƒå†…å®¹é…ç½®ï¼Œä½ å¯ä»¥é…ç½®ä»¥ä¸‹<em>å£°æ˜å¼è¯­è¨€ç‰¹æ€§</em>ï¼š</p>
<ul>
<li>å¯ç”¨/å…³é—­æ³¨é‡Š</li>
<li>å®šä¹‰æ‹¬å·</li>
<li>è‡ªåŠ¨é—­åˆç¬¦å·</li>
<li>è‡ªåŠ¨ç¯ç»•ç¬¦å·</li>
<li>ä»£ç æŠ˜å </li>
<li>å•è¯åŒ¹é…</li>
<li>ç¼©è¿›è§„åˆ™</li>
</ul>
<p><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/language-configuration-sample" target="_blank" rel="noopener">è¯­è¨€é…ç½®ç¤ºä¾‹</a>ä¸­é…ç½®JavaScriptæ–‡ä»¶ä¸­çš„ç¼–è¾‘åŠŸèƒ½ã€‚æœ¬ç¯‡æŒ‡å—ä¼šè¯¦ç»†è§£é‡Š<code>language-configuration.json</code>ä¸­çš„å†…å®¹ï¼š</p>
<p>!&gt; <strong>æ³¨æ„</strong>ï¼šå¦‚æœä½ çš„è¯­è¨€é…ç½®æ–‡ä»¶ä»¥<strong><code>language-configuration.json</code></strong>ç»“å°¾ï¼Œé‚£ä¹ˆVS Codeä¼šå¸®ä½ æ·»åŠ ä»£ç è¡¥å…¨å’Œæ ¡éªŒåŠŸèƒ½ã€‚</p>
<pre><code>{
    "comments": {
        "lineComment": "//",
        "blockComment": ["/*", "*/"]
    },
    "brackets": [["{", "}"], ["[", "]"], ["(", ")"]],
    "autoClosingPairs": [
        { "open": "{", "close": "}" },
        { "open": "[", "close": "]" },
        { "open": "(", "close": ")" },
        { "open": "'", "close": "'", "notIn": ["string", "comment"] },
        { "open": "\"", "close": "\"", "notIn": ["string"] },
        { "open": "`", "close": "`", "notIn": ["string", "comment"] },
        { "open": "/**", "close": " */", "notIn": ["string"] }
    ],
    "autoCloseBefore": ";:.,=}])&gt;` \n\t",
    "surroundingPairs": [
        ["{", "}"],
        ["[", "]"],
        ["(", ")"],
        ["'", "'"],
        ["\"", "\""],
        ["`", "`"]
    ],
    "folding": {
        "markers": {
            "start": "^\\s*//\\s*#?region\\b",
            "end": "^\\s*//\\s*#?endregion\\b"
        }
    },
    "wordPattern": "(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\@\\#\\%\\^\\&amp;\\*\\(\\)\\-\\=\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\'\\\"\\,\\.\\&lt;\\&gt;\\/\\?\\s]+)",
    "indentationRules": {
        "increaseIndentPattern": "^((?!\\/\\/).)*(\\{[^}\"'`]*|\\([^)\"'`]*|\\[[^\\]\"'`]*)$",
        "decreaseIndentPattern": "^((?!.*?\\/\\*).*\\*/)?\\s*[\\}\\]].*$"
    }
}</code></pre><h3 id="å¯ç”¨-å…³é—­æ³¨é‡Š"><a href="#å¯ç”¨-å…³é—­æ³¨é‡Š" class="headerlink" title="å¯ç”¨/å…³é—­æ³¨é‡Š"></a>å¯ç”¨/å…³é—­æ³¨é‡Š</h3><hr>
<p>VS Codeæä¾›äº†åˆ‡æ¢æ³¨é‡Šå¼€å…³çš„å‘½ä»¤ï¼š</p>
<ul>
<li><strong>Toggle Line Comment</strong></li>
<li><strong>Toggle Block Comment</strong></li>
</ul>
<p>åˆ†åˆ«æ¥é…ç½®<code>comments.lineComment</code>æ§åˆ¶å—æ³¨é‡Šå’Œ<code>comments.blockComment</code>æ§åˆ¶è¡Œæ³¨é‡Šã€‚</p>
<pre><code>{
    "comments": {
        "lineComment": "//",
        "blockComment": ["/*", "*/"]
    }
}</code></pre><h3 id="å®šä¹‰æ‹¬å·"><a href="#å®šä¹‰æ‹¬å·" class="headerlink" title="å®šä¹‰æ‹¬å·"></a>å®šä¹‰æ‹¬å·</h3><hr>
<p>ä½ åœ¨VS Codeä¸­å°†é¼ æ ‡ç§»åŠ¨åˆ°ä¸€ä¸ªæ‹¬å·è¾¹ä¸Šæ—¶ï¼ŒVS Codeä¼šè‡ªåŠ¨é«˜äº®å¯¹åº”çš„æ‹¬å·ã€‚</p>
<pre><code>{
    "brackets": [["{", "}"], ["[", "]"], ["(", ")"]]
}</code></pre><p>å¦å¤–ï¼Œå½“ä½ è¿è¡Œ<strong>Go to Bracket</strong>æˆ–<strong>Select to Bracket</strong>æ—¶ï¼ŒVS Codeä¼šè‡ªåŠ¨ä½¿ç”¨ä½ çš„å®šä¹‰æ‰¾åˆ°æœ€è¿‘ã€æœ€åŒ¹é…çš„æ‹¬å·ã€‚</p>
<h3 id="è‡ªåŠ¨é—­åˆç¬¦å·"><a href="#è‡ªåŠ¨é—­åˆç¬¦å·" class="headerlink" title="è‡ªåŠ¨é—­åˆç¬¦å·"></a>è‡ªåŠ¨é—­åˆç¬¦å·</h3><hr>
<p>å½“ä½ è¾“å…¥<code>'</code>æ—¶ï¼ŒVS Codeä¼šè‡ªåŠ¨å¸®ä½ è¡¥å…¨å¦ä¸€ä¸ªå•å¼•å·ç„¶åå°†å…‰æ ‡æ”¾åœ¨å¼•å·ä¸­é—´ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ˜¯æ€ä¹ˆåšçš„ï¼š</p>
<pre><code>{
    "autoClosingPairs": [
        { "open": "{", "close": "}" },
        { "open": "[", "close": "]" },
        { "open": "(", "close": ")" },
        { "open": "'", "close": "'", "notIn": ["string", "comment"] },
        { "open": "\"", "close": "\"", "notIn": ["string"] },
        { "open": "`", "close": "`", "notIn": ["string", "comment"] },
        { "open": "/**", "close": " */", "notIn": ["string"] }
    ]
}</code></pre><p>é…ç½®<code>notIn</code>é”®ï¼ˆkeyï¼‰å¯ä»¥åœ¨ä½ éœ€è¦çš„æ—¶å€™å…³é—­è¿™ä¸ªåŠŸèƒ½ã€‚æ¯”å¦‚ä½ åœ¨å†™ä¸‹é¢çš„ä»£ç ï¼š</p>
<pre><code>// ES6's Template String
`ES6's Template String`;</code></pre><p>æ­¤æ—¶å•å¼•å·å°±ä¸ä¼šé—­åˆã€‚</p>
<p>ç”¨æˆ·å¯ä»¥ä½¿ç”¨<code>editor.autoClosingQuotes</code>å’Œ<code>editor.autoClosingBrackets</code>è®¾ç½®<em>è‡ªåŠ¨é—­åˆç¬¦å·</em>çš„è¡Œä¸ºã€‚</p>
<h4 id="åœ¨XXXå‰é—­åˆç¬¦å·"><a href="#åœ¨XXXå‰é—­åˆç¬¦å·" class="headerlink" title="åœ¨XXXå‰é—­åˆç¬¦å·"></a>åœ¨XXXå‰é—­åˆç¬¦å·</h4><p>å¦‚æœç¬¦å·çš„å³è¾¹æœ‰ç©ºç™½ï¼Œé‚£ä¹ˆVS Codeé»˜è®¤ä¼šå¯ç”¨ç¬¦å·é—­åˆï¼Œæ‰€ä»¥å½“ä½ åœ¨JSXä»£ç ä¸­è¾“å…¥<code>{</code>æ—¶ï¼Œç¬¦å·å¹¶ä¸ä¼šé—­åˆï¼š</p>
<pre><code>const Component = () =&gt;
  &lt;div className={&gt;
                  ^ VS Codeé»˜è®¤ä¸ä¼šé—­åˆæ­¤å¤„çš„æ‹¬å·
  &lt;/div&gt;</code></pre><p>ä½†æ˜¯ä½ å¯ä»¥ç”¨ä¸‹é¢çš„å®šä¹‰è¦†ç›–é»˜è®¤è¡Œä¸ºï¼š</p>
<pre><code>{
    "autoCloseBefore": ";:.,=}])&gt;` \n\t"
}</code></pre><p>ç°åœ¨å¦‚æœä½ åœ¨<code>&gt;</code>å‰é¢è¾“å…¥<code>{</code>ï¼ŒVS Codeä¼šè‡ªåŠ¨è¡¥å…¨<code>}</code>ã€‚</p>
<h3 id="è‡ªåŠ¨ç¯ç»•ç¬¦å·"><a href="#è‡ªåŠ¨ç¯ç»•ç¬¦å·" class="headerlink" title="è‡ªåŠ¨ç¯ç»•ç¬¦å·"></a>è‡ªåŠ¨ç¯ç»•ç¬¦å·</h3><hr>
<p>å½“ä½ é€‰æ‹©äº†ä¸€å †æ–‡æœ¬ç„¶åè¾“å…¥å·¦æ‹¬å·æ—¶ï¼ŒVS Codeä¼šå¯¹é€‰ä¸­å†…å®¹å¤–å›´åŠ ä¸Šå¯¹åº”çš„æ‹¬å·ã€‚è¿™ä¸ªåŠŸèƒ½å«åš<em>è‡ªåŠ¨ç¯ç»•ç¬¦å·</em>ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹é¢çš„ä»£ç æŒ‡å®šè¿™é¡¹åŠŸèƒ½ï¼š</p>
<pre><code>{
    "surroundingPairs": [
        ["{", "}"],
        ["[", "]"],
        ["(", ")"],
        ["'", "'"],
        ["\"", "\""],
        ["`", "`"]
    ]
}</code></pre><p>æ³¨æ„ç”¨æˆ·å¯ä»¥é€šè¿‡<code>editor.autoSurround</code>è®¾ç½®<em>è‡ªåŠ¨ç¯ç»•ç¬¦å·</em>çš„è¡Œä¸ºã€‚</p>
<h3 id="ä»£ç æŠ˜å "><a href="#ä»£ç æŠ˜å " class="headerlink" title="ä»£ç æŠ˜å "></a>ä»£ç æŠ˜å </h3><hr>
<p>åœ¨VS Codeä¸­æœ‰ä¸‰ç§ä»£ç æŠ˜å ç±»å‹ï¼š</p>
<ul>
<li>ç¼©è¿›æŠ˜å ï¼šè¿™æ˜¯VS Codeä¸­é»˜è®¤çš„ç¼©è¿›è¡Œä¸ºï¼Œå½“ä¸¤è¡Œå†…å®¹æœ‰ç€ç›¸åŒçš„ç¼©è¿›çº§åˆ«æ—¶ï¼Œä½ å°±å¯ä»¥çœ‹åˆ°æŠ˜å æ ‡è®°äº†ã€‚</li>
<li>è¯­è¨€é…ç½®æŠ˜å ï¼šå½“VS Codeå‘ç°<code>folding.markers</code>åŒæ—¶å®šä¹‰äº†<code>start</code>å’Œ<code>end</code>æ—¶ï¼Œå¯¹åº”åŒºåŸŸå†…å°±ä¼šå‡ºç°æŠ˜å æ ‡è®°ã€‚ä¸‹è¿°é…ç½®ä¼šå¯¹<code>//#region</code>å’Œ<code>//#endregionJSON</code>åŒºåŸŸåˆ›å»ºä»£ç æŠ˜å æ ‡è®°ï¼š</li>
</ul>
<pre><code>{
    "folding": {
        "markers": {
            "start": "^\\s*//\\s*#?region\\b",
            "end": "^\\s*//\\s*#?endregion\\b"
        }
    }
}</code></pre><ul>
<li>è¯­è¨€æœåŠ¡å™¨æŠ˜å ï¼šè¯­è¨€æœåŠ¡å™¨è·å–åˆ°<a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_foldingRange" target="_blank" rel="noopener">textDocument/foldingRange</a>è¯·æ±‚ä¸­çš„ä»£ç æŠ˜å åˆ—è¡¨æ•°æ®ï¼ŒVS Codeä¹‹åæ ¹æ®è¿™ä»½åˆ—è¡¨åˆ›å»ºæŠ˜å æ ‡è®°ã€‚é€šè¿‡è¯­è¨€æœåŠ¡å™¨åè®®å­¦ä¹ æ›´å¤šå…³äº<a href="https://www.bookstack.cn/read/VS-Code-Extension-Doc-ZH/$docs-language-extensions-language-extensions-programmatic-language-features" target="_blank" rel="noopener">ç¨‹åºæ€§è¯­è¨€ç‰¹æ€§</a>ã€‚</li>
</ul>
<h3 id="å•è¯åŒ¹é…"><a href="#å•è¯åŒ¹é…" class="headerlink" title="å•è¯åŒ¹é…"></a>å•è¯åŒ¹é…</h3><hr>
<p><code>wordPattern</code>å®šä¹‰äº†ç¨‹åºè¯­è¨€ä¸­<em>å•è¯</em>å•ä½ã€‚å› æ­¤å½“ä½ ä½¿ç”¨è¯è¯­ç›¸å…³çš„å‘½ä»¤ï¼Œå¦‚ï¼š<strong>Move cursor to word start</strong>ï¼ˆCtrl+Leftï¼‰æˆ–è€…<strong>Move cursor to word end</strong>ï¼ˆCtrl+Rightï¼‰æ—¶ï¼Œç¼–è¾‘å™¨ä¼šæ ¹æ®æ­£åˆ™å¯»æ‰¾å•è¯è¾¹ç•Œã€‚</p>
<pre><code>{
    "wordPattern": "(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\@\\#\\%\\^\\&amp;\\*\\(\\)\\-\\=\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\'\\\"\\,\\.\\&lt;\\&gt;\\/\\?\\s]+)"
}</code></pre><h3 id="ç¼©è¿›è§„åˆ™"><a href="#ç¼©è¿›è§„åˆ™" class="headerlink" title="ç¼©è¿›è§„åˆ™"></a>ç¼©è¿›è§„åˆ™</h3><hr>
<p><code>indentationRules</code>å®šä¹‰äº†ç¼–è¾‘å™¨åº”è¯¥å¦‚ä½•è°ƒæ•´å½“å‰è¡Œæˆ–ä½ ç²˜è´´ã€è¾“å…¥ã€ç§»åŠ¨çš„ä¸‹ä¸€è¡Œç¼©è¿›ã€‚</p>
<pre><code>{
    "indentationRules": {
        "increaseIndentPattern": "^((?!\\/\\/).)*(\\{[^}\"'`]*|\\([^)\"'`]*|\\[[^\\]\"'`]*)$",
        "decreaseIndentPattern": "^((?!.*?\\/\\*).*\\*/)?\\s*[\\)\\}\\]].*$"
    }
}</code></pre><p>æ¯”å¦‚ï¼Œ<code>if (true) {</code>åŒ¹é…<code>increasedIndentPattern</code>ï¼Œç„¶åå¦‚æœä½ åœ¨<code>{</code>åé¢æŒ‰ä¸‹Enteråï¼Œç¼–è¾‘å™¨ä¼šè‡ªåŠ¨ç¼©è¿›ä¸€æ¬¡ï¼Œä½ å¦‚ä»£ç çœ‹èµ·æ¥ä¼šåƒè¿™æ ·ï¼š</p>
<pre><code>if (true) {
    console.log();</code></pre><p>å¦‚æœæ²¡æœ‰è®¾ç½®ç¼©è¿›è§„åˆ™ï¼Œå½“è¡Œå°¾ä»¥å¼€ç¬¦å·ç»“å°¾æ—¶ç¼–è¾‘å™¨ä¼šå·¦ç¼©è¿›ï¼Œä»¥é—­åˆç¬¦å·ç»“å°¾æ—¶å³ç¼©è¿›ã€‚è¿™é‡Œçš„<em>å¼€é—­ç¬¦å·</em>ç”±<code>brackets</code>å®šä¹‰ã€‚</p>
<p>æ³¨æ„<code>editor.formatOnPaste</code>æ˜¯ç”±<a href="https://code.visualstudio.com/api/references/vscode-api#DocumentRangeFormattingEditProvider" target="_blank" rel="noopener">DocumentRangeFormattingEditProvider</a>æ§åˆ¶ï¼Œè€Œä¸ç”±è‡ªåŠ¨ç¼©è¿›æ§åˆ¶ã€‚</p>
<h2 id="ç¨‹åºæ€§è¯­è¨€ç‰¹æ€§"><a href="#ç¨‹åºæ€§è¯­è¨€ç‰¹æ€§" class="headerlink" title="ç¨‹åºæ€§è¯­è¨€ç‰¹æ€§"></a>ç¨‹åºæ€§è¯­è¨€ç‰¹æ€§</h2><p>ç¨‹åºæ€§è¯­è¨€ç‰¹æ€§æ˜¯ç”±<a href="https://code.visualstudio.com/api/references/vscode-api#languages" target="_blank" rel="noopener"><code>vscode.languages.*</code></a>APIæä¾›çš„ä¸€ç³»åˆ—æ™ºèƒ½ç¼–è¾‘åŠŸèƒ½ã€‚åœ¨VS Codeä¸­æœ‰ä¸¤ç§å®ç°åŠ¨æ€è¯­è¨€ç‰¹æ€§çš„é€”å¾„ã€‚æˆ‘ä»¬å…ˆä»¥æ‚¬åœæç¤ºä¸ºä¾‹ï¼š</p>
<pre><code>vscode.languages.registerHoverProvider('javascript', {
    provideHover(document, position, token) {
        return {
            contents: ['Hover Content']
        };
    }
});</code></pre><p>æ­£å¦‚ä½ æ‰€è§ï¼Œä»£ç ä¸­<a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerHoverProvider" target="_blank" rel="noopener"><code>vscode.languages.registerHoverProvider</code></a>APIå¯ä»¥å¾ˆæ–¹ä¾¿åœ°åœ¨JSæ–‡ä»¶ä¸­æä¾›æ‚¬åœæç¤ºçš„å†…å®¹ã€‚è¿™ä¸ªæ’ä»¶æ¿€æ´»åï¼Œåªè¦ä½ æ‚¬åœåˆ°äº†JSä»£ç ä¸Šï¼ŒVS Codeå°±ä¼šæŸ¥è¯¢å…¨éƒ¨å¯¹JSæ³¨å†Œäº†çš„<a href="https://code.visualstudio.com/api/references/vscode-api#HoverProvider" target="_blank" rel="noopener"><code>HoverProvider</code></a>ç„¶ååœ¨æ‚¬æµ®æç¤ºæ¡†ä¸­æ˜¾ç¤ºå¯¹åº”å†…å®¹ã€‚ä½ å¯ä»¥æŸ¥çœ‹ä¸‹é¢çš„è¯­è¨€åŠŸèƒ½åˆ—è¡¨ï¼Œé‡Œé¢åŒ…å«äº†VS Code API / LSPå®ç°çš„è¯­è¨€åŠŸèƒ½ã€‚</p>
<p>é‚£ä¹ˆä¸€ç§å®ç°å°±æ˜¯ä½¿ç”¨äº†<a href="https://microsoft.github.io/language-server-protocol/" target="_blank" rel="noopener">è¯­è¨€æœåŠ¡å™¨åè®®</a>çš„è¯­è¨€æœåŠ¡å™¨ã€‚å®ƒçš„å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¸€ä¸ªä¸ºJSåŒæ—¶æä¾›è¯­è¨€å®¢æˆ·ç«¯å’Œè¯­è¨€æœåŠ¡å™¨çš„æ’ä»¶</li>
<li>è¯­è¨€å®¢æˆ·ç«¯å°±åƒæ™®é€šæ’ä»¶ä¸€æ ·ï¼Œè¿è¡ŒäºNode.jsæ’ä»¶ä¸»æœºç¯å¢ƒä¸­ã€‚è¿™ä¸ªæ’ä»¶æ¿€æ´»åï¼Œä¼šå¯åŠ¨å¦ä¸€ä¸ªè¿›ç¨‹â€”â€”è¯­è¨€æœåŠ¡å™¨ï¼Œç„¶åä¸¤è€…é€šè¿‡<a href="https://microsoft.github.io/language-server-protocol/" target="_blank" rel="noopener">è¯­è¨€æœåŠ¡å™¨åè®®</a>è¿›è¡Œé€šä¿¡ã€‚</li>
<li>ä½ æ‚¬åœåˆ°JSä»£ç ä¸Š</li>
<li>VS Codeé€šçŸ¥è¯­è¨€å®¢æˆ·ç«¯</li>
<li>è¯­è¨€å®¢æˆ·ç«¯å‘è¯­è¨€æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç´¢è¦æ‚¬åœçš„è¿”å›ç»“æœï¼Œæœ€åå†é€å›ç»™VS Code</li>
<li>VS Codeå°†ç»“æœå±•ç¤ºåœ¨æ‚¬æµ®æ¡†ä¸­</li>
</ul>
<p>è¿™ä¸ªè¿‡ç¨‹å¯èƒ½çœ‹èµ·æ¥æœ‰äº›å¤æ‚ï¼Œä½†æ˜¯è¿™ä¹ˆåšä¸»è¦æœ‰ä¸¤ä¸ªå¥½å¤„ï¼š</p>
<ul>
<li>è¯­è¨€æœåŠ¡å™¨å¯ä»¥ç”¨ä»»ä½•è¯­è¨€å®ç°</li>
<li>è¯­è¨€æœåŠ¡å™¨å¯ä»¥è¢«å¤šä¸ªç¼–è¾‘å™¨é‡ç”¨ï¼Œæä¾›æ›´åŠ æ™ºèƒ½çš„ç¼–è¾‘ä½“éªŒ</li>
</ul>
<p>æ·±å…¥æŒ‡å—ï¼Œè¯·ç§»æ­¥è‡³è¯­è¨€æœåŠ¡å™¨æ’ä»¶æŒ‡å—</p>
<h3 id="è¯­è¨€åŠŸèƒ½åˆ—è¡¨"><a href="#è¯­è¨€åŠŸèƒ½åˆ—è¡¨" class="headerlink" title="è¯­è¨€åŠŸèƒ½åˆ—è¡¨"></a>è¯­è¨€åŠŸèƒ½åˆ—è¡¨</h3><hr>
<table>
<thead>
<tr>
<th align="left">VS Code API</th>
<th align="left">LSP method</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.createDiagnosticCollection" target="_blank" rel="noopener"><code>createDiagnosticCollection</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_publishDiagnostics" target="_blank" rel="noopener">PublishDiagnostics</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerCompletionItemProvider" target="_blank" rel="noopener"><code>registerCompletionItemProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_completion" target="_blank" rel="noopener">Completion</a> &amp; <a href="https://microsoft.github.io/language-server-protocol/specification#completionItem_resolve" target="_blank" rel="noopener">Completion Resolve</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerHoverProvider" target="_blank" rel="noopener"><code>registerHoverProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_hover" target="_blank" rel="noopener">Hover</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerSignatureHelpProvider" target="_blank" rel="noopener"><code>registerSignatureHelpProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_signatureHelp" target="_blank" rel="noopener">SignatureHelp</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerDefinitionProvider" target="_blank" rel="noopener"><code>registerDefinitionProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_definition" target="_blank" rel="noopener">Definition</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerTypeDefinitionProvider" target="_blank" rel="noopener"><code>registerTypeDefinitionProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_typeDefinition" target="_blank" rel="noopener">TypeDefinition</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerImplementationProvider" target="_blank" rel="noopener"><code>registerImplementationProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_implementation" target="_blank" rel="noopener">Implementation</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerReferenceProvider" target="_blank" rel="noopener"><code>registerReferenceProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_references" target="_blank" rel="noopener">References</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerDocumentHighlightProvider" target="_blank" rel="noopener"><code>registerDocumentHighlightProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_documentHighlight" target="_blank" rel="noopener">DocumentHighlight</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerDocumentSymbolProvider" target="_blank" rel="noopener"><code>registerDocumentSymbolProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_documentSymbol" target="_blank" rel="noopener">DocumentSymbol</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerCodeActionsProvider" target="_blank" rel="noopener"><code>registerCodeActionsProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_codeAction" target="_blank" rel="noopener">CodeAction</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerCodeLensProvider" target="_blank" rel="noopener"><code>registerCodeLensProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_codeLens" target="_blank" rel="noopener">CodeLens</a> &amp; <a href="https://microsoft.github.io/language-server-protocol/specification#codeLens_resolve" target="_blank" rel="noopener">CodeLens Resolve</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerDocumentLinkProvider" target="_blank" rel="noopener"><code>registerDocumentLinkProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_documentLink" target="_blank" rel="noopener">DocumentLink</a> &amp; <a href="https://microsoft.github.io/language-server-protocol/specification#documentLink_resolve" target="_blank" rel="noopener">DocumentLink</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerDocumentColorProvider" target="_blank" rel="noopener"><code>registerColorProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_documentColor" target="_blank" rel="noopener">DocumentColor</a> &amp; <a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_colorPresentation" target="_blank" rel="noopener">Color Presentation</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerDocumentFormattingEditProvider" target="_blank" rel="noopener"><code>registerDocumentFormattingEditProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_formatting" target="_blank" rel="noopener">Formatting</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerDocumentRangeFormattingEditProvider" target="_blank" rel="noopener"><code>registerDocumentRangeFormattingEditProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_rangeFormatting" target="_blank" rel="noopener">RangeFormatting</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerOnTypeFormattingEditProvider" target="_blank" rel="noopener"><code>registerOnTypeFormattingEditProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_onTypeFormatting" target="_blank" rel="noopener">OnTypeFormatting</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerRenameProvider" target="_blank" rel="noopener"><code>registerRenameProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_rename" target="_blank" rel="noopener">Rename</a> &amp; <a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_prepareRename" target="_blank" rel="noopener">Prepare Rename</a></td>
</tr>
<tr>
<td align="left"><a href="https://code.visualstudio.com/api/references/vscode-api#languages.registerFoldingRangeProvider" target="_blank" rel="noopener"><code>registerFoldingRangeProvider</code></a></td>
<td align="left"><a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_foldingRange" target="_blank" rel="noopener">FoldingRange</a></td>
</tr>
</tbody></table>
<h3 id="æä¾›è¯Šæ–­ä¿¡æ¯"><a href="#æä¾›è¯Šæ–­ä¿¡æ¯" class="headerlink" title="æä¾›è¯Šæ–­ä¿¡æ¯"></a>æä¾›è¯Šæ–­ä¿¡æ¯</h3><hr>
<p>è¯Šæ–­ä¿¡æ¯æ˜¯æç¤ºä»£ç é—®é¢˜çš„ä¸€ç§æ–¹å¼ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/f6e7bde40c12e4f663bc392b636903e8.gif" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>è¯­è¨€æœåŠ¡å™¨éœ€è¦å‘å®¢æˆ·ç«¯å‘é€<code>textDocument/publishDiagnostics</code>ä¿¡æ¯ï¼Œè¿™ä¸ªä¿¡æ¯ä¸­åŒ…å«äº†è¯Šæ–­ä¿¡æ¯urlçš„æ•°ç»„ã€‚</p>
<p>!&gt; <strong>æ³¨æ„ï¼š</strong>å®¢æˆ·ç«¯ä¸ä¼šä¸»åŠ¨å‘æœåŠ¡ç«¯è¯·æ±‚ä¿¡æ¯ï¼Œéœ€è¦æœåŠ¡å™¨å°†è¯Šæ–­ä¿¡æ¯æ¨é€åˆ°å®¢æˆ·ç«¯ã€‚</p>
<h5 id="ç›´æ¥å®ç°"><a href="#ç›´æ¥å®ç°" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>let diagnosticCollection: vscode.DiagnosticCollection;
export function activate(ctx: vscode.ExtensionContext): void {
  ...
  ctx.subscriptions.push(getDisposable());
  diagnosticCollection = vscode.languages.createDiagnosticCollection('go');
  ctx.subscriptions.push(diagnosticCollection);
  ...
}
function onChange() {
  let uri = document.uri;
  check(uri.fsPath, goConfig).then(errors =&gt; {
    diagnosticCollection.clear();
    let diagnosticMap: Map&lt;string, vscode.Diagnostic[]&gt; = new Map();
    errors.forEach(error =&gt; {
      let canonicalFile = vscode.Uri.file(error.file).toString();
      let range = new vscode.Range(error.line-1, error.startColumn, error.line-1, error.endColumn);
      let diagnostics = diagnosticMap.get(canonicalFile);
      if (!diagnostics) { diagnostics = []; }
      diagnostics.push(new vscode.Diagnostic(range, error.msg, error.severity));
      diagnosticMap.set(canonicalFile, diagnostics);
    });
    diagnosticMap.forEach((diags, file) =&gt; {
      diagnosticCollection.set(vscode.Uri.parse(file), diags);
    });
  })
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong></p>
<p>åªå¯¹æ‰“å¼€çš„ç¼–è¾‘å™¨æä¾›è¯Šæ–­ï¼Œä¿è¯è‡³å°‘åœ¨æ¯æ¬¡ä¿å­˜æ–‡ä»¶æ—¶è¯Šæ–­ä¸€æ¬¡ã€‚è¯Šæ–­ä¿¡æ¯æœ€å¥½èƒ½éšç¼–è¾‘å™¨çš„æ–‡æ¡£å†…å®¹å˜åŒ–è§¦å‘ã€‚</p>
<p><strong>è¿›é˜¶å®ç°</strong></p>
<p>ä¸ä»…ä»…ä¸ºæ‰“å¼€çš„ç¼–è¾‘å™¨æä¾›è¯Šæ–­ï¼Œè€Œæ˜¯è¯Šæ–­å½“å‰æ‰“å¼€çš„æ–‡ä»¶ç›®å½•ä¸­çš„æ‰€æœ‰èµ„æºï¼Œä¸è®ºæ–‡ä»¶æ˜¯è¢«æ‰“å¼€è¿˜æ˜¯å…³é—­ã€‚</p>
</blockquote>
<h3 id="æä¾›è¡¥å…¨å»ºè®®"><a href="#æä¾›è¡¥å…¨å»ºè®®" class="headerlink" title="æä¾›è¡¥å…¨å»ºè®®"></a>æä¾›è¡¥å…¨å»ºè®®</h3><hr>
<p>ä»£ç è¡¥å…¨å¯ä»¥ç»™ç”¨æˆ·æä¾›å†…å®¹æ„ŸçŸ¥å»ºè®®ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/6472fa08b9a126d96a77123539d9f537.gif" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®-1"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®-1" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>åœ¨æ¥æ”¶å“åº”çš„<code>initialize</code>æ–¹æ³•ä¸­ï¼Œä½ çš„è¯­è¨€æœåŠ¡å™¨éœ€è¦å£°æ˜å®ƒæ˜¯å¦èƒ½æä¾›è¡¥å…¨ï¼Œä»¥åŠå®ƒæ˜¯å¦æ”¯æŒåŠ¨æ€è®¡ç®—è¡¥å…¨é¡¹çš„<code>completionItem\resolve</code>æ–¹æ³•ã€‚</p>
<pre><code>{
    ...
    "capabilities" : {
        "completionProvider" : {
            "resolveProvider": "true",
            "triggerCharacters": [ '.' ]
        }
        ...
    }
}</code></pre><h5 id="ç›´æ¥å®ç°-1"><a href="#ç›´æ¥å®ç°-1" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>class GoCompletionItemProvider implements vscode.CompletionItemProvider {
    public provideCompletionItems(
        document: vscode.TextDocument, position: vscode.Position, token: vscode.CancellationToken):
        Thenable&lt;vscode.CompletionItem[]&gt; {
    ...
    }
}
export function activate(ctx: vscode.ExtensionContext): void {
    ...
    ctx.subscriptions.push(getDisposable());
    ctx.subscriptions.push(
        vscode.languages.registerCompletionItemProvider(
            GO_MODE, new GoCompletionItemProvider(), '.', '\"'));
    ...
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong></p>
<p>ä¸æ”¯æŒæœ¬åŠŸèƒ½</p>
<p><strong>è¿›é˜¶å®ç°</strong></p>
<p>å½“ç”¨æˆ·æŒ‘é€‰è¡¥å…¨é¡¹æ—¶ï¼ŒåŠ¨æ€è®¡ç®—è¡¥å…¨é¡¹çš„ç›¸å…³ä¿¡æ¯ï¼Œè¿™æ¡ä¿¡æ¯ä¼šæµ®ç°åœ¨è¡¥å…¨é¡¹æ—è¾¹ã€‚</p>
</blockquote>
<h3 id="æ˜¾ç¤ºæ‚¬æµ®æç¤º"><a href="#æ˜¾ç¤ºæ‚¬æµ®æç¤º" class="headerlink" title="æ˜¾ç¤ºæ‚¬æµ®æç¤º"></a>æ˜¾ç¤ºæ‚¬æµ®æç¤º</h3><hr>
<p>æ‚¬æµ®ä¿¡æ¯ä¼šå±•ç¤ºåœ¨é¼ æ ‡å…‰æ ‡çš„ä¸‹æ–¹ï¼Œä¸ºç”¨æˆ·æä¾›ç¬¦å·/å¯¹è±¡çš„ç›¸å…³ä¿¡æ¯ï¼Œä¸€èˆ¬å±•ç¤ºå…³äºç¬¦å·çš„ç±»å‹å’Œæè¿°ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/abf2ea96e0c3a87f2f166233badfb020.gif" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®-2"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®-2" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>ä¸ºäº†å“åº”è¯·æ±‚<code>initialize</code>æ–¹æ³•ï¼Œè¯­è¨€æœåŠ¡å™¨éœ€è¦å£°æ˜å®ƒèƒ½æä¾›è¿™é¡¹åŠŸèƒ½ã€‚</p>
<pre><code>{
    ...
    "capabilities" : {
        "hoverProvider" : "true",
        ...
    }
}</code></pre><p>å¦å¤–ï¼Œä½ çš„è¯­è¨€æœåŠ¡å™¨è¿˜è¦èƒ½å¤Ÿå“åº”<code>textDocument/hover</code>è¯·æ±‚ã€‚</p>
<h5 id="ç›´æ¥å®ç°-2"><a href="#ç›´æ¥å®ç°-2" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>class GoHoverProvider implements HoverProvider {
    public provideHover(
        document: TextDocument, position: Position, token: CancellationToken):
        Thenable&lt;Hover&gt; {
    ...
    }
}
export function activate(ctx: vscode.ExtensionContext): void {
    ...
    ctx.subscriptions.push(
        vscode.languages.registerHoverProvider(
            GO_MODE, new GoHoverProvider()));
    ...
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong> æ˜¾ç¤ºç¬¦å·çš„ç±»å‹å’Œç›¸å…³æ–‡æ¡£æè¿°ã€‚</p>
<p><strong>è¿›é˜¶å®ç°</strong> å¯¹æ–¹æ³•åè¿›è¡Œç€è‰²ï¼Œå°±åƒä½ çš„æºç ä¸€æ ·</p>
</blockquote>
<h3 id="å‡½æ•°å’Œæ–¹æ³•ç­¾å"><a href="#å‡½æ•°å’Œæ–¹æ³•ç­¾å" class="headerlink" title="å‡½æ•°å’Œæ–¹æ³•ç­¾å"></a>å‡½æ•°å’Œæ–¹æ³•ç­¾å</h3><hr>
<p>å½“ç”¨æˆ·è¾“å…¥å‡½æ•°å’Œæ–¹æ³•æ—¶ï¼Œæ˜¾ç¤ºè°ƒç”¨è¯¥æ–¹æ³•çš„ç›¸å…³ä¿¡æ¯ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/5da3d03687a5e8b78a3214fc25e8d123.gif" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®-3"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®-3" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>ä¸ºäº†å“åº”è¯·æ±‚<code>initialize</code>æ–¹æ³•ï¼Œè¯­è¨€æœåŠ¡å™¨éœ€è¦å£°æ˜å®ƒèƒ½æä¾›è¿™é¡¹åŠŸèƒ½ã€‚</p>
<pre><code>{
    ...
    "capabilities" : {
        "signatureHelpProvider" : {
            "triggerCharacters": [ '(' ]
        }
        ...
    }
}</code></pre><p>å¦å¤–ï¼Œä½ çš„è¯­è¨€æœåŠ¡å™¨è¿˜è¦èƒ½å¤Ÿå“åº”<code>textDocument/signatureHelp</code>è¯·æ±‚ã€‚</p>
<h5 id="ç›´æ¥å®ç°-3"><a href="#ç›´æ¥å®ç°-3" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>class GoSignatureHelpProvider implements SignatureHelpProvider {
    public provideSignatureHelp(
        document: TextDocument, position: Position, token: CancellationToken):
        Promise&lt;SignatureHelp&gt; {
    ...
    }
}
export function activate(ctx: vscode.ExtensionContext): void {
    ...
    ctx.subscriptions.push(
        vscode.languages.registerSignatureHelpProvider(
            GO_MODE, new GoSignatureHelpProvider(), '(', ','));
    ...
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong></p>
<p>ç­¾åå¸®åŠ©éœ€è¦åŒ…å«å‚æ•°çš„ç›¸å…³æ–‡æ¡£ã€‚</p>
<p><strong>è¿›é˜¶å®ç°</strong></p>
<p>æ— </p>
</blockquote>
<h3 id="ç¬¦å·å®šä¹‰"><a href="#ç¬¦å·å®šä¹‰" class="headerlink" title="ç¬¦å·å®šä¹‰"></a>ç¬¦å·å®šä¹‰</h3><hr>
<p>å…è®¸ç”¨æˆ·æŸ¥çœ‹å˜é‡/å‡½æ•°/æ–¹æ³•çš„å®šä¹‰ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/goto-definition.gif" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®-4"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®-4" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>ä¸ºäº†å“åº”è¯·æ±‚<code>initialize</code>æ–¹æ³•ï¼Œè¯­è¨€æœåŠ¡å™¨éœ€è¦å£°æ˜å®ƒèƒ½æä¾›è¿™é¡¹åŠŸèƒ½ã€‚</p>
<pre><code>{
    ...
    "capabilities" : {
        "definitionProvider" : "true"
        ...
    }
}</code></pre><p>å¦å¤–ï¼Œä½ çš„è¯­è¨€æœåŠ¡å™¨è¿˜è¦èƒ½å¤Ÿå“åº”<code>textDocument/definition</code>è¯·æ±‚ã€‚</p>
<h5 id="ç›´æ¥å®ç°-4"><a href="#ç›´æ¥å®ç°-4" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>lass GoDefinitionProvider implements vscode.DefinitionProvider {
    public provideDefinition(
        document: vscode.TextDocument, position: vscode.Position, token: vscode.CancellationToken):
        Thenable&lt;vscode.Location&gt; {
    ...
    }
}
export function activate(ctx: vscode.ExtensionContext): void {
    ...
    ctx.subscriptions.push(
        vscode.languages.registerDefinitionProvider(
            GO_MODE, new GoDefinitionProvider()));
    ...
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong></p>
<p>å¦‚æœç¬¦å·æœ‰å¤šä¸ªå®šä¹‰ï¼Œä½ å¯ä»¥æ˜¾ç¤ºå¤šæ¡å®šä¹‰ã€‚</p>
<p><strong>è¿›é˜¶å®ç°</strong></p>
<p>æ— </p>
</blockquote>
<h3 id="æŸ¥æ‰¾ç¬¦å·çš„å…¨éƒ¨å¼•ç”¨"><a href="#æŸ¥æ‰¾ç¬¦å·çš„å…¨éƒ¨å¼•ç”¨" class="headerlink" title="æŸ¥æ‰¾ç¬¦å·çš„å…¨éƒ¨å¼•ç”¨"></a>æŸ¥æ‰¾ç¬¦å·çš„å…¨éƒ¨å¼•ç”¨</h3><hr>
<p>å…è®¸ç”¨æˆ·åœ¨å½“å‰ç¼–è¾‘å™¨ç›´æ¥æŸ¥çœ‹å˜é‡/å‡½æ•°/æ–¹æ³•çš„å®šä¹‰çš„æºä»£ç ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/87cce207db9dbc10f3d9f170893688db.gif" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®-5"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®-5" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>ä¸ºäº†å“åº”è¯·æ±‚<code>initialize</code>æ–¹æ³•ï¼Œè¯­è¨€æœåŠ¡å™¨éœ€è¦å£°æ˜å®ƒèƒ½æä¾›è¿™é¡¹åŠŸèƒ½ã€‚</p>
<pre><code>{
    ...
    "capabilities" : {
        "referencesProvider" : "true"
        ...
    }
}</code></pre><p>å¦å¤–ï¼Œä½ çš„è¯­è¨€æœåŠ¡å™¨è¿˜è¦èƒ½å¤Ÿå“åº”<code>textDocument/references</code>è¯·æ±‚ã€‚</p>
<h5 id="ç›´æ¥å®ç°-5"><a href="#ç›´æ¥å®ç°-5" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>class GoReferenceProvider implements vscode.ReferenceProvider {
    public provideReferences(
        document: vscode.TextDocument, position: vscode.Position,
        options: { includeDeclaration: boolean }, token: vscode.CancellationToken):
        Thenable&lt;vscode.Location[]&gt; {
    ...
    }
}
export function activate(ctx: vscode.ExtensionContext): void {
    ...
    ctx.subscriptions.push(
        vscode.languages.registerReferenceProvider(
            GO_MODE, new GoReferenceProvider()));
    ...
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong></p>
<p>ä¸ºæ‰€æœ‰å¼•ç”¨è¿”å›å¼•ç”¨ä½ç½®ï¼ˆèµ„æºçš„urlå’ŒèŒƒå›´ï¼‰</p>
<p><strong>è¿›é˜¶å®ç°</strong></p>
<p>æ— </p>
</blockquote>
<h3 id="é«˜äº®åŒ¹é…ç¬¦å·"><a href="#é«˜äº®åŒ¹é…ç¬¦å·" class="headerlink" title="é«˜äº®åŒ¹é…ç¬¦å·"></a>é«˜äº®åŒ¹é…ç¬¦å·</h3><hr>
<p>å…è®¸ç”¨æˆ·åœ¨æ‰“å¼€çš„ç¼–è¾‘å™¨ä¸­æŸ¥çœ‹æŸä¸ªç¬¦å·çš„å…¨éƒ¨åŒ¹é…é¡¹ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/document-highlights.gif" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®-6"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®-6" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>ä¸ºäº†å“åº”è¯·æ±‚<code>initialize</code>æ–¹æ³•ï¼Œè¯­è¨€æœåŠ¡å™¨éœ€è¦å£°æ˜å®ƒèƒ½æä¾›è¿™é¡¹åŠŸèƒ½ã€‚</p>
<pre><code>{
    ...
    "capabilities" : {
        "documentHighlightProvider" : "true"
        ...
    }
}</code></pre><p>å¦å¤–ï¼Œä½ çš„è¯­è¨€æœåŠ¡å™¨è¿˜è¦èƒ½å¤Ÿå“åº”<code>textDocument/documentHighlight</code>è¯·æ±‚ã€‚</p>
<h5 id="ç›´æ¥å®ç°-6"><a href="#ç›´æ¥å®ç°-6" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>class GoDocumentHighlightProvider implements vscode.DocumentHighlightProvider {
    public provideDocumentHighlights(
        document: vscode.TextDocument, position: vscode.Position, token: vscode.CancellationToken):
        vscode.DocumentHighlight[] | Thenable&lt;vscode.DocumentHighlight[]&gt;;
    ...
    }
}
export function activate(ctx: vscode.ExtensionContext): void {
    ...
    ctx.subscriptions.push(
        vscode.languages.registerDocumentHighlightProvider(
            GO_MODE, new GoDocumentHighlightProvider()));
    ...
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong></p>
<p>è¿”å›å¼•ç”¨æ–‡æ¡£</p>
<p><strong>è¿›é˜¶å®ç°</strong></p>
<p>æ— </p>
</blockquote>
<h3 id="æ˜¾ç¤ºå½“å‰æ–‡æ¡£ä¸­çš„ç¬¦å·å®šä¹‰"><a href="#æ˜¾ç¤ºå½“å‰æ–‡æ¡£ä¸­çš„ç¬¦å·å®šä¹‰" class="headerlink" title="æ˜¾ç¤ºå½“å‰æ–‡æ¡£ä¸­çš„ç¬¦å·å®šä¹‰"></a>æ˜¾ç¤ºå½“å‰æ–‡æ¡£ä¸­çš„ç¬¦å·å®šä¹‰</h3><hr>
<p>å…è®¸ç”¨æˆ·åœ¨æ‰“å¼€çš„ç¼–è¾‘å™¨ä¸­å¿«é€Ÿè·³è½¬åˆ°ä»»ä½•ç¬¦å·å®šä¹‰ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/document-symbols.gif" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®-7"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®-7" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>ä¸ºäº†å“åº”è¯·æ±‚<code>initialize</code>æ–¹æ³•ï¼Œè¯­è¨€æœåŠ¡å™¨éœ€è¦å£°æ˜å®ƒèƒ½æä¾›è¿™é¡¹åŠŸèƒ½ã€‚</p>
<pre><code>{
    ...
    "capabilities" : {
        "documentSymbolProvider" : "true"
        ...
    }
}</code></pre><p>å¦å¤–ï¼Œä½ çš„è¯­è¨€æœåŠ¡å™¨è¿˜è¦èƒ½å¤Ÿå“åº”<code>textDocument/documentSymbol</code>è¯·æ±‚ã€‚</p>
<h5 id="ç›´æ¥å®ç°-7"><a href="#ç›´æ¥å®ç°-7" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>class GoDocumentSymbolProvider implements vscode.DocumentSymbolProvider {
    public provideDocumentSymbols(
        document: vscode.TextDocument, token: vscode.CancellationToken):
        Thenable&lt;vscode.SymbolInformation[]&gt; {
    ...
    }
}
export function activate(ctx: vscode.ExtensionContext): void {
    ...
    ctx.subscriptions.push(
        vscode.languages.registerDocumentSymbolProvider(
            GO_MODE, new GoDocumentSymbolProvider()));
    ...
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong></p>
<p>è¿”å›æ–‡æ¡£ä¸­çš„æ‰€æœ‰ç¬¦å·ã€‚å°†ç¬¦å·åˆ†ç±»ï¼Œå¦‚å˜é‡ã€å‡½æ•°ã€ç±»ã€æ–¹æ³•ç­‰ã€‚</p>
<p><strong>è¿›é˜¶å®ç°</strong></p>
<p>æ— </p>
</blockquote>
<h3 id="æ˜¾ç¤ºæ–‡ä»¶å¤¹ä¸­çš„ç¬¦å·å®šä¹‰"><a href="#æ˜¾ç¤ºæ–‡ä»¶å¤¹ä¸­çš„ç¬¦å·å®šä¹‰" class="headerlink" title="æ˜¾ç¤ºæ–‡ä»¶å¤¹ä¸­çš„ç¬¦å·å®šä¹‰"></a>æ˜¾ç¤ºæ–‡ä»¶å¤¹ä¸­çš„ç¬¦å·å®šä¹‰</h3><hr>
<p>å…è®¸ç”¨æˆ·åœ¨æ‰“å¼€çš„æ–‡ä»¶å¤¹ï¼ˆå·¥ä½œåŒºï¼‰ä¸­å¿«é€Ÿè·³è½¬åˆ°ä»»ä½•ç¬¦å·å®šä¹‰ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/92951bb0d0fedef23d9d214b7792b6df.gif" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®-8"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®-8" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>ä¸ºäº†å“åº”è¯·æ±‚<code>initialize</code>æ–¹æ³•ï¼Œè¯­è¨€æœåŠ¡å™¨éœ€è¦å£°æ˜å®ƒèƒ½æä¾›è¿™é¡¹åŠŸèƒ½ã€‚</p>
<pre><code>{
    ...
    "capabilities" : {
        "workspaceSymbolProvider" : "true"
        ...
    }
}</code></pre><p>å¦å¤–ï¼Œä½ çš„è¯­è¨€æœåŠ¡å™¨è¿˜è¦èƒ½å¤Ÿå“åº”<code>workspace/symbol</code>è¯·æ±‚ã€‚</p>
<h5 id="ç›´æ¥å®ç°-8"><a href="#ç›´æ¥å®ç°-8" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>class GoWorkspaceSymbolProvider implements vscode.WorkspaceSymbolProvider {
    public provideWorkspaceSymbols(
        query: string, token: vscode.CancellationToken):
        Thenable&lt;vscode.SymbolInformation[]&gt; {
    ...
    }
}
export function activate(ctx: vscode.ExtensionContext): void {
    ...
    ctx.subscriptions.push(
        vscode.languages.registerWorkspaceSymbolProvider(
            new GoWorkspaceSymbolProvider()));
    ...
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong></p>
<p>è¿”å›æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰åŒ¹é…çš„ç¬¦å·ã€‚å°†ç¬¦å·åˆ†ç±»ï¼Œå¦‚å˜é‡ã€å‡½æ•°ã€ç±»ã€æ–¹æ³•ç­‰ã€‚</p>
<p><strong>è¿›é˜¶å®ç°</strong></p>
<p>æ— </p>
</blockquote>
<h3 id="å¤„ç†é”™è¯¯å’Œè­¦å‘Š"><a href="#å¤„ç†é”™è¯¯å’Œè­¦å‘Š" class="headerlink" title="å¤„ç†é”™è¯¯å’Œè­¦å‘Š"></a>å¤„ç†é”™è¯¯å’Œè­¦å‘Š</h3><hr>
<p>ä¸ºç”¨æˆ·æä¾›å¤„ç†é”™è¯¯å’Œè­¦å‘Šçš„åŠæ³•ã€‚å¦‚æœæœ‰æ›´æ­£æ“ä½œå¯ç”¨ï¼Œå°±ä¼šåœ¨é‚£ä¸ªé”™è¯¯è¾¹ä¸Šæ˜¾ç¤ºä¸€ä¸ªå°ç¯æ³¡ã€‚å½“ç”¨æˆ·ç‚¹å‡»ç¯æ³¡çš„æ—¶å€™ï¼Œä¼šæ˜¾ç¤ºå‡ºæ“ä½œåˆ—è¡¨ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/57277cc75f6be1dabda83931669228d3.gif" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®-9"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®-9" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>ä¸ºäº†å“åº”è¯·æ±‚<code>initialize</code>æ–¹æ³•ï¼Œè¯­è¨€æœåŠ¡å™¨éœ€è¦å£°æ˜å®ƒèƒ½æä¾›è¿™é¡¹åŠŸèƒ½ã€‚</p>
<pre><code>{
    ...
    "capabilities" : {
        "codeActionProvider" : "true"
        ...
    }
}</code></pre><p>å¦å¤–ï¼Œä½ çš„è¯­è¨€æœåŠ¡å™¨è¿˜è¦èƒ½å¤Ÿå“åº”<code>textDocument/codeAction</code>è¯·æ±‚ã€‚</p>
<h5 id="ç›´æ¥å®ç°-9"><a href="#ç›´æ¥å®ç°-9" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>class GoCodeActionProvider implements vscode.CodeActionProvider {
    public provideCodeActions(
        document: vscode.TextDocument, range: vscode.Range,
        context: vscode.CodeActionContext, token: vscode.CancellationToken):
        Thenable&lt;vscode.Command[]&gt; {
    ...
    }
}
export function activate(ctx: vscode.ExtensionContext): void {
    ...
    ctx.subscriptions.push(
        vscode.languages.registerCodeActionsProvider(
            GO_MODE, new GoCodeActionProvider()));
    ...
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong></p>
<p>ä¸ºé”™è¯¯/è­¦å‘Šæä¾›æ›´æ­£æ“ä½œã€‚</p>
<p><strong>è¿›é˜¶å®ç°</strong></p>
<p>æä¾›æºç çº§åˆ«çš„æ“ä½œï¼Œå¦‚é‡æ„ã€æå–æ–¹æ³•ç­‰ã€‚</p>
</blockquote>
<h3 id="CodeLens-ä¸ºæºä»£ç æä¾›æ›´å¤šæ“ä½œ"><a href="#CodeLens-ä¸ºæºä»£ç æä¾›æ›´å¤šæ“ä½œ" class="headerlink" title="CodeLens - ä¸ºæºä»£ç æä¾›æ›´å¤šæ“ä½œ"></a>CodeLens - ä¸ºæºä»£ç æä¾›æ›´å¤šæ“ä½œ</h3><hr>
<p>ä¸ºç”¨æˆ·å¼¹å‡ºä¸€ä¸ªå¯ä»¥æ“ä½œã€åŒ…å«ä¸Šä¸‹æ–‡ä¿¡æ¯çš„åˆ†éš”å¼¹å‡ºæ¡†ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/cc9832b4a89362bbc7af69bbd4b1c053.gif" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®-10"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®-10" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>ä¸ºäº†å“åº”è¯·æ±‚<code>initialize</code>æ–¹æ³•ï¼Œè¯­è¨€æœåŠ¡å™¨éœ€è¦å£°æ˜å®ƒèƒ½æä¾›è¿™é¡¹åŠŸèƒ½ï¼Œä»¥åŠå®ƒæ˜¯å¦æ”¯æŒå°†<code>codeLens\resolve</code>æ–¹æ³•ç»‘å®šåˆ°CodeLensçš„å‘½ä»¤ä¸Šã€‚</p>
<pre><code>{
    ...
    "capabilities" : {
        "codeLensProvider" : {
            "resolveProvider": "true"
        }
        ...
    }
}</code></pre><p>å¦å¤–ï¼Œä½ çš„è¯­è¨€æœåŠ¡å™¨è¿˜è¦èƒ½å¤Ÿå“åº”<code>textDocument/codeLens</code>è¯·æ±‚ã€‚</p>
<h5 id="ç›´æ¥å®ç°-10"><a href="#ç›´æ¥å®ç°-10" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>class GoCodeLensProvider implements vscode.CodeLensProvider {
    public provideCodeLenses(document: TextDocument, token: CancellationToken):
        CodeLens[] | Thenable&lt;CodeLens[]&gt; {
    ...
    }
    public resolveCodeLens?(codeLens: CodeLens, token: CancellationToken):
         CodeLens | Thenable&lt;CodeLens&gt; {
    ...
    }
}
export function activate(ctx: vscode.ExtensionContext): void {
    ...
    ctx.subscriptions.push(
        vscode.languages.registerCodeLensProvider(
            GO_MODE, new GoCodeLensProvider()));
    ...
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong></p>
<p>ä¸ºæ–‡æ¡£æä¾›CodeLensç»“æœã€‚</p>
<p><strong>è¿›é˜¶å®ç°</strong></p>
<p>å°†Codelensç»“æœç»‘å®šåˆ°å“åº”<code>codeLens/resolve</code>çš„å‘½ä»¤ä¸Šã€‚</p>
</blockquote>
<h3 id="é¢œè‰²æ‹¾å–å™¨"><a href="#é¢œè‰²æ‹¾å–å™¨" class="headerlink" title="é¢œè‰²æ‹¾å–å™¨"></a>é¢œè‰²æ‹¾å–å™¨</h3><hr>
<p>å…è®¸ç”¨æˆ·åœ¨æ–‡ä»¶ä¸­é¢„è§ˆå’Œä¿®æ”¹é¢œè‰²ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/a7411330f51b87675fec30e3810f9909.png" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®-11"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®-11" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>ä¸ºäº†å“åº”è¯·æ±‚<code>initialize</code>æ–¹æ³•ï¼Œè¯­è¨€æœåŠ¡å™¨éœ€è¦å£°æ˜å®ƒèƒ½æä¾›è¿™é¡¹åŠŸèƒ½ã€‚</p>
<pre><code>{
    ...
    "capabilities" : {
        "colorProvider" : "true"
        ...
    }
}</code></pre><p>å¦å¤–ï¼Œä½ çš„è¯­è¨€æœåŠ¡å™¨è¿˜è¦èƒ½å¤Ÿå“åº”<code>textDocument/documentColor</code>å’Œ<code>textDocument/colorPresentation</code>è¯·æ±‚ã€‚</p>
<h5 id="ç›´æ¥å®ç°-11"><a href="#ç›´æ¥å®ç°-11" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>class GoColorProvider implements vscode.DocumentColorProvider {
    public provideDocumentColors(
        document: vscode.TextDocument, token: vscode.CancellationToken):
        Thenable&lt;vscode.ColorInformation[]&gt; {
    ...
    }
    public provideColorPresentations(
        color: Color, context: { document: TextDocument, range: Range }, token: vscode.CancellationToken):
        Thenable&lt;vscode.ColorPresentation[]&gt; {
    ...
    }
}
export function activate(ctx: vscode.ExtensionContext): void {
    ...
    ctx.subscriptions.push(
        vscode.languages.registerColorProvider(
            GO_MODE, new GoColorProvider()));
    ...
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong></p>
<p>è¿”å›æ–‡æ¡£ä¸­çš„å…¨éƒ¨é¢œè‰²å¼•ç”¨ã€‚åœ¨é¢œè‰²é¢æ¿å²æ”¯æŒè‰²å½©æ ¼å¼ï¼ˆå¦‚rgb(â€¦)ï¼Œhsl(â€¦)ï¼‰</p>
<p><strong>è¿›é˜¶å®ç°</strong></p>
<p>æ— </p>
</blockquote>
<h3 id="æ ¼å¼åŒ–ä»£ç "><a href="#æ ¼å¼åŒ–ä»£ç " class="headerlink" title="æ ¼å¼åŒ–ä»£ç "></a>æ ¼å¼åŒ–ä»£ç </h3><hr>
<p>æä¾›æ•´ä¸ªæ–‡æ¡£çš„ä»£ç æ ¼å¼åŒ–æ”¯æŒã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/a70fb2e212fe5df0391fd733a9fcf688.gif" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®-12"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®-12" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>ä¸ºäº†å“åº”è¯·æ±‚<code>initialize</code>æ–¹æ³•ï¼Œè¯­è¨€æœåŠ¡å™¨éœ€è¦å£°æ˜å®ƒèƒ½æä¾›è¿™é¡¹åŠŸèƒ½ã€‚</p>
<pre><code>{
    ...
    "capabilities" : {
        "documentFormattingProvider" : "true"
        ...
    }
}</code></pre><p>å¦å¤–ï¼Œä½ çš„è¯­è¨€æœåŠ¡å™¨è¿˜è¦èƒ½å¤Ÿå“åº”<code>textDocument/formatting</code>è¯·æ±‚ã€‚</p>
<h5 id="ç›´æ¥å®ç°-12"><a href="#ç›´æ¥å®ç°-12" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>class GoDocumentFormatter implements vscode.DocumentFormattingEditProvider {
    public formatDocument(document: vscode.TextDocument):
        Thenable&lt;vscode.TextEdit[]&gt; {
    ...
    }
}
export function activate(ctx: vscode.ExtensionContext): void {
    ...
    ctx.subscriptions.push(
        vscode.languages.registerDocumentFormattingEditProvider(
            GO_MODE, new GoDocumentFormatter()));
    ...
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong></p>
<p>ä¸æä¾›æ ¼å¼åŒ–æ”¯æŒ</p>
<p><strong>è¿›é˜¶å®ç°</strong></p>
<p>ä½ åº”è¯¥å°½é‡å‡å°‘ä»£ç æ ¼å¼åŒ–çš„å½±å“ã€‚ç¨æœ‰ä¸æ…ï¼Œè¯Šæ–­åŠŸèƒ½å°±å¯èƒ½å¤±æ•ˆã€‚</p>
</blockquote>
<h3 id="æ ¼å¼åŒ–é€‰ä¸­åŒºåŸŸ"><a href="#æ ¼å¼åŒ–é€‰ä¸­åŒºåŸŸ" class="headerlink" title="æ ¼å¼åŒ–é€‰ä¸­åŒºåŸŸ"></a>æ ¼å¼åŒ–é€‰ä¸­åŒºåŸŸ</h3><hr>
<p>ä¸ºç”¨æˆ·é€‰ä¸­åŒºåŸŸæä¾›ä»£ç æ ¼å¼åŒ–æ”¯æŒã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/0dc2b33086d472dbd6fdc7c557e30591.gif" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®-13"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®-13" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>ä¸ºäº†å“åº”è¯·æ±‚<code>initialize</code>æ–¹æ³•ï¼Œè¯­è¨€æœåŠ¡å™¨éœ€è¦å£°æ˜å®ƒèƒ½æä¾›è¿™é¡¹åŠŸèƒ½ã€‚</p>
<pre><code>{
    ...
    "capabilities" : {
        "documentRangeFormattingProvider" : "true"
        ...
    }
}</code></pre><p>å¦å¤–ï¼Œä½ çš„è¯­è¨€æœåŠ¡å™¨è¿˜è¦èƒ½å¤Ÿå“åº”<code>textDocument/rangeFormatting</code>è¯·æ±‚ã€‚</p>
<h5 id="ç›´æ¥å®ç°-13"><a href="#ç›´æ¥å®ç°-13" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>class GoDocumentRangeFormatter implements vscode.DocumentRangeFormattingEditProvider{
    public provideDocumentRangeFormattingEdits(
        document: vscode.TextDocument, range: vscode.Range,
        options: vscode.FormattingOptions, token: vscode.CancellationToken):
        Thenable&lt;vscode.TextEdit[]&gt;;
    ...
    }
}
export function activate(ctx: vscode.ExtensionContext): void {
    ...
    ctx.subscriptions.push(
        vscode.languages.registerDocumentRangeFormattingEditProvider(
            GO_MODE, new GoDocumentRangeFormatter()));
    ...
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong></p>
<p>ä¸æä¾›æ ¼å¼åŒ–æ”¯æŒ</p>
<p><strong>è¿›é˜¶å®ç°</strong></p>
<p>ä½ åº”è¯¥å°½é‡å‡å°‘ä»£ç æ ¼å¼åŒ–çš„å½±å“ã€‚ç¨æœ‰ä¸æ…ï¼Œè¯Šæ–­åŠŸèƒ½å°±å¯èƒ½å¤±æ•ˆã€‚</p>
</blockquote>
<h3 id="éšç”¨æˆ·è¾“å…¥æ ¼å¼åŒ–ä»£ç "><a href="#éšç”¨æˆ·è¾“å…¥æ ¼å¼åŒ–ä»£ç " class="headerlink" title="éšç”¨æˆ·è¾“å…¥æ ¼å¼åŒ–ä»£ç "></a>éšç”¨æˆ·è¾“å…¥æ ¼å¼åŒ–ä»£ç </h3><hr>
<p>æ”¯æŒç”¨æˆ·è¾“å…¥æ—¶åŠ¨æ€è°ƒæ•´æ–‡æœ¬æ ¼å¼ã€‚</p>
<p>!&gt; <strong>æ³¨æ„ï¼š</strong>ç”¨æˆ·<a href="https://code.visualstudio.com/docs/getstarted/settings" target="_blank" rel="noopener">è®¾ç½®</a>ä¸­çš„<code>editor.formatOnType</code>æ§åˆ¶ç€æœ¬åŠŸèƒ½ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/61b5ac9ca2375a5a619681ae07846796.gif" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®-14"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®-14" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>ä¸ºäº†å“åº”è¯·æ±‚<code>initialize</code>æ–¹æ³•ï¼Œè¯­è¨€æœåŠ¡å™¨éœ€è¦å£°æ˜å®ƒèƒ½æä¾›è¿™é¡¹åŠŸèƒ½ã€‚æœåŠ¡å™¨è¿˜å¾—å‘Šè¯‰å®¢æˆ·ç«¯å“ªäº›å­—ç¬¦éœ€è¦è¢«æ ¼å¼åŒ–ï¼Œ<code>moreTriggerCharacters</code>æ˜¯å¯é€‰çš„ã€‚</p>
<pre><code>{
    ...
    "capabilities" : {
        "documentOnTypeFormattingProvider" : {
            "firstTriggerCharacter": "}",
            "moreTriggerCharacter": [";", ","]
        }
        ...
    }
}</code></pre><p>å¦å¤–ï¼Œä½ çš„è¯­è¨€æœåŠ¡å™¨è¿˜è¦èƒ½å¤Ÿå“åº”<code>textDocument/onTypeFormatting</code>è¯·æ±‚ã€‚</p>
<h5 id="ç›´æ¥å®ç°-14"><a href="#ç›´æ¥å®ç°-14" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>class GoOnTypingFormatter implements vscode.OnTypeFormattingEditProvider{
    public provideOnTypeFormattingEdits(
        document: vscode.TextDocument, position: vscode.Position,
        ch: string, options: vscode.FormattingOptions, token: vscode.CancellationToken):
        Thenable&lt;vscode.TextEdit[]&gt;;
    ...
    }
}
export function activate(ctx: vscode.ExtensionContext): void {
    ...
    ctx.subscriptions.push(
        vscode.languages.registerOnTypeFormattingEditProvider(
            GO_MODE, new GoOnTypingFormatter()));
    ...
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong></p>
<p>ä¸æä¾›æ ¼å¼åŒ–æ”¯æŒ</p>
<p><strong>è¿›é˜¶å®ç°</strong></p>
<p>ä½ åº”è¯¥å°½é‡å‡å°‘ä»£ç æ ¼å¼åŒ–çš„å½±å“ã€‚ç¨æœ‰ä¸æ…ï¼Œè¯Šæ–­åŠŸèƒ½å°±å¯èƒ½å¤±æ•ˆã€‚</p>
</blockquote>
<h3 id="é‡å‘½åç¬¦å·"><a href="#é‡å‘½åç¬¦å·" class="headerlink" title="é‡å‘½åç¬¦å·"></a>é‡å‘½åç¬¦å·</h3><hr>
<p>å…è®¸ç”¨æˆ·é‡å‘½åç¬¦å·ï¼Œå¹¶æ›´æ–°å¯¹åº”ç¬¦å·çš„å…¨éƒ¨å¼•ç”¨ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/rename.gif" alt=""></p>
<h5 id="è¯­è¨€æœåŠ¡å™¨åè®®-15"><a href="#è¯­è¨€æœåŠ¡å™¨åè®®-15" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨åè®®"></a>è¯­è¨€æœåŠ¡å™¨åè®®</h5><p>ä¸ºäº†å“åº”è¯·æ±‚<code>initialize</code>æ–¹æ³•ï¼Œè¯­è¨€æœåŠ¡å™¨éœ€è¦å£°æ˜å®ƒèƒ½æä¾›è¿™é¡¹åŠŸèƒ½ã€‚</p>
<pre><code>{
    ...
    "capabilities" : {
        "renameProvider" : "true"
        ...
    }
}</code></pre><p>å¦å¤–ï¼Œä½ çš„è¯­è¨€æœåŠ¡å™¨è¿˜è¦èƒ½å¤Ÿå“åº”<code>textDocument/rename</code>è¯·æ±‚ã€‚</p>
<h5 id="ç›´æ¥å®ç°-15"><a href="#ç›´æ¥å®ç°-15" class="headerlink" title="ç›´æ¥å®ç°"></a>ç›´æ¥å®ç°</h5><pre><code>class GoRenameProvider implements vscode.RenameProvider {
    public provideRenameEdits(
        document: vscode.TextDocument, position: vscode.Position,
        newName: string, token: vscode.CancellationToken):
        Thenable&lt;vscode.WorkspaceEdit&gt; {
    ...
    }
}
export function activate(ctx: vscode.ExtensionContext): void {
    ...
    ctx.subscriptions.push(
        vscode.languages.registerRenameProvider(
            GO_MODE, new GoRenameProvider()));
    ...
}</code></pre><blockquote>
<p><strong>åŸºç¡€å®ç°</strong></p>
<p>ä¸æä¾›æœ¬åŠŸèƒ½æ”¯æŒã€‚</p>
<p><strong>è¿›é˜¶å®ç°</strong></p>
<p>è¿”å›å·¥ä½œåŒºä¸­å…¨éƒ¨éœ€è¦ç”Ÿæ•ˆçš„ç¼–è¾‘åŒºï¼Œæ¯”å¦‚å½“ä¸€ä¸ªç¬¦å·åœ¨é¡¹ç›®çš„å„ä¸ªåœ°æ–¹éƒ½è¢«å¼•ç”¨æ—¶ã€‚</p>
</blockquote>
<h2 id="ç¤ºä¾‹ï¼šè¯­è¨€æœåŠ¡å™¨"><a href="#ç¤ºä¾‹ï¼šè¯­è¨€æœåŠ¡å™¨" class="headerlink" title="ç¤ºä¾‹ï¼šè¯­è¨€æœåŠ¡å™¨"></a>ç¤ºä¾‹ï¼šè¯­è¨€æœåŠ¡å™¨</h2><p>å°±å¦‚ä½ åœ¨ç¨‹åºæ€§è¯­è¨€ç‰¹æ€§ç« èŠ‚æ‰€è§ï¼Œå®ç°è¯­è¨€ç‰¹æ€§çš„ç›´æ¥æ–¹å¼æ˜¯ä½¿ç”¨<code>languages.*</code>APIã€‚ä½†æ˜¯è¯­è¨€æœåŠ¡å™¨ä¸åŒï¼Œå®ƒæ˜¯å¦ä¸€ç§è¯­è¨€æ’ä»¶çš„å®ç°æ–¹å¼ã€‚</p>
<p>æœ¬ç« å°†ï¼š</p>
<ul>
<li>è§£é‡Šè¯­è¨€æœåŠ¡å™¨æ’ä»¶çš„å¥½å¤„</li>
<li>æ‰‹æŠŠæ‰‹æ•™ä½ å®ç°ä¸€ä¸ªè¯­è¨€æœåŠ¡å™¨<a href="https://github.com/Microsoft/vscode-languageserver-node" target="_blank" rel="noopener"><code>Microsoft/vscode-languageserver-node</code></a>ï¼Œä½ è§‰å¾—å•°å—¦çš„è¯ï¼Œä¹Ÿå¯ä»¥ç›´æ¥çœ‹<a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/lsp-sample" target="_blank" rel="noopener">lsp-sample</a>æºç ã€‚</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨è¯­è¨€æœåŠ¡å™¨ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨è¯­è¨€æœåŠ¡å™¨ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨è¯­è¨€æœåŠ¡å™¨ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä½¿ç”¨è¯­è¨€æœåŠ¡å™¨ï¼Ÿ</h3><hr>
<p>è¯­è¨€æœåŠ¡å™¨æ˜¯ä¸€ç§å¯ä»¥æå‡è¯­è¨€ç¼–è¾‘ä½“éªŒçš„ç‰¹æ®ŠVS Codeæ’ä»¶ã€‚æœ‰äº†è¯­è¨€æœåŠ¡å™¨ï¼Œä½ å¯ä»¥å®ç°å¦‚è‡ªåŠ¨è¡¥å…¨ã€é”™è¯¯æ£€æŸ¥ï¼ˆè¯Šæ–­ï¼‰ã€è½¬è·³åˆ°å®šä¹‰ç­‰ç­‰å…¶ä»–VS Codeè¯­è¨€ç‰¹æ€§ã€‚</p>
<p>ä½†æ˜¯åœ¨VS Codeä¸­å®ç°è¯­è¨€åŠŸèƒ½ä¼šé¢ä¸´ä¸‰ä¸ªé—®é¢˜ï¼š</p>
<p>ç¬¬ä¸€ï¼Œè¯­è¨€æœåŠ¡å™¨ä¸€èˆ¬æ˜¯ç”¨ä»–ä»¬è‡ªå·±åŸç”Ÿçš„è¯­è¨€å®ç°çš„ï¼Œé‚£ä¹ˆå¦‚ä½•ä¸VS Codeä¸­çš„Node.jsè¿è¡Œæ—¶æ•´åˆèµ·æ¥å°±æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚</p>
<p>å…¶äºŒï¼Œè¯­è¨€æœåŠ¡å™¨ä¸€èˆ¬éƒ½æ˜¯é«˜æ¶ˆè€—çš„ã€‚æ¯”å¦‚æ£€æŸ¥æ–‡ä»¶ï¼Œè¯­è¨€æœåŠ¡å™¨éœ€è¦è§£æå¤§é‡çš„æ–‡ä»¶ï¼Œæ„å»ºèµ·æŠ½è±¡è¯­æ³•æ ‘ç„¶åè¿›è¡Œé™æ€åˆ†æã€‚è¿™äº›æ“ä½œä¼šåƒæ‰å¾ˆå¤šCPUå’Œå†…å­˜ï¼Œä½†æ˜¯ä¸æ­¤åŒæ—¶VS Codeçš„æ€§èƒ½ä¸èƒ½å—åˆ°ä»»ä½•å½±å“ã€‚</p>
<p>ç¬¬ä¸‰ï¼Œé€šå¸¸ä¸ºå¤šä¸ªç¼–è¾‘å™¨å¼€å‘ä¸åŒçš„è¯­è¨€æ’ä»¶éœ€è¦èŠ±è´¹å¤§é‡ç²¾åŠ›ã€‚å¯¹äºè¯­è¨€æ’ä»¶å¼€å‘è€…æ¥è¯´ï¼Œä»–ä»¬éœ€è¦æ ¹æ®ä¸åŒç¼–è¾‘å™¨å„è‡ªçš„APIæ¥å®ç°æ’ä»¶ã€‚è€Œä»ç¼–è¾‘å™¨çš„è§’åº¦æ¥è®²ï¼Œä»–ä»¬ä¹Ÿä¸èƒ½æŒ‡æœ›è¯­è¨€å·¥å…·APIç»Ÿä¸€ã€‚æœ€ç»ˆå¯¼è‡´äº†ä¸º<code>N</code>ç§ç¼–è¾‘å™¨å®ç°<code>M</code>ç§è¯­è¨€éœ€è¦èŠ±è´¹<code>N*M</code>çš„å·¥ä½œå’Œç²¾åŠ›ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œå¾®è½¯æä¾›äº†<a href="https://microsoft.github.io/language-server-protocol" target="_blank" rel="noopener">è¯­è¨€æœåŠ¡å™¨åè®®(Language Server Protocol)</a>æ„å›¾ä¸ºè¯­è¨€æ’ä»¶å’Œç¼–è¾‘å™¨æä¾›ç¤¾åŒºè§„èŒƒã€‚è¿™æ ·ä¸€æ¥ï¼Œè¯­è¨€æœåŠ¡å™¨å°±å¯ä»¥ç”¨ä»»ä½•ä¸€ç§è¯­è¨€æ¥å®ç°ï¼Œç”¨åè®®é€šè®¯ä¹Ÿé¿å…äº†æ’ä»¶åœ¨ä¸»è¿›ç¨‹ä¸­è¿è¡Œçš„é«˜å¼€é”€ã€‚è€Œä¸”ä»»ä½•LSPå…¼å®¹çš„è¯­è¨€æ’ä»¶ï¼Œéƒ½èƒ½å’ŒLSPå…¼å®¹çš„ä»£ç ç¼–è¾‘å™¨æ•´åˆèµ·æ¥ï¼ŒLSPæ˜¯è¯­è¨€æ’ä»¶å¼€å‘è€…å’Œç¬¬ä¸‰æ–¹ç¼–è¾‘å™¨çš„å…±èµ¢æ–¹æ¡ˆã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/6738d3e51d334232d048ccfc7f447f1f.png" alt=""></p>
<p>åœ¨æœ¬ç« ï¼Œæˆ‘ä»¬å°†ï¼š</p>
<ul>
<li>æ ¹æ®<a href="https://github.com/Microsoft/vscode-languageserver-node" target="_blank" rel="noopener">Node SDK</a>ï¼Œå­¦ä¹ å¦‚ä½•åœ¨VS Codeä¸­æ–°å»ºä¸€ä¸ªè¯­è¨€æœåŠ¡å™¨æ’ä»¶</li>
<li>å­¦ä¹ å¦‚ä½•è¿è¡Œã€è°ƒè¯•ã€è®°å½•æ—¥å¿—å’Œæµ‹è¯•è¯­è¨€æœåŠ¡å™¨æ’ä»¶</li>
<li>ä¸ºä½ æä¾›æ›´å¤šè¿›é˜¶çš„è¯­è¨€æœåŠ¡å™¨</li>
</ul>
<p>?&gt; <strong>è¯‘è€…æ³¨</strong>ï¼šæœ¬æ–‡åŠå…¶ä»–ç« èŠ‚æ‰€æ¶‰åŠçš„<strong>LSP</strong>å…¨ä¸ºLanguage Server Protocolçš„ç¼©å†™ã€‚<strong>è¯­è¨€æœåŠ¡å™¨åè®®</strong>æ˜¯VS Codeä¸ºäº†è°ƒè¯•ã€åˆ†æè¯­è¨€çš„è‡ªå¸¦çš„ä¸­é—´å±‚åè®®ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼ŒVS Codeæœ¬èº«åªæ˜¯ä¸€ä¸ªç¼–è¾‘å™¨ï¼Œå®ƒä¸å«ä»»ä½•ç¼–ç¨‹è¯­è¨€çš„åŠŸèƒ½å’Œè¿è¡Œæ—¶ï¼ˆjavascriptå’Œtypescripté™¤å¤–ï¼‰ï¼Œè€Œæ˜¯å°†è¯­è¨€çš„å„ç§ç‰¹æ€§äº¤ç»™äº†æ’ä»¶åˆ›ä½œè€…è‡ªç”±å®ç°ã€‚</p>
<h3 id="å®ç°ä½ è‡ªå·±çš„è¯­è¨€æœåŠ¡å™¨"><a href="#å®ç°ä½ è‡ªå·±çš„è¯­è¨€æœåŠ¡å™¨" class="headerlink" title="å®ç°ä½ è‡ªå·±çš„è¯­è¨€æœåŠ¡å™¨"></a>å®ç°ä½ è‡ªå·±çš„è¯­è¨€æœåŠ¡å™¨</h3><hr>
<p>åœ¨VS Codeä¸­ï¼Œä¸€ä¸ªè¯­è¨€æœåŠ¡å™¨æœ‰ä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li><strong>è¯­è¨€å®¢æˆ·ç«¯</strong>ï¼šä¸€ä¸ªç”±Javascript/Typescriptç»„æˆçš„æ™®é€šæ’ä»¶ï¼Œè¿™ä¸ªæ’ä»¶èƒ½ä½¿ç”¨æ‰€æœ‰çš„VS Code å‘½åç©ºé—´APIã€‚</li>
<li><strong>è¯­è¨€æœåŠ¡å™¨</strong>ï¼šè¿è¡Œåœ¨å•ç‹¬è¿›ç¨‹ä¸­çš„è¯­è¨€åˆ†æå·¥å…·ã€‚</li>
</ul>
<p>è¯­è¨€æœåŠ¡å™¨è¿è¡Œåœ¨å•ç‹¬çš„è¿›ç¨‹æœ‰ä¸¤ä¸ªå¥½å¤„ï¼š</p>
<ul>
<li>åªè¦èƒ½é€šè¿‡LSPé€šä¿¡ï¼Œè¯­è¨€åˆ†æå·¥å…·å¯ä»¥ç”¨ä»»ä½•è¯­è¨€å®ç°ã€‚</li>
<li>è¯­è¨€åˆ†æå·¥å…·ä¸€èˆ¬éå¸¸æ¶ˆè€—CPUå’Œå†…å­˜ï¼Œåœ¨å•ç‹¬çš„è¿›ç¨‹ä¸­è¿è¡Œèƒ½é¿å…å¤§æ€§èƒ½å¼€é”€</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªè¿è¡Œäº†2ä¸ª<strong>è¯­è¨€æœåŠ¡å™¨æ’ä»¶</strong>çš„ç¤ºæ„å›¾ã€‚HTMLè¯­è¨€å®¢æˆ·ç«¯å’ŒPHPè¯­è¨€å®¢æˆ·ç«¯æ˜¯å¸¸è§çš„VS Codeæ’ä»¶ã€‚ä¸¤ä¸ªå®¢æˆ·ç«¯éƒ½ç”¨LSPä¸å„è‡ªå¯¹åº”çš„è¯­è¨€æœåŠ¡å™¨è¿›è¡Œé€šä¿¡â€”â€”å³ä½¿PHPè¯­è¨€æœåŠ¡å™¨æ˜¯ç”¨PHPå†™çš„ï¼Œä½†æ˜¯ä»ç„¶èƒ½é€šè¿‡LSPä¸PHPè¯­è¨€å®¢æˆ·ç«¯å»ºç«‹èµ·é€šä¿¡ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/8cafc25dca9e8d0b30ff7e5748e9883e.png" alt=""></p>
<p>æœ¬ç¯‡å°†æŒ‡å¼•ä½ å­¦ä¹ å¦‚ä½•ç”¨æˆ‘ä»¬çš„<a href="https://github.com/Microsoft/vscode-languageserver-node" target="_blank" rel="noopener">Node SDK</a>æ„å»ºä¸€ä¸ªè¯­è¨€å®¢æˆ·ç«¯/æœåŠ¡å™¨ã€‚å‰©ä¸‹çš„å†…å®¹éƒ½å»ºç«‹åœ¨ä½ å·²ç»äº†è§£VS Codeæ’ä»¶å¼€å‘çš„åŸºç¡€ä¹‹ä¸Šã€‚</p>
<h3 id="ç¤ºä¾‹ï¼šä¸€ä¸ªç®€å•çš„çº¯æ–‡æœ¬è¯­è¨€æœåŠ¡å™¨"><a href="#ç¤ºä¾‹ï¼šä¸€ä¸ªç®€å•çš„çº¯æ–‡æœ¬è¯­è¨€æœåŠ¡å™¨" class="headerlink" title="ç¤ºä¾‹ï¼šä¸€ä¸ªç®€å•çš„çº¯æ–‡æœ¬è¯­è¨€æœåŠ¡å™¨"></a>ç¤ºä¾‹ï¼šä¸€ä¸ªç®€å•çš„çº¯æ–‡æœ¬è¯­è¨€æœåŠ¡å™¨</h3><hr>
<p>è®©æˆ‘ä»¬é¦–å…ˆå®ç°ä¸€ä¸ªç®€å•çš„è¯­è¨€æœåŠ¡å™¨æ’ä»¶å§ï¼Œè¿™ä¸ªæ’ä»¶çš„åŠŸèƒ½æ˜¯è‡ªåŠ¨è¡¥å…¨ã€è¯Šæ–­çº¯æ–‡æœ¬æ–‡ä»¶ã€‚æˆ‘ä»¬ä¼šåŒæ—¶å­¦ä¹ å®¢æˆ·ç«¯/æœåŠ¡ç«¯çš„é…ç½®ã€‚ å¦‚æœä½ æƒ³ç›´æ¥ä¸Šæ‰‹ä»£ç ï¼š</p>
<ul>
<li><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/lsp-sample" target="_blank" rel="noopener">lsp-sample</a>ï¼šæœ¬ç¯‡æ•™ç¨‹çš„ä¸»è¦æºä»£ç ï¼Œæœ‰å¤§é‡æ³¨é‡Š</li>
<li><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/lsp-multi-server-sample" target="_blank" rel="noopener">lsp-multi-server-sample</a>ï¼š<strong>lsp-sample</strong>çš„è¿›é˜¶ç‰ˆæœ¬ï¼ŒåŒæ ·æœ‰å¤§é‡æ³¨é‡Šï¼Œæ”¯æŒ<a href="https://code.visualstudio.com/docs/editor/multi-root-workspaces" target="_blank" rel="noopener">å¤šç›®å½•å·¥ä½œåŒº</a>ç‰¹æ€§çš„è¯­è¨€æœåŠ¡å™¨å®ä¾‹ã€‚</li>
</ul>
<p>å¤åˆ¶<a href="https://github.com/Microsoft/vscode-extension-samples" target="_blank" rel="noopener">Microsoft/vscode-extension-samples</a>ç„¶åæ‰“å¼€ç¤ºä¾‹ï¼š</p>
<pre><code>&gt; cd lsp-sample
&gt; npm install
&gt; npm run compile
&gt; code .</code></pre><p>å®‰è£…å®Œæ‰€æœ‰ä¾èµ–ç„¶åæ‰“å¼€<strong>lsp-sample</strong>å·¥ä½œï¼Œé‡Œé¢åŒ…å«å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„ä»£ç ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ•´ä½“çš„<strong>lsp-sample</strong>ç›®å½•ç»“æ„ï¼š</p>
<pre><code>.
â”œâ”€â”€ client // è¯­è¨€å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ src
â”‚   â”‚   â”œâ”€â”€ test // è¯­è¨€å®¢æˆ·ç«¯ / æœåŠ¡å™¨ çš„ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â”‚   â””â”€â”€ extension.ts // è¯­è¨€å®¢æˆ·ç«¯å…¥å£
â”œâ”€â”€ package.json // æ’ä»¶é…ç½®æ¸…å•
â””â”€â”€ server // è¯­è¨€æœåŠ¡å™¨
    â””â”€â”€ src
        â””â”€â”€ server.ts // è¯­è¨€æœåŠ¡å™¨å…¥å£</code></pre><h3 id="ä»€ä¹ˆæ˜¯â€™Language-Clientâ€™"><a href="#ä»€ä¹ˆæ˜¯â€™Language-Clientâ€™" class="headerlink" title="ä»€ä¹ˆæ˜¯â€™Language Clientâ€™"></a>ä»€ä¹ˆæ˜¯â€™Language Clientâ€™</h3><hr>
<p>æˆ‘ä»¬å…ˆçœ‹çœ‹<code>/package.json</code>ï¼Œè¿™ä¸ªæ–‡ä»¶æè¿°äº†è¯­è¨€å®¢æˆ·ç«¯çš„èƒ½åŠ›ã€‚é‡Œé¢æœ‰3ä¸ªæœ‰è¶£çš„éƒ¨åˆ†ï¼š</p>
<p>é¦–å…ˆçœ‹çœ‹activationEventsï¼š</p>
<pre><code>"activationEvents": [
    "onLanguage:plaintext"
]</code></pre><p>è¿™ä¸ªéƒ¨åˆ†å‘Šè¯‰VS Codeåªè¦æ‰“å¼€çº¯æ–‡æœ¬æ–‡ä»¶ä¹‹åå°±ç«‹åˆ»æ¿€æ´»æ’ä»¶ï¼ˆä¾‹å¦‚ï¼šæ‰“å¼€ä¸€ä¸ª<code>.txt</code>æ–‡ä»¶ï¼‰</p>
<p>ä¸‹ä¸€æ­¥çœ‹çœ‹configurationéƒ¨åˆ†ï¼š</p>
<pre><code>"configuration": {
    "type": "object",
    "title": "Example configuration",
    "properties": {
        "languageServerExample.maxNumberOfProblems": {
            "scope": "resource",
            "type": "number",
            "default": 100,
            "description": "Controls the maximum number of problems produced by the server."
        }
    }
}</code></pre><p>è¿™ä¸ªéƒ¨åˆ†é…ç½®äº†ç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰çš„<code>configuration</code>ï¼Œç”¨æˆ·é€šè¿‡è¿™ä¸ªé…ç½®å¯ä»¥åœ¨<strong>è®¾ç½®</strong>ä¸­å¯¹ä½ çš„æ’ä»¶åšä¸€äº›ä¿®æ”¹ã€‚è¿™å¹¶ä¸æ˜¯æœ¬èŠ‚é‡ç‚¹ï¼Œç¨åç¤ºä¾‹å°†é€šè¿‡ä»£ç å‘ˆç°â€”â€”æ’ä»¶å¦‚ä½•åœ¨è®¾ç½®å˜åŠ¨åå°†<strong>ä¿®æ”¹åçš„é…ç½®</strong>åº”ç”¨åˆ°æˆ‘ä»¬çš„è¯­è¨€æœåŠ¡å™¨ä¸Šã€‚</p>
<p>çœŸæ­£çš„è¯­è¨€å®¢æˆ·ç«¯ä»£ç å’Œå¯¹åº”çš„<code>package.json</code>åœ¨<code>/client</code>æ–‡ä»¶å¤¹ä¸­ã€‚<code>package.json</code>æœ€æœ‰è¶£çš„éƒ¨åˆ†æ˜¯<code>vscode</code>æ’ä»¶ä¸»æœºAPIå’Œ<code>vscode-languageclient</code>è¿™ä¸¤ä¸ªä¾èµ–åº“ã€‚</p>
<pre><code>"dependencies": {
    "vscode": "^1.1.18",
    "vscode-languageclient": "^4.1.4"
}</code></pre><p>æ­£å¦‚ä¸Šé¢æ‰€è¯´ï¼Œå®¢æˆ·ç«¯å®ç°å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„VS Codeæ’ä»¶ï¼Œå®ƒæœ‰ä½¿ç”¨å…¨éƒ¨VS Code APIçš„èƒ½åŠ›ã€‚</p>
<p>ä¸‹é¢æ˜¯extension.tsæ–‡ä»¶çš„å¯¹åº”å†…å®¹ï¼Œä¹Ÿæ˜¯<strong>lsp-sample</strong>æ’ä»¶çš„å…¥å£ï¼š</p>
<pre><code>import * as path from 'path';
import { workspace, ExtensionContext } from 'vscode';
import {
    LanguageClient,
    LanguageClientOptions,
    ServerOptions,
    TransportKind
} from 'vscode-languageclient';
let client: LanguageClient;
export function activate(context: ExtensionContext) {
    // æœåŠ¡å™¨ç”±nodeå®ç°
    let serverModule = context.asAbsolutePath(
        path.join('server', 'out', 'server.js')
    );
    // ä¸ºæœåŠ¡å™¨æä¾›debugé€‰é¡¹
    // --inspect=6009: è¿è¡Œåœ¨Node's Inspector modeï¼Œè¿™æ ·VS Codeå°±èƒ½è°ƒè¯•æœåŠ¡å™¨äº†
    let debugOptions = { execArgv: ['--nolazy', '--inspect=6009'] };
    // å¦‚æœæ’ä»¶è¿è¡Œåœ¨è°ƒè¯•æ¨¡å¼é‚£ä¹ˆå°±ä¼šä½¿ç”¨debug server options
    // ä¸ç„¶å°±ä½¿ç”¨run options
    let serverOptions: ServerOptions = {
        run: { module: serverModule, transport: TransportKind.ipc },
        debug: {
            module: serverModule,
            transport: TransportKind.ipc,
            options: debugOptions
        }
    };
    // æ§åˆ¶è¯­è¨€å®¢æˆ·ç«¯çš„é€‰é¡¹
    let clientOptions: LanguageClientOptions = {
        // æ³¨å†Œçº¯æ–‡æœ¬æœåŠ¡å™¨
        documentSelector: [{ scheme: 'file', language: 'plaintext' }],
        synchronize: {
            // å½“æ–‡ä»¶å˜åŠ¨ä¸º'.clientrc'ä¸­é‚£æ ·æ—¶ï¼Œç»Ÿæ²»æœåŠ¡å™¨
            fileEvents: workspace.createFileSystemWatcher('**/.clientrc')
        }
    };
    // åˆ›å»ºè¯­è¨€å®¢æˆ·ç«¯å¹¶å¯åŠ¨
    client = new LanguageClient(
        'languageServerExample',
        'Language Server Example',
        serverOptions,
        clientOptions
    );
    // å¯åŠ¨å®¢æˆ·ç«¯ï¼Œè¿™ä¹ŸåŒæ—¶å¯åŠ¨äº†æœåŠ¡å™¨
    client.start();
}
export function deactivate(): Thenable&lt;void&gt; {
    if (!client) {
        return undefined;
    }
    return client.stop();
}</code></pre><h3 id="ä»€ä¹ˆæ˜¯â€™Language-Serverâ€™"><a href="#ä»€ä¹ˆæ˜¯â€™Language-Serverâ€™" class="headerlink" title="ä»€ä¹ˆæ˜¯â€™Language Serverâ€™"></a>ä»€ä¹ˆæ˜¯â€™Language Serverâ€™</h3><hr>
<p>?&gt; <strong>å°æç¤ºï¼š</strong>æœ¬èŠ‚ä»Githubä»“åº“ä¸­å…‹éš†ä¸‹æ¥çš„â€™serverâ€™ä»£ç æ˜¯å·²ç»å®Œæˆçš„ç‰ˆæœ¬ï¼Œå¦‚æœä½ éœ€è¦è·Ÿéšæœ¬èŠ‚çš„æ­¥éª¤å¾ªåºæ¸è¿›ï¼Œä½ å¯ä»¥æ–°å»ºä¸€ä¸ª<code>server.ts</code>æˆ–è€…ä¿®æ”¹å…‹éš†çš„ä»£ç ã€‚</p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒæœåŠ¡å™¨æ˜¯Typescriptå®ç°çš„ï¼Œç”±Node.jsè¿è¡Œã€‚å› ä¸ºVS Codeè‡ªå¸¦Node.jsè¿è¡Œæ—¶ï¼Œæ‰€ä»¥ä½ æ— éœ€å®‰è£…å…¶ä»–ä¾èµ–ï¼Œé™¤éä½ å¯¹è¿è¡Œæ—¶æœ‰ç‰¹åˆ«è¦æ±‚ã€‚</p>
<p>è¿™ä¸ªè¯­è¨€æœåŠ¡å™¨çš„æºç åœ¨<code>/server</code>ä¸­ã€‚æ¯”è¾ƒé‡è¦çš„<code>pacakge.json</code>éƒ¨åˆ†æ˜¯ï¼š</p>
<pre><code>"dependencies": {
    "vscode-languageserver": "^4.1.3"
}</code></pre><p>è¿™è¡Œä¾èµ–ä¼šä¸‹è½½<code>vscode-languageserver</code>åº“ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªæœåŠ¡å™¨çš„å®ç°ï¼Œæä¾›äº†ç®€å•çš„çº¯æ–‡æœ¬ç®¡ç†â€”â€”VS Codeä¼šå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªæ–‡ä»¶çš„å…¨éƒ¨å†…å®¹ã€‚</p>
<pre><code>import {
    createConnection,
    TextDocuments,
    TextDocument,
    Diagnostic,
    DiagnosticSeverity,
    ProposedFeatures,
    InitializeParams,
    DidChangeConfigurationNotification,
    CompletionItem,
    CompletionItemKind,
    TextDocumentPositionParams
} from 'vscode-languageserver';
// åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨è¿æ¥ã€‚ä½¿ç”¨Nodeçš„IPCä½œä¸ºä¼ è¾“æ–¹å¼ã€‚
// ä¹ŸåŒ…å«æ‰€æœ‰çš„é¢„è§ˆã€å»ºè®®ç­‰LSPç‰¹æ€§
let connection = createConnection(ProposedFeatures.all);
// åˆ›å»ºä¸€ä¸ªç®€å•çš„æ–‡æœ¬ç®¡ç†å™¨ã€‚
// æ–‡æœ¬ç®¡ç†å™¨åªæ”¯æŒå…¨æ–‡æœ¬åŒæ­¥ã€‚
let documents: TextDocuments = new TextDocuments();
let hasConfigurationCapability: boolean = false;
let hasWorkspaceFolderCapability: boolean = false;
let hasDiagnosticRelatedInformationCapability: boolean = false;
connection.onInitialize((params: InitializeParams) =&gt; {
    let capabilities = params.capabilities;
    // å®¢æˆ·ç«¯æ˜¯å¦æ”¯æŒ`workspace/configuration`è¯·æ±‚?
    // å¦‚æœä¸æ˜¯çš„è¯ï¼Œé™çº§åˆ°ä½¿ç”¨å…¨å±€è®¾ç½®
    hasConfigurationCapability =
        capabilities.workspace &amp;&amp; !!capabilities.workspace.configuration;
    hasWorkspaceFolderCapability =
        capabilities.workspace &amp;&amp; !!capabilities.workspace.workspaceFolders;
    hasDiagnosticRelatedInformationCapability =
        capabilities.textDocument &amp;&amp;
        capabilities.textDocument.publishDiagnostics &amp;&amp;
        capabilities.textDocument.publishDiagnostics.relatedInformation;
    return {
        capabilities: {
            textDocumentSync: documents.syncKind,
            // å‘Šè¯‰å®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨æ”¯æŒä»£ç è¡¥å…¨
            completionProvider: {
                resolveProvider: true
        }
    }
    };
});
connection.onInitialized(() =&gt; {
    if (hasConfigurationCapability) {
        // ä¸ºæ‰€æœ‰é…ç½®Register for all configuration changes.
        connection.client.register(
            DidChangeConfigurationNotification.type,
            undefined
        );
    }
    if (hasWorkspaceFolderCapability) {
        connection.workspace.onDidChangeWorkspaceFolders(_event =&gt; {
            connection.console.log('Workspace folder change event received.');
        });
    }
});
// é…ç½®ç¤ºä¾‹
interface ExampleSettings {
    maxNumberOfProblems: number;
}
// å½“å®¢æˆ·ç«¯ä¸æ”¯æŒ`workspace/configuration`è¯·æ±‚æ—¶ï¼Œä½¿ç”¨global settings
// è¯·æ³¨æ„ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­æœåŠ¡å™¨ä½¿ç”¨çš„å®¢æˆ·ç«¯å¹¶ä¸æ˜¯é—®é¢˜æ‰€åœ¨ï¼Œè€Œæ˜¯è¿™ç§æƒ…å†µè¿˜å¯èƒ½å‘ç”Ÿåœ¨å…¶ä»–å®¢æˆ·ç«¯èº«ä¸Šã€‚
const defaultSettings: ExampleSettings = { maxNumberOfProblems: 1000 };
let globalSettings: ExampleSettings = defaultSettings;
// å¯¹æ‰€æœ‰æ‰“å¼€çš„æ–‡æ¡£é…ç½®è¿›è¡Œç¼“å­˜
let documentSettings: Map&lt;string, Thenable&lt;ExampleSettings&gt;&gt; = new Map();
connection.onDidChangeConfiguration(change =&gt; {
    if (hasConfigurationCapability) {
        // é‡ç½®æ‰€æœ‰å·²ç¼“å­˜çš„æ–‡æ¡£é…ç½®
        documentSettings.clear();
    } else {
        globalSettings = &lt;ExampleSettings&gt;(
            (change.settings.languageServerExample || defaultSettings)
        );
    }
    // é‡æ–°éªŒè¯æ‰€æœ‰æ‰“å¼€çš„æ–‡æœ¬æ–‡æ¡£
    documents.all().forEach(validateTextDocument);
});
function getDocumentSettings(resource: string): Thenable&lt;ExampleSettings&gt; {
    if (!hasConfigurationCapability) {
        return Promise.resolve(globalSettings);
    }
    let result = documentSettings.get(resource);
    if (!result) {
        result = connection.workspace.getConfiguration({
            scopeUri: resource,
            section: 'languageServerExample'
        });
        documentSettings.set(resource, result);
    }
    return result;
}
// åªå¯¹æ‰“å¼€çš„æ–‡æ¡£ä¿ç•™è®¾ç½®
documents.onDidClose(e =&gt; {
    documentSettings.delete(e.document.uri);
});
// æ–‡æ¡£çš„æ–‡æœ¬å†…å®¹å‘ç”Ÿäº†æ”¹å˜ã€‚
// è¿™ä¸ªäº‹ä»¶åœ¨æ–‡æ¡£ç¬¬ä¸€æ¬¡æ‰“å¼€æˆ–è€…å†…å®¹å˜åŠ¨æ—¶æ‰ä¼šè§¦å‘ã€‚
documents.onDidChangeContent(change =&gt; {
    validateTextDocument(change.document);
});
async function validateTextDocument(textDocument: TextDocument): Promise&lt;void&gt; {
    // åœ¨è¿™ä¸ªç®€å•çš„ç¤ºä¾‹ä¸­ï¼Œæ¯æ¬¡æ ¡éªŒè¿è¡Œæ—¶æˆ‘ä»¬éƒ½è·å–ä¸€æ¬¡é…ç½®
    let settings = await getDocumentSettings(textDocument.uri);
    // æ ¡éªŒå™¨å¦‚æœæ£€æµ‹åˆ°è¿ç»­è¶…è¿‡2ä¸ªä»¥ä¸Šçš„å¤§å†™å­—æ¯åˆ™ä¼šæŠ¥é”™
    let text = textDocument.getText();
    let pattern = /\b[A-Z]{2,}\b/g;
    let m: RegExpExecArray;
    let problems = 0;
    let diagnostics: Diagnostic[] = [];
    while ((m = pattern.exec(text)) &amp;&amp; problems &lt; settings.maxNumberOfProblems) {
        problems++;
        let diagnosic: Diagnostic = {
            severity: DiagnosticSeverity.Warning,
            range: {
                start: textDocument.positionAt(m.index),
                end: textDocument.positionAt(m.index + m[0].length)
            },
            message: `${m[0]} is all uppercase.`,
            source: 'ex'
        };
        if (hasDiagnosticRelatedInformationCapability) {
            diagnosic.relatedInformation = [
                {
                    location: {
                        uri: textDocument.uri,
                        range: Object.assign({}, diagnosic.range)
                    },
                    message: 'Spelling matters'
                },
                {
                    location: {
                        uri: textDocument.uri,
                        range: Object.assign({}, diagnosic.range)
                    },
                    message: 'Particularly for names'
                }
            ];
        }
        diagnostics.push(diagnosic);
    }
    // å°†é”™è¯¯å¤„ç†ç»“æœå‘é€ç»™VS Code
    connection.sendDiagnostics({ uri: textDocument.uri, diagnostics });
}
connection.onDidChangeWatchedFiles(_change =&gt; {
    // ç›‘æµ‹VS Codeä¸­çš„æ–‡ä»¶å˜åŠ¨
    connection.console.log('We received an file change event');
});
// è¿™ä¸ªå¤„ç†å‡½æ•°æä¾›äº†åˆå§‹è¡¥å…¨é¡¹åˆ—è¡¨
connection.onCompletion(
    (_textDocumentPosition: TextDocumentPositionParams): CompletionItem[] =&gt; {
    // ä¼ å…¥çš„å˜é‡åŒ…å«äº†æ–‡æœ¬è¯·æ±‚ä»£ç è¡¥å…¨çš„ä½ç½®ã€‚
    // å¦‚æœæˆ‘ä»¬å¿½ç•¥äº†è¿™ä¸ªä¿¡æ¯ï¼Œé‚£å°±åªèƒ½æä¾›åŒæ ·çš„ä»£ç è¡¥å…¨é¡¹äº†ã€‚
    return [
        {
            label: 'TypeScript',
            kind: CompletionItemKind.Text,
            data: 1
        },
        {
            label: 'JavaScript',
            kind: CompletionItemKind.Text,
            data: 2
        }
        ];
    }
);
// è¿™ä¸ªå‡½æ•°ä¸ºè¡¥å…¨åˆ—è¡¨çš„é€‰ä¸­é¡¹æä¾›äº†æ›´å¤šä¿¡æ¯
connection.onCompletionResolve(
    (item: CompletionItem): CompletionItem =&gt; {
        if (item.data === 1) {
            item.detail = 'TypeScript details';
            item.documentation = 'TypeScript documentation';
        } else if (item.data === 2) {
            item.detail = 'JavaScript details';
            item.documentation = 'JavaScript documentation';
        }
        return item;
    }
);
/*
connection.onDidOpenTextDocument((params) =&gt; {
    // A text document got opened in VSCode.
    // params.uri uniquely identifies the document. For documents store on disk this is a file URI.
    // params.text the initial full content of the document.
    connection.console.log(`${params.textDocument.uri} opened.`);
});
connection.onDidChangeTextDocument((params) =&gt; {
    // The content of a text document did change in VSCode.
    // params.uri uniquely identifies the document.
    // params.contentChanges describe the content changes to the document.
    connection.console.log(`${params.textDocument.uri} changed: ${JSON.stringify(params.contentChanges)}`);
});
connection.onDidCloseTextDocument((params) =&gt; {
    // A text document got closed in VSCode.
    // params.uri uniquely identifies the document.
    connection.console.log(`${params.textDocument.uri} closed.`);
});
*/
// è®©æ–‡æ¡£ç®¡ç†å™¨ç›‘å¬æ–‡æ¡£çš„æ‰“å¼€ï¼Œå˜åŠ¨å’Œå…³é—­äº‹ä»¶ã€‚
documents.listen(connection);
// è¿æ¥åå¯åŠ¨ç›‘å¬
connection.listen();</code></pre><h3 id="æ·»åŠ ä¸€ä¸ªç®€å•çš„è¯­æ³•æ ¡éªŒå™¨"><a href="#æ·»åŠ ä¸€ä¸ªç®€å•çš„è¯­æ³•æ ¡éªŒå™¨" class="headerlink" title="æ·»åŠ ä¸€ä¸ªç®€å•çš„è¯­æ³•æ ¡éªŒå™¨"></a>æ·»åŠ ä¸€ä¸ªç®€å•çš„è¯­æ³•æ ¡éªŒå™¨</h3><hr>
<p>ä¸ºäº†ç»™æœåŠ¡å™¨æ·»åŠ æ–‡æœ¬æ ¡éªŒï¼Œæˆ‘ä»¬ç»™text document manageræ·»åŠ ä¸€ä¸ªlistenerç„¶ååœ¨æ–‡æœ¬å˜åŠ¨æ—¶è°ƒç”¨ï¼Œæ¥ä¸‹æ¥å°±äº¤ç»™æœåŠ¡å™¨å»åˆ¤æ–­è°ƒç”¨æ ¡éªŒå™¨çš„æœ€ä½³æ—¶æœºäº†ã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼ŒæœåŠ¡å™¨çš„åŠŸèƒ½æ˜¯æ ¡éªŒçº¯æ–‡æœ¬ç„¶åç»™æ‰€æœ‰å¤§å†™å•è¯è¿›è¡Œæ ‡è®°ã€‚å¯¹åº”çš„ä»£ç ç‰‡æ®µï¼š</p>
<pre><code>// äº‹ä»¶åœ¨æ–‡æ¡£ç¬¬ä¸€æ¬¡æ‰“å¼€ï¼Œæˆ–è€…å†…å®¹å˜åŠ¨æ—¶è§¦å‘ã€‚
documents.onDidChangeContent(async (change) =&gt; {
    // åœ¨è¿™ä¸ªç®€å•çš„ç¤ºä¾‹ä¸­ï¼Œæ¯æ¬¡æ ¡éªŒè¿è¡Œæ—¶æˆ‘ä»¬éƒ½è·å–ä¸€æ¬¡é…ç½®
    let settings = await getDocumentSettings(textDocument.uri);
    // æ ¡éªŒå™¨å¦‚æœæ£€æµ‹åˆ°è¿ç»­è¶…è¿‡2ä¸ªä»¥ä¸Šçš„å¤§å†™å­—æ¯åˆ™ä¼šæŠ¥é”™
    let text = textDocument.getText();
    let pattern = /\b[A-Z]{2,}\b/g;
    let m: RegExpExecArray;
    let problems = 0;
    let diagnostics: Diagnostic[] = [];
    while ((m = pattern.exec(text))) {
        problems++;
        let diagnosic: Diagnostic = {
            severity: DiagnosticSeverity.Warning,
            range: {
                start: textDocument.positionAt(m.index),
                end: textDocument.positionAt(m.index + m[0].length)
            },
            message: `${m[0]} is all uppercase.`,
            source: 'ex'
        };
        if (hasDiagnosticRelatedInformationCapability) {
            diagnosic.relatedInformation = [
                {
                    location: {
                        uri: textDocument.uri,
                        range: Object.assign({}, diagnosic.range)
                    },
                    message: 'Spelling matters'
                },
                {
                    location: {
                        uri: textDocument.uri,
                        range: Object.assign({}, diagnosic.range)
                    },
                    message: 'Particularly for names'
                }
            ];
        }
        diagnostics.push(diagnosic);
    }
    // å°†é”™è¯¯å¤„ç†ç»“æœå‘é€ç»™VS Code
    connection.sendDiagnostics({ uri: textDocument.uri, diagnostics });
}</code></pre><h3 id="è¯Šæ–­æç¤ºå’Œå°æŠ€å·§"><a href="#è¯Šæ–­æç¤ºå’Œå°æŠ€å·§" class="headerlink" title="è¯Šæ–­æç¤ºå’Œå°æŠ€å·§"></a>è¯Šæ–­æç¤ºå’Œå°æŠ€å·§</h3><hr>
<ul>
<li>å¦‚æœå‡ºé”™çš„å¼€å§‹ç‚¹å’Œç»“æŸç‚¹åœ¨åŒä¸€ä¸ªä½ç½®ï¼ŒVS Codeä¼šåœ¨é‚£ä¸ªå•è¯çš„ä½ç½®ä¸Šæ‰“ä¸Šæ³¢æµªçº¿</li>
<li>å¦‚æœä½ æƒ³è¦æŠŠæ³¢æµªçº¿åŠ åˆ°è¡Œæœªä¸ºæ­¢ï¼Œå°±æŠŠ<code>end position</code>è®¾ç½®ä¸º<code>Number.MAX_VALUE</code></li>
</ul>
<p>è¿è¡Œè¯­è¨€æœåŠ¡å™¨æ­¥éª¤ï¼š</p>
<ol>
<li>é€šè¿‡å¿«æ·é”®(Ctrl+Shift+B)å¯åŠ¨buildä»»åŠ¡ã€‚è¿™ä¸ªä»»åŠ¡ä¼šæŠŠå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½ç¼–è¯‘æ‰ã€‚</li>
<li>æ‰“å¼€è°ƒè¯•ä¾§è¾¹æ ï¼Œé€‰æ‹©<code>å¯åŠ¨å®¢æˆ·ç«¯</code>åŠ è½½é…ç½®ï¼Œç„¶åæŒ‰<code>å¼€å§‹è°ƒè¯•</code>æŒ‰é’®å¯åŠ¨<code>æ‰©å±•å¼€å‘ä¸»æœº</code>ã€‚</li>
<li>åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªâ€™test.txtâ€™æ–‡ä»¶ï¼Œç„¶åç²˜è´´ä¸‹è¿°å†…å®¹ï¼š</li>
</ol>
<pre><code>TypeScript lets you write JavaScript the way you really want to.
TypeScript is a typed superset of JavaScript that compiles to plain JavaScript.
ANY browser. ANY host. ANY OS. Open Source.</code></pre><p><code>æ‰©å±•å¼€å‘ä¸»æœº</code>å®ä¾‹çœ‹èµ·æ¥åƒæ˜¯è¿™æ ·ï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/54edb2028e395a2c853b6d9f6c5af309.png" alt=""></p>
<h3 id="è°ƒè¯•å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯"><a href="#è°ƒè¯•å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯" class="headerlink" title="è°ƒè¯•å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯"></a>è°ƒè¯•å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯</h3><hr>
<p>è°ƒè¯•å®¢æˆ·ç«¯ä»£ç å°±åƒè°ƒè¯•æ™®é€šæ’ä»¶ä¸€æ ·ç®€å•ã€‚åœ¨ä»£ç ä¸­æ‰“ä¸Šæ–­ç‚¹ï¼Œç„¶åæŒ‰F5å¯åŠ¨æ’ä»¶è°ƒè¯•ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/debugging-client.png" alt=""></p>
<p>å› ä¸ºæœåŠ¡å™¨æ˜¯ç”±<code>LanguageClient</code>å¯åŠ¨çš„ï¼Œæˆ‘ä»¬éœ€è¦é™„åŠ ä¸€ä¸ª<em>è°ƒè¯•å™¨</em>ç»™è¿è¡Œä¸­çš„æœåŠ¡å™¨ã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œåˆ‡æ¢åˆ°<strong>è°ƒè¯•</strong>ä¾§è¾¹æ ï¼Œé€‰æ‹©åŠ è½½é…ç½®<code>Attach to Server</code>ç„¶åæŒ‰F5å¯åŠ¨è°ƒè¯•ï¼ˆè¦ä¿è¯serverå·²ç»å¯åŠ¨å“¦ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢ä¸€æ­¥ï¼‰ï¼Œçœ‹èµ·æ¥ä¼šåƒè¿™æ ·ï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/debugging-server.png" alt=""></p>
<h3 id="ä¸ºè¯­è¨€æœåŠ¡å™¨åŠ ä¸Šæ—¥å¿—"><a href="#ä¸ºè¯­è¨€æœåŠ¡å™¨åŠ ä¸Šæ—¥å¿—" class="headerlink" title="ä¸ºè¯­è¨€æœåŠ¡å™¨åŠ ä¸Šæ—¥å¿—"></a>ä¸ºè¯­è¨€æœåŠ¡å™¨åŠ ä¸Šæ—¥å¿—</h3><hr>
<p>å¦‚æœä½ æ˜¯ç”¨<code>vscode-languageclient</code>å®ç°çš„å®¢æˆ·ç«¯ï¼Œä½ å¯ä»¥é…ç½®<code>[langId].trace.server</code>æŒ‡ç¤ºå®¢æˆ·ç«¯åœ¨<code>output(è¾“å‡º)</code>é¢æ¿ä¸­æ˜¾ç¤ºé€šä¿¡æ—¥å¿—ã€‚</p>
<p>å¯¹äº<strong>Isp-sample</strong>ä½ èƒ½åœ¨<code>"languageServerExample.trace.server": "verbose"</code>è¿›è¡Œé…ç½®ã€‚ç°åœ¨çœ‹çœ‹â€Language Server Exampleâ€é¢‘é“ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°è¿™äº›æ—¥å¿—ï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/5c09390bb6c9c0786e7a02111543f29b.png" alt=""></p>
<p>å› ä¸ºè¯­è¨€æœåŠ¡å™¨é€šä¿¡ä¼šéå¸¸å•°å—¦ï¼ˆ5sçš„æ­£å¸¸ä½¿ç”¨ä¼šäº§ç”Ÿ5000è¡Œæ—¥å¿—ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå¯è§†åŒ–å’Œå¯ç­›é€‰çš„æ—¥å¿—å·¥å…·ã€‚ä½ å¯ä»¥å…ˆä»é¢‘é“ä¸­ä¿å­˜æ‰€æœ‰çš„æ—¥å¿—ï¼Œç„¶ååœ¨<a href="https://microsoft.github.io/language-server-protocol/inspector/" target="_blank" rel="noopener">è¯­è¨€æœåŠ¡å™¨åè®®æ£€æŸ¥å™¨</a>ä¸­åŠ è½½ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/lsp-inspector.png" alt=""></p>
<h3 id="åœ¨æœåŠ¡å™¨ä¸­è®¾ç½®Configuration"><a href="#åœ¨æœåŠ¡å™¨ä¸­è®¾ç½®Configuration" class="headerlink" title="åœ¨æœåŠ¡å™¨ä¸­è®¾ç½®Configuration"></a>åœ¨æœåŠ¡å™¨ä¸­è®¾ç½®Configuration</h3><hr>
<p>å½“æˆ‘ä»¬å†™æ’ä»¶çš„å®¢æˆ·ç«¯éƒ¨åˆ†çš„æ—¶å€™ï¼Œæˆ‘ä»¬å·²ç»å®šä¹‰äº†ä¸€ä¸ªæ§åˆ¶æœ€å¤§é—®é¢˜æŠ¥å‘Šæ•°çš„é…ç½®ã€‚æ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨æœåŠ¡å™¨ä¸­å†™ä¸€æ®µè¯»å–å®¢æˆ·ç«¯é…ç½®çš„ä»£ç ï¼š</p>
<pre><code>function getDocumentSettings(resource: string): Thenable&lt;ExampleSettings&gt; {
    if (!hasConfigurationCapability) {
        return Promise.resolve(globalSettings);
    }
    let result = documentSettings.get(resource);
    if (!result) {
        result = connection.workspace.getConfiguration({
            scopeUri: resource,
            section: 'languageServerExample'
        });
        documentSettings.set(resource, result);
    }
    return result;
}</code></pre><p>ç°åœ¨å”¯ä¸€è¦åšçš„äº‹æƒ…å°±æ˜¯åœ¨æœåŠ¡å™¨ç«¯ä¸­ç›‘å¬ç”¨æˆ·ä¿®æ”¹çš„è®¾ç½®å˜åŠ¨ï¼Œç„¶åé‡æ–°éªŒè¯å·²ç»æ‰“å¼€çš„æ–‡æœ¬æ–‡ä»¶ã€‚ä¸ºäº†é‡ç”¨æ–‡æœ¬å˜åŠ¨äº‹ä»¶çš„å¤„ç†å‡½æ•°ï¼Œæˆ‘ä»¬æŠŠä»£ç æå–åˆ°<code>validateTextDocument</code>å‡½æ•°ä¸­ï¼Œç„¶åæ–°å»ºä¸€ä¸ª<code>maxNumberOfProblems</code>å˜é‡ï¼š</p>
<pre><code>async function validateTextDocument(textDocument: TextDocument): Promise&lt;void&gt; {
    // åœ¨è¿™ä¸ªç®€å•çš„ç¤ºä¾‹ä¸­ï¼Œæ¯æ¬¡æ ¡éªŒè¿è¡Œæ—¶æˆ‘ä»¬éƒ½è·å–ä¸€æ¬¡é…ç½®
    let settings = await getDocumentSettings(textDocument.uri);
    // æ ¡éªŒå™¨å¦‚æœæ£€æµ‹åˆ°è¿ç»­è¶…è¿‡2ä¸ªä»¥ä¸Šçš„å¤§å†™å­—æ¯åˆ™ä¼šæŠ¥é”™
    let text = textDocument.getText();
    let pattern = /\b[A-Z]{2,}\b/g;
    let m: RegExpExecArray;
    let problems = 0;
    let diagnostics: Diagnostic[] = [];
    while ((m = pattern.exec(text)) &amp;&amp; problems &lt; settings.maxNumberOfProblems) {
        problems++;
        let diagnosic: Diagnostic = {
            severity: DiagnosticSeverity.Warning,
            range: {
                start: textDocument.positionAt(m.index),
                end: textDocument.positionAt(m.index + m[0].length)
            },
            message: `${m[0]} is all uppercase.`,
            source: 'ex'
        };
        if (hasDiagnosticRelatedInformationCapability) {
            diagnosic.relatedInformation = [
                {
                    location: {
                        uri: textDocument.uri,
                        range: Object.assign({}, diagnosic.range)
                    },
                    message: 'Spelling matters'
                },
                {
                    location: {
                        uri: textDocument.uri,
                        range: Object.assign({}, diagnosic.range)
                    },
                    message: 'Particularly for names'
                }
            ];
        }
        diagnostics.push(diagnosic);
    }
    // å°†é”™è¯¯å¤„ç†ç»“æœå‘é€ç»™VS Code
    connection.sendDiagnostics({ uri: textDocument.uri, diagnostics });
}</code></pre><p>æ·»åŠ ä¸€ä¸ª<em>é€šçŸ¥å¤„ç†å‡½æ•°</em>ç›‘å¬é…ç½®æ–‡ä»¶å˜åŠ¨ã€‚</p>
<pre><code>connection.onDidChangeConfiguration(change =&gt; {
    if (hasConfigurationCapability) {
        // Reset all cached document settings
        documentSettings.clear();
    } else {
        globalSettings = &lt;ExampleSettings&gt;(
            (change.settings.languageServerExample || defaultSettings)
        );
    }
    // é‡æ–°éªŒè¯æ‰€æœ‰æ‰“å¼€çš„æ–‡æœ¬æ–‡æ¡£
    documents.all().forEach(validateTextDocument);
});</code></pre><p>å†æ¬¡å¯åŠ¨å®¢æˆ·ç«¯ï¼Œç„¶åæŠŠè®¾ç½®ä¸­çš„<code>maximum report</code>æ”¹ä¸º1ï¼Œå°±èƒ½çœ‹åˆ°ï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/f969ed33f956ae0bdabfb0b9bfe7ad8c.png" alt=""></p>
<h3 id="æ·»åŠ å…¶ä»–è¯­è¨€ç‰¹æ€§"><a href="#æ·»åŠ å…¶ä»–è¯­è¨€ç‰¹æ€§" class="headerlink" title="æ·»åŠ å…¶ä»–è¯­è¨€ç‰¹æ€§"></a>æ·»åŠ å…¶ä»–è¯­è¨€ç‰¹æ€§</h3><hr>
<p>ç¬¬ä¸€ä¸ªæœ‰è¶£çš„ä¸œè¥¿æ˜¯ï¼Œè¯­è¨€æœåŠ¡å™¨é€šå¸¸ä¼šå®ç°æˆæ–‡æ¡£æ ¡éªŒå™¨ï¼Œä»è¿™ä¸ªç‚¹æ¥è¯´ï¼Œå³ä½¿ä¸€ä¸ªlinterä¹Ÿç®—ä¸€ä¸ªè¯­è¨€æœåŠ¡å™¨ï¼Œæ‰€ä»¥VS Codeä¸­çš„linteré€šå¸¸éƒ½æ˜¯ä½œä¸ºè¯­è¨€æœåŠ¡å™¨å®ç°çš„ï¼ˆå‚ç…§<a href="https://github.com/Microsoft/vscode-eslint" target="_blank" rel="noopener">eslint</a>å’Œ<a href="https://github.com/Microsoft/vscode-jshint" target="_blank" rel="noopener">jslint</a>ï¼‰ã€‚ä½†æ˜¯è¯­è¨€æœåŠ¡å™¨è¿˜èƒ½åšå¾—æ›´å¤šï¼Œä»–ä»¬èƒ½æä¾›ä»£ç ä¸å…¨ï¼ŒæŸ¥æ‰¾æ‰€æœ‰åŒ¹é…é¡¹æˆ–è€…è½¬è·³åˆ°å®šä¹‰ã€‚ä¸‹é¢çš„ä»£ç å±•ç¤ºäº†ä¸ºæœåŠ¡å™¨æ·»åŠ ä»£ç è¡¥å…¨çš„åŠŸèƒ½ï¼Œå®ƒæä¾›äº†2ä¸ªå»ºè®®å•è¯â€TypeScriptâ€å’Œâ€JavaScriptâ€ã€‚</p>
<pre><code>// è¿™ä¸ªå¤„ç†å‡½æ•°æä¾›äº†åˆå§‹è¡¥å…¨é¡¹åˆ—è¡¨
connection.onCompletion(
    (_textDocumentPosition: TextDocumentPositionParams): CompletionItem[] =&gt; {
        // ä¼ å…¥çš„å˜é‡åŒ…å«äº†æ–‡æœ¬è¯·æ±‚ä»£ç è¡¥å…¨çš„ä½ç½®ã€‚
        // å¦‚æœæˆ‘ä»¬å¿½ç•¥äº†è¿™ä¸ªä¿¡æ¯ï¼Œé‚£å°±åªèƒ½æä¾›åŒæ ·çš„ä»£ç è¡¥å…¨é¡¹äº†ã€‚
        return [
            {
                label: 'TypeScript',
                kind: CompletionItemKind.Text,
                data: 1
            },
            {
                label: 'JavaScript',
                kind: CompletionItemKind.Text,
                data: 2
            }
        ];
    }
);
// è¿™ä¸ªå‡½æ•°ä¸ºè¡¥å…¨åˆ—è¡¨çš„é€‰ä¸­é¡¹æä¾›äº†æ›´å¤šä¿¡æ¯
connection.onCompletionResolve(
    (item: CompletionItem): CompletionItem =&gt; {
        if (item.data === 1) {
            (item.detail = 'TypeScript details'),
                (item.documentation = 'TypeScript documentation');
        } else if (item.data === 2) {
            (item.detail = 'JavaScript details'),
                (item.documentation = 'JavaScript documentation');
        }
        return item;
    }
);</code></pre><p><code>data</code>å­—æ®µç”¨äºé‰´åˆ«å¤„ç†å‡½æ•°ä¸­ä¼ å…¥çš„è¡¥å…¨é¡¹ã€‚è¿™ä¸ªå±æ€§å¯¹åè®®æ¥è¯´æ˜¯é€æ˜çš„ï¼Œå› ä¸ºåº•å±‚åè®®ä¿¡æ¯ä¼ è¾“æ˜¯åŸºäºJSONçš„ï¼Œå› æ­¤dataå­—æ®µåªèƒ½ä¿ç•™ä»JSONåºåˆ—åŒ–è€Œæ¥çš„æ•°æ®ã€‚</p>
<p>é‚£ä¹ˆç°åœ¨åªç¼ºå‘Šè¯‰VS CodeæœåŠ¡å™¨èƒ½æä¾›ä»£ç è¡¥å…¨è¯·æ±‚ã€‚ä¸ºäº†åšåˆ°ç‚¹ï¼Œå°†å¯¹åº”æ ‡è®°æ·»åŠ åˆ°åˆå§‹åŒ–å‡½æ•°ä¸­ï¼š</p>
<pre><code>connection.onInitialize((params): InitializeResult =&gt; {
    ...
    return {
        capabilities: {
            ...
            // å‘Šè¯‰å®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨æ”¯æŒä»£ç è¡¥å…¨
            completionProvider: {
                resolveProvider: true
            }
        }
    };
});</code></pre><p>ä¸‹é¢çš„æˆªå±æ˜¾ç¤ºäº†è¿è¡Œåœ¨çº¯æ–‡æœ¬æ–‡ä»¶ä¸­çš„è¡¥å…¨ä»£ç ï¼š</p>
<p><img src="/images/loading.gif" data-original="../images/development/e82f3d735915a7cc0eafbee0869db09b.png" alt=""></p>
<h3 id="æµ‹è¯•è¯­è¨€æœåŠ¡å™¨"><a href="#æµ‹è¯•è¯­è¨€æœåŠ¡å™¨" class="headerlink" title="æµ‹è¯•è¯­è¨€æœåŠ¡å™¨"></a>æµ‹è¯•è¯­è¨€æœåŠ¡å™¨</h3><hr>
<p>ä¸ºäº†åˆ›å»ºä¸€ä¸ªé«˜è´¨é‡çš„è¯­è¨€æœåŠ¡å™¨ï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ªèƒ½è¦†ç›–åˆ°å®ƒæ‰€æœ‰åŠŸèƒ½ç‚¹çš„æµ‹è¯•å¥—ä»¶ã€‚æœ‰ä¸¤ç§å¸¸è§çš„æµ‹è¯•æœåŠ¡å™¨çš„æ–¹å¼ï¼š</p>
<ul>
<li>å•å…ƒæµ‹è¯•ï¼šå¦‚æœä½ æƒ³æµ‹è¯•ç‰¹å®šçš„åŠŸèƒ½ç‚¹ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ–¹å¼ï¼Œæ¨¡æ‹Ÿæ•°æ®ç„¶åå‘é€è¿›å»ã€‚VC Codeçš„<a href="https://github.com/Microsoft/vscode-html-languageservice" target="_blank" rel="noopener">HTML</a>/<a href="https://github.com/Microsoft/vscode-css-languageservice" target="_blank" rel="noopener">CSS</a>/<a href="https://github.com/Microsoft/vscode-json-languageservice" target="_blank" rel="noopener">JSON</a>è¯­è¨€æœåŠ¡å™¨å°±é‡‡ç”¨äº†è¿™ç§æµ‹è¯•æ–¹å¼ã€‚LSPçš„npmæ¨¡å—åŒ…ä¹Ÿæ˜¯ç”¨è¿™ç§æ–¹å¼ã€‚åœ¨<a href="https://github.com/Microsoft/vscode-languageserver-node/blob/master/protocol/src/test/connection.test.ts" target="_blank" rel="noopener">è¿™é‡Œ</a>æŸ¥çœ‹æ›´å¤šä½¿ç”¨npmåè®®æ¨¡å—çš„å•å…ƒæµ‹è¯•ã€‚</li>
<li>ç«¯åˆ°ç«¯æµ‹è¯•ï¼šå°±åƒVS Code æ’ä»¶æµ‹è¯•ä¸€æ ·ï¼Œè¿™ä¸ªæ–¹å¼çš„å¥½å¤„æ˜¯é€šè¿‡è¿è¡ŒVS Codeå®ä¾‹ï¼Œæ‰“å¼€æ–‡ä»¶ï¼Œæ¿€æ´»è¯­è¨€æœåŠ¡å™¨/å®¢æˆ·ç«¯ç„¶åæ‰§è¡ŒVS Codeå‘½ä»¤æ¥æµ‹è¯•çš„ï¼Œå¦‚æœä½ é…ç½®äº†æ–‡ä»¶ã€è®¾ç½®å’Œä¾èµ–ï¼ˆå¦‚<code>node_modules</code>ï¼‰ä»¥åŠéš¾ä»¥æ¨¡æ‹Ÿæ•°æ®çš„æ—¶å€™ï¼Œä½ åº”è¯¥ä¼˜å…ˆè€ƒè™‘è¿™ç§æ¨¡å¼ï¼Œæµè¡Œçš„<a href="https://github.com/Microsoft/vscode-python" target="_blank" rel="noopener">Python</a>æ’ä»¶å°±é‡‡ç”¨äº†è¿™ç§æµ‹è¯•æ–¹å¼ã€‚</li>
</ul>
<p>ä½ å¯ä»¥ç”¨ä»»ä½•ä½ å–œæ¬¢çš„æµ‹è¯•æ¡†æ¶åšå•å…ƒæµ‹è¯•ã€‚è¿™é‡Œæˆ‘ä»¬åªä»‹ç»å¦‚ä½•å¯¹è¯­è¨€æœåŠ¡å™¨æ’ä»¶è¿›è¡Œç«¯åˆ°ç«¯æµ‹è¯•ã€‚</p>
<p>æ‰“å¼€<code>.vscode/launch.json</code>ï¼Œä½ èƒ½æ‰¾åˆ°<code>E2E</code>æµ‹è¯•ç›®æ ‡ï¼š</p>
<pre><code>{
    "name": "Language Server E2E Test",
    "type": "extensionHost",
    "request": "launch",
    "runtimeExecutable": "${execPath}",
    "args": [
        "--extensionDevelopmentPath=${workspaceRoot}",
        "--extensionTestsPath=${workspaceRoot}/client/out/test",
        "${workspaceRoot}/client/testFixture"
    ],
    "stopOnEntry": false,
    "sourceMaps": true,
    "outFiles": ["${workspaceRoot}/client/out/test/**/*.js"]
}</code></pre><p>å¦‚æœä½ è¿è¡Œäº†è¿™ä¸ªæµ‹è¯•ç›®æ ‡ï¼Œå®ƒä¼šæ‰“å¼€ä¸€ä¸ªVS Codeå®ä¾‹å’Œä¸€ä¸ªå«åš<code>client/testFixtur</code>çš„æ¿€æ´»å·¥ä½œåŒºã€‚VS Codeç„¶åä¼šæ‰§è¡Œæ‰€æœ‰<code>client/src/test</code>ä¸­çš„æµ‹è¯•ã€‚ä¸€ç‚¹è°ƒè¯•çš„å°æç¤ºï¼Œä½ å¯ä»¥åœ¨<code>client/src/test</code>çš„Typescriptæ–‡ä»¶ä¸­æ·»åŠ æ–­ç‚¹ã€‚</p>
<p>æˆ‘ä»¬å†æ¥çœ‹çœ‹<code>completion.test.ts</code>æ–‡ä»¶ï¼š</p>
<pre><code>import * as vscode from 'vscode';
import * as assert from 'assert';
import { getDocUri, activate } from './helper';
describe('Should do completion', () =&gt; {
    const docUri = getDocUri('completion.txt');
    it('Completes JS/TS in txt file', async () =&gt; {
        await testCompletion(docUri, new vscode.Position(0, 0), {
            items: [
                { label: 'JavaScript', kind: vscode.CompletionItemKind.Text },
                { label: 'TypeScript', kind: vscode.CompletionItemKind.Text }
            ]
        });
    });
});
async function testCompletion(
    docUri: vscode.Uri,
    position: vscode.Position,
    expectedCompletionList: vscode.CompletionList
) {
    await activate(docUri);
    // æ‰§è¡Œ `vscode.executeCompletionItemProvider` å‘½ä»¤ï¼Œæ¨¡æ‹Ÿæ¿€æ´»ä»£ç è¡¥å…¨åŠŸèƒ½
    const actualCompletionList = (await vscode.commands.executeCommand(
        'vscode.executeCompletionItemProvider',
        docUri,
        position
    )) as vscode.CompletionList;
    assert.equal(actualCompletionList.items.length, expectedCompletionList.items.length);
    expectedCompletionList.items.forEach((expectedItem, i) =&gt; {
        const actualItem = actualCompletionList.items[i];
        assert.equal(actualItem.label, expectedItem.label);
        assert.equal(actualItem.kind, expectedItem.kind);
    });
}</code></pre><p>åœ¨è¿™ä¸ªæµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬ï¼š</p>
<ul>
<li>æ¿€æ´»äº†æ’ä»¶</li>
<li>å¸¦ä¸Šäº†ä¸€ä¸ªURIå’Œä½ç½®æ¨¡æ‹Ÿä¿¡æ¯ï¼Œç„¶åè¿è¡Œäº†<code>vscode.executeCompletionItemProvider</code>å»è§¦å‘è¡¥å…¨</li>
<li>æ–­è¨€è¿”å›çš„è¡¥å…¨é¡¹æ˜¯ä¸æ˜¯è¾¾åˆ°äº†æˆ‘ä»¬çš„é¢„æœŸ</li>
</ul>
<p>æˆ‘ä»¬å†æ·±å…¥ä¸€ç‚¹çœ‹çœ‹<code>activate(docURI)</code>å‡½æ•°ã€‚å®ƒè¢«å®šä¹‰åœ¨<code>client/src/test/helper.ts</code>ä¸­ï¼š</p>
<pre><code>import * as vscode from 'vscode';
import * as path from 'path';
export let doc: vscode.TextDocument;
export let editor: vscode.TextEditor;
export let documentEol: string;
export let platformEol: string;
/**
 * æ¿€æ´» vscode.lsp-sample æ’ä»¶
 */
export async function activate(docUri: vscode.Uri) {
    // extensionIdæ¥è‡ªäºpackage.jsonä¸­çš„`publisher.name`
    const ext = vscode.extensions.getExtension('vscode.lsp-sample');
    await ext.activate();
    try {
        doc = await vscode.workspace.openTextDocument(docUri);
        editor = await vscode.window.showTextDocument(doc);
        await sleep(2000); // ç­‰å¾…æœåŠ¡å™¨æ¿€æ´»
    } catch (e) {
        console.error(e);
    }
}
async function sleep(ms: number) {
    return new Promise(resolve =&gt; setTimeout(resolve, ms));
}</code></pre><p>åœ¨æ¿€æ´»éƒ¨åˆ†ï¼Œæˆ‘ä»¬ï¼š</p>
<ul>
<li>ç”¨<code>publisher.name</code> <code>extensionId</code>åœ¨<code>package.json</code>ä¸­è·å–åˆ°äº†æ’ä»¶</li>
<li>æ‰“å¼€ç‰¹å®šçš„æ–‡æ¡£ï¼Œç„¶åæ˜¾ç¤ºåœ¨æ–‡æœ¬ç¼–è¾‘åŒº</li>
<li>ä¼‘çœ 2ç§’ï¼Œç¡®ä¿å¯åŠ¨äº†è¯­è¨€æœåŠ¡å™¨</li>
</ul>
<p>å‡†å¤‡å¥½ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œå¯¹åº”è¯­è¨€ç‰¹æ€§çš„VS Codeå‘½ä»¤ï¼Œç„¶åå¯¹ç»“æœè¿›è¡Œæ–­è¨€æµ‹è¯•ã€‚ è¿™è¿˜æœ‰ä¸€ä¸ªå…³äºè¯Šæ–­ç‰¹æ€§çš„æµ‹è¯•å®ç°ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£ï¼Œå¯ä»¥æŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶<code>client/src/test/diagnostics.test.ts</code></p>
<h3 id="è¿›é˜¶ä¸»é¢˜"><a href="#è¿›é˜¶ä¸»é¢˜" class="headerlink" title="è¿›é˜¶ä¸»é¢˜"></a>è¿›é˜¶ä¸»é¢˜</h3><hr>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæœ¬ç¯‡æ•™ç¨‹æä¾›äº†ï¼š</p>
<ul>
<li>ä¸€ä¸ªç®€çŸ­çš„<strong>è¯­è¨€æœåŠ¡å™¨</strong>å’Œ<strong>è¯­è¨€æœåŠ¡å™¨åè®®</strong>æ¦‚è§ˆ</li>
<li>VS Codeä¸­çš„è¯­è¨€æœåŠ¡å™¨æ’ä»¶æ¶æ„</li>
<li>å®ç°äº†ä¸€ä¸ª<strong>Isp-sample</strong>æ’ä»¶ï¼Œå’Œå¦‚ä½•å¼€å‘ã€è°ƒè¯•ã€æ£€æŸ¥å’Œæµ‹è¯•è¯­è¨€æœåŠ¡å™¨</li>
</ul>
<h4 id="æ›´å¤šè¯­è¨€æœåŠ¡å™¨ç‰¹æ€§"><a href="#æ›´å¤šè¯­è¨€æœåŠ¡å™¨ç‰¹æ€§" class="headerlink" title="æ›´å¤šè¯­è¨€æœåŠ¡å™¨ç‰¹æ€§"></a>æ›´å¤šè¯­è¨€æœåŠ¡å™¨ç‰¹æ€§</h4><p>é™¤äº†ä»£ç è¡¥å…¨ä¹‹å¤–ï¼ŒVS Codeè¿˜æ”¯æŒä¸‹åˆ—ç‰¹æ€§ï¼š</p>
<ul>
<li>æ–‡æ¡£é«˜äº®ï¼šé«˜äº®æ–‡æœ¬ä¸­çš„ç¬¦å·</li>
<li>æ‚¬åœï¼šä¸ºé€‰ä¸­çš„æ–‡æœ¬ç¬¦å·æä¾›æ‚¬åœä¿¡æ¯</li>
<li>Signature Helpï¼šä¸ºé€‰ä¸­çš„æ–‡æœ¬æä¾›æä¾›Signature Help</li>
<li>è½¬è·³åˆ°å®šä¹‰ï¼šä¸ºé€‰ä¸­çš„æ–‡æœ¬ç¬¦å·æä¾›å®šä¹‰è½¬è·³</li>
<li>è½¬è·³åˆ°ç±»å‹å®šä¹‰ï¼šä¸ºé€‰ä¸­çš„æ–‡æœ¬ç¬¦å·æä¾›ç±»å‹/æ¥å£å®šä¹‰è½¬è·³</li>
<li>è½¬è·³åˆ°å®ç°ï¼šä¸ºé€‰ä¸­çš„æ–‡æœ¬ç¬¦å·æä¾›å®ç°è½¬è·³</li>
<li>å¼•ç”¨æŸ¥æ‰¾ï¼šä»æ•´ä¸ªé¡¹ç›®ä¸­æŸ¥æ‰¾é€‰ä¸­æ–‡æœ¬ç¬¦å·çš„å¼•ç”¨</li>
<li>åˆ—å‡ºæ–‡ä»¶ç¬¦å·ï¼šåˆ—å‡ºæ–‡æœ¬æ–‡ä»¶ä¸­çš„å…¨éƒ¨ç¬¦å·</li>
<li>åˆ—å‡ºå·¥ä½œåŒºç¬¦å·ï¼šåˆ—å‡ºæ•´ä¸ªé¡¹ç›®ä¸­çš„ç¬¦å·</li>
<li>æ‰§è¡Œä»£ç ï¼šåœ¨ç»™å®šæ–‡ä»¶å’ŒèŒƒå›´çš„æ¡ä»¶ä¸‹è¿è¡Œå‘½ä»¤ï¼ˆé€šå¸¸å¦‚ï¼šç¾åŒ–ã€é‡æ„ï¼‰</li>
<li>CodeLens: ä¸ºç»™å®šæ–‡ä»¶è®¡ç®— CodeLens ç»Ÿè®¡æ•°æ®</li>
<li>æ–‡ä»¶æ ¼å¼åŒ–ï¼šåŒ…æ‹¬æ•´ä¸ªæ–‡ä»¶çš„æ ¼å¼åŒ–ï¼Œéƒ¨åˆ†æ–‡æœ¬æ ¼å¼åŒ–å’Œæ ¹æ®ç±»å‹æ ¼å¼åŒ–</li>
<li>é‡å‘½åï¼šé‡å‘½åæ•´ä¸ªé¡¹ç›®å†…çš„æŸäº›ç¬¦å·</li>
<li>æ–‡ä»¶é“¾æ¥ï¼šè®¡ç®—å’Œè§£ææ–‡ä»¶ä¸­çš„é“¾æ¥</li>
<li>æ–‡ä»¶è‰²å½©ï¼šè®¡ç®—å’Œè§£ææ–‡ä»¶ä¸­çš„è‰²å½©ï¼Œå¹¶æä¾›ç¼–è¾‘å™¨å†…çš„å–è‰²å™¨</li>
</ul>
<p>ç¨‹åºæ€§è¯­è¨€ç‰¹æ€§ç« èŠ‚è¯¦ç»†ä»‹ç»äº†ä¸Šè¿°çš„è¯­è¨€ç‰¹æ€§ï¼Œå¹¶ä¸”å‘Šè¯‰æˆ‘ä»¬å¦‚ä½•é€šè¿‡ä¸‹è¿°(<strong>ä¸¤è€…ä¹‹ä¸€</strong>)å»å®ç°å®ƒä»¬ï¼š</p>
<ul>
<li>è¯­è¨€æœåŠ¡å™¨åè®®</li>
<li>ç›´æ¥ä½¿ç”¨VS Codeçš„å¯æ‹“å±•æ€§API</li>
</ul>
<h3 id="å¢é‡æ–‡æœ¬åŒæ­¥æ›´æ–°"><a href="#å¢é‡æ–‡æœ¬åŒæ­¥æ›´æ–°" class="headerlink" title="å¢é‡æ–‡æœ¬åŒæ­¥æ›´æ–°"></a>å¢é‡æ–‡æœ¬åŒæ­¥æ›´æ–°</h3><hr>
<p>åœ¨<code>vscode-languageserver</code>æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬åšäº†ä¸€ä¸ªç®€å•çš„<code>text document manager</code>åŒæ­¥VS Codeå’Œè¯­è¨€æœåŠ¡å™¨ã€‚</p>
<p>ä½†æ˜¯è¿™ç§æ–¹å¼æœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼š</p>
<ul>
<li>æ–‡ä»¶å˜åŠ¨æ—¶ï¼Œä¼šé‡å¤åœ°å‘é€æ•´ä¸ªæ–‡æœ¬æ•°æ®ï¼Œè¿™ä¸ªä¼ é€’çš„æ•°æ®é‡ç›¸å½“å¯è§‚ã€‚</li>
<li>ç°æœ‰çš„åº“é€šå¸¸éƒ½æ”¯æŒå¢é‡æ–‡æœ¬æ›´æ–°ï¼Œä¸å¯é¿å…åœ°ï¼Œæˆ‘ä»¬ä¼šè¿›è¡Œä¸å¿…è¦çš„è½¬æ¢å’Œåˆ›å»ºæŠ½è±¡è¯­æ³•æ ‘ã€‚</li>
</ul>
<p>LSPå› æ­¤ç›´æ¥æä¾›äº†å¢é‡æ–‡æœ¬æ›´æ–°çš„APIã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬è¦é€šè¿‡å¢åŠ 3ä¸ªé€šçŸ¥å‡½æ•°å®ç°æˆ‘ä»¬çš„å¢é‡æ–‡æœ¬æ›´æ–°ï¼š</p>
<ul>
<li>onDidOpenTextDocumentï¼šå½“æ–‡ä»¶æ‰“å¼€åè°ƒç”¨</li>
<li>onDidChangeTextDocumentï¼šå½“æ–‡æœ¬å˜åŠ¨åè°ƒç”¨</li>
<li>onDidCloseTextDocumentï¼šå½“æ–‡ä»¶å…³é—­åè°ƒç”¨</li>
</ul>
<p>ä¸‹é¢çš„ä»£ç ç‰‡æ®µå±•ç¤ºäº†æ€ä¹ˆåœ¨é€šä¿¡ä¸­æŒ‚ä¸Šè¿™äº›é€šçŸ¥å‡½æ•°é’©å­ï¼Œåœ¨åˆå§‹åŒ–æ—¶å› å¦‚ä½•è¿”å›å‡½æ•°ï¼š</p>
<pre><code>connection.onInitialize((params): InitializeResult =&gt; {
    ...
    return {
        capabilities: {
            // å¯ç”¨æ–‡æ¡£å¢é‡æ›´æ–°åŒæ­¥
            textDocumentSync: TextDocumentSyncKind.Incremental,
            ...
        }
    };
});
connection.onDidOpenTextDocument((params) =&gt; {
    // å½“æ–‡æ¡£æ‰“å¼€åè§¦å‘ï¼Œparams.uriæä¾›äº†æ–‡æ¡£çš„å”¯ä¸€åœ°å€ã€‚å¦‚æœæ–‡æ¡£å‚¨å­˜åœ¨ç¡¬ç›˜ä¸Šï¼Œé‚£ä¹ˆå°±ä¼šæ˜¯ä¸€ä¸ªfileç±»å‹çš„URI
    // params.textâ€”â€”æä¾›äº†æ–‡æ¡£ä¸€å¼€å§‹çš„å†…å®¹
});
connection.onDidChangeTextDocument((params) =&gt; {
    // æ–‡æ¡£çš„æ–‡æœ¬å†…å®¹å‘ç”Ÿäº†æ”¹å˜æ—¶è§¦å‘ã€‚
    // params.uriæä¾›äº†æ–‡æ¡£çš„å”¯ä¸€åœ°å€ã€‚
    // params.contentChanges åŒ…å«æ–‡æ¡£çš„å˜åŠ¨å†…å®¹
});
connection.onDidCloseTextDocument((params) =&gt; {
    // æ–‡æ¡£å…³é—­åè§¦å‘ã€‚
    // params.uriæä¾›äº†æ–‡æ¡£çš„å”¯ä¸€åœ°å€ã€‚
});</code></pre><h4 id="ç›´æ¥ç”¨VS-Code-APIå®ç°è¯­è¨€ç‰¹æ€§"><a href="#ç›´æ¥ç”¨VS-Code-APIå®ç°è¯­è¨€ç‰¹æ€§" class="headerlink" title="ç›´æ¥ç”¨VS Code APIå®ç°è¯­è¨€ç‰¹æ€§"></a>ç›´æ¥ç”¨VS Code APIå®ç°è¯­è¨€ç‰¹æ€§</h4><p>è¯­è¨€æœåŠ¡å™¨æœ‰è¿™ä¹ˆå¤šå¥½å¤„ï¼Œåªæ˜¯ç”¨æ¥æä¾›VS Codeç¼–è¾‘æ‰©å±•èƒ½åŠ›å°±æ˜¾å¾—æœ‰äº›å¤§æå°ç”¨äº†ã€‚ä¸‹é¢çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨<code>vscode.languages.register[LANGUAGE_FEATURE]Provider</code>é€‰é¡¹ä¸ºæŸç±»æ–‡ä»¶æä¾›ä¸€äº›ç®€å•çš„è¯­è¨€æœåŠ¡å™¨ç‰¹æ€§ã€‚</p>
<p><a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/completions-sample" target="_blank" rel="noopener">completions-sample</a>æ˜¯ä¸€ä¸ªä½¿ç”¨<code>vscode.languages.registerCompletionItemProvider</code>ä¸ºçº¯æ–‡æœ¬æ·»åŠ ä»£ç ç‰‡æ®µçš„ä¾‹å­ã€‚</p>
<p>æ›´å¤šä¾‹å­è¯·å‚é˜…<a href="https://github.com/Microsoft/vscode-extension-samples" target="_blank" rel="noopener">https://github.com/Microsoft/vscode-extension-samples</a></p>
<h4 id="è¯­è¨€æœåŠ¡å™¨çš„å®¹é”™è§£æå™¨"><a href="#è¯­è¨€æœåŠ¡å™¨çš„å®¹é”™è§£æå™¨" class="headerlink" title="è¯­è¨€æœåŠ¡å™¨çš„å®¹é”™è§£æå™¨"></a>è¯­è¨€æœåŠ¡å™¨çš„å®¹é”™è§£æå™¨</h4><p>å¤§å¤šæ•°æ—¶å€™ï¼Œç¼–è¾‘å™¨ä¸­çš„ä»£ç éƒ½æ˜¯ä¸å®Œæ•´çš„ï¼Œç”šè‡³è¯­æ³•éƒ½æ˜¯é”™çš„ï¼Œä½†æ˜¯å¼€å‘äººå‘˜è‚¯å®šå¸Œæœ›è‡ªåŠ¨è¡¥å…¨ç­‰è¯­è¨€åŠŸèƒ½ä¿æŒæ­£å¸¸å·¥ä½œã€‚å› æ­¤ï¼Œå®¹é”™è§£æå™¨å°±æ˜¾å¾—ååˆ†å¿…è¦ï¼šè§£æå™¨ä»èƒ½ä»ä¸å®Œæ•´çš„ä»£ç ä¸­åˆ›å»ºæœ‰æ„ä¹‰çš„ASTï¼Œç„¶åè¯­è¨€æœåŠ¡å™¨æ ¹æ®è¿™ä»½ASTæä¾›æœåŠ¡ã€‚</p>
<p>æˆ‘ä»¬ä¹‹å‰åœ¨VS Codeä¸­åšè¿‡PHPçš„æ”¯æŒï¼Œæˆ‘ä»¬æ„è¯†åˆ°PHPå®˜æ–¹è§£æå™¨å¹¶æ²¡æœ‰è‡ªå¸¦å®¹é”™ï¼Œè€Œä¸”ä¹Ÿä¸èƒ½ç›´æ¥åœ¨è¯­è¨€æœåŠ¡å™¨ä¸­ç›´æ¥é‡ç”¨ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€èµ·åŠªåŠ›åšäº†<a href="https://github.com/Microsoft/tolerant-php-parser" target="_blank" rel="noopener"> Microsoft/tolerant-php-parser</a>ï¼Œå¹¶ç•™ä¸‹äº†è¯¦ç»†çš„<a href="https://github.com/Microsoft/tolerant-php-parser/blob/master/docs/HowItWorks.md" target="_blank" rel="noopener">ç¬”è®°</a>ï¼Œæˆ–è®¸èƒ½å¸®ä¸Šéœ€è¦å®¹é”™è§£æå™¨çš„è¯­è¨€æœåŠ¡å™¨ä½œè€…ã€‚</p>
<h3 id="FAQ-1"><a href="#FAQ-1" class="headerlink" title="FAQ"></a>FAQ</h3><ul>
<li><p><strong>é—®ï¼šå½“æˆ‘è¯•ç€å‘debugæ·»åŠ æœåŠ¡å™¨çš„æ—¶å€™ï¼Œæˆ‘å¾—åˆ°äº†â€cannot connect to runtime process (timeout after 5000ms)â€çš„ä¿¡æ¯ï¼Ÿ</strong></p>
<p>ç­”ï¼šå¦‚æœæœåŠ¡å™¨æ²¡æœ‰è¿è¡Œä½ è¿˜å¼ºè¡Œæ·»åŠ debbugerçš„æ—¶å€™ï¼Œä¼šå‡ºç°è¿™ä¸ªè¶…æ—¶é—®é¢˜ï¼Œä½ ä¹Ÿå¯èƒ½éœ€è¦å…³é—­æœåŠ¡å™¨ä¸­çš„æ–­ç‚¹ã€‚</p>
</li>
<li><p><strong>é—®ï¼šè™½ç„¶æˆ‘çœ‹å®Œäº†<a href="https://microsoft.github.io/language-server-protocol/" target="_blank" rel="noopener">LSP Specification</a>ï¼Œä½†æ˜¯æˆ‘è¿˜æœ‰å¾ˆå¤šé—®é¢˜è§£å†³ä¸äº†ï¼Œæˆ‘å¯ä»¥åœ¨å“ªè·å¾—å¸®åŠ©ï¼Ÿ</strong></p>
<p>ç­”ï¼šå¯ä»¥åœ¨<a href="https://github.com/Microsoft/language-server-protocolä¸­å¼€issueã€‚" target="_blank" rel="noopener">https://github.com/Microsoft/language-server-protocolä¸­å¼€issueã€‚</a></p>
</li>
</ul>
<h1 id="è¿›é˜¶ä¸»é¢˜-1"><a href="#è¿›é˜¶ä¸»é¢˜-1" class="headerlink" title="è¿›é˜¶ä¸»é¢˜"></a>è¿›é˜¶ä¸»é¢˜</h1><h2 id="æ’ä»¶ä¸»æœº"><a href="#æ’ä»¶ä¸»æœº" class="headerlink" title="æ’ä»¶ä¸»æœº"></a>æ’ä»¶ä¸»æœº</h2><p>åœ¨æ’ä»¶è¯Šæ–­ä¸­å­¦ä¹ äº†æ’ä»¶ä¼šå°†<code>active</code>å’Œ<code>deactive</code>å£°æ˜å‘¨æœŸå‡½æ•°æš´éœ²ç»™VS Codeï¼Œåœ¨æœ¬èŠ‚æˆ‘ä»¬æ¥çœ‹çœ‹<strong>æ’ä»¶ä¸»æœº/æ’ä»¶å®¿ä¸»(Extension Host)</strong>æ˜¯æ€ä¹ˆç®¡ç†æ‰€æœ‰è¿è¡Œä¸­çš„æ’ä»¶çš„ã€‚</p>
<p><strong>æ’ä»¶ä¸»æœº</strong>æ˜¯VS Codeä¸­è´Ÿè´£åŠ è½½å’Œè¿è¡Œæ’ä»¶çš„Node.jsè¿›ç¨‹ï¼Œè™½ç„¶ä½ åœ¨å†™æ’ä»¶æ—¶ä¸å¿…å…³å¿ƒè¿™ä»¶äº‹ï¼Œä½†æ˜¯æŒæ¡æ’ä»¶ä¸»æœºçš„è¿è¡ŒåŸç†å¯¹ä½ åˆ›ä½œæ’ä»¶è¿˜æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p>
<h3 id="ç¨³å®šæ€§å’Œæ€§èƒ½"><a href="#ç¨³å®šæ€§å’Œæ€§èƒ½" class="headerlink" title="ç¨³å®šæ€§å’Œæ€§èƒ½"></a>ç¨³å®šæ€§å’Œæ€§èƒ½</h3><hr>
<p>VS Codeè‡´åŠ›äºä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªç¨³å®šä¸”é«˜æ€§èƒ½çš„ç¼–è¾‘ç¯å¢ƒï¼Œå› æ­¤å‡ºé”™çš„æ’ä»¶ä¸åº”è¯¥å½±å“åˆ°ç”¨æˆ·çš„ä½“éªŒã€‚æ‰€ä»¥<strong>æ’ä»¶ä¸»æœº</strong>å¯ä»¥é¢„é˜²è¿™äº›äº‹æƒ…ï¼š</p>
<ul>
<li>å¯åŠ¨æ€§èƒ½å½±å“</li>
<li>é˜»å¡çš„UIæ“ä½œ</li>
<li>ä¿®æ”¹UI</li>
</ul>
<p>å¦å¤–ï¼ŒVS Codeæä¾›çš„æ¿€æ´»äº‹ä»¶æœºåˆ¶ä¹Ÿè®©æ’ä»¶åªåœ¨ç”¨åˆ°æ—¶æ‰æ‡’åŠ è½½å®ƒä»¬ï¼Œæ¯”å¦‚ï¼ŒMarkdownæ’ä»¶åº”è¯¥åªåœ¨ç”¨æˆ·æ‰“å¼€äº†Markdownæ–‡ä»¶æ—¶æ‰å¯åŠ¨ï¼Œå› æ­¤é¿å…äº†ä¸å¿…è¦CPUå’Œå†…å­˜æ¶ˆè€—ã€‚</p>
<h2 id="æ”¯æŒè¿œç¨‹å¼€å‘"><a href="#æ”¯æŒè¿œç¨‹å¼€å‘" class="headerlink" title="æ”¯æŒè¿œç¨‹å¼€å‘"></a>æ”¯æŒè¿œç¨‹å¼€å‘</h2><p><a href="https://code.visualstudio.com/docs/remote/remote-overview" target="_blank" rel="noopener">VS Code è¿œç¨‹å¼€å‘</a>å…è®¸ä½ æ— ç¼åœ¨è¿œç¨‹æœºå™¨ä¸Šå¼€å‘ä»£ç ã€‚æœ‰äº†è¿™é¡¹æ”¯æŒåï¼Œä½ å°±å¯ä»¥å®Œå…¨ä½¿ç”¨VS Codeæœ¬åœ°æ’ä»¶å’Œä½ ç†Ÿæ‚‰çš„æ–¹å¼è¿œç¨‹å·¥ä½œäº†ã€‚</p>
<p>æœ¬èŠ‚ä¼šä»‹ç»è¿œç¨‹å¼€å‘ç›¸å…³çš„çŸ¥è¯†ï¼ŒVS Codeè¿œç¨‹å¼€å‘ æ’ä»¶æ¶æ„ï¼Œåœ¨è¿œç¨‹ç›®å½•æµ‹è¯•æ’ä»¶ï¼Œå’Œè¿œç¨‹æ’ä»¶ä¸èƒ½æ­£å¸¸å·¥ä½œçš„ä¸€äº›å»ºè®®ã€‚å¤§éƒ¨åˆ†æ’ä»¶ä¸éœ€è¦æ”¹åŠ¨å°±èƒ½é€‚åº”è¿œç¨‹å¼€å‘ç¯å¢ƒï¼Œå…¶ä»–çš„æ’ä»¶ä¹Ÿåªè¦ç¨å¾®æ”¹åŠ¨ä¸€ç‚¹å°±èƒ½é€‚é…è¿œç¨‹å¼€å‘äº†ã€‚</p>
<h3 id="æ¶æ„å’Œæ’ä»¶ç±»å‹"><a href="#æ¶æ„å’Œæ’ä»¶ç±»å‹" class="headerlink" title="æ¶æ„å’Œæ’ä»¶ç±»å‹"></a>æ¶æ„å’Œæ’ä»¶ç±»å‹</h3><hr>
<p>ä¸ºäº†ä½¿è¿œç¨‹å¼€å‘å°½åŠ›é€æ˜åŒ–ï¼Œä¾¿äºç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ’ä»¶åˆ†ä¸ºä¸¤ç±»ï¼š</p>
<ul>
<li><strong>UI æ’ä»¶ï¼š</strong> è¿™äº›æ’ä»¶å¯ä»¥é…ç½®VS Codeçš„ç”¨æˆ·ç•Œé¢ï¼Œè€Œä¸”åªè¿è¡Œåœ¨ç”¨æˆ·çš„æœ¬åœ°æœºå™¨ä¸Šã€‚UIæ’ä»¶ä¸èƒ½ç›´æ¥è®¿é—®å·¥ä½œåŒºçš„æ–‡ä»¶ï¼Œæˆ–è€…åœ¨å·¥ä½œåŒºçš„æœºå™¨ä¸Šè¿è¡Œè„šæœ¬/å·¥å…·ã€‚è¿™ç±»æ’ä»¶å¦‚ï¼šä¸»é¢˜ã€ä»£ç ç‰‡æ®µã€è¯­è¨€è¯­æ³•ã€å¿«æ·é”®æ˜ å°„ã€‚</li>
<li><strong>å·¥ä½œåŒºæ’ä»¶ï¼š</strong> è¿™ç±»æ’ä»¶è¿è¡Œåœ¨å·¥ä½œåŒºæ‰€åœ¨æœºå™¨ä¸Šã€‚å½“è¿è¡Œåœ¨æœ¬åœ°æ—¶ï¼Œ<em>å·¥ä½œåŒºæ’ä»¶</em>è¿è¡Œåœ¨æœ¬åœ°æœºå™¨ä¸Šï¼›åœ¨è¿œç¨‹é¡¹ç›®ä¸­ï¼Œå·¥ä½œåŒºæ’ä»¶è¿è¡Œåœ¨è¿œç¨‹æœºå™¨ä¸Šã€‚å·¥ä½œåŒºæ’ä»¶å¯ä»¥è®¿é—®å·¥ä½œåŒºçš„æ–‡ä»¶å¹¶æä¾›å¯Œæ–‡æœ¬æ”¯æŒå’Œå¤šè¯­è¨€æœåŠ¡å™¨ï¼Œè°ƒè¯•å’Œå…¶ä»–å¤æ‚çš„æ“ä½œï¼ˆä¹ŸåŒ…å«è¢«è„šæœ¬/å·¥å…·è°ƒèµ·çš„æ–‡ä»¶ï¼‰ã€‚ä¸è¿‡å·¥ä½œåŒºæ’ä»¶åœ¨è‡ªå®šä¹‰UIä¸Šç¨æœ‰é™åˆ¶ï¼Œä½ å¯ä»¥é…ç½®çš„UIç»„ä»¶æœ‰èµ„æºç®¡ç†å™¨ï¼Œè§†å›¾å®¹å™¨ç­‰å…¶ä»–UIç»„ä»¶ã€‚</li>
</ul>
<p>å½“ä¸€ä¸ªç”¨æˆ·å®‰è£…äº†ä¸€ä¸ªæ’ä»¶ï¼ŒVS Codeä¼šåŸºäºæ’ä»¶ç±»å‹è‡ªåŠ¨å°†æ’ä»¶å®‰è£…åˆ°æ­£ç¡®çš„ç¯å¢ƒä¸­å»ï¼šUI æ’ä»¶è¿è¡Œåœ¨VS Codeçš„æœ¬åœ°æ’ä»¶ä¸»æœºä¸­ï¼Œå·¥ä½œåŒºæ’ä»¶åˆ™è¿è¡Œåœ¨ä¸€ä¸ªéå¸¸å°çš„<strong>VS Code æœåŠ¡å™¨</strong>çš„<strong>è¿œç¨‹æ’ä»¶ä¸»æœº</strong>ä¸­ã€‚å½“ä½ æ‰“å¼€ä¸€ä¸ªWindows Subsystem for Linux(WSL)ã€å®¹å™¨ã€æˆ–è€…è¿œç¨‹SSHä¸»æœºæ—¶è¿™ä¸ªæœåŠ¡ä¼šè‡ªåŠ¨å®‰è£…ï¼ˆæ›´æ–°ï¼‰ã€‚VS Codeè¿˜ä¼šè‡ªåŠ¨ç®¡ç†è¿™ä¸ªæœåŠ¡çš„å¯åœï¼Œæ‰€ä»¥ç”¨æˆ·æ ¹æœ¬æ„è¯†ä¸åˆ°å®ƒçš„å­˜åœ¨ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/4a7ad12fe012bd8f72fa803b9980fa7a.png" alt=""></p>
<p>VS Code API ä¼šè‡ªåŠ¨è¿è¡Œåœ¨æ­£ç¡®çš„æœºå™¨ä¸Šï¼ˆä¸ç®¡æ˜¯æœ¬åœ°è¿˜æ˜¯è¿œç¨‹ï¼‰ã€‚ä½†æ˜¯å¦‚æœä½ çš„æ’ä»¶ä½¿ç”¨çš„apiä¸æ˜¯VS Codeæä¾›çš„â€”â€”æ¯”å¦‚è¿è¡Œshellè„šæœ¬çš„Node APIâ€”â€”å½“è¿è¡Œåœ¨è¿œç¨‹æ—¶å¯èƒ½ä¸ä¼šæ­£å¸¸å·¥ä½œï¼Œå› æ­¤æˆ‘ä»¬å»ºè®®ä½ åœ¨æ‰€æœ‰çš„ç¯å¢ƒä¸­æµ‹è¯•ä¸€ä¸‹ä½ çš„æ’ä»¶ã€‚</p>
<h3 id="æµ‹è¯•å’Œè°ƒè¯•æ’ä»¶"><a href="#æµ‹è¯•å’Œè°ƒè¯•æ’ä»¶" class="headerlink" title="æµ‹è¯•å’Œè°ƒè¯•æ’ä»¶"></a>æµ‹è¯•å’Œè°ƒè¯•æ’ä»¶</h3><hr>
<p>è¿™ä¸ªéƒ¨åˆ†å°†è¯´æ˜å¦‚ä½•åœ¨è¿œç¨‹ç›®å½•ä¸‹æµ‹è¯•å’Œè°ƒè¯•æ’ä»¶ã€‚åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹æ€ä¹ˆä½¿ç”¨æœ¬åœ°<a href="https://code.visualstudio.com/docs/remote/containers" target="_blank" rel="noopener">å¼€å‘å®¹å™¨</a>æµ‹è¯•ä¸€ä¸ªæ’ä»¶ã€‚æœ¬åœ°æµ‹è¯•å®¹å™¨æ˜¯è·¨å¹³å°çš„ï¼Œå¾ˆå®¹æ˜“éƒ¨ç½²ï¼Œä½†æ˜¯é™åˆ¶äº†è®¿é—®æ–‡ä»¶ç³»ç»Ÿçš„ç«¯å£ã€‚ç”±äºåªå ç”¨äº†éå¸¸å°çš„OSç©ºé—´ï¼Œå¼€å‘å®¹å™¨å¯ä»¥æä¾›æœ€ä¸ºæ¥è¿‘æ’ä»¶çš„çœŸå®è¿è¡Œç¯å¢ƒã€‚WSLï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„æœ€å°è‡ªæ²»SSHä¸»æœºã€‚å¤§éƒ¨åˆ†åœºæ™¯ä¸‹ï¼Œä½ åªè¦åšå°å°çš„è°ƒæ•´å°±å¯ä»¥è§£å†³é—®é¢˜äº†ï¼Œç›¸å…³ä¸»é¢˜æŸ¥çœ‹å¸¸è§é—®é¢˜ã€‚</p>
<h4 id="å®‰è£…å¼€å‘ç‰ˆæ’ä»¶"><a href="#å®‰è£…å¼€å‘ç‰ˆæ’ä»¶" class="headerlink" title="å®‰è£…å¼€å‘ç‰ˆæ’ä»¶"></a>å®‰è£…å¼€å‘ç‰ˆæ’ä»¶</h4><p>ç›®å‰ï¼ŒVS Codeè‡ªåŠ¨åœ¨SSHä¸»æœºã€å®¹å™¨ã€WSLå®‰è£…æ’ä»¶æ—¶ä¼šä½¿ç”¨æ’ä»¶å¸‚åœºçš„ç‰ˆæœ¬(è€Œä¸æ˜¯ä½ æœ¬æœºä¸Šå½“å‰å®‰è£…çš„ç‰ˆæœ¬)ã€‚å¤§éƒ¨åˆ†æ—¶å€™è¿™ä¹ˆåšäº‹åˆç†çš„ï¼Œä½†æ˜¯æˆ‘ä»¬ç°åœ¨å¯èƒ½éœ€è¦ä¸€ä¸ªæœªå‘å¸ƒçš„ç‰ˆæœ¬æ¥æµ‹è¯•ï¼Œæ‰€ä»¥ä½ å¯ä»¥å°†æ’ä»¶æ‰“åŒ…æˆ<code>VSIX</code>æ ¼å¼ï¼Œç„¶åæ‰“å¼€å·²ç»è¿æ¥åˆ°è¿œç¨‹VS Codeçª—å£ä¸­æ‰‹åŠ¨å®‰è£…è¿™ä¸ªæ’ä»¶ã€‚</p>
<p>éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>å¦‚æœè¿™ä¸ªæ’ä»¶å·²ç»å‘å¸ƒï¼Œä½ éœ€è¦å°†é…ç½®æ–‡ä»¶<code>setting.json</code>è®¾ç½®æˆ<code>"extensions.autoUpdate": false</code>ï¼Œé˜»æ­¢æ’ä»¶è‡ªåŠ¨æ›´æ–°åˆ°æ’ä»¶å¸‚åœºçš„æœ€æ–°ç‰ˆæœ¬ã€‚</li>
<li>ä¸‹ä¸€æ­¥ï¼Œä½¿ç”¨<code>vsce package</code>å°†ä½ çš„æ’ä»¶æ‰“åŒ…æˆVSIX</li>
<li>è¿æ¥åˆ°<a href="https://code.visualstudio.com/docs/remote/containers" target="_blank" rel="noopener">å¼€å‘å®¹å™¨</a>ã€<a href="https://code.visualstudio.com/docs/remote/ssh" target="_blank" rel="noopener">SSHä¸»æœº</a>æˆ–<a href="https://code.visualstudio.com/docs/remote/wsl" target="_blank" rel="noopener">WSLç¯å¢ƒ</a></li>
<li>åœ¨ä½ å·²ç»è¿æ¥è¿œç¨‹ç›®å½•çš„é¡¹ç›®ä¸­ï¼Œä½¿ç”¨å‘½ä»¤ <strong>Install from VSIXâ€¦</strong>å®‰è£…ä½ æ‰“åŒ…å¥½çš„æ’ä»¶</li>
<li>å®Œæˆåé‡å¯</li>
</ol>
<p>?&gt; <strong>å°æç¤ºï¼š</strong>å®‰è£…å®Œæ¯•åï¼Œä½ å¯ä»¥ä½¿ç”¨ <strong>Developer: Show Running Extensions</strong>å‘½ä»¤æŸ¥çœ‹VS Codeåœ¨æœ¬åœ°è¿è¡Œæ’ä»¶è¿˜æ˜¯åœ¨è¿œç¨‹è¿è¡Œæ’ä»¶çš„ã€‚</p>
<h4 id="åœ¨è¿œç¨‹è°ƒè¯•ä½ çš„æ’ä»¶"><a href="#åœ¨è¿œç¨‹è°ƒè¯•ä½ çš„æ’ä»¶" class="headerlink" title="åœ¨è¿œç¨‹è°ƒè¯•ä½ çš„æ’ä»¶"></a>åœ¨è¿œç¨‹è°ƒè¯•ä½ çš„æ’ä»¶</h4><p>é€šå¸¸ï¼Œä½ åœ¨æœ¬åœ°æœºå™¨ä¸Šæ„å»ºã€ç¼–è¾‘ã€åŠ è½½å’Œè°ƒè¯•ä½ çš„æ’ä»¶ï¼Œè¿œç¨‹è°ƒè¯•æ’ä»¶ä¹Ÿå·®ä¸å¤šéµå¾ªç›¸åŒçš„æ¨¡å¼ï¼Œä½ åªè¦æŠŠè¿™äº›å·¥ä½œå…¨éƒ¨æ”¾åœ¨æ‰“å¼€çš„è¿œç¨‹å¼€å‘ç›®å½•å»åšå°±å¥½äº†ã€‚</p>
<h5 id="ä½¿ç”¨å¼€å‘å®¹å™¨"><a href="#ä½¿ç”¨å¼€å‘å®¹å™¨" class="headerlink" title="ä½¿ç”¨å¼€å‘å®¹å™¨"></a>ä½¿ç”¨å¼€å‘å®¹å™¨</h5><p>éµå¾ªä»¥ä¸‹æ­¥éª¤å¼€å‘å’Œè°ƒè¯•å®¹å™¨ä¸­çš„æ’ä»¶ã€‚</p>
<ol>
<li>æ·»åŠ Node.jså¼€å‘å®¹å™¨å®šä¹‰ã€‚åœ¨ä½ çš„æ’ä»¶æ–‡ä»¶å¤¹ä¸‹æŒ‰<code>F1</code>ï¼Œé€‰æ‹© <strong>Remote-Containers: Create Configuration Fileâ€¦</strong> å‘½ä»¤ï¼Œç„¶åé€‰æ‹© <strong>Node.js 8 &amp; Typescript</strong>ï¼ˆæˆ–è€…åªæ˜¯ Node.js 8ï¼‰ã€‚è¿™å°±å®šä¹‰äº†ä½ å°†ä¼šç¼–è¾‘å’Œè°ƒè¯•çš„æ’ä»¶å®¹å™¨ã€‚</li>
<li>å‘½ä»¤è¿è¡Œåï¼Œä½ å¯ä»¥è‡ªç”±ä¿®æ”¹<code>.devcontainer</code>æ–‡ä»¶å¤¹ï¼Œæ·»åŠ æ¯”å¦‚æ„å»ºæˆ–è¿è¡Œæ—¶çš„å…¶ä»–é€‰é¡¹ã€‚æ·±å…¥<a href="https://code.visualstudio.com/docs/remote/containers" target="_blank" rel="noopener">å®¹å™¨</a>äº†è§£æ›´å¤šå†…å®¹ã€‚</li>
<li><strong>ã€å¯é€‰ã€‘</strong> ç¼–è¾‘<code>launch.json</code>åœ¨<code>args</code>å±æ€§åé¢æ·»åŠ ç¬¬äºŒä¸ªå‚æ•°ï¼ŒæŒ‡å‘ä½ çš„å®¹å™¨ä¸­çš„å·¥ä½œåŒºç›®å½•ä¸‹çš„æµ‹è¯•é¡¹ç›®/æµ‹è¯•æ•°æ®ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ çš„æµ‹è¯•æ•°æ®åœ¨å·¥ä½œåŒºçš„ä¸€ä¸ª<code>data</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œéœ€è¦æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤æ·»åŠ <code>${workspaceFolder}/data</code>:</li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼šä½ <strong>ä¸å¯ä»¥</strong>å•ç‹¬ä½¿ç”¨<code>${workspaceFolder}</code>ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°</p>
</blockquote>
<pre><code>{
  "name": "Launch Extension",
  "type": "extensionHost",
  "request": "launch",
  "runtimeExecutable": "${execPath}",
  "args": ["--extensionDevelopmentPath=${workspaceFolder}", "${workspaceFolder}/data"],
  "stopOnEntry": false,
  "sourceMaps": true,
  "outFiles": ["${workspaceFolder}/dist/**/*.js"],
  "preLaunchTask": "npm"
}</code></pre><ol>
<li>è¿è¡Œ <strong>Remote-Containers: Reopen Folder in Container</strong>ï¼ŒVS Codeä¼šéƒ¨ç½²å¥½å®¹å™¨ï¼Œç„¶åå»ºç«‹è¿æ¥ã€‚ç°åœ¨ä½ å¯ä»¥ä»å®¹å™¨å†…éƒ¨ä¿®æ”¹æºç äº†ã€‚</li>
<li>æœ€åï¼ŒæŒ‰ä¸‹<code>F5</code>æˆ–è€…ä½¿ç”¨ <strong>è°ƒè¯•è§†å›¾</strong>ä»å®¹å™¨å†…éƒ¨åŠ è½½ç„¶åå¯åŠ¨è°ƒè¯•å™¨ã€‚</li>
</ol>
<h5 id="ä½¿ç”¨SSH-æˆ–-WSL"><a href="#ä½¿ç”¨SSH-æˆ–-WSL" class="headerlink" title="ä½¿ç”¨SSH æˆ– WSL"></a>ä½¿ç”¨SSH æˆ– WSL</h5><p>ä½ åœ¨ <a href="https://code.visualstudio.com/docs/remote/ssh" target="_blank" rel="noopener">SSH ä¸»æœº</a> æˆ– <a href="https://code.visualstudio.com/docs/remote/wsl" target="_blank" rel="noopener">WSL</a> ä¸­éµå¾ªç±»ä¼¼çš„æ­¥éª¤ã€‚</p>
<ol>
<li>ä½¿ç”¨SSHï¼Œä½ éœ€è¦åœ¨è¿œç¨‹ä¸»æœºä¸Šæ‰“å¼€å¯¹åº”çš„é¡¹ç›®ï¼ˆæ¯”å¦‚ï¼Œä½¿ç”¨ <strong>Remote-SSH: Connect to Hostâ€¦</strong> å‘½ä»¤ï¼Œç„¶ååœ¨ <strong>File &gt; Open</strong>æ‰“å¼€å¯¹åº”çš„æ’ä»¶å‰¯æœ¬ï¼‰ã€‚ä½¿ç”¨WSLï¼Œä½¿ç”¨ <strong>File &gt; New WSL Window</strong>ç„¶å <strong>File &gt; Open</strong>æ‰“å¼€å¯¹åº”æ–‡ä»¶å¤¹ã€‚</li>
<li>é€šè¿‡SSHä¸»æœº/WSLæ‰“å¼€æ–‡ä»¶å¤¹åï¼Œä½ å¯ä»¥åƒåœ¨æœ¬åœ°ä¸€æ ·ç¼–è¾‘æºç äº†ã€‚</li>
<li>æœ€åï¼ŒæŒ‰ä¸‹ <code>F5</code> æˆ–è€…ä½¿ç”¨ <strong>è°ƒè¯•è§†å›¾</strong>åŠ è½½æ’ä»¶ï¼Œåƒæœ¬åœ°ä¸€æ ·è°ƒè¯•ä»£ç ã€‚</li>
</ol>
<h3 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h3><hr>
<p>VS Code API ä¼šæ ¹æ®é¡¹ç›®è‡ªåŠ¨è¿è¡Œåœ¨æ­£ç¡®çš„ç¯å¢ƒä¸Šã€‚è®°ä½è¿™ç‚¹ï¼Œç„¶åæˆ‘ä»¬æ¥çœ‹çœ‹å‡ ä¸ªAPIï¼Œå®ƒä¼šå¸®åŠ©ä½ é¿å…ä¸€äº›æ„å¤–é—®é¢˜ã€‚</p>
<h4 id="ä¸æ­£ç¡®çš„æ‰§è¡Œç¯å¢ƒ"><a href="#ä¸æ­£ç¡®çš„æ‰§è¡Œç¯å¢ƒ" class="headerlink" title="ä¸æ­£ç¡®çš„æ‰§è¡Œç¯å¢ƒ"></a>ä¸æ­£ç¡®çš„æ‰§è¡Œç¯å¢ƒ</h4><p>å¦‚æœä½ çš„æ’ä»¶å‡ºé”™äº†ï¼Œå®ƒæœ‰å¯èƒ½æ˜¯è¿è¡Œåœ¨äº†é”™è¯¯ç¯å¢ƒä¸­ã€‚æ¯”è¾ƒå¸¸è§çš„åœºæ™¯æ˜¯ï¼Œä½ åŸæœ¬æœŸæœ›å®ƒè¿è¡Œåœ¨æœ¬åœ°å´è¿è¡Œåœ¨äº†è¿œç¨‹ä¸Šã€‚ä½ å¯ä»¥ä½¿ç”¨å‘½ä»¤é¢æ¿çš„ <strong>Developer: Show Running Extensions</strong>å‘½ä»¤æŸ¥çœ‹æ’ä»¶çš„è¿è¡Œæƒ…å†µã€‚</p>
<p>å¦‚æœè¿™ä¸ªå‘½ä»¤æ˜¾ç¤ºæŸä¸ªUI æ’ä»¶è¢«å½“åšå·¥ä½œåŒºæ’ä»¶æˆ–è€…ç±»ä¼¼çš„æƒ…å†µï¼Œä½ å¯ä»¥è¯•ç€åœ¨æ’ä»¶çš„<code>package.json</code>ä¸­è®¾ç½®<code>extensionKind</code>å±æ€§ï¼š</p>
<pre><code>{
  "extensionKind": "ui"
}</code></pre><ul>
<li><code>"extensionKind": "ui"</code> â€”â€” å°†æ’ä»¶è§†ä¸º UI æ’ä»¶ï¼Œå¼ºåˆ¶åœ¨æœ¬åœ°è¿è¡Œã€‚</li>
<li><code>"extensionKind": "ui"</code> â€”â€” å°†æ’ä»¶è§†ä¸º å·¥ä½œåŒºæ’ä»¶ï¼Œå®ƒæœ‰å¯èƒ½ä¼šåœ¨è¿œç¨‹å·¥ä½œåŒºçš„VS Code Serverä¸­è¿è¡Œã€‚</li>
</ul>
<p>ä½ ä¹Ÿå¯ä»¥åœ¨<a href="https://code.visualstudio.com/docs/getstarted/settings" target="_blank" rel="noopener">è®¾ç½®</a>ä¸­ä¿®æ”¹ <code>remote.extensionKind</code>æ’ä»¶çš„ç±»å‹ï¼Œè¿™é¡¹é…ç½®å¯ä»¥ç«‹ç«¿è§å½±åœ°çœ‹åˆ°æ•ˆæœã€‚æ¯”å¦‚ï¼Œä½ æƒ³æŠŠ <a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-cosmosdb" target="_blank" rel="noopener">Azure Cosmos DB</a>æ’ä»¶å¼ºåˆ¶è®¾ç½®ä¸º UI æ’ä»¶ï¼ˆé»˜è®¤æ˜¯å·¥ä½œåŒºæ’ä»¶ï¼‰ç„¶åæŠŠ<a href="https://marketplace.visualstudio.com/items?itemName=msjsdiag.debugger-for-chrome" target="_blank" rel="noopener">Debugger for Chrome</a>è®¾ç½®ä¸ºå·¥ä½œåŒºæ’ä»¶ï¼ˆé»˜è®¤æ˜¯UI æ’ä»¶ï¼‰ï¼Œä½ å¯ä»¥è¿™ä¹ˆè®¾ç½®ï¼š</p>
<pre><code>{
  "remote.extensionKind": {
    "ms-azuretools.vscode-cosmosdb": "ui",
    "msjsdiag.debugger-for-chrome": "workspace"
  }
}</code></pre><p>ä½¿ç”¨ <code>remote.extensionKind</code>å¯ä»¥å¿«é€Ÿåœ°æµ‹è¯•å‘è¡Œç‰ˆæ’ä»¶ï¼Œè€Œä¸ç”¨ä¿®æ”¹æ’ä»¶çš„<code>package.json</code>æˆ–é‡æ–°æ„å»ºæ’ä»¶ã€‚</p>
<h4 id="ä¿å­˜æ’ä»¶æ•°æ®æˆ–çŠ¶æ€"><a href="#ä¿å­˜æ’ä»¶æ•°æ®æˆ–çŠ¶æ€" class="headerlink" title="ä¿å­˜æ’ä»¶æ•°æ®æˆ–çŠ¶æ€"></a>ä¿å­˜æ’ä»¶æ•°æ®æˆ–çŠ¶æ€</h4><p>æœ‰çš„æ—¶å€™ï¼Œä½ çš„æ’ä»¶éœ€è¦ä¿ç•™ä½ä¸å±äº<code>settings.json</code>çš„æ•°æ®æˆ–è€…ç‹¬ç«‹çš„å·¥ä½œåŒºé…ç½®æ–‡ä»¶ï¼ˆå¦‚<code>.eslintrc</code>ï¼‰ï¼Œä½ å¯ä»¥ä½¿ç”¨æ’ä»¶æ¿€æ´»å…¥å£çš„<code>vscode.ExtensionContext</code>å¯¹è±¡ã€‚å¦‚æœä½ çš„æ’ä»¶å·²ç»ä½¿ç”¨å¥½äº†è¿™äº›å±æ€§é‚£å°±åº”è¯¥ä¸ä¼šå‡ºé”™ã€‚</p>
<p>ä½†æ˜¯ï¼Œä½ çš„æ’ä»¶å¦‚æœä¾èµ–VS Codeçš„è·¯å¾„çº¦å®šï¼ˆå¦‚ <code>~/.vscode</code>ï¼‰æˆ–è€…ç‰¹å®šçš„OSç›®å½•ï¼ˆæ¯”å¦‚Linuxä¸Šçš„ <code>~/.config/Code</code>ï¼‰æ¥ä¿å­˜æ•°æ®ï¼Œé‚£ä½ å°±å¯èƒ½ä¼šé‡åˆ°é—®é¢˜ã€‚ä¸è¿‡è¿˜å¥½è¿™äº›å°é—®é¢˜åªè¦ç¨åŠ ä¿®æ”¹æ’ä»¶å°±èƒ½å¤„ç†æ‰ã€‚</p>
<p>å¦‚æœä½ åªæ˜¯æƒ³ä¿å­˜ä¸€äº›é”®å€¼å¯¹å…¨å±€çŠ¶æ€ä¿¡æ¯ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>vscode.ExtensionContext.workspaceState</code>æˆ–<code>vscode.ExtensionContext.globalState</code>ã€‚å¦‚æœæ•°æ®ä¸æ­¢é”®å€¼å¯¹ä¸”æ›´ä¸ºå¤æ‚ï¼Œè®¿é—®<code>globalStoragePath</code>å’Œ<code>storagePath</code>å¯ä»¥å®‰å…¨åœ°è·å–å¯¹åº”çš„å‚¨å­˜è·¯å¾„ï¼Œä¾›ä½ è¯»å†™æ–‡ä»¶ã€‚</p>
<p>è¿™äº›APIåœ¨1.31ç‰ˆæœ¬ä¹‹åå¯ç”¨ï¼Œä½ éœ€è¦åœ¨<code>package.json</code>ä¸­é…ç½®ç‰ˆæœ¬ï¼š</p>
<pre><code>{
  "engines": {
    "vscode": "^1.31.0"
  }
}</code></pre><p>å¦‚ä½•ä½¿ç”¨æˆ‘ä»¬ä¸Šé¢ä»‹ç»çš„API:</p>
<pre><code>import * as vscode from 'vscode';
import * as fs from 'fs';
import * as path from 'path';
export function activate(context: vscode.ExtensionContext) {
    context.subscriptions.push(
        vscode.commands.registerCommand('myAmazingExtension.persistWorkspaceData', () =&gt; {
        // å¦‚æœæ’ä»¶æ‰€å±çš„å·¥ä½œåŒºä¸å­˜åœ¨å‚¨å­˜è·¯å¾„ï¼Œåˆ™åˆ›å»ºä¸€ä¸ª
        if (!fs.existsSync(context.storagePath)) {
            fs.mkdirSync(context.storagePath);
        }
        // å°†æ–‡ä»¶å†™å…¥å‚¨å­˜ç›®å½•
        fs.writeFileSync(
            path.join(context.storagePath, 'workspace-data.json'),
            JSON.stringify({ now: Date.now() }));
    }));
    context.subscriptions.push(
        vscode.commands.registerCommand('myAmazingExtension.persistGlobalData', () =&gt; {
        // å¦‚æœæ’ä»¶æ‰€å±çš„å…¨å±€ï¼ˆè·¨å·¥ä½œåŒºï¼‰æ–‡ä»¶å¤¹ä¸å­˜åœ¨åˆ™åˆ›å»ºä¸€ä¸ª
        if (!fs.existsSync(context.globalStoragePath)) {
            fs.mkdirSync(context.globalStoragePath);
        }
        // ä¸ºæ’ä»¶åˆ›å»ºä¸€ä¸ªå…¨å±€å‚¨å­˜æ–‡ä»¶
        fs.writeFileSync(
            path.join(context.globalStoragePath, 'global-data.json'),
            JSON.stringify({ now: Date.now() }));
    }));
}</code></pre><h4 id="ä¿ç•™å¯†é’¥"><a href="#ä¿ç•™å¯†é’¥" class="headerlink" title="ä¿ç•™å¯†é’¥"></a>ä¿ç•™å¯†é’¥</h4><p>å¦‚æœä½ çš„æ’ä»¶éœ€è¦ä¿ç•™å¯†ç æˆ–è€…å…¶ä»–å¯†é’¥ï¼Œä½ å¯èƒ½ä¼šæƒ³åˆ°ä½¿ç”¨æœ¬åœ°æ“ä½œç³»ç»Ÿçš„å¯†é’¥å‚¨å­˜åŠŸèƒ½ï¼ˆWindows Cert Storeã€ macOS KeyChainã€Linux çš„ <code>libsecret</code>-based keyringï¼‰ï¼Œè€Œä¸æ˜¯ä½¿ç”¨è¿œç¨‹ä¸»æœºçš„å‚¨å­˜åŠŸèƒ½ã€‚æ›´æœ‰å¯èƒ½çš„æ˜¯ï¼Œä½ å¯èƒ½éœ€è¦åœ¨Linuxä¸Šä½¿ç”¨<code>libsecret</code>ï¼Œåœ¨æ’ä»¶ä¸­ä½¿ç”¨<code>gnome-keyring</code>å»å‚¨å­˜ä½ çš„å¯†é’¥ï¼Œé€šå¸¸æ¥è¯´ï¼Œè¿™é¡¹åŠŸèƒ½åœ¨æœåŠ¡ç«¯æˆ–è€…å®¹å™¨å†…ä¸ä¸€å®šèƒ½è¿ä½œèµ·æ¥ã€‚</p>
<p>VS Codeæœ¬èº«ä¸æä¾›å¯†é’¥å‚¨å­˜æœºåˆ¶ï¼Œä¸è¿‡éœ€è¦æ’ä»¶ä½œè€…ä¼šè½¬è€Œä½¿ç”¨<a href="https://www.npmjs.com/package/keytar" target="_blank" rel="noopener"><code>keytar</code> node module</a>åŒ…ã€‚å› æ­¤ï¼ŒVS Codeå†…å»ºäº†<code>keytar</code>ï¼Œä½ åœ¨ <em>å·¥ä½œåŒºæ’ä»¶</em> ä¸­å¦‚æœä½¿ç”¨äº†å®ƒï¼Œå®ƒå°±ä¼šè‡ªåŠ¨æ— å£°åœ°è¿è¡Œåœ¨åå°ã€‚è¿™æ ·ä¸€æ¥ä½ å°±å¯ä»¥ä½¿ç”¨æœ¬åœ°ç³»ç»Ÿçš„ keychain/ keyring/ cert store åŒæ—¶è¿˜é¿å…äº†å„ç§é—®é¢˜ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<pre><code>import * as vscode from 'vscode';
function getCoreNodeModule(moduleName) {
  try {
    return require(`${vscode.env.appRoot}/node_modules.asar/${moduleName}`);
  } catch (err) {}
  try {
    return require(`${vscode.env.appRoot}/node_modules/${moduleName}`);
  } catch (err) {}
  return undefined;
}
// Use it
const keytar = getCoreNodeModule('keytar');
await keytar.setPassword('my-service-name', 'my-account', 'iamal337d00d');
const password = await keytar.getPassword('my-service-name', 'my-account');</code></pre><h4 id="ä½¿ç”¨å‰ªè´´æ¿"><a href="#ä½¿ç”¨å‰ªè´´æ¿" class="headerlink" title="ä½¿ç”¨å‰ªè´´æ¿"></a>ä½¿ç”¨å‰ªè´´æ¿</h4><p>ç”±äºå†å²åŸå› ï¼Œå¤§éƒ¨åˆ†æ’ä»¶ä½œè€…ä¼šä½¿ç”¨è¯¸å¦‚<code>clipboardy</code>ç­‰Node.jsçš„åŒ…å’Œå‰ªè´´æ¿äº¤äº’ã€‚ä¸å¹¸çš„çš„æ˜¯ï¼Œå¦‚æœä½ ä½¿ç”¨äº†è¿™æ ·çš„åŒ…ï¼Œé‚£ä¹ˆå®ƒå°±å¾ˆæœ‰å¯èƒ½ä¼šè¿è¡Œåœ¨è¿œç¨‹æœºå™¨ä¸Šã€‚</p>
<p>VS Code 1.30å¼•å…¥çš„å‰ªè´´æ¿åˆ™è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚å®ƒæ€»æ˜¯è¿è¡Œåœ¨æœ¬åœ°ä¸­ï¼Œæ‰€ä»¥åŒæ ·çš„ï¼Œä½ åªè¦ä¿®æ”¹ä½ çš„<code>engines.vscode</code>ç‰ˆæœ¬å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªAPIäº†ã€‚</p>
<p>åœ¨æ’ä»¶ä¸­ä½¿ç”¨å‰ªè´´æ¿APIï¼š</p>
<pre><code>import * as vscode from 'vscode';
export function activate(context: vscode.ExtensionContext) {
  context.subscriptions.push(
    vscode.commands.registerCommand('myAmazingExtension.clipboardIt', async () =&gt; {
      // è¯»å–å‰ªè´´æ¿
      const text = await vscode.env.clipboard.readText();
      // å†™å…¥å‰ªè´´æ¿
      await vscode.env.clipboard.writeText(
        `It looks like you're copying "${text}". Would you like help?`
      );
    })
  );
}</code></pre><h4 id="åœ¨æœ¬åœ°æµè§ˆå™¨æˆ–è€…å…¶ä»–åº”ç”¨ä¸­æ‰“å¼€äº›ä»€ä¹ˆ"><a href="#åœ¨æœ¬åœ°æµè§ˆå™¨æˆ–è€…å…¶ä»–åº”ç”¨ä¸­æ‰“å¼€äº›ä»€ä¹ˆ" class="headerlink" title="åœ¨æœ¬åœ°æµè§ˆå™¨æˆ–è€…å…¶ä»–åº”ç”¨ä¸­æ‰“å¼€äº›ä»€ä¹ˆ"></a>åœ¨æœ¬åœ°æµè§ˆå™¨æˆ–è€…å…¶ä»–åº”ç”¨ä¸­æ‰“å¼€äº›ä»€ä¹ˆ</h4><p>åœ¨æœ¬åœ°çš„åœºæ™¯ä¸‹ï¼Œé€šè¿‡ä½¿ç”¨å­è¿›ç¨‹æˆ–è€…<code>opn</code>åŒ…å¯åŠ¨æµè§ˆå™¨æˆ–è€…å…¶ä»–åº”ç”¨æ˜¯å®Œå…¨å¯è¡Œçš„ï¼Œä½†æ˜¯ä¸€æ—¦æ’ä»¶è¿è¡Œåˆ°äº†è¿œç¨‹ä¸Šï¼Œè¿™å°±ä¼šå¯¼è‡´åº”ç”¨åŠ è½½é”™è¯¯ã€‚VS Codeè¿œç¨‹å¼€å‘<strong>éƒ¨åˆ†</strong>å…¼å®¹äº†<code>opn</code>åŒ…ä½¿å¾—ç°æœ‰æ’ä»¶å¯ä»¥æ­£å¸¸è¿è¡Œã€‚ä½ å¯ä»¥ä½¿ç”¨URIè°ƒç”¨è¿™ä¸ªåŒ…ï¼ŒVS Codeä¼šå¸¦ä¸Šè¿™ä¸ªURLåœ¨å®¢æˆ·ç«¯å”¤èµ·é»˜è®¤åº”ç”¨ã€‚ç”±äºä¸æ˜¯å®Œæ•´å®ç°ï¼Œæœ‰äº›é…ç½®æ˜¯ä¸æ”¯æŒçš„ï¼Œä¹Ÿä¸ä¼šè¿”å›<code>child_process</code>å¯¹è±¡ã€‚</p>
<p>é™¤äº†ä¾èµ–ç¬¬ä¸‰æ–¹åŒ…ï¼Œæˆ‘ä»¬å»ºè®®ä½ ä½¿ç”¨<code>vscode.env.openExternal</code>æ–¹æ³•åœ¨æœ¬åœ°æ“ä½œç³»ç»Ÿä¸Šå¯åŠ¨é»˜è®¤åº”ç”¨æ‰“å¼€å¯¹åº”çš„URIã€‚è€Œä¸”<code>vscode.env.openExternal</code><strong>è¿˜æ”¯æŒè‡ªåŠ¨ç«¯å£è½¬å‘</strong>ï¼ä½ å¯ä»¥æŒ‡å‘åˆ°è¿œç¨‹çš„web serverä¸Šï¼Œå³ä½¿é‚£ä¸ªç«¯å£å¤–éƒ¨ä¸å¯è®¿é—®ã€‚</p>
<p>è¿™é¡¹åŠŸèƒ½è‡ª1.31å¼€å§‹æ”¯æŒï¼Œæ‰€ä»¥ä½ åˆè¦ä¿®æ”¹ä½ çš„<code>engines.vscode</code>äº†ã€‚</p>
<p>å¦‚ä½•ä½¿ç”¨<code>vscode.env.openExternal</code>APIï¼š</p>
<pre><code>import * as vscode from 'vscode';
export async function activate(context: vscode.ExtensionContext) {
  context.subscriptions.push(
    vscode.commands.registerCommand('myAmazingExtension.openExternal', () =&gt; {
      // ç¤ºä¾‹ 1 - åœ¨é»˜è®¤æµè§ˆå™¨ä¸­æ‰“å¼€VS Codeä¸»é¡µ
      vscode.env.openExternal(vscode.Uri.parse('https://code.visualstudio.com'));
      // ç¤ºä¾‹ 2 - æ‰“å¼€é»˜è®¤emailåº”ç”¨
      vscode.env.openExternal(vscode.Uri.parse('mailto:vscode@microsoft.com'));
    })
  );
}</code></pre><h4 id="ä½¿ç”¨å‘½ä»¤åœ¨æ’ä»¶é—´é€šä¿¡"><a href="#ä½¿ç”¨å‘½ä»¤åœ¨æ’ä»¶é—´é€šä¿¡" class="headerlink" title="ä½¿ç”¨å‘½ä»¤åœ¨æ’ä»¶é—´é€šä¿¡"></a>ä½¿ç”¨å‘½ä»¤åœ¨æ’ä»¶é—´é€šä¿¡</h4><p>ä¸€äº›æ’ä»¶æ„åœ¨è¢«å…¶ä»–æ’ä»¶è°ƒç”¨ï¼ˆé€šè¿‡<code>vscode.extension.getExtension(extensionName).exports</code>ï¼‰ï¼Œå› æ­¤ä¼šåœ¨æ¿€æ´»æ—¶è¿”å›ä¸€äº›APIã€‚å¦‚æœè¿™äº›æ’ä»¶éƒ½åœ¨åŒä¸€ç¯å¢ƒï¼ˆéƒ½æ˜¯UIæ’ä»¶ï¼Œæˆ–è€…éƒ½æ˜¯å·¥ä½œåŒºæ’ä»¶æ—¶ï¼‰ä¸‹å·¥ä½œä¸ä¼šå‡ºä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å¦‚æœä¸€ä¸ªæ˜¯UIæ’ä»¶ï¼Œä¸€ä¸ªæ˜¯å·¥ä½œåŒºæ’ä»¶å°±ä¼šå‡ºé—®é¢˜äº†ã€‚</p>
<p>å¦‚æœä½ çš„æ’ä»¶éœ€è¦å½¼æ­¤äº§ç”Ÿäº¤äº’ï¼Œä½¿ç”¨ç§æœ‰å‘½ä»¤æš´éœ²åŠŸèƒ½å¯ä»¥é¿å…ä¸€äº›é—®é¢˜ã€‚ä¸è¿‡è®°ä½ä¸€ç‚¹ï¼Œæ‰€æœ‰ä½ ä¼ å…¥çš„å¯¹è±¡å‚æ•°éƒ½ä¼šè¢«å­—ç¬¦ä¸²åŒ–ï¼ˆ<code>JSON.stringify</code>ï¼‰ï¼Œå› æ­¤è¿™äº›å¯¹è±¡ä¸å¯ä»¥æœ‰å¾ªç¯å¼•ç”¨ï¼Œè¿™ä¼šå¯¼è‡´æ¥å—æ–¹åªæ”¶åˆ°ä¸€ä¸ªâ€å­—ç¬¦ä¸²åŒ–çš„objectç±»å‹â€ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code>import * as vscode from 'vscode';
export async function activate(context: vscode.ExtensionContext) {
  // æ³¨å†Œç§æœ‰å‘½ä»¤
  const echoCommand = vscode.commands.registerCommand(
    '_private.command.called.echo',
    (value: string) =&gt; {
      return value;
    }
  );
  context.subscriptions.push(echoCommand);
}</code></pre><h3 id="ä½¿ç”¨Webview-API"><a href="#ä½¿ç”¨Webview-API" class="headerlink" title="ä½¿ç”¨Webview API"></a>ä½¿ç”¨Webview API</h3><hr>
<p>å°±åƒå‰ªè´´æ¿APIï¼ŒWebview APIä¹Ÿæ€»æ˜¯è¿è¡Œåœ¨æœ¬åœ°ç¯å¢ƒï¼Œå³ä½¿æ˜¯ <em>å·¥ä½œåŒºæ’ä»¶</em> è°ƒç”¨çš„ã€‚ä¹Ÿå°±æ˜¯è¯´å¤§éƒ¨åˆ†åŸºäºwebviewçš„æ’ä»¶éƒ½å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯è¿˜æœ‰äº›æ³¨æ„äº‹é¡¹éœ€è¦äº¤ä»£ä¸€ä¸‹ã€‚</p>
<h4 id="è®¿é—®localhost"><a href="#è®¿é—®localhost" class="headerlink" title="è®¿é—®localhost"></a>è®¿é—®localhost</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œwebviewä¸­çš„<code>localhost</code>ä¼šè§£æåˆ°ç”¨æˆ·æœ¬åœ°æœºå™¨ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿œç¨‹è¿è¡Œçš„æ’ä»¶æ‰€å¯åŠ¨çš„æœåŠ¡åœ¨webviewé‡Œæ˜¯æ— æ³•è®¿é—®çš„ã€‚å³ä½¿ä½ è®¿é—®è¿œç¨‹æœºå™¨çš„ipï¼Œäº‘ä¸»æœºæˆ–å®¹å™¨ä¸­çš„ç«¯å£è¿˜æ˜¯é»˜è®¤è¢«æ‹¦æˆªçš„ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ç¤ºæ„å›¾</p>
<p><img src="/images/loading.gif" data-original="../images/development/7bfe4aca0b236e20c24b1f144a4b0ef0.png" alt=""></p>
<p>ä½ å¯ä»¥ç”¨webviewçš„message passingAPIç»•è¿‡å„ç§é™åˆ¶ï¼Œä½ è¿˜å¯ä»¥ <strong>æ·»åŠ ç«¯å£æ˜ å°„</strong> å‘Šè¯‰webviewå“ªäº›ç«¯å£å¯ä»¥ç›´æ¥è½¬å‘åˆ°è¿œç¨‹æœºå™¨ä¸Šã€‚</p>
<p>ç«¯å£æ˜ å°„å¯ä»¥å°†webviewæ‰€ä½¿ç”¨çš„localhostç«¯å£æ˜ å°„åˆ°è¿œç¨‹æ’ä»¶å¯åŠ¨çš„ä»»æ„ç«¯å£ä¸Šã€‚å¦‚æœä½ çš„ <em>å·¥ä½œåŒºæ’ä»¶</em> è¿è¡Œåœ¨è¿œç¨‹ï¼Œè€Œä¸”ä½ ä¹Ÿå®šä¹‰äº†ç«¯å£æ˜ å°„ï¼Œé‚£ä¹ˆè¿™äº›æµé‡ä¼šè‡ªåŠ¨ã€å®‰å…¨åœ°è½¬å‘åˆ°è¿œç¨‹æœºå™¨ä¸Šã€‚å¦‚æœä½ çš„æ’ä»¶åªæ˜¯è¿è¡Œåœ¨æœ¬åœ°ï¼Œç«¯å£æ˜ å°„åˆ™ä¼šå°†ä¸€ä¸ªlocalhostç«¯å£é‡æ–°æ˜ å°„åˆ°å¦ä¸€ä¸ªç«¯å£ä¸Šã€‚Webviewç«¯å£æ˜ å°„åŒæ—¶æ”¯æŒ<em>UIæ’ä»¶</em>å’Œ<em>å·¥ä½œåŒºæ’ä»¶</em>ï¼Œä¹ŸåŒæ—¶æ”¯æŒæœ¬åœ°å’Œè¿œç¨‹ç¯å¢ƒã€‚</p>
<p>è¿™é¡¹åŠŸèƒ½è‡ª1.34å¼€å§‹æ”¯æŒï¼Œè¯·ä¿®æ”¹ä½ çš„<code>package.json</code>æ·»åŠ è¯¥æ”¯æŒã€‚</p>
<p>ä½¿ç”¨ç«¯å£æ˜ å°„ï¼Œåªè¦åœ¨ä½ åˆ›å»ºçš„webviewä¸­æ·»åŠ ä¼ å…¥ä¸€ä¸ª<code>portMapping</code>å¯¹è±¡å³å¯ï¼š</p>
<pre><code>const STATIC_PORT = 3000;
const dynamicServerPort = getExpressServerPort();
const webviewPort = STATIC_PORT;
// åˆ›å»ºwebviewç„¶åä¼ å…¥portMapping
const panel = vscode.window.createWebviewPanel(
  'remoteMappingExample',
  'Remote Mapping Example',
  vscode.ViewColumn.One,
  {
    portMapping: [
      // è¿™é‡Œæ˜ å°„äº† webview çš„ localhost:3000 åˆ°è¿œç¨‹ä¸»æœºçš„ express æœåŠ¡å™¨ç«¯å£
      { webviewPort: webviewPort, extensionHostPort: dynamicServerPort }
    ]
  }
);
// ä½ å¯ä»¥åœ¨HTMLä¸­ä½¿ç”¨"webviewPort"æŸ¥çœ‹ç«¯å£
panel.webview.html = `&lt;!DOCTYPE html&gt;
    &lt;body&gt;
        &lt;!-- This will resolve to the dynamic server port on the remote machine --&gt;
        &lt;img src="http://localhost:${webviewPort}/canvas.png"&gt;
    &lt;/body&gt;
    &lt;/html&gt;`;</code></pre><p>ç°åœ¨webviewå‰å¾€<code>localhost:3000</code>çš„æµé‡éƒ½ä¼šé€šè¿‡VS Codeçš„å®‰å…¨ä¿¡é“ç›´æ¥èµ°åˆ°è¿œç¨‹æœºå™¨ä¸Šã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/2c47e792d1780d8c03acbb12b214aca5.png" alt=""></p>
<h3 id="ä½¿ç”¨åŸç”ŸNode-jsæ¨¡å—"><a href="#ä½¿ç”¨åŸç”ŸNode-jsæ¨¡å—" class="headerlink" title="ä½¿ç”¨åŸç”ŸNode.jsæ¨¡å—"></a>ä½¿ç”¨åŸç”ŸNode.jsæ¨¡å—</h3><hr>
<p>å’Œæ’ä»¶æ‰“åŒ…ï¼ˆæˆ–åŠ¨æ€å¼•å…¥çš„åŒ…ï¼‰çš„åŸç”ŸnodeåŒ…ä¼šè¢«<a href="https://electronjs.org/docs/tutorial/using-native-node-modules" target="_blank" rel="noopener">Electornçš„<code>electron-rebuild</code></a>é‡æ–°ç¼–è¯‘ã€‚ä½†æ˜¯VS Code Serverè¿è¡Œåœ¨ä¸€ä¸ªæ ‡å‡†çš„ï¼ˆéElectronï¼‰çš„Node.jsä¸­ï¼Œå› æ­¤å¯èƒ½é€ æˆè¿œç¨‹äºŒè¿›åˆ¶åº“å¤±æ•ˆé—®é¢˜ã€‚</p>
<p>è§£å†³è¿™ä¸ªé—®é¢˜éœ€è¦ï¼š</p>
<ol>
<li>åŒæ—¶å¼•å…¥Node.jså’ŒElctronæ ‡å‡†çš„ä¸¤ç§äºŒè¿›åˆ¶åŒ…ï¼ˆåˆ«å¿˜äº†åŠ¨æ€å¼•å…¥çš„åŒ…ï¼‰ã€‚</li>
<li>æ£€æŸ¥<code>vscode.extensions.getExtension('your.extensionId').extensionKind === vscode.ExtensionKind.Workspace</code>æ˜¯å¦æ ¹æ®ç¯å¢ƒä½¿ç”¨äº†æ­£ç¡®çš„åŒ…ã€‚</li>
<li>å¦‚æœä½ æƒ³æ”¯æŒéx86_64æ„å»ºç›®æ ‡å’ŒAlpine Linuxåˆ™éµå¾ªä¸‹è¿°ç±»ä¼¼é€»è¾‘ã€‚</li>
</ol>
<p>ä½¿ç”¨VS Codeçš„ <strong>Help &gt; Developer Tools</strong>ç„¶ååœ¨æ§åˆ¶å°ï¼ˆconsoleï¼‰ä¸­æ‰“å°<code>process.versions.modules</code>å¯ä»¥æ‰¾åˆ°VS Codeä½¿ç”¨çš„æ¨¡å—ï¼ˆmodulesï¼‰ç±»å‹ã€‚å¦‚æœä½ æƒ³è¦ç¡®ä¿åŸç”Ÿæ¨¡å—åœ¨å„ä¸ªNode.jsç¯å¢ƒä¸­éƒ½èƒ½æ— ç¼è¿è¡Œï¼Œä½ å¯èƒ½æŠŠæ‰€æœ‰å¯èƒ½æ”¯æŒçš„å¹³å°ï¼ˆElectron Node.js, å®˜æ–¹Node.js Windows/Darwin/Linuxçš„å…¨éƒ¨ç‰ˆæœ¬ï¼‰ç›¸å…³çš„åŒ…å…¨éƒ¨å¼•å…¥ã€‚<a href="https://github.com/tree-sitter/node-tree-sitter/releases/tag/v0.14.0" target="_blank" rel="noopener">node-tree-sitter</a>åŒ…åœ¨è¿™æ–¹é¢æ˜¯ä¸ªéå¸¸å¥½çš„ä¾‹å­ã€‚</p>
<h3 id="ä¸ºéx86-64ä¸»æœºæˆ–Apline-Linuxå®¹å™¨æä¾›æ”¯æŒ"><a href="#ä¸ºéx86-64ä¸»æœºæˆ–Apline-Linuxå®¹å™¨æä¾›æ”¯æŒ" class="headerlink" title="ä¸ºéx86_64ä¸»æœºæˆ–Apline Linuxå®¹å™¨æä¾›æ”¯æŒ"></a>ä¸ºéx86_64ä¸»æœºæˆ–Apline Linuxå®¹å™¨æä¾›æ”¯æŒ</h3><hr>
<p>å¦‚æœä½ çš„æ’ä»¶åªæ˜¯ç”¨JavasSript/TypeScriptå†™çš„ï¼Œä½ çš„æ’ä»¶å¯èƒ½ä»€ä¹ˆéƒ½ä¸ç”¨åšå°±èƒ½æ”¯æŒå…¶ä»–è¿›ç¨‹æ¶æ„æˆ–åŸºäº<code>musl</code>çš„Apline Linuxã€‚</p>
<p>ä½†æ˜¯å¦‚æœä½ çš„æ’ä»¶å¯ä»¥è¿è¡Œåœ¨Debian 9+, Ubuntu 16.04+, æˆ–è€…åŸºäº RHEL / CentOS 7+ çš„è¿œç¨‹SSHä¸»æœºã€å®¹å™¨æˆ– WSLä¸Šï¼Œå´æ— æ³•æ”¯æŒéx86_64(æ¯”å¦‚ ARMv7l)æˆ–Alpine Linuxå®¹å™¨ï¼Œæ’ä»¶å¯èƒ½éœ€è¦åŒ…å«äº†x86_64çš„<code>glibc</code>ç‰¹å®šæœºå™¨ç æˆ–è¿è¡Œæ—¶ï¼Œæ‰€ä»¥å¯¼è‡´äº†è¿™äº›æ¶æ„/æ“ä½œç³»ç»Ÿä¸Šå‡ºç°é—®é¢˜ã€‚</p>
<p>æ¯”å¦‚ï¼Œä½ çš„æ’ä»¶å‘åŒ…å«äº†x86_64ç¼–è¯‘çš„åŸç”Ÿæ¨¡å—æˆ–è¿è¡Œæ—¶ç‰ˆæœ¬ã€‚å¯¹äºAlpine Linuxæ¥è¯´å°±æ˜¯å› <a href="https://wiki.musl-libc.org/functional-differences-from-glibc.html" target="_blank" rel="noopener">åŸºç¡€æ¶æ„å·®å¼‚</a>è€Œæ— æ³•è¿è¡Œè¿™æ ·çš„æ’ä»¶ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>å¦‚æœä½ æ˜¯åŠ¨æ€å¼•å…¥ç¼–è¯‘ç ï¼Œä½ å¯ä»¥ç”¨<code>process.arch</code>æ£€æµ‹ç¯å¢ƒï¼Œç„¶åæ ¹æ®å¯¹åº”æ¶æ„ä¸‹è½½å¯¹åº”æ¶æ„ä¸‹çš„ä¾èµ–ã€‚å¦‚æœä½ å·²ç»åœ¨æ’ä»¶ä¸­ç›´æ¥ä½¿ç”¨äº†äºŒè¿›åˆ¶åŒ…ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨åŒæ ·çš„é€»è¾‘ä½¿ç”¨æ­£ç¡®çš„åŒ…ã€‚</li>
<li>å¯¹äºAlpine Linuxæ¥è¯´ï¼Œä½ å¯ä»¥ç”¨<code>await fs.exists('/etc/alpine-release')</code>æ£€æµ‹æ“ä½œç³»ç»Ÿï¼Œç„¶åä¸‹è½½æˆ–è€…ä½¿ç”¨åŸºäº<code>musl</code>çš„æ­£ç¡®çš„äºŒè¿›åˆ¶åŒ…ã€‚</li>
<li>å¦‚æœä½ ä¸æƒ³æ”¯æŒè¿™äº›å¹³å°ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨åŒæ ·çš„é€»è¾‘æä¾›è‰¯å¥½çš„é”™è¯¯æç¤ºã€‚</li>
</ol>
<p>ä½ è¦éå¸¸æ³¨æ„ä¸€äº›ç¬¬ä¸‰æ–¹åŒ…å¯èƒ½ä¾èµ–äº†å¯¼è‡´è¿™ä¸ªé—®é¢˜çš„æºç åŒ…ã€‚æ‰€ä»¥æœ‰æ—¶å€™ä½ éœ€è¦è”ç³»npmåŒ…ä½œè€…æä¾›é¢å¤–çš„ç¼–è¯‘ç‰ˆæœ¬ã€‚</p>
<h3 id="é¿å…ä½¿ç”¨Electronæ¨¡å—"><a href="#é¿å…ä½¿ç”¨Electronæ¨¡å—" class="headerlink" title="é¿å…ä½¿ç”¨Electronæ¨¡å—"></a>é¿å…ä½¿ç”¨Electronæ¨¡å—</h3><hr>
<p>è™½ç„¶ä¾èµ–æœªæš´éœ²çš„å†…ç½®Electronæˆ–è€…VS Codeæ¨¡å—éå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯ä½ å¿…é¡»çŸ¥é“VS Code Serverè¿ä½œåœ¨æ ‡å‡†çš„ï¼ˆéElectronï¼‰Node.jsç¯å¢ƒä¸­ï¼Œå½“æ’ä»¶è¿è¡Œåœ¨è¿œç¨‹æ—¶å°±ä¼šä¸¢å¤±è¿™äº›åŒ…ã€‚é™¤äº†å°‘æ•°ä¸ªä¾‹ï¼Œæ¯”å¦‚keytarï¼Œç”¨äº†ç‰¹æ®Šçš„å®ç°æ‰€ä»¥åœ¨æ‰€æœ‰ç¯å¢ƒä¸­éƒ½èƒ½æ­£å¸¸å·¥ä½œã€‚</p>
<p>ä½¿ç”¨åŸºäºNode.jsçš„æ¨¡å—ä»è€Œé¿å…è¿™äº›é—®é¢˜ã€‚å¦‚æœä½ ä¸€å®šè¦ç”¨Electronæ¨¡å—ï¼Œé‚£å°±è¦ç¡®ä¿å¦‚æœåŒ…ä¸¢å¤±çš„æ—¶å€™æä¾›åˆé€‚çš„åå¤‡æ–¹æ¡ˆã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨äº†Electronçš„<code>original-fs</code>åŒ…ï¼Œç¼ºå¤±æ—¶åˆ™ä½¿ç”¨Node.jsçš„<code>fs</code>æ¨¡å—ã€‚</p>
<pre><code>function requireWithFallback(electronModule: string, nodeModule: string) {
  try {
    return require(electronModule);
  } catch (err) {}
  return require(nodeModule);
}
const fs = requireWithFallback('original-fs', 'fs');</code></pre><p>ä½†æ˜¯ä¸è®ºä½•æ—¶ï¼Œä½ éƒ½åº”è¯¥é¿å…è¿™äº›é—®é¢˜ã€‚</p>
<h3 id="å·²çŸ¥é—®é¢˜"><a href="#å·²çŸ¥é—®é¢˜" class="headerlink" title="å·²çŸ¥é—®é¢˜"></a>å·²çŸ¥é—®é¢˜</h3><hr>
<p>ç›®å‰æˆ‘ä»¬è¿˜æœ‰äº›å½±å“ å·¥ä½œåŒºæ’ä»¶ åŠŸèƒ½çš„é—®é¢˜äºŸå¾…è§£å†³ã€‚ä¸‹è¡¨æ˜¯å·²çŸ¥çš„é—®é¢˜åˆ—è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th align="left">é—®é¢˜</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ç«¯å£æ‹¦æˆª</td>
<td align="left">å½“ä½¿ç”¨Dockerå®¹å™¨æˆ–è€…SSHæœåŠ¡å™¨å¼€å‘æ—¶ç«¯å£ä¸ä¼šè‡ªåŠ¨è½¬å‘ï¼Œè€Œæ’ä»¶ä¸­ä¹Ÿæ²¡æœ‰å¯ä»¥ç¨‹åºæ€§è½¬å‘ç«¯å£çš„APIã€‚è™½ç„¶åœ¨ä½¿ç”¨Webview APIä¸­å·²ç»é€‚é…äº†webviewï¼Œä½†æ˜¯å…¶ä»–åœºæ™¯ä¸‹è¿˜éœ€è¦æ’ä»¶ä½œè€…æ‰‹åŠ¨æš´éœ²ç«¯å£</td>
</tr>
<tr>
<td align="left">æ— æ³•è®¿é—®/ä¼ è¾“è¿œç¨‹å·¥ä½œåŒºæ–‡ä»¶åˆ°æœ¬åœ°</td>
<td align="left">æ’ä»¶é€šè¿‡å¤–éƒ¨åº”ç”¨æ‰“å¼€å·¥ä½œåŒºæ–‡ä»¶ä¼šé‡åˆ°é”™è¯¯ï¼Œå› ä¸ºå¤–éƒ¨åº”ç”¨æ— æ³•ç›´æ¥è®¿é—®è¿œç¨‹æ–‡ä»¶ã€‚æˆ‘ä»¬æ­£åœ¨è°ƒæŸ¥æ’ä»¶æ€æ ·æ‰èƒ½ä»è¿œç¨‹å·¥ä½œåŒºä¼ è¾“æ–‡ä»¶çš„ç›¸å…³æ–¹æ¡ˆã€‚</td>
</tr>
<tr>
<td align="left">æ— æ³•ä»å·¥ä½œåŒºæ’ä»¶è®¿é—®å…³è”è®¾å¤‡</td>
<td align="left">å…³è”æœ¬åœ°è®¾å¤‡çš„æ’ä»¶æ— æ³•åœ¨è¿œç¨‹è¿è¡Œæ—¶å…³è”å¯¹åº”è®¾å¤‡ï¼Œæˆ‘ä»¬æ­£åœ¨è°ƒæŸ¥ç›¸å…³é—®é¢˜çš„æœ€ä½³æ–¹æ¡ˆã€‚</td>
</tr>
</tbody></table>
<h3 id="FAQ-2"><a href="#FAQ-2" class="headerlink" title="FAQ"></a>FAQ</h3><hr>
<ul>
<li>æŸ¥çœ‹<a href="https://code.visualstudio.com/docs/remote/troubleshooting" target="_blank" rel="noopener">æç¤ºå’Œè§£å†³æ–¹æ³•</a>æˆ–è€…<a href="https://code.visualstudio.com/docs/remote/faq" target="_blank" rel="noopener">FAQ</a></li>
<li>åœ¨ <a href="https://stackoverflow.com/questions/tagged/vscode-remote" target="_blank" rel="noopener">Stack Overflow</a>ä¸ŠæŸ¥æ‰¾ç­”æ¡ˆ</li>
<li><a href="https://aka.ms/vscode-remote/feature-requests" target="_blank" rel="noopener">æ”¯æŒæˆ–è€…æ–°å»ºä¸€é¡¹åŠŸèƒ½</a>ï¼ŒæŸ¥çœ‹<a href="https://aka.ms/vscode-remote/issues" target="_blank" rel="noopener">å·²çŸ¥é—®é¢˜</a>ï¼Œæˆ–è€…<a href="https://aka.ms/vscode-remote/issues/new" target="_blank" rel="noopener">æŠ¥å‘Šé—®é¢˜</a></li>
<li>è´¡çŒ®ä¸€ä¸ª<a href="https://aka.ms/vscode-dev-containers" target="_blank" rel="noopener">å¼€å‘å®¹å™¨é…ç½®</a>æ–¹ä¾¿å¤§å®¶ä½¿ç”¨</li>
<li>è´¡çŒ®<a href="https://github.com/Microsoft/vscode-docs" target="_blank" rel="noopener">æ–‡æ¡£</a>æˆ–è€…<a href="https://github.com/Microsoft/vscode" target="_blank" rel="noopener">VS Code</a></li>
</ul>
<h2 id="ä½¿ç”¨ä¸ç¨³å®šçš„API"><a href="#ä½¿ç”¨ä¸ç¨³å®šçš„API" class="headerlink" title="ä½¿ç”¨ä¸ç¨³å®šçš„API"></a>ä½¿ç”¨ä¸ç¨³å®šçš„API</h2><p>åœ¨VS Codeä¸­ï¼Œæ’ä»¶APIçš„å…¼å®¹æ€§éå¸¸é‡è¦ï¼Œæˆ‘ä»¬å°½æœ€å¤§åŠªåŠ›é¿å…APIå˜åŠ¨ä»¥ä¾¿æ’ä»¶å¼€å‘äººå‘˜å·²ç»å‘å¸ƒçš„æ’ä»¶å¯ä»¥æŒ‰é¢„æœŸå·¥ä½œã€‚ä½†æ˜¯ï¼Œè¿™å¯¹ä½¿å¾—æˆ‘ä»¬æŸæ‰‹æŸè„šï¼Œä¸€æ—¦æ–°çš„APIå‘å¸ƒåï¼Œå°±ä¸å¯èƒ½å†è½»æ˜“æ”¹åŠ¨ã€‚</p>
<p>ä¸ç¨³å®šçš„APIï¼ˆProposed APIï¼‰åˆ™è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä¸ç¨³å®šçš„APIæ˜¯VS Codeå·²ç»å®ç°ä½†æ˜¯è¿˜æœªå…¬å¼€çš„APIã€‚å®ƒä»¬åªåœ¨Insiderç‰ˆçš„VS Codeä¸­å¯ç”¨ï¼Œè€Œä¸”å¾ˆæœ‰å¯èƒ½å†æ¬¡äº§ç”Ÿå˜åŠ¨ï¼Œä½ ä¹Ÿä¸èƒ½åœ¨æƒ³è¦å‘å¸ƒçš„æ’ä»¶ä¸­ä½¿ç”¨ã€‚ä¸ç®¡æ€æ ·ï¼Œæ’ä»¶å¼€å‘è€…å¼€å§‹å¯ä»¥åœ¨æœ¬åœ°å¼€å‘æ—¶æµ‹è¯•è¿™äº›APIï¼Œç„¶åç»™VS Codeå›¢é˜Ÿæä¾›å»ºè®®çš„ï¼Œç»è¿‡ä¸æ–­ä¿®æ”¹ä¹‹åæœ€ç»ˆå¯èƒ½å‡ºç°åœ¨ç¨³å®šç‰ˆä¸­ã€‚</p>
<h3 id="ä½¿ç”¨ä¸ç¨³å®šçš„API-1"><a href="#ä½¿ç”¨ä¸ç¨³å®šçš„API-1" class="headerlink" title="ä½¿ç”¨ä¸ç¨³å®šçš„API"></a>ä½¿ç”¨ä¸ç¨³å®šçš„API</h3><p>ä¸‹é¢æ˜¯åœ¨æœ¬åœ°å¼€å‘ä¸­æµ‹è¯•æœªç¨³å®šAPIçš„æ­¥éª¤ï¼š</p>
<ul>
<li>ä½¿ç”¨ VS Codeçš„<a href="https://code.visualstudio.com/insiders" target="_blank" rel="noopener">Insider</a>ç‰ˆæœ¬</li>
<li>åœ¨<code>package.json</code>ä¸­æ·»åŠ <code>"enableProposedApi": true</code></li>
<li>æŠŠæœ€æ–°çš„<a href="https://github.com/Microsoft/vscode/blob/master/src/vs/vscode.proposed.d.ts" target="_blank" rel="noopener"><code>vscode.proposed.d.ts</code></a>å¤åˆ¶åˆ°ä½ çš„é¡¹ç›®ä¸­</li>
</ul>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><h2 id="VS-Code-API"><a href="#VS-Code-API" class="headerlink" title="VS Code API"></a>VS Code API</h2><p><strong>VS Code API</strong>æ˜¯VS Codeæä¾›ç»™æ’ä»¶ä½¿ç”¨çš„ä¸€ç³»åˆ—Javascript APIã€‚</p>
<p>!&gt; æ³¨æ„ï¼šVS Code API å˜åŠ¨è¾ƒå¿«ï¼Œè¯·è‡ªè¡Œå‚è€ƒ<a href="https://code.visualstudio.com/api/references/vscode-api" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼Œå…¶ä¸­åŒ…å«äº†å®Œæ•´è€Œä¸”æ˜¯æœ€æ–°çš„VS Code APIåˆ—è¡¨ã€‚</p>
<h3 id="APIæ¨¡å¼"><a href="#APIæ¨¡å¼" class="headerlink" title="APIæ¨¡å¼"></a>APIæ¨¡å¼</h3><hr>
<p>ä»¥ä¸‹å°†ä»‹ç»æˆ‘ä»¬åœ¨VS Codeä¸­ç»å¸¸ä½¿ç”¨çš„APIæ¨¡å¼ã€‚</p>
<h4 id="Promisesï¼ˆå¼‚æ­¥ï¼‰"><a href="#Promisesï¼ˆå¼‚æ­¥ï¼‰" class="headerlink" title="Promisesï¼ˆå¼‚æ­¥ï¼‰"></a>Promisesï¼ˆå¼‚æ­¥ï¼‰</h4><p>VS Code APIå®Œå…¨é‡‡ç”¨äº†promiseçš„å®ç°ã€‚å¯¹äºæ’ä»¶æ¥è¯´å…è®¸ä»»ä½•promiseå½¢å¼çš„è¿”å›æ ¼å¼ï¼Œå¦‚ES6ï¼ŒWinJSï¼ŒA+ç­‰ã€‚</p>
<p>ä¸€ä¸ªpromiseåº“éœ€è¦å®ƒçš„APIä½¿ç”¨<code>Thenable</code>ç±»å‹æ¥è¡¨è¾¾ï¼Œ<code>Thenable</code>ç±»å‹ä»£è¡¨äº†ä¸€ç§é€šç”¨ç‰¹æ€§çš„å®ç°â€”â€”thenæ–¹æ³•ã€‚</p>
<p>å¤§å¤šæ•°æ—¶å€™promiseæ˜¯ä¸€ä¸ªå¯é€‰é¡¹ï¼ŒVS Codeè°ƒç”¨æ’ä»¶ä¹‹åï¼Œå®ƒèƒ½ç›´æ¥å¤„ç†æ­£å¸¸çš„è¿”å›ç»“æœä¹Ÿèƒ½å¤„ç†<code>Thenable</code>çš„ç»“æœç±»å‹ã€‚å½“promiseæ˜¯å¯é€‰çš„APIè¿”å›ç»“æœæ—¶ï¼ŒAPIä¼šåœ¨è¿”å›ç±»å‹ä¸­ç”¨<code>Thenable</code>è¡¨ç¤ºã€‚</p>
<pre><code>provideNumber(): number | Thenable&lt;number&gt;</code></pre><h4 id="Cancellation-Tokensï¼ˆå–æ¶ˆå¼ä»¤ç‰Œï¼‰"><a href="#Cancellation-Tokensï¼ˆå–æ¶ˆå¼ä»¤ç‰Œï¼‰" class="headerlink" title="Cancellation Tokensï¼ˆå–æ¶ˆå¼ä»¤ç‰Œï¼‰"></a>Cancellation Tokensï¼ˆå–æ¶ˆå¼ä»¤ç‰Œï¼‰</h4><p>æœ‰äº›äº‹ä»¶å¯èƒ½ä»ä¸ç¨³å®šçš„å˜åŒ–çŠ¶æ€å¼€å§‹ï¼Œè€Œéšç€çŠ¶æ€å˜åŒ–è¿™ä¸€äº‹ä»¶æœ€åè‚¯èƒ½è¢«å–æ¶ˆäº†ã€‚æ¯”å¦‚ï¼šIntelliSenseï¼ˆæ™ºèƒ½è¡¥å…¨ï¼‰è¢«è§¦å‘åï¼Œç”¨æˆ·æŒç»­è¾“å…¥çš„è¡Œä¸ºä½¿å¾—è¿™ä¸€æ“ä½œæœ€ç»ˆè¢«å–æ¶ˆäº†ã€‚</p>
<p>APIä¹Ÿä¸ºè¿™ç§è¡Œä¸ºæä¾›äº†è§£å†³æ–¹æ¡ˆï¼Œä½ å¯ä»¥é€šè¿‡<code>CancellationToken</code>æ£€æŸ¥å–æ¶ˆçš„çŠ¶æ€ï¼ˆ<code>isCancellationRequested</code>ï¼‰æˆ–è€…å½“<em>å–æ¶ˆ</em>å‘ç”Ÿæ—¶å¾—åˆ°é€šçŸ¥ï¼ˆ<code>onCancellationRequested</code>ï¼‰ã€‚å–æ¶ˆå¼ä»¤ç‰Œé€šå¸¸æ˜¯APIå‡½æ•°çš„æœ€åä¸€ä¸ªï¼ˆå¯é€‰ï¼‰å‚æ•°ã€‚</p>
<h4 id="Disposablesï¼ˆé‡Šæ”¾å™¨ï¼‰"><a href="#Disposablesï¼ˆé‡Šæ”¾å™¨ï¼‰" class="headerlink" title="Disposablesï¼ˆé‡Šæ”¾å™¨ï¼‰"></a>Disposablesï¼ˆé‡Šæ”¾å™¨ï¼‰</h4><p>VS Code APIä½¿ç”¨äº†<a href="https://en.wikipedia.org/wiki/Dispose_pattern" target="_blank" rel="noopener">é‡Šæ”¾å™¨æ¨¡å¼</a>ï¼Œè¿™ä¸ªæ¨¡å¼è¢«ç”¨äºäº‹ä»¶ä¾¦å¬ï¼Œå‘½ä»¤ï¼ŒUIäº¤äº’å’Œå„ç±»è¯­è¨€é…ç½®ä¸Šã€‚</p>
<p>ä¾‹å¦‚ï¼š<code>setStatusBarMessage(value: string)</code>äº‹ä»¶è¿”å›ä¸€ä¸ª<code>Disposable</code>å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ€ç»ˆè°ƒç”¨<code>dispose</code>æ–¹æ³•ç§»é™¤messageã€‚</p>
<h4 id="Eventsï¼ˆäº‹ä»¶ï¼‰"><a href="#Eventsï¼ˆäº‹ä»¶ï¼‰" class="headerlink" title="Eventsï¼ˆäº‹ä»¶ï¼‰"></a>Eventsï¼ˆäº‹ä»¶ï¼‰</h4><p>äº‹ä»¶åœ¨APIä¸­è¢«æš´éœ²ä¸ºå‡½æ•°ï¼Œå½“ä½ è®¢é˜…ä¸€ä¸ªäº‹ä»¶ä¾¦å¬å™¨æ—¶ç»‘å®šã€‚äº‹ä»¶ä¾¦å¬å™¨è°ƒç”¨åä¼šè¿”å›ä¸€ä¸ª<code>Disposable</code>ï¼Œå®ƒä¼šåœ¨disposeè§¦å‘åï¼Œç§»é™¤äº‹ä»¶ä¾¦å¬å™¨ã€‚</p>
<pre><code>var listener = function(event) {
    console.log("It happened", event);
};
// å¼€å§‹ä¾¦å¬
var subscription = fsWatcher.onDidDelete(listener);
// ä½ çš„ä»£ç 
subscription.dispose(); // åœæ­¢ä¾¦å¬</code></pre><p>äº‹ä»¶çš„å‘½åè§„åˆ™éµå¾ª<code>on[Will | Did] åŠ¨è¯ + åè¯</code>çš„å½¢å¼ã€‚é€šè¿‡<code>onWill</code>è¡¨ç¤ºå°†è¦å‘ç”Ÿï¼Œ<code>onDid</code>è¡¨ç¤ºå·²ç»å‘ç”Ÿï¼Œ<code>åŠ¨è¯</code>è¡¨ç¤ºè¡Œä¸ºï¼Œ<code>åè¯</code>æŒ‡ä»£ä¸Šä¸‹æ–‡æˆ–ç›®æ ‡ã€‚</p>
<p>ä¸¾ä¸ªæ —å­ï¼š<code>window.onDidChangeActiveTextEditor</code>ä¸­ï¼Œæ¿€æ´»çš„ç¼–è¾‘å™¨ï¼ˆActiveTextEditorï¼š<code>åè¯</code>ï¼‰å˜åŠ¨ï¼ˆchangeï¼š<code>åŠ¨è¯</code>ï¼‰åï¼ˆ<code>onDid</code>ï¼‰ä¼šè§¦å‘äº‹ä»¶ã€‚</p>
<h4 id="ä¸¥æ ¼nullæ£€æŸ¥"><a href="#ä¸¥æ ¼nullæ£€æŸ¥" class="headerlink" title="ä¸¥æ ¼nullæ£€æŸ¥"></a>ä¸¥æ ¼nullæ£€æŸ¥</h4><p>VS CodeAPIä½¿ç”¨<code>undefined</code>å’Œ<code>null</code>çš„Typescriptç±»å‹ï¼ŒåŒæ ·ä¹Ÿæ”¯æŒ<a href="https://github.com/Microsoft/TypeScript/pull/7140" target="_blank" rel="noopener">ä¸¥æ ¼nullæ£€æŸ¥</a>ã€‚</p>
<h2 id="å‘å¸ƒå†…å®¹é…ç½®"><a href="#å‘å¸ƒå†…å®¹é…ç½®" class="headerlink" title="å‘å¸ƒå†…å®¹é…ç½®"></a>å‘å¸ƒå†…å®¹é…ç½®</h2><p>å‘å¸ƒå†…å®¹é…ç½®ï¼ˆå³VS Codeä¸ºæ’ä»¶æ‰©å±•æä¾›çš„é…ç½®é¡¹ï¼‰æ˜¯<code>pacakge.json</code><a href="https://code.visualstudio.com/api/references/extension-manifest" target="_blank" rel="noopener">æ’ä»¶æ¸…å•</a>çš„<code>contributes</code>å­—æ®µï¼Œä½ å¯ä»¥åœ¨å…¶ä¸­æ³¨å†Œå„ç§é…ç½®é¡¹æ‰©å±•VS Codeçš„èƒ½åŠ›ã€‚ä¸‹é¢æ˜¯ç›®å‰å¯ç”¨çš„é…ç½®é¡¹åˆ—è¡¨ï¼š</p>
<ul>
<li><code>configuration</code></li>
<li><code>commands</code></li>
<li><code>menus</code></li>
<li><code>keybindings</code></li>
<li><code>languages</code></li>
<li><code>debuggers</code></li>
<li><code>breakpoints</code></li>
<li><code>grammars</code></li>
<li><code>themes</code></li>
<li><code>snippets</code></li>
<li><code>jsonValidation</code></li>
<li><code>views</code></li>
<li><code>viewsContainers</code></li>
<li><code>problemMatchers</code></li>
<li><code>problemPatterns</code></li>
<li><code>taskDefinitions</code></li>
<li><code>colors</code></li>
<li><code>typescriptServerPlugins</code></li>
</ul>
<h3 id="contributes-configuration"><a href="#contributes-configuration" class="headerlink" title="contributes.configuration"></a>contributes.configuration</h3><hr>
<p>åœ¨configurationä¸­é…ç½®çš„å†…å®¹ä¼šæš´éœ²ç»™ç”¨æˆ·ï¼Œç”¨æˆ·å¯ä»¥ä»â€œç”¨æˆ·è®¾ç½®â€å’Œâ€œå·¥ä½œåŒºè®¾ç½®â€ä¸­ä¿®æ”¹ä½ æš´éœ²çš„é€‰é¡¹ã€‚</p>
<p>configurationæ˜¯JSONæ ¼å¼çš„é”®å€¼å¯¹ï¼Œç”¨æˆ·ä¼šåœ¨ä¿®æ”¹è®¾ç½®æ—¶è·å¾—å¯¹åº”çš„æç¤ºå’Œæ›´å¥½çš„ä½“éªŒã€‚</p>
<p>ä½ å¯ä»¥ç”¨<code>vscode.workspace.getConfiguration('myExtension')</code>è¯»å–é…ç½®å€¼ã€‚</p>
<p>?&gt; å°æç¤ºï¼šé…ç½®<code>markdownDescription</code>æ¯”é…ç½®<code>description</code>æ›´å¥½ï¼Œå®ƒèƒ½å‘ˆç°Markdownæ ¼å¼çš„æ–‡æ¡£ã€‚</p>
<h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre><code>"contributes": {
    "configuration": {
        "type": "object",
        "title": "TypeScript configuration",
        "properties": {
            "typescript.useCodeSnippetsOnMethodSuggest": {
                "type": "boolean",
                "default": false,
                "description": "Complete functions with their parameter signature."
            },
            "typescript.tsdk": {
                "type": ["string", "null"],
                "default": null,
                "description": "Specifies the folder path containing the tsserver and lib*.d.ts files to use."
            }
        }
    }
}</code></pre><p><img src="/images/loading.gif" data-original="../images/development/4492c380ae3cd9b5ca7178d4708dddde.png" alt=""></p>
<h3 id="contributes-configurationDefaults"><a href="#contributes-configurationDefaults" class="headerlink" title="contributes.configurationDefaults"></a>contributes.configurationDefaults</h3><hr>
<p>ä¸ºç‰¹å®šçš„è¯­è¨€é…ç½®ç¼–è¾‘å™¨çš„é»˜è®¤å€¼ï¼Œä¿®æ”¹è¿™ä¸ªé…ç½®ä¼šè¦†ç›–ç¼–è¾‘å™¨å·²ç»ä¸ºè¯­è¨€æä¾›çš„é»˜è®¤é…ç½®ã€‚</p>
<p>ä¸‹é¢çš„ç¤ºä¾‹æ˜¯ä¿®æ”¹<code>markdown</code>è¯­è¨€çš„é»˜è®¤é…ç½®ã€‚</p>
<h4 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre><code>"contributes": {
    "configurationDefaults": {
        "[markdown]": {
            "editor.wordWrap": "on",
            "editor.quickSuggestions": false
        }
    }
}</code></pre><h3 id="contributes-commands"><a href="#contributes-commands" class="headerlink" title="contributes.commands"></a>contributes.commands</h3><hr>
<p>è®¾ç½®å‘½ä»¤æ ‡é¢˜å’Œå‘½ä»¤ä½“ï¼Œéšåè¿™ä¸ªå‘½ä»¤ä¼šæ˜¾ç¤ºåœ¨<strong>å‘½ä»¤é¢æ¿</strong>ä¸­ã€‚ä½ ä¹Ÿå¯ä»¥åŠ ä¸Š<code>category</code>å‰ç¼€ï¼Œåœ¨<strong>å‘½ä»¤é¢æ¿</strong>ä¸­ä¼šä»¥åˆ†ç±»æ˜¾ç¤ºã€‚</p>
<p>?&gt;<strong>æ³¨æ„ï¼š</strong>å½“è°ƒç”¨å‘½ä»¤æ—¶ï¼ˆé€šè¿‡ç»„åˆé”®æˆ–è€…åœ¨<strong>å‘½ä»¤é¢æ¿</strong>ä¸­è°ƒç”¨ï¼‰ï¼ŒVS Codeä¼šè§¦å‘æ¿€æ´»äº‹ä»¶<code>onCommand:${command}</code>ã€‚</p>
<p>ä¸‹é¢çš„ç¤ºä¾‹æ˜¯ä¿®æ”¹<code>markdown</code>è¯­è¨€çš„é»˜è®¤é…ç½®ã€‚</p>
<h4 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre><code>"contributes": {
    "commands": [{
        "command": "extension.sayHello",
        "title": "Hello World",
        "category": "Hello"
    }]
}</code></pre><p>?&gt; <strong>æç¤º</strong>: æƒ³äº†è§£æ›´å¤šçš„æœ‰å…³äºåœ¨VS Codeæ’ä»¶å¼€å‘ä¸­ä½¿ç”¨å‘½ä»¤, è¯·å‚é˜…<a href="https://www.bookstack.cn/read/VS-Code-Extension-Doc-ZH/$docs-references-extension-guides-command" target="_blank" rel="noopener">å‘½ä»¤</a>ç« èŠ‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/7b6dc1e8e276d094bea34e0e4c63e8a7.png" alt=""></p>
<h3 id="contributes-menus"><a href="#contributes-menus" class="headerlink" title="contributes.menus"></a>contributes.menus</h3><hr>
<p>ä¸ºç¼–è¾‘å™¨æˆ–è€…æ–‡ä»¶ç®¡ç†å™¨è®¾ç½®å‘½ä»¤çš„<em>èœå•é¡¹</em>ã€‚èœå•é¡¹è‡³å°‘åŒ…å«1ï¸âƒ£é€‰ä¸­æ—¶è°ƒç”¨çš„å‘½ä»¤å’Œ2ï¸âƒ£ä½•æ—¶æ˜¾ç¤ºè¿™ä¸ªèœå•é¡¹çš„æ—¶æœºã€‚æ˜¾ç¤ºèœå•çš„æ—¶æœºç”±<code>when</code>é”®å®šä¹‰ï¼Œè€Œå¯¹åº”çš„å€¼è¯­æ³•éœ€è¦å‚è€ƒé”®å€¼ç»‘å®šçš„<a href="https://github.com/Microsoft/vscode-docs/blob/master/docs/getstarted/keybindings.md#when-clause-contexts" target="_blank" rel="noopener">whenè¯­æ³•</a>ã€‚</p>
<p><code>command</code>é”®åˆ™æ˜¯å¿…é¡»çš„ã€‚å¯é€‰çš„å‘½ä»¤ä½¿ç”¨<code>alt</code>å®šä¹‰ï¼Œå½“ä½ æŒ‰ä¸‹ALTé”®æ—¶ï¼Œèœå•ä¸­ä¼šæ˜¾ç¤ºå¯¹åº”çš„èœå•é¡¹ã€‚</p>
<p>æœ€åï¼Œ<code>group</code>å±æ€§å®šä¹‰äº†èœå•çš„åˆ†ç»„ã€‚<code>navigation</code>å€¼ä¸åŒäºæ™®é€šçš„<code>group</code>å€¼ï¼Œä¸€æ—¦è®¾ç½®è¿™ä¸ªå€¼å°±ä¼šæ€»æ˜¯æ˜¾ç¤ºåœ¨èœå•çš„æœ€é¡¶ç«¯ã€‚</p>
<p>å½“å‰æ’ä»¶åˆ›ä½œè€…å¯ä»¥é…ç½®çš„èœå•çš„åœ°æ–¹æœ‰ï¼š</p>
<ul>
<li>å…¨å±€å‘½ä»¤é¢æ¿ - <code>commandPalette</code></li>
<li>èµ„æºç®¡ç†å™¨ä¸Šä¸‹æ–‡èœå• - <code>explorer/context</code></li>
<li>ç¼–è¾‘å™¨ä¸Šä¸‹æ–‡èœå• - <code>editor/context</code></li>
<li>ç¼–è¾‘å™¨æ ‡é¢˜æ  - <code>editor/title</code></li>
<li>ç¼–è¾‘å™¨æ ‡é¢˜ä¸Šä¸‹æ–‡èœå• - <code>editor/title/context</code></li>
<li>è°ƒè¯•æ ˆè§†å›¾çš„ä¸Šä¸‹æ–‡èœå• - <code>debug/callstack/context</code></li>
<li>SCM æ ‡é¢˜èœå• - <code>scm/title</code></li>
<li>SCM èµ„æºç»„ - <code>scm/resourceGroup/context</code></li>
<li>SCM èµ„æº - <code>scm/resource/context</code></li>
<li>SCM æ”¹å˜æ ‡é¢˜ - <code>scm/change/title</code></li>
<li>è§†å›¾çš„æ ‡é¢˜èœå• - <code>view/title</code></li>
<li>è§†å›¾é¡¹çš„èœå• - <code>view/item/context</code></li>
</ul>
<p>?&gt;<strong>æ³¨æ„ï¼š</strong>å½“èœå•ä¸­çš„å‘½ä»¤è¢«è°ƒç”¨ï¼ŒVS Codeä¼šå°†å½“å‰é€‰ä¸­èµ„æºä½œä¸ºå‚æ•°ä¼ ç»™è°ƒç”¨çš„å‘½ä»¤ã€‚æ¯”æ–¹è¯´ï¼Œèµ„æºç®¡ç†å™¨çš„èœå•è¢«è§¦å‘ï¼Œé€‰ä¸­èµ„æºçš„URIä¼šä½œä¸ºå‚æ•°ï¼Œç¼–è¾‘å™¨ä¸­çš„èœå•é¡¹è¢«è§¦å‘ï¼Œåˆ™å°†å½“å‰æ–‡ä»¶çš„URIä½œä¸ºå‚æ•°ä¼ å…¥ã€‚</p>
<p>å…³äº<em>æ ‡é¢˜</em>è¿˜æœ‰ä¸€ç‚¹è¦è¯´ï¼Œå‘½ä»¤è¿˜å¯ä»¥å®šä¹‰å›¾æ ‡ï¼ŒVS Codeä¼šæ˜¾ç¤ºåœ¨ç¼–è¾‘å™¨çš„æ ‡é¢˜èœå•æ ä¸­ã€‚</p>
<h4 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre><code>"contributes": {
    "menus": {
        "editor/title": [{
            "when": "resourceLangId == markdown",
            "command": "markdown.showPreview",
            "alt": "markdown.showPreviewToSide",
            "group": "navigation"
        }]
    }
}</code></pre><p><img src="/images/loading.gif" data-original="../images/development/156ad806de6d5a6059c2402b6781aa82.png" alt=""></p>
<h4 id="è®©èœå•é¡¹åªæ˜¾ç¤ºåœ¨å‘½ä»¤é¢æ¿ä¸­"><a href="#è®©èœå•é¡¹åªæ˜¾ç¤ºåœ¨å‘½ä»¤é¢æ¿ä¸­" class="headerlink" title="è®©èœå•é¡¹åªæ˜¾ç¤ºåœ¨å‘½ä»¤é¢æ¿ä¸­"></a>è®©èœå•é¡¹åªæ˜¾ç¤ºåœ¨å‘½ä»¤é¢æ¿ä¸­</h4><p>æ³¨å†Œçš„å‘½ä»¤é»˜è®¤æ˜¾ç¤ºåœ¨<strong>å‘½ä»¤é¢æ¿</strong>ä¸­ã€‚è¦æƒ³æ§åˆ¶å‘½ä»¤çš„å¯è§æ€§ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ä¸ª<code>commandPalette</code>èœå•é…ç½®ï¼Œåœ¨è¿™ä¸ªé…ç½®ä¸­ï¼Œä½ å¯ä»¥å®šä¹‰ä¸€ä¸ª<code>when</code>æ§åˆ¶æ˜¯å¦åœ¨<strong>å‘½ä»¤èœå•</strong>ä¸­æ˜¾ç¤ºã€‚</p>
<p>ä¸‹é¢çš„ç‰‡æ®µåªåœ¨ç¼–è¾‘å™¨ä¸­é€‰ä¸­äº†ä»€ä¹ˆä¸œè¥¿çš„æ—¶å€™æ‰ä¼šåœ¨<strong>å‘½ä»¤é¢æ¿</strong>ä¸­æ˜¾ç¤ºå‡ºâ€˜Hello Worldâ€™ï¼š</p>
<pre><code>"commands": [{
    "command": "extension.sayHello",
    "title": "Hello World"
}],
"menus": {
    "commandPalette": [{
        "command": "extension.sayHello",
        "when": "editorHasSelection"
    }]
}</code></pre><h4 id="åˆ†ç»„æ’åº"><a href="#åˆ†ç»„æ’åº" class="headerlink" title="åˆ†ç»„æ’åº"></a>åˆ†ç»„æ’åº</h4><p>èœå•é¡¹å¯ä»¥é€šè¿‡ç»„æ¥åˆ†ç±»ã€‚æ ¹æ®ä¸‹åˆ—é»˜è®¤è§„åˆ™ï¼Œç„¶åæŒ‰ç…§å­—æ¯æ’åºï¼Œ</p>
<p><strong>ç¼–è¾‘å™¨ä¸Šä¸‹æ–‡èœå•</strong>é»˜è®¤æœ‰è¿™äº›åˆ†ç»„ï¼š</p>
<ul>
<li><code>navigation</code> - <code>navigation</code>ç»„å§‹ç»ˆåœ¨æœ€ä¸Šæ–¹ã€‚</li>
<li><code>1_modification</code> - ç´§æ¥ä¸Šä¸€ä¸ªç»„ï¼Œè¿™ä¸ªç»„åŒ…å«å¯ä»¥ä¿®æ”¹ä½ ä»£ç çš„å‘½ä»¤ã€‚</li>
<li><code>9_cutcopypaste</code> - ç„¶åæ˜¯åŸºç¡€ç¼–è¾‘å‘½ä»¤ã€‚</li>
<li><code>z_commands</code> - æœ€åä¸€ä¸ªåˆ†ç»„åˆ™æ˜¯å‘½ä»¤é¢æ¿å…¥å£ã€‚</li>
</ul>
<p><img src="/images/loading.gif" data-original="../images/development/08a11eb70019e7e8091e2083a6dd17a5.png" alt=""></p>
<p><strong>èµ„æºç®¡ç†å™¨ä¸Šä¸‹æ–‡èœå•</strong>é»˜è®¤æœ‰ä¸‹åˆ—åˆ†ç»„ï¼š</p>
<ul>
<li><code>navigation</code> - åœ¨VS Codeä¸­å¯¼èˆªçš„ç›¸å…³å‘½ä»¤ã€‚<code>navigation</code>ç»„å§‹ç»ˆåœ¨æœ€ä¸Šæ–¹ã€‚</li>
<li><code>2_workspace</code> - å’Œå·¥ä½œåŒºæ“ä½œç›¸å…³çš„å‘½ä»¤ã€‚</li>
<li><code>3_compare</code> - æ¯”è¾ƒæ–‡ä»¶å’Œdiffç›¸å…³çš„å‘½ä»¤ã€‚</li>
<li><code>4_search</code> - åœ¨æœç´¢è§†å›¾ä¸­å’Œæœç´¢ç›¸å…³çš„å‘½ä»¤ã€‚</li>
<li><code>5_cutcopypaste</code> - å’Œå‰ªåˆ‡ã€å¤åˆ¶ã€ç²˜è´´æ–‡ä»¶ç›¸å…³çš„å‘½ä»¤ã€‚</li>
<li><code>7_modification</code> - ä¿®æ”¹æ–‡ä»¶çš„ç›¸å…³å‘½ä»¤ã€‚</li>
</ul>
<p><strong>ç¼–è¾‘å™¨æ ‡ç­¾èœå•</strong>é»˜è®¤æœ‰ä¸‹åˆ—åˆ†ç»„</p>
<ul>
<li>1_close - å’Œå…³é—­ç¼–è¾‘å™¨ç›¸å…³çš„å‘½ä»¤ã€‚</li>
<li>3_preview - å’Œå›ºå®šç¼–è¾‘å™¨ç›¸å…³çš„å‘½ä»¤ã€‚</li>
</ul>
<p><strong>ç¼–è¾‘å™¨æ ‡é¢˜èœå•</strong>é»˜è®¤æœ‰ä¸‹åˆ—åˆ†ç»„</p>
<ul>
<li>1_diff - diffç¼–è¾‘å™¨ç›¸å…³çš„å‘½ä»¤ã€‚</li>
<li>3_open - æ‰“å¼€ç¼–è¾‘å™¨çš„ç›¸å…³å‘½ä»¤ã€‚</li>
<li>5_close - å’Œå…³é—­ç¼–è¾‘å™¨ç›¸å…³çš„å‘½ä»¤ã€‚</li>
</ul>
<h4 id="ç»„å†…æ’åº"><a href="#ç»„å†…æ’åº" class="headerlink" title="ç»„å†…æ’åº"></a>ç»„å†…æ’åº</h4><p>ç»„å†…çš„èœå•é¡ºåºå–å†³äºæ ‡é¢˜æˆ–è€…<em>åºå·å±æ€§</em>ã€‚èœå•çš„ç»„å†…é¡ºåºç”±<code>@&lt;number&gt;</code>åŠ åˆ°<code>group</code>å€¼çš„åé¢å¾—ä»¥ç¡®å®šï¼š</p>
<pre><code>"editor/title": [{
    "when": "editorHasSelection",
    "command": "extension.Command",
    "group": "myGroup@1"
}]</code></pre><h3 id="contributes-keybindings"><a href="#contributes-keybindings" class="headerlink" title="contributes.keybindings"></a>contributes.keybindings</h3><hr>
<p>è¿™ä¸ªé…ç½®ç¡®å®šäº†ç”¨æˆ·è¾“å…¥æŒ‰é”®ç»„åˆæ—¶çš„è§¦å‘è§„åˆ™ã€‚åœ¨<a href="https://code.visualstudio.com/docs/getstarted/keybindings" target="_blank" rel="noopener">å¿«æ·é”®ç»‘å®š</a>ä¸­ï¼Œä½ å¯ä»¥äº†è§£æ›´åŠ ç»†èŠ‚çš„ä¸œè¥¿ã€‚</p>
<p>é…ç½®å¿«æ·é”®ç»‘å®šä¼šä½¿<em>é»˜è®¤é”®ç›˜å¿«æ·æ–¹å¼</em>ä¸­æ˜¾ç¤ºä½ çš„è§„åˆ™ï¼Œæ¯ä¸€å¤„å’Œå‘½ä»¤ç›¸å…³çš„UIéƒ¨åˆ†ä¹Ÿä¼šæ˜¾ç¤ºä½ æ·»åŠ çš„å¿«æ·é”®ç»„åˆã€‚</p>
<p>?&gt;<strong>æ³¨æ„</strong>å› ä¸ºVS Codeæ”¯æŒWindowsï¼ŒmacOSå’ŒLinuxå¹³å°ï¼Œè€Œ</p>
<h4 id="ç¤ºä¾‹-4"><a href="#ç¤ºä¾‹-4" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><p>Windowså’ŒLinuxä¸‹ä½¿ç”¨<code>Ctrl+F1</code>ï¼ŒmacOSä¸‹ä½¿ç”¨<code>Cmd+F1</code>è°ƒç”¨<code>"extension.sayHello"</code>å‘½ä»¤ï¼š</p>
<pre><code>"contributes": {
    "keybindings": [{
        "command": "extension.sayHello",
        "key": "ctrl+f1",
        "mac": "cmd+f1",
        "when": "editorTextFocus"
    }]
}</code></pre><p><img src="/images/loading.gif" data-original="../images/development/f22f87a81f6462aaf1b5c53ecd5a5bf9.png" alt=""></p>
<h3 id="contributes-languages"><a href="#contributes-languages" class="headerlink" title="contributes.languages"></a>contributes.languages</h3><hr>
<p>é…ç½®ä¸€é—¨è¯­è¨€ï¼Œå¼•å…¥ä¸€é—¨æ–°çš„è¯­è¨€æˆ–è€…åŠ å¼ºVS Codeå·²æœ‰çš„è¯­è¨€æ”¯æŒã€‚</p>
<p>åœ¨è¿™éƒ¨åˆ†å†…å®¹ä¸­ï¼Œä¸€ä¸ªè¯­è¨€å¿…é¡»è¦æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼ˆidentifierï¼‰å…³è”åˆ°æ–‡ä»¶ä¸Šï¼ˆæŸ¥çœ‹ <code>TextDocument.getLanguageId()</code>ï¼‰ã€‚</p>
<p>VS Codeæä¾›ä¸‰ç§æ–‡ä»¶åº”è¯¥å…³è”å“ªç§è¯­è¨€çš„æ–¹å¼ã€‚æ¯ç§æ–¹å¼éƒ½å¯ä»¥å¯ä»¥â€œå•ç‹¬â€åŠ å¼ºï¼š</p>
<ol>
<li>æ’ä»¶çš„æ–‡ä»¶å</li>
<li>æ–‡ä»¶å</li>
<li>æ–‡ä»¶å†…çš„é¦–è¡Œ</li>
</ol>
<p>ç”¨æˆ·æ‰“å¼€æ–‡ä»¶åï¼Œä¸‰ç§è§„åˆ™éƒ½ä¼šä½¿ç”¨ï¼Œç„¶åç¡®å®šè¯­è¨€ã€‚æ¥ç€VS Codeå°±ä¼šè§¦å‘æ¿€æ´»äº‹ä»¶<code>onLanguage:${language}</code>ï¼ˆæ¯”å¦‚ï¼šä¸‹é¢çš„<code>onLanguage:python</code>ä¾‹å­ï¼‰</p>
<p><code>aliases</code>å±æ€§åŒ…å«ç€è¿™é—¨è¯­è¨€çš„å¯è¯»æ€§åç§°ã€‚è¿™ä¸ªåˆ—è¡¨çš„ç¬¬ä¸€é¡¹ä¼šä½œä¸ºè¯­è¨€æ ‡ç­¾ï¼ˆåœ¨VS Codeå³ä¸‹è§’çŠ¶æ€æ æ˜¾ç¤ºï¼‰ã€‚</p>
<p><code>configuration</code>å±æ€§ç¡®å®šäº†è¯­è¨€é…ç½®æ–‡ä»¶çš„è·¯å¾„ã€‚è·¯å¾„æ˜¯æŒ‡ç›¸å¯¹æ’ä»¶æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼Œé€šå¸¸æ˜¯<code>./language-configuration.json</code>ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯JSONæ ¼å¼çš„ï¼ŒåŒ…å«ç€ä¸‹åˆ—å¯é…ç½®å±æ€§ï¼š</p>
<ul>
<li><pre><code>comments</code></pre><p>- å®šä¹‰äº†æ³¨é‡Šçš„ç¬¦å·</p>
<ul>
<li><code>blockComment</code> - ç”¨äºæ ‡è¯†å—æ³¨é‡Šçš„èµ·å§‹å’Œç»“æŸtokenã€‚è¢«â€™Toggle Block Commentâ€™ä½¿ç”¨</li>
<li><code>lineComment</code> - ç”¨äºæ ‡è¯†è¡Œæ³¨é‡Šçš„èµ·å§‹tokenã€‚è¢«â€™Add Line Commentâ€™ä½¿ç”¨</li>
</ul>
</li>
<li><p><code>brackets</code> - å®šä¹‰æ‹¬å·ï¼ŒåŒæ—¶ä¹Ÿä¼šå½±å“æ‹¬å·å†…çš„ä»£ç ç¼©è¿›ã€‚è¿›å…¥æ–°çš„ä¸€è¡Œæ—¶ï¼Œè¢«ç¼–è¾‘å™¨ç”¨æ¥ç¡®å®šæˆ–æ˜¯æ›´æ­£æ–°çš„ç¼©è¿›è·ç¦»</p>
</li>
<li><p><code>autoClosingPairs</code> - ä¸º<em>è‡ªåŠ¨é—­åˆåŠŸèƒ½<em>å®šä¹‰æŸä¸ªç¬¦å·çš„å¼€é—­ç¬¦ï¼ˆopen and close symbolsï¼‰ã€‚</em>å¼€ç¬¦å·<em>è¾“å…¥åï¼Œç¼–è¾‘å™¨ä¼šè‡ªåŠ¨æ’å…¥</em>é—­ç¬¦å·<em>ã€‚ä½¿ç”¨<code>notIn</code>å‚æ•°ï¼Œå…³é—­å­—ç¬¦ä¸²æˆ–è€…æ³¨é‡Šä¸­çš„</em>ç¬¦å·å¯¹</em></p>
</li>
<li><p><code>surroundingPairs</code> - å®šä¹‰é€‰ä¸­æ–‡æœ¬çš„å¼€é—­ç¬¦å·</p>
</li>
<li><pre><code>folding</code></pre><p>- å®šä¹‰ç¼–è¾‘å™¨ä¸­çš„ä»£ç åº”ä½•æ—¶ã€åº”æ€ä¹ˆæ ·æŠ˜å </p>
<ul>
<li><code>offSide</code> - å’Œä¸€ä¸‹ä¸ªç¼©è¿›å—ä¹‹é—´çš„ä»£ç å—å°¾éƒ¨çš„ç©ºè¡Œï¼ˆç”¨äºåŸºäºç¼©è¿›çš„è¯­è¨€ï¼Œå¦‚Python or F#ï¼‰</li>
<li><code>markers</code> - ä½¿ç”¨æ­£åˆ™è‡ªå®šä¹‰ä»£ç ä¸­çš„æŠ˜å åŒºåŸŸæ ‡è¯†ç¬¦</li>
</ul>
</li>
<li><p><code>wordPattern</code> - ä½¿ç”¨æ­£åˆ™åŒ¹é…ç¼–ç¨‹è¯­è¨€ä¸­å“ªäº›è¯åº”è¯¥æ˜¯å•ä¸ªè¯</p>
</li>
</ul>
<p>å¦‚æœä½ çš„è¯­è¨€é…ç½®æ–‡ä»¶æ˜¯<code>language-configuration.json</code>ï¼Œæˆ–è€…ä»¥è¿™æ ·çš„å­—ç¬¦ä¸²ç»“å°¾çš„ï¼ŒVS Codeå°±ä¼šæä¾›æ ¡éªŒå’Œç¼–è¾‘æ”¯æŒã€‚</p>
<h4 id="ç¤ºä¾‹-5"><a href="#ç¤ºä¾‹-5" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre><code>...
"contributes": {
    "languages": [{
        "id": "python",
        "extensions": [ ".py" ],
        "aliases": [ "Python", "py" ],
        "filenames": [ ... ],
        "firstLine": "^#!/.*\\bpython[0-9.-]*\\b",
        "configuration": "./language-configuration.json"
    }]
}</code></pre><p>language-configuration.json</p>
<pre><code>{
    "comments": {
        "lineComment": "//",
        "blockComment": [ "/*", "*/" ]
    },
    "brackets": [
        ["{", "}"],
        ["[", "]"],
        ["(", ")"]
    ],
    "autoClosingPairs": [
        ["{", "}"],
        ["[", "]"],
        ["(", ")"],
        { "open": "'", "close": "'", "notIn": ["string", "comment"] },
        { "open": "/**", "close": " */", "notIn": ["string"] }
    ],
    "surroundingPairs": [
        ["{", "}"],
        ["[", "]"],
        ["(", ")"],
        ["&lt;", "&gt;"],
        ["'", "'"]
    ],
    "folding": {
        "offSide": true,
        "markers": {
            "start": "^\\s*//#region",
            "end": "^\\s*//#endregion"
        }
    },
    "wordPattern": "(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\@\\#\\%\\^\\&amp;\\*\\(\\)\\-\\=\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\'\\\"\\,\\.\\&lt;\\&gt;\\/\\?\\s]+)"
}</code></pre><h3 id="contributes-debuggers"><a href="#contributes-debuggers" class="headerlink" title="contributes.debuggers"></a>contributes.debuggers</h3><hr>
<p>é…ç½®VS Codeçš„è°ƒè¯•å™¨ï¼Œè°ƒè¯•å™¨é…ç½®æœ‰ä¸‹åˆ—å±æ€§ï¼š</p>
<ul>
<li><p><code>type</code> ç”¨äºåŠ è½½é…ç½®çš„è°ƒè¯•å™¨å”¯ä¸€æ ‡è¯†â€”â€”IDã€‚</p>
</li>
<li><p><code>label</code> ä¼šåœ¨UIä¸­æ˜¾ç¤ºçš„è°ƒè¯•å™¨åç§°ã€‚</p>
</li>
<li><p><code>program</code> è°ƒè¯•é€‚é…çš„è·¯å¾„ï¼Œè°ƒè¯•é€‚é…é€šè¿‡VS Code debug protocolè¿æ¥åˆ°çœŸæ­£çš„è°ƒè¯•å™¨æˆ–è€…è¿è¡Œæ—¶ã€‚</p>
</li>
<li><p><code>runtime</code> å¦‚æœè°ƒè¯•é€‚é…å™¨çš„è·¯å¾„ä¸æ˜¯å¯æ‰§è¡Œç¨‹åºï¼Œé‚£ä¹ˆå°±ä¼šç”¨åˆ°è¿™ä¸ªè¿è¡Œæ—¶ã€‚</p>
</li>
<li><p><code>configurationAttributes</code> è°ƒè¯•å™¨çš„å¯åŠ¨é…ç½®å‚æ•°ã€‚</p>
</li>
<li><p><code>initialConfigurations</code> åˆ—å‡ºäº†åˆå§‹åŒ–launch.jsonéœ€è¦çš„åŠ è½½é…ç½®ã€‚</p>
</li>
<li><p><code>configurationSnippets</code> åˆ—å‡ºäº†ç¼–è¾‘launch.jsonæ–‡ä»¶æ—¶å¯ä»¥æä¾›çš„åŠ è½½é…ç½®æ™ºèƒ½æç¤ºã€‚</p>
</li>
<li><p><code>variables</code> å¼•å…¥æ›¿ä»£å˜é‡ï¼Œå¹¶ç»‘å®šåˆ°è°ƒè¯•å™¨æ’ä»¶å®ç°çš„å‘½ä»¤ä¸Šã€‚</p>
</li>
<li><p><code>languages</code> è°ƒè¯•æ’ä»¶ä¼šä½¿ç”¨â€œé»˜è®¤è°ƒè¯•å™¨â€çš„è¯­è¨€</p>
</li>
<li><p><code>adapterExecutableCommand</code>è°ƒè¯•é€‚é…å™¨æ‰§è¡Œè·¯å¾„å’Œå‚æ•°åŠ¨æ€è®¡ç®—çš„å‘½ä»¤ã€‚å‘½ä»¤è¿”å›çš„æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code>command: "&lt;executable&gt;",
args: [ "&lt;argument1&gt;", "&lt;argument2&gt;", ... ]</code></pre><p><code>command</code>å±æ€§å¿…é¡»æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºçš„ç»å¯¹è·¯å¾„ï¼Œæˆ–è€…æ˜¯é€šè¿‡PATHç¯å¢ƒå˜é‡å¯ä»¥æŸ¥æ‰¾åˆ°å¯æ‰§è¡Œç¨‹åºçš„åç§°ã€‚ä½¿ç”¨ç‰¹æ®Šå€¼<code>node</code>ï¼Œåˆ™ä¼šæ˜ å°„åˆ°VS Codeå†…å»ºçš„nodeè¿è¡Œæ—¶ï¼Œè€Œä¸ä¼šåœ¨PATHä¸­æŸ¥æ‰¾ã€‚</p>
</li>
</ul>
<h4 id="ç¤ºä¾‹-6"><a href="#ç¤ºä¾‹-6" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre><code>"contributes": {
    "debuggers": [{
        "type": "node",
        "label": "Node Debug",
        "program": "./out/node/nodeDebug.js",
        "runtime": "node",
        "languages": ["javascript", "typescript", "javascriptreact", "typescriptreact"],
        "configurationAttributes": {
            "launch": {
                "required": [ "program" ],
                "properties": {
                    "program": {
                        "type": "string",
                        "description": "The program to debug."
                    }
                }
            }
        },
        "initialConfigurations": [{
            "type": "node",
            "request": "launch",
            "name": "Launch Program",
            "program": "${workspaceFolder}/app.js"
        }],
        "configurationSnippets": [
            {
                "label": "Node.js: Attach Configuration",
                "description": "A new configuration for attaching to a running node program.",
                "body": {
                    "type": "node",
                    "request": "attach",
                    "name": "${2:Attach to Port}",
                    "port": 9229
                }
            }
        ],
        "variables": {
            "PickProcess": "extension.node-debug.pickNodeProcess"
        }
    }]
}</code></pre><h3 id="contributes-breakpoints"><a href="#contributes-breakpoints" class="headerlink" title="contributes.breakpoints"></a>contributes.breakpoints</h3><hr>
<p>é€šå¸¸è°ƒè¯•å™¨æ’ä»¶ä¼šæœ‰<code>contributes.breakpoints</code>å…¥å£ï¼Œæ’ä»¶å¯ä»¥åœ¨è¿™é‡Œé¢è®¾ç½®å“ªäº›è¯­è¨€å¯ä»¥è®¾ç½®æ–­ç‚¹ã€‚</p>
<pre><code>"contributes": {
    "breakpoints": [
        {
            "language": "javascript"
        },
        {
            "language": "javascriptreact"
        }
    ]
}</code></pre><h3 id="contributes-grammars"><a href="#contributes-grammars" class="headerlink" title="contributes.grammars"></a>contributes.grammars</h3><hr>
<p>ä¸ºä¸€é—¨è¯­è¨€é…ç½®TextMateè¯­æ³•ã€‚ä½ å¿…é¡»æä¾›åº”ç”¨è¯­æ³•çš„<code>language</code>ï¼ŒTextMateçš„<code>scopeName</code>ç¡®å®šäº†è¯­æ³•å’Œæ–‡ä»¶è·¯å¾„ã€‚</p>
<p>!&gt;<strong>æ³¨æ„ï¼š</strong>åŒ…å«è¯­æ³•çš„æ–‡ä»¶å¿…é¡»æ˜¯JSONï¼ˆä»¥.jsonç»“å°¾çš„æ–‡ä»¶ï¼‰æˆ–è€…XMLçš„plistæ ¼å¼æ–‡ä»¶ã€‚</p>
<h4 id="ç¤ºä¾‹-7"><a href="#ç¤ºä¾‹-7" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre><code>"contributes": {
    "grammars": [{
        "language": "markdown",
        "scopeName": "text.html.markdown",
        "path": "./syntaxes/markdown.tmLanguage.json",
        "embeddedLanguages": {
            "meta.embedded.block.frontmatter": "yaml",
            ...
        }
    }]
}</code></pre><p>æŸ¥çœ‹è¯­æ³•é«˜äº®æŒ‡å—å­¦ä¹ æ›´å¤šä»ç°æœ‰çš„è¯­æ³•é«˜äº®æ’ä»¶è¿ç§»çš„å†…å®¹ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/b66201d80ece86f0d0c04043590c8728.png" alt=""></p>
<h3 id="contributes-themes"><a href="#contributes-themes" class="headerlink" title="contributes.themes"></a>contributes.themes</h3><hr>
<p>ä¸ºVS Codeæ·»åŠ TextMateä¸»é¢˜ã€‚ä½ å¿…é¡»æ·»åŠ ä¸€ä¸ªlabelï¼ŒæŒ‡å®šè¿™ä¸ªä¸»é¢˜æ˜¯darkè¿˜æ˜¯lightçš„ï¼ˆä»¥ä¾¿VS Codeæ ¹æ®ä½ çš„ä¸»é¢˜è°ƒæ•´ç•Œé¢ï¼‰ï¼Œå½“ç„¶è¿˜éœ€è¦åŠ ä¸Šç›®æ ‡æ–‡ä»¶è·¯å¾„ï¼ˆXML plist æ ¼å¼ï¼‰ã€‚</p>
<p>!&gt;<strong>æ³¨æ„ï¼š</strong>åŒ…å«è¯­æ³•çš„æ–‡ä»¶å¿…é¡»æ˜¯JSONï¼ˆä»¥.jsonç»“å°¾çš„æ–‡ä»¶ï¼‰æˆ–è€…XMLçš„plistæ ¼å¼æ–‡ä»¶ã€‚</p>
<h4 id="ç¤ºä¾‹-8"><a href="#ç¤ºä¾‹-8" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre><code>"contributes": {
    "themes": [{
        "label": "Monokai",
        "uiTheme": "vs-dark",
        "path": "./themes/Monokai.tmTheme"
    }]
}</code></pre><p>æŸ¥çœ‹æ”¹å˜è‰²å½©ä¸»é¢˜å­¦ä¹ ä½¿ç”¨yo codeæ’ä»¶ç”Ÿæˆå™¨å°†TextMate.tmThemeæ–‡ä»¶å¿«é€Ÿæ‰“åŒ…æˆVS Codeæ’ä»¶ã€‚</p>
<h3 id="contributes-snippets"><a href="#contributes-snippets" class="headerlink" title="contributes.snippets"></a>contributes.snippets</h3><hr>
<p>ä¸ºè¯­è¨€æ·»åŠ ä»£ç ç‰‡æ®µã€‚<code>language</code>å±æ€§å¿…é¡»æ˜¯<a href="https://code.visualstudio.com/docs/languages/identifiers" target="_blank" rel="noopener">è¯­è¨€æ ‡è¯†ç¬¦</a>è€Œ<code>path</code>åˆ™å¿…é¡»æ˜¯ä½¿ç”¨<a href="https://code.visualstudio.com/docs/editor/userdefinedsnippets#_snippet-syntax" target="_blank" rel="noopener">VS Codeä»£ç ç‰‡æ®µæ ¼å¼</a>çš„ä»£ç ç‰‡æ®µæ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ã€‚</p>
<h4 id="ç¤ºä¾‹-9"><a href="#ç¤ºä¾‹-9" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><p>ä¸‹é¢æ˜¯ä¸€ä¸ªGoè¯­è¨€çš„ä»£ç ç‰‡æ®µï¼š</p>
<pre><code>"contributes": {
    "snippets": [{
        "language": "go",
        "path": "./snippets/go.json"
    }]
}</code></pre><h3 id="contributes-jsonValidation"><a href="#contributes-jsonValidation" class="headerlink" title="contributes.jsonValidation"></a>contributes.jsonValidation</h3><hr>
<p>ä¸º<code>json</code>æ–‡ä»¶æ·»åŠ æ ¡éªŒå™¨ã€‚<code>url</code>å€¼å¯ä»¥æ˜¯æœ¬åœ°è·¯å¾„ä¹Ÿå¯ä»¥æ˜¯æ’ä»¶ä¸­çš„æ¨¡å¼æ–‡ä»¶ï¼ˆschema fileï¼‰ï¼Œæˆ–è€…æ˜¯è¿œç¨‹æœåŠ¡å™¨çš„URLæ¯”å¦‚ï¼š<a href="http://schemastore.org/json" target="_blank" rel="noopener">json schema</a></p>
<h4 id="ç¤ºä¾‹-10"><a href="#ç¤ºä¾‹-10" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre><code>"contributes": {
    "jsonValidation": [{
        "fileMatch": ".jshintrc",
        "url": "http://json.schemastore.org/jshintrc"
    }]
}</code></pre><h3 id="contributes-views"><a href="#contributes-views" class="headerlink" title="contributes.views"></a>contributes.views</h3><hr>
<p>ä¸ºVS Code æ·»åŠ è§†å›¾ã€‚ä½ éœ€è¦ä¸ºè§†å›¾æŒ‡å®šå”¯ä¸€æ ‡è¯†å’Œåç§°ã€‚å¯ä»¥é…ç½®çš„å±æ€§å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>explorer</code>: æ´»åŠ¨æ ä¸­çš„èµ„æºç®¡ç†è§†å›¾å®¹å™¨ã€‚</li>
<li><code>scm</code>: æ´»åŠ¨æ ä¸­çš„æºä»£ç ç®¡ç†(SCM) è§†å›¾å®¹å™¨ã€‚</li>
<li><code>debug</code>: æ´»åŠ¨æ ä¸­çš„è°ƒè¯•è§†å›¾å®¹å™¨ã€‚</li>
<li><code>test</code>: æ´»åŠ¨æ ä¸­çš„æµ‹è¯•è§†å›¾å®¹å™¨ã€‚</li>
<li>Custom view containers ç”±æ’ä»¶æä¾›çš„è‡ªå®šä¹‰è§†å›¾å®¹å™¨ã€‚</li>
</ul>
<p>å½“ç”¨æˆ·æ‰“å¼€è§†å›¾ï¼ŒVS Codeä¼šè§¦å‘<code>onView:${viewId}</code>æ¿€æ´»äº‹ä»¶ï¼ˆæ¯”å¦‚ï¼šä¸‹é¢ç¤ºä¾‹ä¸­çš„<code>onView:nodeDependencies</code>ï¼‰ã€‚ä½ ä¹Ÿå¯ä»¥ç”¨<code>when</code>æ§åˆ¶è§†å›¾çš„å¯è§æ€§ã€‚</p>
<h4 id="ç¤ºä¾‹-11"><a href="#ç¤ºä¾‹-11" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre><code>"contributes": {
    "views": {
        "explorer": [
            {
                "id": "nodeDependencies",
                "name": "Node Dependencies",
                "when": "workspaceHasPackageJSON"
            }
        ]
    }
}</code></pre><p><img src="/images/loading.gif" data-original="../images/development/9ec6be0943eb38bb49edcece9c8c67fc.png" alt=""></p>
<p>æ’ä»¶åˆ›ä½œè€…åº”è¯¥é€šè¿‡<code>createTreeView</code>APIæä¾›çš„<a href="https://code.visualstudio.com/docs/extensionAPI/vscode-api#TreeDataProvider" target="_blank" rel="noopener">data provider</a>åˆ›å»ºä¸€ä¸ª<a href="https://code.visualstudio.com/docs/extensionAPI/vscode-api#TreeView" target="_blank" rel="noopener">TreeView</a>æˆ–è€…ç›´æ¥ä½¿ç”¨<code>registerTreeDataProvider</code>æ³¨å†Œä¸€ä¸ª<a href="https://code.visualstudio.com/docs/extensionAPI/vscode-api#TreeDataProvider" target="_blank" rel="noopener">data provider</a>ã€‚æ›´å¤šç¤ºä¾‹å‚è€ƒ<a href="https://github.com/Microsoft/vscode-extension-samples/tree/master/tree-view-sample" target="_blank" rel="noopener">è¿™é‡Œ</a></p>
<h3 id="contributes-viewsContainers"><a href="#contributes-viewsContainers" class="headerlink" title="contributes.viewsContainers"></a>contributes.viewsContainers</h3><hr>
<p>é…ç½®è‡ªå®šä¹‰è§†å›¾çš„è§†å›¾å®¹å™¨ã€‚ä½ éœ€è¦ä¸ºè§†å›¾æŒ‡å®šå”¯ä¸€æ ‡è¯†å’Œæ ‡é¢˜å’Œå›¾æ ‡ã€‚ç›®å‰ä½ åªå¯ä»¥é…ç½®æ´»åŠ¨æ ï¼ˆactivitybarï¼‰ï¼Œä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº†æ´»åŠ¨æ ä¸­çš„<code>Package Explorer</code>è§†å›¾å®¹å™¨åº”è¯¥å¦‚ä½•é…ç½®ã€‚</p>
<h4 id="ç¤ºä¾‹-12"><a href="#ç¤ºä¾‹-12" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre><code>"contributes": {
    "viewsContainers": {
        "activitybar": [
            {
                "id": "package-explorer",
                "title": "Package Explorer",
                "icon": "resources/package-explorer.svg"
            }
        ]
    },
    "views": {
        "package-explorer": [
            {
                "id": "package-dependencies",
                "name": "Dependencies"
            },
            {
                "id": "package-outline",
                "name": "Outline"
            }
        ]
    }
}</code></pre><p><img src="/images/loading.gif" data-original="../images/development/aa867b3a6db0992cd6bddc0b03b15a0a.png" alt=""></p>
<p><strong>å›¾æ ‡è§„æ ¼</strong></p>
<ul>
<li><code>Size:</code> 28x28çš„å›¾æ ‡å±…ä¸­äº50x40çš„è§†å›¾å—ä¸Šã€‚</li>
<li><code>Color:</code> å›¾æ ‡åº”ä½¿ç”¨é»‘ç™½å•è‰²ã€‚</li>
<li><code>Format:</code> è™½ç„¶å›¾ç‰‡æ ¼å¼çš„å›¾æ ‡éƒ½æ˜¯å¯ä»¥çš„ï¼Œä½†å»ºè®®ä½¿ç”¨SVGå›¾æ ‡ã€‚</li>
<li><code>States:</code> æ‰€æœ‰å›¾æ ‡çŠ¶æ€ç»§æ‰¿ä¸‹åˆ—æ ·å¼ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th align="left">State</th>
<th align="left">Opacity</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Default</td>
<td align="left">60%</td>
</tr>
<tr>
<td align="left">Hover</td>
<td align="left">100%</td>
</tr>
<tr>
<td align="left">Active</td>
<td align="left">100%</td>
</tr>
</tbody></table>
<h3 id="contributes-problemMatchers"><a href="#contributes-problemMatchers" class="headerlink" title="contributes.problemMatchers"></a>contributes.problemMatchers</h3><hr>
<p>é…ç½®é—®é¢˜å®šä½å™¨çš„æ¨¡å¼ã€‚è¿™äº›é…ç½®åœ¨è¾“å‡ºé¢æ¿å’Œç»ˆç«¯ä¸­éƒ½ä¼šæœ‰æ‰€ä½“ç°ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªé…ç½®äº†æ’ä»¶ä¸­çš„gccç¼–è¯‘å™¨çš„é—®é¢˜å®šä½å™¨ç¤ºä¾‹ï¼š</p>
<h4 id="ç¤ºä¾‹-13"><a href="#ç¤ºä¾‹-13" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre><code>"contributes": {
    "problemMatchers": [
        {
            "name": "gcc",
            "owner": "cpp",
            "fileLocation": ["relative", "${workspaceFolder}"],
            "pattern": {
                "regexp": "^(.*):(\\d+):(\\d+):\\s+(warning|error):\\s+(.*)$",
                "file": 1,
                "line": 2,
                "column": 3,
                "severity": 4,
                "message": 5
            }
        }
    ]
}</code></pre><p>è¿™ä¸ªé—®é¢˜å®šä½å™¨ç°åœ¨å¯ä»¥é€šè¿‡åç§°å¼•ç”¨<code>$gcc</code>åœ¨<code>task.json</code>ä¸­ä½¿ç”¨äº†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code>{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "build",
            "command": "gcc",
            "args": ["-Wall", "helloWorld.c", "-o", "helloWorld"],
            "problemMatcher": "$gcc"
        }
    ]
}</code></pre><p>æ›´å¤šå†…å®¹è¯·æŸ¥çœ‹ï¼š<a href="https://code.visualstudio.com/docs/editor/tasks#_defining-a-problem-matcher" target="_blank" rel="noopener">å®ç°ä¸€ä¸ªé—®é¢˜å®šä½å™¨</a></p>
<h3 id="contributes-problemPatterns"><a href="#contributes-problemPatterns" class="headerlink" title="contributes.problemPatterns"></a>contributes.problemPatterns</h3><hr>
<p>é…ç½®å¯ä»¥åœ¨é—®é¢˜å®šä½å™¨ï¼ˆè§ä¸Šï¼‰ä¸­å¯ä»¥ä½¿ç”¨çš„é—®é¢˜æ¨¡å¼çš„åç§°ã€‚</p>
<h3 id="contributes-taskDefinitions"><a href="#contributes-taskDefinitions" class="headerlink" title="contributes.taskDefinitions"></a>contributes.taskDefinitions</h3><hr>
<p>é…ç½®å’Œå®šä¹‰ä¸€ä¸ªobjectç»“æ„ï¼Œå®šä¹‰ç³»ç»Ÿä¸­å”¯ä¸€çš„<em>é…ç½®ä»»åŠ¡</em>ã€‚ä»»åŠ¡å®šä¹‰æœ€å°‘éœ€è¦ä¸€ä¸ª<code>type</code>å±æ€§ï¼Œä¸è¿‡é€šå¸¸éœ€è¦æ›´å¤šçš„å±æ€§é…ç½®ã€‚ åœ¨package.jsonæ–‡ä»¶ä¸­ï¼Œ<em>ä¸€ä¸ªå±•ç¤ºè„šæœ¬çš„ä»»åŠ¡</em>çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code>"taskDefinitions": [
    {
        "type": "npm",
        "required": [
            "script"
        ],
        "properties": {
            "script": {
                "type": "string",
                "description": "The script to execute"
            },
            "path": {
                "type": "string",
                "description": "The path to the package.json file. If omitted the package.json in the root of the workspace folder is used."
            }
        }
    }
]</code></pre><p>ä»»åŠ¡å®šä¹‰æ˜¯JSONæ ¼å¼çš„ï¼Œä¸”åŒ…å«<code>required</code>å’Œ<code>properties</code>ä¸¤ä¸ªå±æ€§ã€‚ <code>type</code>å±æ€§å®šä¹‰äº†ä»»åŠ¡ç±»å‹ï¼Œå¦‚æœä¸Šè¿°ä¾‹å­å˜æˆï¼š</p>
<ul>
<li><code>"type": "npm"</code>è¦æ±‚ä»»åŠ¡ä¸npmä»»åŠ¡ç›¸å…³è”</li>
<li><code>"required": [ "script" ]</code>å…¶ä¸­<code>script</code>å±æ€§ä¸å¯æˆ–ç¼ºã€‚<code>path</code>å±æ€§å˜æˆå¯é€‰ã€‚</li>
<li><code>"properties": {...}</code>ï¼šå®šä¹‰äº†å…¶ä»–å±æ€§å’Œä»–ä»¬çš„ç±»å‹</li>
</ul>
<p>å½“æ’ä»¶çœŸçš„åˆ›å»ºäº†ä¸€ä¸ªä»»åŠ¡ï¼Œå®ƒéœ€è¦ä¼ å…¥ä¸€ä¸ªä¸package.jsonä¸­ä»»åŠ¡é…ç½®å¯¹åº”çš„<code>TaskDefinition</code>ã€‚å¯¹äº<code>npm</code>ä»»åŠ¡æ¥è¯´ï¼Œpacakge.jsonä¸­çš„è„šæœ¬åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code>let task = new vscode.Task({ type: 'npm', script: 'test' }, ....);</code></pre><h3 id="contributes-colors"><a href="#contributes-colors" class="headerlink" title="contributes.colors"></a>contributes.colors</h3><hr>
<p>è¿™äº›è‰²å½©å¯ç”¨äºçŠ¶æ€æ çš„ç¼–è¾‘å™¨è£…é¥°å™¨ã€‚å®šä¹‰ä¹‹åï¼Œç”¨æˆ·å¯ä»¥åœ¨<code>workspace.colorCustomization</code>è®¾ç½®ä¸­è‡ªå®šä¹‰é¢œè‰²ï¼Œç”¨æˆ·çš„ä¸»é¢˜ä¼šè¦†ç›–è¿™äº›è‰²å€¼ã€‚</p>
<pre><code>"contributes": {
  "colors": [{
      "id": "superstatus.error",
      "description": "Color for error message in the status bar.",
      "defaults": {
          "dark": "errorForeground",
          "light": "errorForeground",
          "highContrast": "#010203"
      }
  }]
}</code></pre><h3 id="contributes-typescriptServerPlugins"><a href="#contributes-typescriptServerPlugins" class="headerlink" title="contributes.typescriptServerPlugins"></a>contributes.typescriptServerPlugins</h3><hr>
<p>é…ç½®VS Codeçš„Javascriptå’ŒTypescriptæ”¯æŒçš„<a href="https://github.com/Microsoft/TypeScript/wiki/Writing-a-Language-Service-Plugin" target="_blank" rel="noopener">Typescript æœåŠ¡å™¨æ’ä»¶</a>ï¼š</p>
<pre><code>"contributes": {
   "typescriptServerPlugins": [
      {
        "name": "typescript-styled-plugin"
      }
    ]
}</code></pre><p>ä¸Šè¿°ä¾‹å­é…ç½®äº†<a href="https://github.com/Microsoft/typescript-styled-plugin" target="_blank" rel="noopener"><code>typescript-styled-plugin</code></a>ï¼Œè¿™ä¸ªæ’ä»¶ä¸ºJavascriptå’ŒTypescriptæ·»åŠ äº†é£æ ¼åŒ–çš„ç»„ä»¶æ™ºèƒ½æç¤ºã€‚è¿™ä¸ªæ’ä»¶ä¼šä»æ‰©å±•æ’ä»¶ä¸­åŠ è½½ï¼Œè€Œä¸”å¿…é¡»åœ¨<code>dependency</code>ä¸­åˆ—æ˜ï¼š</p>
<pre><code>{
    "dependencies": {
        "typescript-styled-plugin": "*"
    }
}</code></pre><p>Typescript æœåŠ¡å™¨æ’ä»¶å¯ä»¥è¢«æ‰€æœ‰Javascriptå’ŒTypescriptæ–‡ä»¶åŠ è½½ï¼Œåªæœ‰å½“ç”¨æˆ·çš„å·¥ä½œåŒºä½¿ç”¨Typescriptæ—¶æ‰ä¼šæ¿€æ´»ã€‚</p>
<h2 id="æ¿€æ´»äº‹ä»¶"><a href="#æ¿€æ´»äº‹ä»¶" class="headerlink" title="æ¿€æ´»äº‹ä»¶"></a>æ¿€æ´»äº‹ä»¶</h2><p><strong>æ¿€æ´»äº‹ä»¶</strong>æ˜¯åœ¨<code>package.json</code>ä¸­çš„<code>activationEvents</code>å­—æ®µå£°æ˜çš„ä¸€ä¸ªJSONå¯¹è±¡, å‚è€ƒæ’ä»¶æ¸…å•. å½“<strong>æ¿€æ´»äº‹ä»¶</strong>è§¦å‘æ—¶, æ’ä»¶å°±ä¼šè¢«æ¿€æ´». ä¸‹é¢æ˜¯å¯ç”¨çš„<strong>æ¿€æ´»äº‹ä»¶</strong>åˆ—è¡¨:</p>
<ul>
<li>onLanguage</li>
<li>onCommand</li>
<li>onDebug<ul>
<li>onDebugInitialConfigurations</li>
<li>onDebugResolve</li>
</ul>
</li>
<li>workspaceContains</li>
<li>onFileSystem</li>
<li>onView</li>
<li>onUri</li>
<li>onWebviewPanel</li>
<li>*</li>
</ul>
<p><code>package.json</code>çš„é…ç½®é¡¹éƒ½å¯ä»¥åœ¨æ’ä»¶æ¸…å•ä¸­æ‰¾åˆ°.</p>
<h3 id="onLanguage"><a href="#onLanguage" class="headerlink" title="onLanguage"></a>onLanguage</h3><hr>
<p>æ‰“å¼€ç‰¹å®šè¯­è¨€æ–‡ä»¶æ—¶æ¿€æ´»äº‹ä»¶å’Œç›¸å…³æ’ä»¶</p>
<pre><code>...
"activationEvents": [
  "onLanguage:python"
]
...</code></pre><p><code>onLanguage</code>äº‹ä»¶éœ€è¦æŒ‡å®šç‰¹å®šçš„<a href="https://code.visualstudio.com/docs/languages/identifiers" target="_blank" rel="noopener">è¯­è¨€æ ‡è¯†ç¬¦</a></p>
<p>ä¹Ÿå¯ä»¥æ·»åŠ å¤šç§è¯­è¨€:</p>
<pre><code>"activationEvents": [
  "onLanguage:json",
  "onLanguage:markdown",
  "onLanguage:typescript"
]</code></pre><h3 id="onCommand"><a href="#onCommand" class="headerlink" title="onCommand"></a>onCommand</h3><hr>
<p>è°ƒç”¨å‘½ä»¤æ—¶æ¿€æ´»</p>
<pre><code>...
"activationEvents": [
  "onCommand:extension.sayHello"
]
...</code></pre><h3 id="onDebug"><a href="#onDebug" class="headerlink" title="onDebug"></a>onDebug</h3><hr>
<p>è°ƒè¯•ä¼šè¯(debug session)å¯åŠ¨å‰æ¿€æ´»</p>
<pre><code>...
"activationEvents": [
  "onDebug"
]
...</code></pre><h4 id="onDebugInitialConfigurations"><a href="#onDebugInitialConfigurations" class="headerlink" title="onDebugInitialConfigurations"></a>onDebugInitialConfigurations</h4><h4 id="onDebugResolve"><a href="#onDebugResolve" class="headerlink" title="onDebugResolve"></a>onDebugResolve</h4><p>è¿™æ˜¯ä¸¤ä¸ªç²’åº¦æ›´ç»†çš„<code>onDebug</code>æ¿€æ´»äº‹ä»¶:</p>
<ul>
<li><code>DebugConfigurationProvider</code>ä¸­çš„<code>provideDebugConfigurations</code>åœ¨<code>onDebugInitialConfigurations</code>ä¹‹åè§¦å‘</li>
<li><code>onDebugResolve:type</code>åœ¨<code>DebugConfigurationProvider</code>çš„<code>resolveDebugConfiguration</code>æ–¹æ³•ä¹‹å‰è§¦å‘.</li>
</ul>
<p><strong>å‹æƒ…æç¤º</strong>: å¦‚æœè°ƒè¯•æ’ä»¶æ¯”è¾ƒè½»é‡, ä½¿ç”¨<code>onDebug</code>. ç›¸å, æ ¹æ®<code>DebugConfigurationProvider</code>å®ç°çš„å¯¹åº”æ–¹æ³•ï¼ˆ<code>provideDebugConfigurations</code>æˆ–<code>resolveDebugConfiguration</code>ï¼‰ï¼Œä½¿ç”¨<code>onDebugInitialConfigurations</code>æˆ–<code>onDebugResolve</code>. å‚é˜…ä½¿ç”¨è°ƒè¯•å™¨æ’ä»¶.</p>
<h3 id="workspaceContains"><a href="#workspaceContains" class="headerlink" title="workspaceContains"></a>workspaceContains</h3><hr>
<p>æ–‡ä»¶å¤¹æ‰“å¼€åï¼Œä¸”æ–‡ä»¶å¤¹ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªç¬¦åˆglobæ¨¡å¼çš„æ–‡ä»¶æ—¶è§¦å‘.</p>
<pre><code>"activationEvents": [
  "workspaceContains:**/.editorconfig"
]</code></pre><h3 id="onFileSystem"><a href="#onFileSystem" class="headerlink" title="onFileSystem"></a>onFileSystem</h3><hr>
<p>ä»¥åè®®ï¼ˆschemeï¼‰æ‰“å¼€æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æ—¶è§¦å‘ã€‚é€šå¸¸æ˜¯<code>file</code>-åè®®ï¼Œä¹Ÿå¯ä»¥ç”¨è‡ªå®šä¹‰çš„æ–‡ä»¶ä¾›åº”å™¨å‡½æ•°æ›¿æ¢æ‰ï¼Œæ¯”å¦‚<code>ftp</code>ã€<code>ssh</code>.</p>
<pre><code>...
"activationEvents": [
  "onFileSystem:sftp"
]
...</code></pre><h3 id="onView"><a href="#onView" class="headerlink" title="onView"></a>onView</h3><hr>
<p>æŒ‡å®šidçš„è§†å›¾å±•å¼€æ—¶è§¦å‘:</p>
<pre><code>...
"activationEvents": [
  "onView:nodeDependencies"
]
...</code></pre><h3 id="onUri"><a href="#onUri" class="headerlink" title="onUri"></a>onUri</h3><hr>
<p>æ’ä»¶çš„ç³»ç»Ÿçº§URIæ‰“å¼€æ—¶è§¦å‘ã€‚è¿™ä¸ªURIåè®®éœ€è¦å¸¦ä¸Š<code>vscode</code>æˆ–è€… <code>vscode-insiders</code>åè®®ã€‚URIä¸»æœºåå¿…é¡»æ˜¯æ’ä»¶çš„å”¯ä¸€æ ‡è¯†ï¼Œå‰©ä½™çš„URIæ˜¯å¯é€‰çš„ã€‚</p>
<pre><code>...
"activationEvents": [
  "onUri"
]
...</code></pre><p>å¦‚æœ<code>vscode.git</code>æ’ä»¶å®šä¹‰äº†<code>onUri</code>æ¿€æ´»äº‹ä»¶ï¼Œé‚£ä¹ˆä¸‹åˆ—ä»»æ„URIæ‰“å¼€æ—¶å°±ä¼šè§¦å‘:</p>
<ul>
<li><code>vscode://vscode.git/init</code></li>
<li><code>vscode://vscode.git/clone?url=https%3A%2F%2Fgithub.com%2FMicrosoft%2Fvscode-vsce.git</code></li>
<li><code>vscode-insiders://vscode.git/init</code>(for VS Code Insiders)</li>
</ul>
<h3 id="onWebviewPanel"><a href="#onWebviewPanel" class="headerlink" title="onWebviewPanel"></a>onWebviewPanel</h3><hr>
<p>VS Codeéœ€è¦æ¢å¤åŒ¹é…åˆ°<code>viewType</code>çš„<code>webview</code>è§†å›¾æ—¶è§¦å‘.</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­:</p>
<pre><code>"activationEvents": [
  ...,
  "onWebviewPanel:catCoding"
]</code></pre><p>è¿™ä¼šå¯¼è‡´æ’ä»¶è¢«æ¿€æ´». è°ƒç”¨<code>window.createWebviewPanel</code>æ—¶å¯ä»¥è®¾ç½®<code>viewType</code>, ä½ å¯èƒ½ä¼šéœ€è¦å…¶å®ƒçš„æ¿€æ´»äº‹ä»¶(æ¯”å¦‚: <code>onCommand</code>)æ¥åˆ›å»º<code>webview</code>è§†å›¾.</p>
<h3 id="Start-up"><a href="#Start-up" class="headerlink" title="Start up"></a>Start up</h3><hr>
<p>å½“VS Codeå¯åŠ¨æ—¶è§¦å‘ã€‚ä¸ºäº†ä¿è¯è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œåªåœ¨ä½ çš„æ’ä»¶æ²¡æœ‰å…¶ä»–ä»»ä½•æ¿€æ´»äº‹ä»¶çš„å‰æä¸‹ï¼Œæ·»åŠ è¿™ä¸ªæ¿€æ´»äº‹ä»¶ã€‚</p>
<pre><code>...
"activationEvents": [
  "*"
]
...</code></pre><p>!&gt; <strong>æ³¨æ„</strong>: ä¸€ä¸ªæ’ä»¶å¦‚æœä¾¦å¬äº†å¤šä¸ªæ¿€æ´»äº‹ä»¶, é‚£ä¹ˆæœ€å¥½ç”¨<code>"*"</code>æ›¿æ¢æ‰.</p>
<p>!&gt; <strong>æ³¨æ„</strong>: æ’ä»¶<strong>å¿…é¡»</strong>ä»å®ƒçš„ä¸»æ¨¡å—ä¸­è¾“å‡ºä¸€ä¸ª<code>activate()</code>å‡½æ•°ï¼Œå½“ä»»æ„çš„æ¿€æ´»äº‹ä»¶è§¦å‘æ—¶ï¼ŒVS Codeä¼š<strong>ä»…ä»…è°ƒç”¨ä¸€æ¬¡è¿™ä¸ªå‡½æ•°</strong>ã€‚æ­¤å¤–ï¼Œæ’ä»¶ä¹Ÿ<strong>åº”è¯¥</strong> å¯¼å‡ºä¸€ä¸ª<code>deactivate()</code>å‡½æ•°ï¼Œå½“VS Codeå…³é—­æ—¶æ‰§è¡Œæ¸…ç†çš„ä»»åŠ¡ã€‚å¦‚æœæ¸…ç†è¿›ç¨‹æ˜¯å¼‚æ­¥çš„ï¼Œæ’ä»¶çš„<code>deactivate()</code><strong>å¿…é¡»</strong>è¿”å›ä¸€ä¸ªPromiseã€‚å¦‚æœè¿™ä¸ªæ¸…ç†ä»»åŠ¡æ˜¯åŒæ­¥çš„ï¼Œé‚£ä¹ˆ<code>deactivate()</code>å¯ä»¥è¿”å›<code>undefined</code>ã€‚</p>
<h2 id="æ’ä»¶æ¸…å•-1"><a href="#æ’ä»¶æ¸…å•-1" class="headerlink" title="æ’ä»¶æ¸…å•"></a>æ’ä»¶æ¸…å•</h2><h3 id="é…ç½®å­—æ®µ"><a href="#é…ç½®å­—æ®µ" class="headerlink" title="é…ç½®å­—æ®µ"></a>é…ç½®å­—æ®µ</h3><hr>
<table>
<thead>
<tr>
<th align="left">åç§°</th>
<th align="center">å¿…é¡»</th>
<th align="left">ç±»å‹</th>
<th align="left">è¯¦ç»†</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>name</code></td>
<td align="center">Y</td>
<td align="left"><code>string</code></td>
<td align="left">æ’ä»¶çš„åç§°å¿…é¡»ç”¨å…¨å°å†™æ— ç©ºæ ¼çš„å­—æ¯ç»„æˆã€‚</td>
</tr>
<tr>
<td align="left"><code>version</code></td>
<td align="center">Y</td>
<td align="left"><code>string</code></td>
<td align="left"><a href="https://semver.org/" target="_blank" rel="noopener">SemVer</a>ç‰ˆæœ¬æ¨¡å¼å…¼å®¹ã€‚</td>
</tr>
<tr>
<td align="left"><code>publisher</code></td>
<td align="center">Y</td>
<td align="left"><code>string</code></td>
<td align="left">å‘è¡Œæ–¹åç§°</td>
</tr>
<tr>
<td align="left"><code>engines</code></td>
<td align="center">Y</td>
<td align="left"><code>object</code></td>
<td align="left">ä¸€ä¸ªè‡³å°‘åŒ…å«<code>vscode</code>å­—æ®µçš„å¯¹è±¡ï¼Œå…¶å€¼å¿…é¡»å…¼å®¹ VS Codeç‰ˆæœ¬ã€‚ä¸å¯ä»¥æ˜¯<code>*</code>ã€‚ä¾‹å¦‚ï¼š<code>^0.10.5</code> è¡¨æ˜æœ€å°å…¼å®¹<code>0.10.5</code>ç‰ˆæœ¬çš„VS Codeã€‚</td>
</tr>
<tr>
<td align="left"><code>license</code></td>
<td align="center"></td>
<td align="left"><code>string</code></td>
<td align="left">å‚è€ƒ<a href="https://docs.npmjs.com/files/package.json#license" target="_blank" rel="noopener">npmâ€™s documentation</a>ã€‚å¦‚æœä½ åœ¨æ’ä»¶æ ¹ç›®å½•å·²ç»æä¾›äº†<code>LICENSE</code>æ–‡ä»¶ã€‚é‚£ä¹ˆ<code>license</code>çš„å€¼åº”è¯¥æ˜¯<code>"SEE LICENSE IN &lt;filename&gt;"</code>ã€‚</td>
</tr>
<tr>
<td align="left"><code>displayName</code></td>
<td align="center"></td>
<td align="left"><code>string</code></td>
<td align="left">æ’ä»¶å¸‚åœºæ‰€æ˜¾ç¤ºçš„æ’ä»¶åç§°ã€‚</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="center"></td>
<td align="left"><code>string</code></td>
<td align="left">ç®€å•åœ°æè¿°ä¸€ä¸‹ä½ çš„æ’ä»¶æ˜¯åšä»€ä¹ˆçš„ã€‚</td>
</tr>
<tr>
<td align="left"><code>categories</code></td>
<td align="center"></td>
<td align="left"><code>string[]</code></td>
<td align="left">ä½ æƒ³è¦ä½¿ç”¨çš„æ’ä»¶åˆ†ç±»ï¼Œå¯é€‰å€¼æœ‰ï¼š<code>[Programming Languages, Snippets, Linters, Themes, Debuggers, Formatters, Keymaps, SCM Providers, Other, Extension Packs, Language Packs]</code></td>
</tr>
<tr>
<td align="left"><code>keywords</code></td>
<td align="center"></td>
<td align="left"><code>array</code></td>
<td align="left"><strong>å…³é”®å­—</strong>ï¼ˆæ•°ç»„ï¼‰ï¼Œè¿™æ ·ç”¨æˆ·å¯ä»¥æ›´æ–¹ä¾¿åœ°æ‰¾åˆ°ä½ çš„æ’ä»¶ã€‚åˆ°æ—¶å€™ä¼šå’Œå¸‚åœºä¸Šçš„å…¶ä»–æ’ä»¶ä»¥<strong>æ ‡ç­¾</strong>ç­›é€‰åœ¨ä¸€èµ·ã€‚</td>
</tr>
<tr>
<td align="left"><code>galleryBanner</code></td>
<td align="center"></td>
<td align="left"><code>object</code></td>
<td align="left">æ ¹æ®ä½ çš„iconæ ¼å¼åŒ–å¸‚åœºçš„å¤´éƒ¨æ˜¾ç¤ºã€‚è¯¦æƒ…è§ä¸‹ã€‚</td>
</tr>
<tr>
<td align="left"><code>preview</code></td>
<td align="center"></td>
<td align="left"><code>boolean</code></td>
<td align="left">åœ¨å¸‚åœºä¸­ä¼šæ˜¾ç¤ºPreviewæ ‡è®°ã€‚</td>
</tr>
<tr>
<td align="left"><code>main</code></td>
<td align="center"></td>
<td align="left"><code>string</code></td>
<td align="left">ä½ çš„æ’ä»¶å…¥å£</td>
</tr>
<tr>
<td align="left"><code>contributes</code></td>
<td align="center"></td>
<td align="left"><code>object</code></td>
<td align="left">æè¿°æ’ä»¶å‘å¸ƒå†…å®¹çš„å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td align="left"><code>activationEvents</code></td>
<td align="center"></td>
<td align="left"><code>array</code></td>
<td align="left">æ¿€æ´»äº‹ä»¶æ•°ç»„ã€‚</td>
</tr>
<tr>
<td align="left"><code>badges</code></td>
<td align="center"></td>
<td align="left"><code>array</code></td>
<td align="left">æ˜¾ç¤ºåœ¨æ’ä»¶å¸‚åœºé¡µé¢ä¾§è¾¹æ çš„åˆæ³•æ ‡è®°ã€‚ æ¯ä¸ªæ ‡è®°éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«äº†3ä¸ªå±æ€§ï¼š<code>url</code> æ ‡è®°çš„å›¾ç‰‡URLï¼Œå½“ç”¨æˆ·ç‚¹å‡»æ ‡è®°å’Œ<code>description</code>æ—¶ï¼Œä¼šè·³è½¬åˆ°<code>href</code>ã€‚</td>
</tr>
<tr>
<td align="left"><code>markdown</code></td>
<td align="center"></td>
<td align="left"><code>string</code></td>
<td align="left">æ§åˆ¶å¸‚åœºä¸­ä½¿ç”¨çš„Markdownæ¸²æŸ“å¼•æ“ã€‚å¯ä»¥æ˜¯<code>github</code> (é»˜è®¤) æˆ– <code>standard</code>ã€‚</td>
</tr>
<tr>
<td align="left"><code>qna</code></td>
<td align="center"></td>
<td align="left"><code>marketplace</code> (é»˜è®¤), <code>string</code>, <code>false</code></td>
<td align="left">æ§åˆ¶å¸‚åœºä¸­çš„<strong>Q &amp; A</strong> é“¾æ¥ã€‚ è®¾ç½®æˆ<code>marketplace</code>æ—¶ï¼Œè‡ªåŠ¨ä½¿ç”¨å¸‚åœºé»˜è®¤çš„Q &amp; Aç½‘å€ã€‚æˆ–è€…æä¾›ä¸€ä¸ªURLè½¬è·³åˆ°ä½ çš„Q &amp; A åœ°å€ã€‚è®¾ç½®ä¸º<code>false</code>æ—¶ç¦ç”¨ã€‚</td>
</tr>
<tr>
<td align="left"><code>dependencies</code></td>
<td align="center"></td>
<td align="left"><code>object</code></td>
<td align="left">Node.js è¿è¡Œæ—¶ä¾èµ–ã€‚ç­‰åŒäº<a href="https://docs.npmjs.com/files/package.json#dependencies" target="_blank" rel="noopener">npmâ€™s <code>dependencies</code></a>.</td>
</tr>
<tr>
<td align="left"><code>devDependencies</code></td>
<td align="center"></td>
<td align="left"><code>object</code></td>
<td align="left">Node.js å¼€å‘æ—¶ä¾èµ–ã€‚ ç­‰åŒäº<a href="https://docs.npmjs.com/files/package.json#devdependencies" target="_blank" rel="noopener">npmâ€™s <code>devDependencies</code></a>.</td>
</tr>
<tr>
<td align="left"><code>extensionDependencies</code></td>
<td align="center"></td>
<td align="left"><code>array</code></td>
<td align="left">æ’ä»¶ä¾èµ–ï¼Œç”±æ’ä»¶IDç»„æˆçš„æ•°ç»„ã€‚å½“ä¸»è¦æ’ä»¶å®‰è£…å®Œæˆåï¼Œå…¶ä»–æ’ä»¶ä¼šç›¸åº”å®‰è£…ã€‚æ’ä»¶IDçš„æ ¼å¼ä¸º <code>${publisher}.${name}</code>ã€‚æ¯”å¦‚ï¼š<code>vscode.csharp</code>ã€‚</td>
</tr>
<tr>
<td align="left"><code>scripts</code></td>
<td align="center"></td>
<td align="left"><code>object</code></td>
<td align="left">ç­‰åŒäº<a href="https://docs.npmjs.com/misc/scripts" target="_blank" rel="noopener">npmçš„ <code>scripts</code></a>ï¼Œä¸è¿‡æœ‰VS Codeé¢å¤–å­—æ®µå¦‚vscode:prepublishæˆ–vscode:uninstall.</td>
</tr>
<tr>
<td align="left"><code>icon</code></td>
<td align="center"></td>
<td align="left"><code>string</code></td>
<td align="left">iconçš„æ–‡ä»¶è·¯å¾„ï¼Œæœ€å° 128x128 åƒç´  (è§†ç½‘è†œå±å¹•åˆ™éœ€ 256x256)ã€‚</td>
</tr>
</tbody></table>
<p>ä½ è¿˜å¯ä»¥å‚è€ƒ<a href="https://docs.npmjs.com/files/package.json" target="_blank" rel="noopener">npmçš„<code>package.json</code></a></p>
<h3 id="ç¤ºä¾‹-14"><a href="#ç¤ºä¾‹-14" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><hr>
<p>ä¸‹é¢æ˜¯ä¸€ä»½å®Œæ•´çš„<code>package.json</code>ç¤ºä¾‹</p>
<pre><code>{
    "name": "wordcount",
    "displayName": "Word Count",
    "version": "0.1.0",
    "publisher": "ms-vscode",
    "description": "Markdown Word Count Example - reports out the number of words in a Markdown file.",
    "author": {
        "name": "seanmcbreen"
    },
    "categories": [
        "Other"
    ],
    "icon": "images/icon.png",
    "galleryBanner": {
        "color": "#C80000",
        "theme": "dark"
    },
    "activationEvents": [
        "onLanguage:markdown"
    ],
    "engines": {
        "vscode": "^1.0.0"
    },
    "main": "./out/extension",
    "scripts": {
        "vscode:prepublish": "node ./node_modules/vscode/bin/compile",
        "compile": "node ./node_modules/vscode/bin/compile -watch -p ./"
    },
    "devDependencies": {
        "vscode": "0.10.x",
        "typescript": "^1.6.2"
    },
    "license": "SEE LICENSE IN LICENSE.txt",
    "bugs": {
        "url": "https://github.com/Microsoft/vscode-wordcount/issues",
        "email": "smcbreen@microsoft.com"
    },
    "repository": {
        "type": "git",
        "url": "https://github.com/Microsoft/vscode-wordcount.git"
    },
    "homepage": "https://github.com/Microsoft/vscode-wordcount/blob/master/README.md"
}</code></pre><h3 id="æ’ä»¶å¸‚åœºå±•ç¤ºå°è´´å£«"><a href="#æ’ä»¶å¸‚åœºå±•ç¤ºå°è´´å£«" class="headerlink" title="æ’ä»¶å¸‚åœºå±•ç¤ºå°è´´å£«"></a>æ’ä»¶å¸‚åœºå±•ç¤ºå°è´´å£«</h3><hr>
<p>ä¸‹é¢æ˜¯ä¸€äº›è®©ä½ çš„æ’ä»¶åœ¨<a href="https://marketplace.visualstudio.com/VSCode" target="_blank" rel="noopener">å¸‚åœº</a>ä¸Šçœ‹èµ·æ¥ç‹‚æ‹½é…·å¸…åŠç‚¸å¤©çš„å°å»ºè®®ã€‚</p>
<p>ä½¿ç”¨<code>npm install -g vsce</code>å®‰è£…æœ€æ–°çš„<code>vsce</code>ã€‚</p>
<p>åœ¨æ’ä»¶æ ¹ç›®å½•ä¸­æ–°å»ºä¸€ä¸ª<code>README.md</code>æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¼šæŠŠé‡Œé¢çš„å†…å®¹ä½œä¸ºæ’ä»¶çš„ä»‹ç»ï¼ˆåœ¨å¸‚åœºä¸Šï¼‰ï¼Œä½ å¯ä»¥åœ¨<code>README.md</code>æä¾›å›¾ç‰‡çš„ç›¸å¯¹è·¯å¾„ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸¤ä¸ªæ —å­ğŸŒ°ï¼š</p>
<ol>
<li><a href="https://www.bookstack.cn/read/VS-Code-Extension-Doc-ZH/$docs-references-extension-authoring-example-word-count" target="_blank" rel="noopener">Word Count</a></li>
<li><a href="https://marketplace.visualstudio.com/items/seanmcbreen.MDTools" target="_blank" rel="noopener">MD Tools</a></li>
</ol>
<p>å¥½çš„åå­—å’Œæè¿°æ˜¯å¸‚åœºå±•ç¤ºäº§å“éå¸¸é‡è¦çš„éƒ¨åˆ†ã€‚ä¸‹è¿°å­—ç¬¦ä¸²ç”¨äºVS Codeæ–‡æœ¬æœç´¢ï¼Œå¸¦ä¸Šå…³é”®å­—æ›´å®¹æ˜“è¢«æ‰¾åˆ°ã€‚</p>
<pre><code>    "displayName": "Word Count",
    "description": "Markdown Word Count Example - reports out the number of words in a Markdown file.",</code></pre><p>Iconå’Œbanneré¢œè‰²ä¼šå±•ç¤ºåœ¨å¸‚åœºé¡µé¢å¤´éƒ¨ï¼Œ<code>theme</code>å±æ€§æ˜¯æŒ‡bannerä¸­ä½¿ç”¨çš„å­—ä½“ä¸»é¢˜â€”â€”<code>dark</code>æˆ–<code>light</code>ã€‚</p>
<pre><code>{
    "icon": "images/icon.png",
    "galleryBanner": {
        "color": "#C80000",
        "theme": "dark"
    },
}</code></pre><p>ä¸‹é¢çš„å‡ ä¸ªå¯é€‰é“¾æ¥ï¼ˆ<code>bugs</code>ï¼Œ<code>homepage</code>ï¼Œ<code>repository</code>ï¼‰ä¼šåœ¨å¸‚åœºçš„<strong>Resources</strong>éƒ¨åˆ†æ˜¾ç¤ºï¼š</p>
<pre><code>{
    "license": "SEE LICENSE IN LICENSE.txt",
    "homepage": "https://github.com/Microsoft/vscode-wordcount/blob/master/README.md",
    "bugs": {
        "url": "https://github.com/Microsoft/vscode-wordcount/issues",
        "email": "smcbreen@microsoft.com"
    },
    "repository": {
        "type": "git",
        "url": "https://github.com/Microsoft/vscode-wordcount.git"
    },
}</code></pre><table>
<thead>
<tr>
<th align="left">å¸‚åœºèµ„æºé“¾æ¥</th>
<th align="left">å¯¹åº”çš„package.jsonå±æ€§</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Issues</td>
<td align="left"><code>bugs:url</code></td>
</tr>
<tr>
<td align="left">Repository</td>
<td align="left"><code>repository:url</code></td>
</tr>
<tr>
<td align="left">Homepage</td>
<td align="left"><code>homepage</code></td>
</tr>
<tr>
<td align="left">License</td>
<td align="left"><code>license</code></td>
</tr>
</tbody></table>
<p>è®¾ç½®æ’ä»¶çš„<code>category</code>ï¼Œ<code>category</code>ä¸€æ ·çš„æ’ä»¶ä¼šåˆ†ç±»åˆ°ä¸€èµ·ä»¥ä¾¿ç”¨æˆ·æŸ¥æ‰¾å’Œç­›é€‰ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>è¯·ä½¿ç”¨æœ‰æ„ä¹‰çš„åˆ†ç±»å€¼ï¼Œå…è®¸çš„å€¼æœ‰<code>[Programming Languages, Snippets, Linters, Themes, Debuggers, Formatters, Keymaps, SCM Providers, Other, Extension Packs, Language Packs]</code>ã€‚æœ‰è¯­æ³•é«˜äº®ã€ä»£ç è¡¥å…¨åŠŸèƒ½çš„æ’ä»¶ï¼Œè¯·ä½¿ç”¨<code>Programming Languages</code>ã€‚<code>Language Packs</code>åˆ†ç±»æ˜¯ä¸ºæœ¬åœ°åŒ–ä¿ç•™çš„æ’ä»¶ç±»åˆ«ï¼ˆä¾‹å¦‚ï¼šç®€ä½“ä¸­æ–‡ï¼ˆæœ¬åœ°åŒ–ï¼‰ï¼‰ã€‚</p>
</blockquote>
<pre><code>{
    "categories": [
        "Linters", "Programming Languages", "Other"
    ],
}</code></pre><p>?&gt; <strong>å°è´´å£«ï¼š</strong> The <a href="https://marketplace.visualstudio.com/items?itemName=ms-devlabs.extension-manifest-editor" target="_blank" rel="noopener">Extension Manifest Editor</a> æ’ä»¶å¯ä»¥å¸®ä½ é¢„è§ˆé¢„è§ˆä½ çš„æ’ä»¶ä¸­çš„<code>README.md</code> å’Œ <code>package.json</code>ï¼Œ ç”Ÿæˆçš„é¢„è§ˆå°±åƒä½ å·²ç»å‘å¸ƒåˆ°æ’ä»¶å¸‚åœºäº†ä¸€æ ·ã€‚</p>
<h4 id="ä½¿ç”¨è®¤è¯è¿‡çš„å¾½ç« "><a href="#ä½¿ç”¨è®¤è¯è¿‡çš„å¾½ç« " class="headerlink" title="ä½¿ç”¨è®¤è¯è¿‡çš„å¾½ç« "></a>ä½¿ç”¨è®¤è¯è¿‡çš„å¾½ç« </h4><p>å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæˆ‘ä»¬åªå…è®¸å¯ä¿¡æœåŠ¡å•†æä¾›çš„æ ‡å¿—ã€‚ æˆ‘ä»¬å…è®¸æ¥è‡ªä¸‹åˆ—URLå‰ç¼€çš„æ ‡å¿—ï¼š</p>
<ul>
<li><a href="http://api.bintray.com/" target="_blank" rel="noopener">api.bintray.com</a></li>
<li><a href="http://api.travis-ci.com/" target="_blank" rel="noopener">api.travis-ci.com</a></li>
<li><a href="http://api.travis-ci.org/" target="_blank" rel="noopener">api.travis-ci.org</a></li>
<li><a href="http://app.fossa.io/" target="_blank" rel="noopener">app.fossa.io</a></li>
<li><a href="http://badge.fury.io/" target="_blank" rel="noopener">badge.fury.io</a></li>
<li><a href="http://badge.waffle.io/" target="_blank" rel="noopener">badge.waffle.io</a></li>
<li><a href="http://badgen.net/" target="_blank" rel="noopener">badgen.net</a></li>
<li><a href="http://badges.frapsoft.com/" target="_blank" rel="noopener">badges.frapsoft.com</a></li>
<li><a href="http://badges.gitter.im/" target="_blank" rel="noopener">badges.gitter.im</a></li>
<li><a href="http://badges.greenkeeper.io/" target="_blank" rel="noopener">badges.greenkeeper.io</a></li>
<li><a href="http://cdn.travis-ci.com/" target="_blank" rel="noopener">cdn.travis-ci.com</a></li>
<li><a href="http://cdn.travis-ci.org/" target="_blank" rel="noopener">cdn.travis-ci.org</a></li>
<li><a href="http://ci.appveyor.com/" target="_blank" rel="noopener">ci.appveyor.com</a></li>
<li><a href="http://circleci.com/" target="_blank" rel="noopener">circleci.com</a></li>
<li><a href="http://cla.opensource.microsoft.com/" target="_blank" rel="noopener">cla.opensource.microsoft.com</a></li>
<li><a href="http://codacy.com/" target="_blank" rel="noopener">codacy.com</a></li>
<li><a href="http://codeclimate.com/" target="_blank" rel="noopener">codeclimate.com</a></li>
<li><a href="http://codecov.io/" target="_blank" rel="noopener">codecov.io</a></li>
<li><a href="http://coveralls.io/" target="_blank" rel="noopener">coveralls.io</a></li>
<li><a href="http://david-dm.org/" target="_blank" rel="noopener">david-dm.org</a></li>
<li><a href="http://deepscan.io/" target="_blank" rel="noopener">deepscan.io</a></li>
<li><a href="http://dev.azure.com/" target="_blank" rel="noopener">dev.azure.com</a></li>
<li><a href="http://gemnasium.com/" target="_blank" rel="noopener">gemnasium.com</a></li>
<li><a href="http://githost.io/" target="_blank" rel="noopener">githost.io</a></li>
<li><a href="http://gitlab.com/" target="_blank" rel="noopener">gitlab.com</a></li>
<li><a href="http://godoc.org/" target="_blank" rel="noopener">godoc.org</a></li>
<li><a href="http://goreportcard.com/" target="_blank" rel="noopener">goreportcard.com</a></li>
<li><a href="http://img.shields.io/" target="_blank" rel="noopener">img.shields.io</a></li>
<li><a href="http://isitmaintained.com/" target="_blank" rel="noopener">isitmaintained.com</a></li>
<li><a href="http://marketplace.visualstudio.com/" target="_blank" rel="noopener">marketplace.visualstudio.com</a></li>
<li><a href="http://nodesecurity.io/" target="_blank" rel="noopener">nodesecurity.io</a></li>
<li><a href="http://opencollective.com/" target="_blank" rel="noopener">opencollective.com</a></li>
<li><a href="http://snyk.io/" target="_blank" rel="noopener">snyk.io</a></li>
<li><a href="http://travis-ci.com/" target="_blank" rel="noopener">travis-ci.com</a></li>
<li><a href="http://travis-ci.org/" target="_blank" rel="noopener">travis-ci.org</a></li>
<li><a href="http://visualstudio.com/" target="_blank" rel="noopener">visualstudio.com</a></li>
<li><a href="http://vsmarketplacebadge.apphb.com/" target="_blank" rel="noopener">vsmarketplacebadge.apphb.com</a></li>
<li><a href="http://www.bithound.io/" target="_blank" rel="noopener">www.bithound.io</a></li>
<li><a href="http://www.versioneye.com/" target="_blank" rel="noopener">www.versioneye.com</a></li>
</ul>
<p>å¦‚æœä½ æƒ³ç”¨å…¶ä»–æ ‡å¿—ï¼Œæ¬¢è¿åœ¨æˆ‘ä»¬çš„Github <a href="https://github.com/Microsoft/vscode/issues" target="_blank" rel="noopener">issue</a>é¡µé¢æä¾›å»ºè®®ã€‚</p>
<h3 id="æ•´åˆæ’ä»¶é…ç½®"><a href="#æ•´åˆæ’ä»¶é…ç½®" class="headerlink" title="æ•´åˆæ’ä»¶é…ç½®"></a>æ•´åˆæ’ä»¶é…ç½®</h3><hr>
<p><code>yo code</code>å¯ä»¥å¸®ä½ è½»æ¾åœ°æ‰“åŒ…TextMate ä¸»é¢˜ï¼Œç€è‰²å™¨ï¼Œä»£ç ç‰‡æ®µå’Œåˆ›å»ºæ–°æ’ä»¶ã€‚å½“ä½ è¿è¡Œäº†ç”Ÿæˆå™¨ï¼Œæ¯ä¸€æ¬¡é…ç½®éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå®Œæ•´ã€ç‹¬ç«‹çš„æ’ä»¶åŒ…ã€‚ä½†æ˜¯ï¼Œå°†å¤šä¸ªé…ç½®å†…å®¹æ•´åˆè¿›ä¸€ä¸ªæ’ä»¶ä¼šæ›´æ–¹ä¾¿ã€‚æ¯”å¦‚ï¼šä½ æƒ³è¦æ”¯æŒä¸€é—¨æ–°çš„è¯­è¨€ï¼Œä½ ä¼šå¸Œæœ›åŒæ—¶æä¾›è¯­æ³•é«˜äº®å’Œä»£ç ç‰‡æ®µï¼Œç”šè‡³è°ƒè¯•æ”¯æŒã€‚</p>
<p>ä¸ºäº†æ•´åˆæ’ä»¶é…ç½®ï¼Œç¼–è¾‘å·²æœ‰çš„<code>package.json</code>æ–‡ä»¶ï¼Œç„¶åæ·»åŠ æ–°çš„é…ç½®å†…å®¹ï¼Œå…³è”ç›¸å…³æ–‡ä»¶ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªåŒ…å«äº†LaTexè¯­è¨€å®šä¹‰ï¼ˆè¯­è¨€æ ‡è¯†ç¬¦å’Œç›¸å…³æ–‡ä»¶æ’ä»¶ï¼‰ï¼Œï¼ˆè¯­æ³•ï¼‰ç€è‰²å™¨å’Œä»£ç ç‰‡æ®µã€‚</p>
<pre><code>{
    "name": "language-latex",
    "description": "LaTex Language Support",
    "version": "0.0.1",
    "publisher": "someone",
    "engines": {
        "vscode": "0.10.x"
    },
    "categories": [
        "Programming Languages",
        "Snippets"
    ],
    "contributes": {
        "languages": [{
            "id": "latex",
            "aliases": ["LaTeX", "latex"],
            "extensions": [".tex"]
        }],
        "grammars": [{
            "language": "latex",
            "scopeName": "text.tex.latex",
            "path": "./syntaxes/latex.tmLanguage.json"
        }],
        "snippets": [{
            "language": "latex",
            "path": "./snippets/snippets.json"
        }]
    }
}</code></pre><p>æ³¨æ„æ’ä»¶çš„<code>categories</code>å­—æ®µç°åœ¨åŒ…å«äº†<code>Programming Languages</code>å’Œ<code>Snippets</code>ï¼Œä»¥ä¾¿ç”¨æˆ·åœ¨å¸‚åœºä¸­æ‰¾åˆ°è¿™ä¸ªæ’ä»¶ã€‚</p>
<p>?&gt; <strong>å°è´´å£«ï¼š</strong> æ•´åˆå¥½çš„é…ç½®æ–‡ä»¶åº”è¯¥ä½¿ç”¨åŒæ ·çš„æ ‡è¯†ç¬¦ã€‚åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œæ‰€æœ‰çš„æ ‡è¯†ç¬¦éƒ½ç”¨äº†â€latexâ€ã€‚è¿™æ ·VS Code æ‰çŸ¥é“ï¼ˆè¯­æ³•ï¼‰ç€è‰²å™¨å’Œä»£ç ç‰‡æ®µæ˜¯ä¸ºLaTeXè¯­è¨€å‡†å¤‡çš„ï¼Œå½“ç¼–è¾‘LaTeXæ–‡ä»¶çš„æ—¶å€™æ‰ä¼šæ¿€æ´»æ’ä»¶ã€‚</p>
<h3 id="æ’ä»¶åŒ…"><a href="#æ’ä»¶åŒ…" class="headerlink" title="æ’ä»¶åŒ…"></a>æ’ä»¶åŒ…</h3><hr>
<p>ä½ ä¹Ÿå¯ä»¥å°†å‡ ä¸ªç‹¬ç«‹çš„æ’ä»¶æ‰“åŒ…æˆä¸€ä¸ªâ€œæ’ä»¶åŒ…â€ã€‚æ’ä»¶åŒ…æ˜¯æŒ‡ä¸€ç»„å¯ä»¥æ— å†²çªå®‰è£…çš„æ’ä»¶é›†åˆã€‚ç„¶åä½ å°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æŠŠæ’ä»¶åˆ†äº«ç»™å…¶ä»–äººï¼Œæˆ–è€…ä¸ºç‰¹å®šæƒ…å¢ƒåˆ›å»ºä¸€ç»„æ’ä»¶ï¼Œæ¯”å¦‚å¸®åŠ©PHPå·¥ç¨‹å¸ˆåœ¨VS Codeä¸­å¿«é€Ÿä¸Šæ‰‹ã€‚</p>
<p>ä¸€ä¸ªæ’ä»¶åŒ…å¯ä»¥åŒ…å«å…¶ä»–æ’ä»¶ï¼Œæˆ–è€…ç›´æ¥å°†å…¶æ‰“åŒ…åˆ°è‡ªèº«ä¸­ã€‚<code>package.json</code>ä¸­çš„<code>extensionDependencies</code>æè¿°äº†è¿™é¡¹ä¾èµ–ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªPHPæ’ä»¶åŒ…ï¼Œå…¶ä¸­åŒ…å«äº†è°ƒè¯•å™¨ï¼Œè¯­è¨€æœåŠ¡å™¨å’Œæ ¼å¼åŒ–å™¨ã€‚</p>
<pre><code>{
  "extensionDependencies": [
      "felixfbecker.php-debug",
      "felixfbecker.php-intellisense",
      "Kasik96.format-php"
  ]
}</code></pre><p>å½“å®‰è£…æ’ä»¶åŒ…çš„æ—¶å€™ï¼ŒVS Codeä¼šè¿åŒå®ƒçš„æ’ä»¶ä¾èµ–ä¸€èµ·å®‰è£…ã€‚</p>
<p>æ’ä»¶åŒ…éœ€è¦ä½¿ç”¨å¸‚åœºåˆ†ç±»ä¸­çš„<code>Extension Packs</code>ï¼š</p>
<pre><code>{
  "categories": [
      "Extension Packs"
  ],
}</code></pre><p>æƒ³è¦åˆ›å»ºæ’ä»¶åŒ…ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>yo code</code>Yeomanç”Ÿæˆå™¨ã€‚å¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨ä½ VS Codeä¸­å·²æœ‰çš„ä¸€äº›æ’ä»¶ç”Ÿæˆæ’ä»¶åŒ…ï¼Œç„¶åä½ å°±å¯ä»¥å¾ˆè½»æ¾åœ°ä»å–œæ¬¢çš„æ’ä»¶ä¸­åˆ›å»ºå‡ºæ’ä»¶åŒ…ï¼Œå†å‘å¸ƒåˆ°å¸‚åœºä¸Šæˆ–è€…åˆ†äº«ç»™å…¶ä»–ç”¨æˆ·ã€‚</p>
<p>æ’ä»¶åŒ…ä¸åº”è¯¥æœ‰é™¤äº†å®ƒå†…éƒ¨æ‰“åŒ…ä¹‹å¤–çš„å…¶ä»–æ’ä»¶åŒ…ï¼Œæ‰“åŒ…å¥½çš„æ’ä»¶åŒ…åº”è¯¥æ˜¯åœ¨æ•´ä¸ªåŒ…é‡Œé¢å¯ä»¥ç‹¬ç«‹ç®¡ç†çš„ã€‚å¦‚æœä¸€ä¸ªæ’ä»¶éå¸¸ä¾èµ–å¦å¤–ä¸€ä¸ªæ’ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªä¾èµ–æ€§åº”è¯¥åœ¨<code>extensionDependencies</code>ä¸­å£°æ˜ã€‚</p>
<h4 id="æ’ä»¶å¸è½½é’©å­"><a href="#æ’ä»¶å¸è½½é’©å­" class="headerlink" title="æ’ä»¶å¸è½½é’©å­"></a>æ’ä»¶å¸è½½é’©å­</h4><hr>
<p>å¦‚æœä½ çš„æ’ä»¶åœ¨åˆ é™¤æ—¶éœ€è¦åšä¸€äº›æ¸…ç†å·¥ä½œï¼Œä½ å¯ä»¥åœ¨package.jsonä¸­çš„å¸è½½é’©å­<code>vscode:uninstall</code>ä¸­æ³¨å†Œä¸€ä¸ª<code>node</code>è„šæœ¬ã€‚</p>
<pre><code>{
  "scripts": {
    "vscode:uninstall": "node ./out/src/lifecycle"
  }
}</code></pre><p>è¿™ä¸ªè„šæœ¬ä¼šåœ¨æ’ä»¶å®Œå…¨å¸è½½ä¹‹åæ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯æ’ä»¶å®Œå…¨å¸è½½ä¹‹åâ€”â€”VS Codeé‡è½½ï¼ˆå…³é—­ç„¶åå¯åŠ¨ï¼‰ä¹‹åæ‰§è¡Œã€‚</p>
<p>!&gt; æ³¨æ„ï¼šåªæ”¯æŒNode.jsè„šæœ¬</p>
<p>ä¸‹é¢æœ‰å‡ ä¸ªnpmjsçš„Node.js æ¨¡å—ï¼Œå¯ä»¥å¸®ä½ å®ç°VS Codeæ’ä»¶ã€‚ä½ å¯ä»¥åœ¨æ’ä»¶çš„<code>dependencies</code>éƒ¨åˆ†åŒ…å«è¿›å»ã€‚</p>
<ul>
<li><a href="https://www.npmjs.com/package/vscode-nls" target="_blank" rel="noopener">vscode-nls</a> - æ”¯æŒæ’ä»¶çš„å›½é™…åŒ–å’Œæœ¬åœ°åŒ–ã€‚</li>
<li><a href="https://www.npmjs.com/package/vscode-uri" target="_blank" rel="noopener">vscode-uri</a> - ä½¿ç”¨VS Codeå®ç°çš„URIã€‚</li>
<li><a href="https://www.npmjs.com/package/jsonc-parser" target="_blank" rel="noopener">jsonc-parser</a> - å…è®¸å¸¦æ³¨é‡Šçš„JSONæ£€æŸ¥å™¨ã€‚</li>
<li><a href="https://www.npmjs.com/package/request-light" target="_blank" rel="noopener">request-light</a> - å¸¦ä»£ç†æ”¯æŒçš„è½»é‡çº§Node.jsè¯·æ±‚åº“ã€‚</li>
<li><a href="https://www.npmjs.com/package/vscode-extension-telemetry" target="_blank" rel="noopener">vscode-extension</a> - æä¾›VS Code æ’ä»¶çš„æŒç»­é¥æµ‹ç›‘æ§æŠ¥å‘Šã€‚</li>
<li><a href="https://www.npmjs.com/package/vscode-languageclient" target="_blank" rel="noopener">vscode-languageclient</a> - è½»æ¾åœ°å°†è¯­è¨€æœåŠ¡å™¨ç»‘å®šåˆ°è¯­è¨€æœåŠ¡å™¨åè®®ä¸Šã€‚</li>
</ul>
<h2 id="å†…ç½®å‘½ä»¤"><a href="#å†…ç½®å‘½ä»¤" class="headerlink" title="å†…ç½®å‘½ä»¤"></a>å†…ç½®å‘½ä»¤</h2><p>è¿™ç¯‡æ–‡æ¡£åˆ—å‡ºäº†å¯èƒ½éœ€è¦ä¸<code>vscode.commands.executeCommand</code>ä¸€èµ·ä½¿ç”¨çš„å‘½ä»¤é›†åˆ.</p>
<p>é˜…è¯»å‘½ä»¤æŒ‡å—ä»¥äº†è§£å¦‚ä½•ä½¿ç”¨<code>commands</code>API.</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¦‚ä½•åœ¨ VS Code ä¸­æ‰“å¼€æ–°æ–‡ä»¶å¤¹çš„ä¾‹å­:</p>
<pre><code>let uri = Uri.file('/some/path/to/folder');
let success = await commands.executeCommand('vscode.openFolder', uri);</code></pre><h3 id="å‘½ä»¤-2"><a href="#å‘½ä»¤-2" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h3><p><code>vscode.executeWorkspaceSymbolProvider</code> - æ‰§è¡Œå·¥ä½œåŒºæ‰€æœ‰çš„<strong>ç¬¦å·</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>query</em> - æœç´¢å…³é”®è¯</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºå…·æœ‰SymbolInformationå’ŒDocumentSymbolçš„å®ä¾‹æ•°ç»„.</li>
</ul>
<p><code>vscode.executeDefinitionProvider</code> - æ‰§è¡Œæ‰€æœ‰çš„<strong>å®šä¹‰</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>position</em> - æŸä¸ªç¬¦å·çš„ä½ç½®</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºLocationå®ä¾‹æ•°ç»„.</li>
</ul>
<p><code>vscode.executeDeclarationProvider</code> - æ‰§è¡Œæ‰€æœ‰çš„<strong>å£°æ˜</strong>ä¾›åº”å™¨å‡½æ•°.</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>position</em> - æŸä¸ªç¬¦å·çš„ä½ç½®</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºLocationå®ä¾‹æ•°ç»„.</li>
</ul>
<p><code>vscode.executeTypeDefinitionProvider</code> - æ‰§è¡Œæ‰€æœ‰çš„<strong>ç±»å‹å®šä¹‰</strong>ä¾›åº”å™¨å‡½æ•°.</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>position</em> - æŸä¸ªç¬¦å·çš„ä½ç½®</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºLocationå®ä¾‹æ•°ç»„.</li>
</ul>
<p><code>vscode.executeImplementationProvider</code> - æ‰§è¡Œæ‰€æœ‰çš„<strong>æ¥å£</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>position</em> - æŸä¸ªç¬¦å·çš„ä½ç½®</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºLocationå®ä¾‹æ•°ç»„</li>
</ul>
<p><code>vscode.executeHoverProvider</code> - æ‰§è¡Œæ‰€æœ‰çš„<strong>æ‚¬åœ</strong>ä¾›åº”å™¨å‡½æ•°.</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>position</em> - æŸä¸ªç¬¦å·çš„ä½ç½®</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºHoverå®ä¾‹æ•°ç»„</li>
</ul>
<p><code>vscode.executeDocumentHighlights</code> - æ‰§è¡Œ<strong>æ–‡æ¡£é«˜äº®</strong>ä¾›åº”å™¨å‡½æ•°.</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>position</em> - åœ¨æ–‡æ¡£ä¸­çš„ä½ç½®</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºDocumentHighlightå®ä¾‹æ•°ç»„</li>
</ul>
<p><code>vscode.executeReferenceProvider</code> - æ‰§è¡Œ<strong>å¼•ç”¨</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>position</em> - åœ¨æ–‡æ¡£ä¸­çš„ä½ç½®</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºLocationå®ä¾‹æ•°ç»„</li>
</ul>
<p><code>vscode.executeDocumentRenameProvider</code> - æ‰§è¡Œ<strong>é‡å‘½å</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>position</em> - åœ¨æ–‡æ¡£ä¸­çš„ä½ç½®</li>
<li><em>newName</em> - æ–°çš„ç¬¦å·åç§°</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºWorkspaceEdit</li>
</ul>
<p><code>vscode.executeSignatureHelpProvider</code> - æ‰§è¡Œ<strong>ç¬¦å·å¸®åŠ©</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>position</em> - åœ¨æ–‡æ¡£ä¸­çš„ä½ç½®</li>
<li><em>triggerCharacter</em> - (å¯é€‰çš„)å½“ç”¨æˆ·è¾“å…¥ç‰¹å®šå­—ç¬¦æ—¶ï¼ˆå¦‚<code>,</code> æˆ– <code>(</code>ï¼‰è§¦å‘ç¬¦å·å¸®åŠ©</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºSignatureHelp</li>
</ul>
<p><code>vscode.executeDocumentSymbolProvider</code> - æ‰§è¡Œ<strong>æ–‡æ¡£ç¬¦å·</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºå…·æœ‰SymbolInformationå’ŒDocumentSymbolçš„å®ä¾‹æ•°ç»„</li>
</ul>
<p><code>vscode.executeCompletionItemProvider</code> - æ‰§è¡Œ<strong>è‡ªåŠ¨è¡¥å…¨</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>position</em> - åœ¨æ–‡æ¡£ä¸­çš„ä½ç½®</li>
<li><em>triggerCharacter</em> - (å¯é€‰çš„)å½“ç”¨æˆ·è¾“å…¥è¯¸å¦‚(<code>,</code> <code>(</code>)ä¹‹ç±»çš„å­—ç¬¦æ—¶è§¦å‘</li>
<li><em>itemResolveCount</em> - (å¯é€‰çš„)è¡¥å…¨çš„ç¬¦å·æ•°é‡(æ•°ç›®å¤ªå¤§ä¼šå‡æ…¢è¡¥å…¨é€Ÿåº¦)</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºCompletionListå®ä¾‹</li>
</ul>
<p><code>vscode.executeCodeActionProvider</code> - æ‰§è¡Œ<strong>ä»£ç æ“ä½œå°ç¯æ³¡æç¤º</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>range</em> - åœ¨æ–‡æ¡£ä¸­çš„èŒƒå›´</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºCommandå®ä¾‹æ•°ç»„</li>
</ul>
<p><code>vscode.executeCodeLensProvider</code> - æ‰§è¡Œ<strong>CodeLens</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>itemResolveCount</em> - (å¯é€‰çš„)éœ€è¦è§£æçš„lensesæ•°é‡, æ•°ç›®å¤ªå¤§ä¼šå½±å“æ€§èƒ½</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºCodeLenså®ä¾‹æ•°ç»„</li>
</ul>
<p><code>vscode.executeFormatDocumentProvider</code> - æ‰§è¡Œ<strong>æ ¼å¼åŒ–æ–‡æ¡£</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>options</em> - é…ç½®é¡¹</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºTextEditsæ•°ç»„</li>
</ul>
<p><code>vscode.executeFormatRangeProvider</code> - æ‰§è¡Œ<strong>å±€éƒ¨æ ¼å¼åŒ–</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>range</em> - é™åˆ¶çš„èŒƒå›´</li>
<li><em>options</em> - é…ç½®é¡¹</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºTextEditsæ•°ç»„</li>
</ul>
<p><code>vscode.executeFormatOnTypeProvider</code> - æ‰§è¡Œ<strong>æ ¼å¼åŒ–æ–‡æ¡£</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>position</em> - åœ¨æ–‡æ¡£ä¸­çš„ä½ç½®</li>
<li><em>ch</em> - åœ¨è¾“å…¥æŸä¸ªå­—ç¬¦ä¹‹åè¿›è¡Œæ ¼å¼åŒ–</li>
<li><em>options</em> - é…ç½®é¡¹</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºTextEditsæ•°ç»„</li>
</ul>
<p><code>vscode.executeLinkProvider</code> - æ‰§è¡Œ<strong>æ–‡æ¡£é“¾æ¥</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºDocumentLinkå®ä¾‹æ•°ç»„</li>
</ul>
<p><code>vscode.executeDocumentColorProvider</code> - æ‰§è¡Œ<strong>æ–‡æ¡£é¢œè‰²</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>uri</em> - æ–‡æ¡£çš„Uri</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºColorInfomationå¯¹è±¡æ•°ç»„</li>
</ul>
<p><code>vscode.executeColorPresentationProvider</code> - æ‰§è¡Œ<strong>è‰²å½©å‘ˆç°</strong>ä¾›åº”å™¨å‡½æ•°</p>
<ul>
<li><em>color</em> - éœ€è¦å±•ç¤ºå¹¶æ’å…¥çš„é¢œè‰²</li>
<li><em>context</em> - ä¸Šä¸‹æ–‡å¯¹è±¡, åŒ…æ‹¬uriå’Œå½±å“èŒƒå›´</li>
<li><em>(returns)</em> - promiseå‡½æ•°, ä¸”å‚æ•°ä¸ºColorPresentationå¯¹è±¡æ•°ç»„</li>
</ul>
<p><code>vscode.openFolder</code> - åœ¨å½“å‰çª—å£æˆ–è€…æ–°çš„çª—å£æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å¤¹æˆ–è€…å·¥ä½œåŒº</p>
<ul>
<li><em>uri</em> - è¢«æ‰“å¼€çš„æ–‡ä»¶å¤¹æˆ–å·¥ä½œåŒºUri. å¦‚æœæœªæä¾›, ä¼šæ‰“å¼€ä¸€ä¸ªè¯¢é—®æç¤ºæ¡†</li>
<li><em>newWindow</em> - (å¯é€‰çš„)æ˜¯å¦åœ¨æ–°çª—å£æ‰“å¼€. é»˜è®¤åœ¨æœ¬çª—å£</li>
</ul>
<p>!&gt; <strong>æ³¨æ„ï¼š</strong> åœ¨å½“å‰çª—å£æ‰“å¼€, å¦‚æœæœªè®¾ç½®<code>newWindow = true</code>, ä¼šåœ¨æŒ‡å®šçš„å·¥ä½œåŒºæˆ–è€…æ–‡ä»¶å¤¹å¼€å¯æ–°çš„æ‹“å±•ä¸»æœºè¿›ç¨‹, å¹¶ä¸”å…³é—­å½“å‰æ‹“å±•ä¸»æœºè¿›ç¨‹.</p>
<p><code>vscode.diff</code> - åœ¨diffç¼–è¾‘å™¨ä¸­æ‰“å¼€æŒ‡å®šèµ„æºä»¥æ¯”è¾ƒå®ƒä»¬çš„å†…å®¹</p>
<ul>
<li><em>left</em> diffç¼–è¾‘å™¨å·¦è¾¹çš„æ–‡ä»¶</li>
<li><em>right</em> diffç¼–è¾‘å™¨å³è¾¹çš„æ–‡ä»¶</li>
<li><em>title</em> (å¯é€‰)diffç¼–è¾‘å™¨æ ‡é¢˜</li>
<li><em>options</em> (å¯é€‰)ç¼–è¾‘å™¨é…ç½®é¡¹, å‚è€ƒ<code>vscode.TextDocumentShowOptions</code></li>
</ul>
<p><code>vscode.open</code> - åœ¨ç¼–è¾‘å™¨æ‰“å¼€æŒ‡å®šæ–‡ä»¶</p>
<ul>
<li><em>resource</em> - è¦æ‰“å¼€çš„æ–‡ä»¶</li>
<li><em>columnOrOptions</em> - (å¯é€‰)å¯ä»¥æ˜¯è¦æ‰“å¼€çš„ç¼–è¾‘å™¨åˆ—ï¼Œä¹Ÿå¯ä»¥æ˜¯ç¼–è¾‘å™¨é€‰é¡¹ï¼Œå‚è€ƒ<code>vscode.TextDocumentShowOptions</code></li>
</ul>
<p>å¯ä»¥æ˜¯æ–‡æœ¬æ–‡ä»¶ã€äºŒè¿›åˆ¶æ–‡ä»¶ã€http(s) url. å¦‚æœéœ€è¦æ›´å¤šçš„é…ç½®é¡¹, ä½¿ç”¨<code>vscode.window.showTextDocument</code>ä»£æ›¿.</p>
<p><code>vscode.removeFromRecentlyOpened</code> - åœ¨æœ€è¿‘æ‰“å¼€çš„åˆ—è¡¨ä¸­ç§»é™¤ä¸€ä¸ªè·¯å¾„</p>
<ul>
<li><em>path</em> - è¢«ç§»é™¤çš„è·¯å¾„</li>
</ul>
<p><code>vscode.setEditorLayout</code> - è®¾ç½®ç¼–è¾‘å™¨å¸ƒå±€</p>
<ul>
<li><em>layout</em> - è¢«è®¾ç½®çš„å¸ƒå±€</li>
</ul>
<p>å¸ƒå±€æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¸¦æœ‰åˆå§‹å¸ƒå±€æ–¹å‘ï¼ˆå¯é€‰ï¼Œ0 = æ°´å¹³å¸ƒå±€ï¼Œ1 = å‚ç›´å¸ƒå±€ï¼‰ï¼Œè¿˜æœ‰ä¸€ä¸ªåŒ…å«ç¼–è¾‘å™¨ç»„çš„æ•°ç»„ã€‚æ¯ä¸ªç¼–è¾‘å™¨ç»„åˆæœ‰ä¸€ä¸ªå°ºå¯¸å’Œå¦ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æœ‰çŸ©å½¢å¸ƒå±€å’Œæ–¹å‘ä¿¡æ¯ã€‚å¦‚æœè®¾ç½®äº†ç¼–è¾‘å™¨ç»„çš„å¤§å°ï¼Œæ¯ä¸€è¡Œæˆ–è€…æ¯ä¸€åˆ—çš„æ€»å’Œå¿…é¡»ä¸º1ã€‚æ¯”å¦‚ä¸€ä¸ª2x2çš„ç½‘æ ¼ï¼š<code>{ orientation: 0, groups: [{ groups: [{}, {}], size: 0.5 }, { groups: [{}, {}], size: 0.5 }] }</code></p>
<p><code>cursorMove</code> - ç§»åŠ¨å…‰æ ‡åˆ°è§†å›¾çš„åˆç†ä½ç½®</p>
<ul>
<li><p><em>Cursor move argument object</em></p>
<p>å¯ä»¥ä¼ é€’çš„é”®å€¼å¯¹</p>
<ul>
<li><p>â€˜toâ€™: å¿…é€‰, é¼ æ ‡è¦ç§»åŠ¨åˆ°çš„åˆç†ä½ç½®</p>
<pre><code>'left', 'right', 'up', 'down'
'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'</code></pre></li>
<li><p>â€˜byâ€™: ç§»åŠ¨çš„å•ä½. é»˜è®¤æ ¹æ®â€™toâ€™æ¥è®¡ç®—.</p>
<pre><code>'line', 'wrappedLine', 'character', 'halfLine'</code></pre></li>
<li><p>â€˜valueâ€™: å•ä½æ­¥æ•°. é»˜è®¤ä¸ºâ€™1â€™.</p>
</li>
<li><p>â€˜selectâ€™: å¦‚æœä¸ºâ€™trueâ€™åˆ™ä¼šé€‰ä¸­. é»˜è®¤ä¸ºâ€™falseâ€™.</p>
</li>
</ul>
</li>
</ul>
<p><code>editorScroll</code> - ç¼–è¾‘å™¨æ»šåŠ¨æ–¹å‘</p>
<ul>
<li><p><em>Editor scroll argument object</em></p>
<p>å¯ä»¥ä¼ é€’çš„é”®å€¼å¯¹</p>
<ul>
<li><p>â€˜toâ€™: å¿…é¡»çš„. æ–¹å‘å€¼</p>
<pre><code>'up', 'down'</code></pre></li>
<li><p>â€˜byâ€™: ç§»åŠ¨çš„å•ä½. é»˜è®¤æ ¹æ®â€™toâ€™æ¥è®¡ç®—.</p>
<pre><code>'line', 'wrappedLine', 'page', 'halfPage'</code></pre></li>
<li><p>â€˜valueâ€™: å•ä½æ­¥æ•°. é»˜è®¤ä¸ºâ€™1â€™.</p>
</li>
<li><p>â€˜revealCursorâ€™: å¦‚æœä¸ºâ€™trueâ€™, åœ¨è¶…å‡ºæ»šåŠ¨è§†å›¾ä¹Ÿä¼šæ˜¾ç¤ºå…‰æ ‡.</p>
</li>
</ul>
</li>
</ul>
<p><code>revealLine</code> - åœ¨ç»™å®šçš„ä½ç½®æ˜¾ç¤ºè¡Œ</p>
<ul>
<li><p><em>Reveal line argument object</em></p>
<p>å¯ä»¥ä¼ é€’çš„é”®å€¼å¯¹</p>
<ul>
<li><p>â€˜lineNumberâ€™: å¿…é¡»çš„. è¡Œå·</p>
</li>
<li><p>â€˜atâ€™: æ˜¾ç¤ºçš„åˆç†ä½ç½®</p>
<pre><code>'top', 'center', 'bottom'</code></pre></li>
</ul>
</li>
</ul>
<p><code>editor.unfold</code> - å±•å¼€ç¼–è¾‘å™¨å†…å®¹</p>
<ul>
<li><p><em>Unfold editor argument</em></p>
<p>å¯ä»¥ä¼ é€’çš„é”®å€¼å¯¹</p>
<ul>
<li>â€˜levelsâ€™: å±•å¼€çš„å±‚çº§æ•°. é»˜è®¤ä¸º 1.</li>
<li>â€˜directionâ€™: å¦‚æœæ˜¯â€™upâ€™, å‘ä¸Šå±•å¼€, å¦åˆ™å‘ä¸‹å±•å¼€</li>
<li>â€˜selectionLinesâ€™: è¦ä½¿ç”¨å±•å¼€åŠŸèƒ½çš„èµ·å§‹è¡Œï¼ˆä»0èµ·ï¼‰ã€‚å¦‚æœä¸è®¾ç½®ï¼Œå°±ä¼šä½¿ç”¨å½“å‰æ¿€æ´»çš„è¡Œï¼ˆé€‰ä¸­åŒºï¼‰.</li>
</ul>
</li>
</ul>
<p><code>editor.fold</code> - æŠ˜å ç¼–è¾‘å™¨å†…å®¹</p>
<ul>
<li><p><code>Fold editor argument</code></p>
<p>å¯ä»¥ä¼ é€’çš„é”®å€¼å¯¹</p>
<ul>
<li>â€˜levelsâ€™: æŠ˜å çš„çš„å±‚çº§æ•°ã€‚é»˜è®¤ä¸º1</li>
<li>â€˜directionâ€™: å¦‚æœè®¾ç½®ä¸ºâ€™upâ€™ï¼Œå‘ä¸ŠæŠ˜å ï¼Œä¸ç„¶å‘ä¸‹æŠ˜å </li>
<li>â€˜selectionLinesâ€™: è¦ä½¿ç”¨æŠ˜å åŠŸèƒ½çš„èµ·å§‹è¡Œï¼ˆä»0èµ·ï¼‰ã€‚å¦‚æœä¸è®¾ç½®ï¼Œå°±ä¼šä½¿ç”¨å½“å‰æ¿€æ´»çš„è¡Œï¼ˆé€‰ä¸­åŒºï¼‰</li>
</ul>
</li>
</ul>
<p><code>editor.action.showReferences</code> - åœ¨æ–‡ä»¶ä¸­æ˜¾ç¤ºå¼•ç”¨</p>
<ul>
<li><em>uri</em> - è¦æ˜¾ç¤ºå¼•ç”¨çš„æ–‡ä»¶</li>
<li><em>position</em> - è¦æ˜¾ç¤ºçš„ä½ç½®</li>
<li><em>locations</em> - ä½ç½®æ•°ç»„</li>
</ul>
<p><code>moveActiveEditor</code> - é€šè¿‡æ ‡ç­¾æˆ–è€…ç»„ç§»åŠ¨æ¿€æ´»çš„ç¼–è¾‘å™¨</p>
<ul>
<li><p><em>Active editor move argument</em></p>
<p>å‚æ•°</p>
<ul>
<li>â€˜toâ€™: String. ç›®æ ‡ä½ç½®</li>
<li>â€˜byâ€™: String. ç§»åŠ¨çš„å•ä½(é€šè¿‡æ ‡ç­¾æˆ–è€…ç»„).</li>
<li>â€˜valueâ€™: Number. è¦ç§»åŠ¨çš„ä½ç½®æˆ–è€…ç»å¯¹ä½ç½®å€¼</li>
</ul>
</li>
</ul>
<h3 id="ç®€å•å‘½ä»¤"><a href="#ç®€å•å‘½ä»¤" class="headerlink" title="ç®€å•å‘½ä»¤"></a>ç®€å•å‘½ä»¤</h3><p>ç®€å•çš„å‘½ä»¤ä¸éœ€è¦å‚æ•°, å¯ä»¥åœ¨<code>keybindings.json</code>çš„<strong>é”®ç›˜å¿«æ·æ–¹å¼</strong>åˆ—è¡¨ä¸­æ‰¾åˆ°. åœ¨æ–‡ä»¶åº•éƒ¨çš„æ³¨é‡Šå—ä¸­åˆ—å‡ºäº†æœªç»‘å®šçš„å‘½ä»¤.</p>
<p>æŸ¥çœ‹<code>keybindings.json</code>:</p>
<p>Windows, Linux: <strong>æ–‡ä»¶</strong> &gt; <strong>é¦–é€‰é¡¹</strong> &gt; <strong>é”®ç›˜å¿«æ·æ–¹å¼</strong> &gt; <code>keybindings.json</code></p>
<p>macOS: <strong>ç¼–ç </strong> &gt; <strong>é¦–é€‰é¡¹</strong> &gt; <strong>é”®ç›˜å¿«æ·æ–¹å¼</strong> &gt; <code>keybindings.json</code></p>
<h2 id="ä¸»é¢˜è‰²å½©"><a href="#ä¸»é¢˜è‰²å½©" class="headerlink" title="ä¸»é¢˜è‰²å½©"></a>ä¸»é¢˜è‰²å½©</h2><p>å¯ä»¥é€šè¿‡<a href="https://code.visualstudio.com/docs/getstarted/settings" target="_blank" rel="noopener">ç”¨æˆ·è®¾ç½®</a>çš„<code>workbench.colorCustomizations</code>é…ç½®é¡¹ï¼Œå®šåˆ¶Visual Studio Codeçš„<a href="https://code.visualstudio.com/docs/getstarted/themes" target="_blank" rel="noopener">è‰²å½©ä¸»é¢˜</a>ã€‚</p>
<pre><code>{
  "workbench.colorCustomizations": {
    "activityBar.background": "#00AA00"
  }
}</code></pre><p>!&gt; <strong>æ³¨æ„</strong>: å¦‚æœä½ æƒ³ç”¨ç°æˆçš„é¢œè‰²ä¸»é¢˜çš„è¯ï¼Œé€šè¿‡<strong>é¦–é€‰é¡¹: é¢œè‰²ä¸»é¢˜</strong>çš„ä¸‹æ‹‰èœå•é€‰å–å³å¯(Ctrl+K Ctrl+T)ï¼Œå‚é˜…<a href="https://code.visualstudio.com/docs/getstarted/themes" target="_blank" rel="noopener">è‰²å½©ä¸»é¢˜</a>ã€‚</p>
<h3 id="é¢œè‰²æ ¼å¼"><a href="#é¢œè‰²æ ¼å¼" class="headerlink" title="é¢œè‰²æ ¼å¼"></a>é¢œè‰²æ ¼å¼</h3><hr>
<p>å¯ä»¥ä½¿ç”¨RGBAæ¥å®šä¹‰è‰²å€¼ã€‚åŒæ ·ï¼Œä¹Ÿæ”¯æŒåå…­è¿›åˆ¶è¡¨ç¤ºæ³•: <code>#RGB</code>ï¼Œ<code>#RGBA</code>ï¼Œ<code>#RRGGBB</code>ï¼Œ<code>#RRGGBBAA</code>ã€‚R(çº¢)ï¼ŒG(ç»¿)ï¼ŒB(è“)ï¼ŒA(é˜¿å°”æ³•)æ˜¯ä¸€ä¸ªåå…­è¿›åˆ¶å­—ç¬¦(0-9ï¼Œa-fï¼ŒA-F)ã€‚<code>#RRGGBB</code>å’Œ<code>#RRGGBBAA</code>åˆ†åˆ«å¯ä»¥ç®€å†™ä¸º<code>#RGB</code>å’Œ<code>#RGBA</code>ã€‚æ¯”å¦‚ï¼Œ<code>#ee3355ff</code>å’Œ<code>#e35f</code>æ˜¯ä¸€æ ·çš„æ•ˆæœã€‚</p>
<p>å¦‚æœæ²¡æœ‰å®šä¹‰alphaå€¼ï¼Œé‚£ä¹ˆå®ƒçš„é»˜è®¤å€¼æ˜¯<code>ff</code>(ä¸é€æ˜ï¼Œæ²¡æœ‰é€æ˜åº¦)ã€‚åä¹‹ï¼Œå¦‚æœè®¾ä¸º<code>00</code>ï¼Œåˆ™å®Œå…¨é€æ˜ã€‚</p>
<p>ä¸€äº›é¢œè‰²åº”è¯¥è®¾ç½®æˆé€æ˜çš„ï¼Œä»¥å…é®æŒ¡å…¶ä»–æ³¨é‡Šçš„è§†çº¿ã€‚æŸ¥çœ‹é¢œè‰²æè¿°æ¥äº†è§£å“ªäº›é¢œè‰²åº”è¯¥ä½¿ç”¨è¿™ä¸ªè§„åˆ™ã€‚</p>
<h3 id="å¯¹æ¯”è‰²"><a href="#å¯¹æ¯”è‰²" class="headerlink" title="å¯¹æ¯”è‰²"></a>å¯¹æ¯”è‰²</h3><hr>
<p>ä¸€èˆ¬ç”¨äºé«˜å¯¹æ¯”åº¦çš„ä¸»é¢˜ã€‚é€šè¿‡ç»™UIé¡¹æ·»åŠ é¢å¤–çš„è¾¹æ¡†æ¥å¢å¼ºå¯¹æ¯”åº¦ã€‚</p>
<ul>
<li><code>contrastActiveBorder</code>: åœ¨æ´»åŠ¨å…ƒç´ å‘¨å›´é¢å¤–çš„ä¸€å±‚è¾¹æ¡†ï¼Œç”¨æ¥æé«˜å¯¹æ¯”åº¦ä»è€ŒåŒºåˆ«å…¶ä»–å…ƒç´ </li>
<li><code>contrastBorder</code>: åœ¨å…ƒç´ å‘¨å›´é¢å¤–çš„ä¸€å±‚è¾¹æ¡†ï¼Œç”¨æ¥æé«˜å¯¹æ¯”åº¦ä»è€ŒåŒºåˆ«å…¶ä»–å…ƒç´ </li>
</ul>
<h3 id="åŸºè‰²"><a href="#åŸºè‰²" class="headerlink" title="åŸºè‰²"></a>åŸºè‰²</h3><hr>
<ul>
<li><code>focusBorder</code>: ç„¦ç‚¹å…ƒç´ çš„æ•´ä½“è¾¹æ¡†é¢œè‰²ã€‚æ­¤é¢œè‰²ä»…åœ¨ä¸è¢«å…¶ä»–ç»„ä»¶è¦†ç›–æ—¶é€‚ç”¨</li>
<li><code>foreground</code>: æ•´ä½“å‰æ™¯è‰²ã€‚æ­¤é¢œè‰²ä»…åœ¨ä¸è¢«ç»„ä»¶è¦†ç›–æ—¶é€‚ç”¨</li>
<li><code>widget.shadow</code>: ç¼–è¾‘å™¨å†…å°ç»„ä»¶ï¼ˆå¦‚æŸ¥æ‰¾/æ›¿æ¢ï¼‰çš„é˜´å½±é¢œè‰²</li>
<li><code>selection.background</code>: å·¥ä½œå°æ‰€é€‰æ–‡æœ¬çš„èƒŒæ™¯é¢œè‰²ï¼ˆä¾‹å¦‚è¾“å…¥å­—æ®µæˆ–æ–‡æœ¬åŒºåŸŸï¼‰ã€‚æ³¨æ„ï¼Œæœ¬è®¾ç½®ä¸é€‚ç”¨äºç¼–è¾‘å™¨</li>
<li><code>descriptionForeground</code>: æä¾›å…¶ä»–ä¿¡æ¯çš„è¯´æ˜æ–‡æœ¬çš„å‰æ™¯è‰²ï¼Œä¾‹å¦‚æ ‡ç­¾æ–‡æœ¬</li>
<li><code>errorForeground</code>: é”™è¯¯ä¿¡æ¯çš„å…¨å±€å‰æ™¯è‰²ã€‚æ­¤é¢œè‰²ä»…åœ¨ä¸è¢«ç»„ä»¶è¦†ç›–æ—¶é€‚ç”¨</li>
</ul>
<h3 id="æ–‡æœ¬é¢œè‰²"><a href="#æ–‡æœ¬é¢œè‰²" class="headerlink" title="æ–‡æœ¬é¢œè‰²"></a>æ–‡æœ¬é¢œè‰²</h3><hr>
<p>æ–‡æœ¬æ–‡æ¡£ä¸­çš„é¢œè‰²ï¼Œæ¯”å¦‚æ¬¢è¿é¡µ</p>
<ul>
<li><code>textBlockQuote.background</code>: æ–‡æœ¬ä¸­å—å¼•ç”¨çš„èƒŒæ™¯é¢œè‰²</li>
<li><code>textBlockQuote.border</code>: æ–‡æœ¬ä¸­å—å¼•ç”¨çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>textCodeBlock.background</code>: æ–‡æœ¬ä¸­ä»£ç å—çš„èƒŒæ™¯é¢œè‰²</li>
<li><code>textLink.activeForeground</code>: é¼ æ ‡ç‚¹å‡»åæˆ–æ‚¬åœæ—¶é“¾æ¥çš„å‰æ™¯è‰²</li>
<li><code>textLink.foreground</code>: æ–‡æœ¬ä¸­é“¾æ¥çš„å‰æ™¯è‰²</li>
<li><code>textPreformat.foreground</code>: é¢„æ ¼å¼åŒ–æ–‡æœ¬æ®µçš„å‰æ™¯è‰²</li>
<li><code>textSeparator.foreground</code>: æ–‡å­—åˆ†éš”ç¬¦çš„é¢œè‰²</li>
</ul>
<h3 id="æŒ‰é’®æ§ä»¶"><a href="#æŒ‰é’®æ§ä»¶" class="headerlink" title="æŒ‰é’®æ§ä»¶"></a>æŒ‰é’®æ§ä»¶</h3><hr>
<p>æŒ‰é’®å°ç»„ä»¶çš„é¢œè‰²ï¼Œä¾‹å¦‚æ–°çª—å£çš„èµ„æºç®¡ç†å™¨ä¸­çš„<strong>æ‰“å¼€æ–‡ä»¶å¤¹</strong>æŒ‰é’®ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/fdca839786244af9139396c2b2debae5.png" alt=""></p>
<ul>
<li><code>button.background</code>: æŒ‰é’®èƒŒæ™¯è‰²</li>
<li><code>button.foreground</code>: æŒ‰é’®å‰æ™¯è‰²</li>
<li><code>button.hoverBackground</code>: é¼ æ ‡æ‚¬åœæ—¶æŒ‰é’®çš„èƒŒæ™¯é¢œè‰²</li>
</ul>
<h3 id="ä¸‹æ‹‰åˆ—è¡¨æ§ä»¶"><a href="#ä¸‹æ‹‰åˆ—è¡¨æ§ä»¶" class="headerlink" title="ä¸‹æ‹‰åˆ—è¡¨æ§ä»¶"></a>ä¸‹æ‹‰åˆ—è¡¨æ§ä»¶</h3><hr>
<p>ä¸‹æ‹‰åˆ—è¡¨å°éƒ¨ä»¶é¢œè‰²ï¼Œä¾‹å¦‚é›†æˆç»ˆç«¯å’Œè¾“å‡ºé¢æ¿ã€‚</p>
<p>!&gt; <strong>æ³¨æ„</strong>: macOSç›®å‰è¿˜ä¸èƒ½ç”¨è¯¥æ§ä»¶</p>
<p><img src="/images/loading.gif" data-original="../images/development/57abce62236de195297b321cb6b40ed6.png" alt=""></p>
<ul>
<li><code>dropdown.background</code>: ä¸‹æ‹‰åˆ—è¡¨èƒŒæ™¯è‰²</li>
<li><code>dropdown.listBackground</code>: ä¸‹æ‹‰åˆ—è¡¨èƒŒæ™¯è‰²</li>
<li><code>dropdown.border</code>: ä¸‹æ‹‰åˆ—è¡¨è¾¹æ¡†</li>
<li><code>dropdown.foreground</code>: ä¸‹æ‹‰åˆ—è¡¨å‰æ™¯è‰²</li>
</ul>
<h3 id="è¾“å…¥æ¡†æ§ä»¶"><a href="#è¾“å…¥æ¡†æ§ä»¶" class="headerlink" title="è¾“å…¥æ¡†æ§ä»¶"></a>è¾“å…¥æ¡†æ§ä»¶</h3><hr>
<p>è¾“å…¥æ¡†æ§ä»¶é¢œè‰²ï¼Œä¾‹å¦‚æœç´¢è§†å›¾ã€æœç´¢/æ›¿æ¢å¯¹è¯æ¡†ã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/1b268f4b2ea4ac481052a7b6889c9f83.png" alt=""></p>
<ul>
<li><code>input.background</code>: è¾“å…¥æ¡†èƒŒæ™¯è‰²</li>
<li><code>input.border</code>: è¾“å…¥æ¡†è¾¹æ¡†</li>
<li><code>input.foreground</code>: è¾“å…¥æ¡†å‰æ™¯è‰²</li>
<li><code>input.placeholderForeground</code>: è¾“å…¥æ¡†ä¸­å ä½ç¬¦çš„å‰æ™¯è‰²</li>
<li><code>inputOption.activeBorder</code>: è¾“å…¥å­—æ®µä¸­å·²æ¿€æ´»é€‰é¡¹çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>inputValidation.errorBackground</code>: è¾“å…¥éªŒè¯ç»“æœä¸ºé”™è¯¯çº§åˆ«æ—¶çš„èƒŒæ™¯è‰²</li>
<li><code>inputValidation.errorForeground</code>: è¾“å…¥éªŒè¯ç»“æœä¸ºé”™è¯¯çº§åˆ«æ—¶çš„å‰æ™¯è‰²</li>
<li><code>inputValidation.errorBorder</code>: ä¸¥é‡æ€§ä¸ºé”™è¯¯æ—¶è¾“å…¥éªŒè¯çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>inputValidation.infoBackground</code>: è¾“å…¥éªŒè¯ç»“æœä¸ºä¿¡æ¯çº§åˆ«æ—¶çš„èƒŒæ™¯è‰²</li>
<li><code>inputValidation.infoForeground</code>: è¾“å…¥éªŒè¯ç»“æœä¸ºä¿¡æ¯çº§åˆ«æ—¶çš„å‰æ™¯è‰²</li>
<li><code>inputValidation.infoBorder</code>: ä¸¥é‡æ€§ä¸ºä¿¡æ¯æ—¶è¾“å…¥éªŒè¯çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>inputValidation.warningBackground</code>: ä¸¥é‡æ€§ä¸ºè­¦å‘Šæ—¶è¾“å…¥éªŒè¯çš„èƒŒæ™¯è‰²</li>
<li><code>inputValidation.warningForeground</code>: è¾“å…¥éªŒè¯ç»“æœä¸ºè­¦å‘Šçº§åˆ«æ—¶çš„å‰æ™¯è‰²</li>
<li><code>inputValidation.warningBorder</code>: ä¸¥é‡æ€§ä¸ºè­¦å‘Šæ—¶è¾“å…¥éªŒè¯çš„è¾¹æ¡†é¢œè‰²</li>
</ul>
<h3 id="æ»šåŠ¨æ¡æ§ä»¶"><a href="#æ»šåŠ¨æ¡æ§ä»¶" class="headerlink" title="æ»šåŠ¨æ¡æ§ä»¶"></a>æ»šåŠ¨æ¡æ§ä»¶</h3><hr>
<ul>
<li><code>scrollbar.shadow</code>: è§†å›¾æ»šåŠ¨åï¼Œæ»šåŠ¨æ¡çš„é˜´å½±</li>
<li><code>scrollbarSlider.activeBackground</code>: ç‚¹å‡»æ»šåŠ¨æ¡æ»‘å—åçš„èƒŒæ™¯è‰²</li>
<li><code>scrollbarSlider.background</code>: æ»šåŠ¨æ¡æ»‘å—èƒŒæ™¯è‰²</li>
<li><code>scrollbarSlider.hoverBackground</code>: é¼ æ ‡æ‚¬åœæ»šåŠ¨æ¡æ»‘å—æ—¶çš„èƒŒæ™¯è‰²</li>
</ul>
<h3 id="å¾½ç« "><a href="#å¾½ç« " class="headerlink" title="å¾½ç« "></a>å¾½ç« </h3><hr>
<p>Badge æ˜¯å°å‹çš„ä¿¡æ¯æ ‡ç­¾ï¼Œå¦‚è¡¨ç¤ºæœç´¢ç»“æœæ•°é‡çš„æ ‡ç­¾</p>
<ul>
<li><code>badge.foreground</code>: Badgeå‰æ™¯è‰²</li>
<li><code>badge.background</code>: BadgeèƒŒæ™¯è‰²</li>
</ul>
<h3 id="è¿›åº¦æ¡"><a href="#è¿›åº¦æ¡" class="headerlink" title="è¿›åº¦æ¡"></a>è¿›åº¦æ¡</h3><hr>
<ul>
<li><code>progressBar.background</code>: è¡¨ç¤ºé•¿æ—¶é—´æ“ä½œçš„è¿›åº¦æ¡çš„èƒŒæ™¯è‰²</li>
</ul>
<h3 id="åˆ—è¡¨å’Œæ ‘"><a href="#åˆ—è¡¨å’Œæ ‘" class="headerlink" title="åˆ—è¡¨å’Œæ ‘"></a>åˆ—è¡¨å’Œæ ‘</h3><hr>
<p>åˆ—è¡¨å’Œæ ‘çš„è‰²å½©ï¼Œä¾‹å¦‚èµ„æºç®¡ç†å™¨ã€‚æ¿€æ´»çš„åˆ—è¡¨/æ ‘å…·æœ‰é”®ç›˜ç„¦ç‚¹ï¼Œåä¹‹åˆ™æ²¡æœ‰ã€‚</p>
<ul>
<li><code>list.activeSelectionBackground</code>: æ¿€æ´»åˆ—è¡¨/æ ‘æ—¶å·²é€‰é¡¹çš„èƒŒæ™¯è‰²</li>
<li><code>list.activeSelectionForeground</code>: åˆ—è¡¨/æ ‘æ¿€æ´»æ—¶å·²é€‰é¡¹çš„å‰æ™¯è‰²</li>
<li><code>list.dropBackground</code>: ä½¿ç”¨é¼ æ ‡ç§»åŠ¨åˆ—è¡¨é¡¹æ—¶ï¼Œåˆ—è¡¨/æ ‘çš„èƒŒæ™¯é¢œè‰²</li>
<li><code>list.focusBackground</code>: åˆ—è¡¨/æ ‘æ¿€æ´»æ—¶ç„¦ç‚¹é¡¹çš„èƒŒæ™¯è‰²</li>
<li><code>list.focusForeground</code>: åˆ—è¡¨/æ ‘æ¿€æ´»æ—¶ç„¦ç‚¹é¡¹çš„å‰æ™¯è‰²</li>
<li><code>list.highlightForeground</code>: åœ¨åˆ—è¡¨æˆ–æ ‘ä¸­æœç´¢æ—¶ï¼Œå…¶ä¸­åŒ¹é…å†…å®¹çš„é«˜äº®é¢œè‰²</li>
<li><code>list.hoverBackground</code>: ä½¿ç”¨é¼ æ ‡ç§»åŠ¨é¡¹ç›®æ—¶ï¼Œåˆ—è¡¨æˆ–æ ‘çš„èƒŒæ™¯é¢œè‰²</li>
<li><code>list.hoverForeground</code>: é¼ æ ‡åœ¨é¡¹ç›®ä¸Šæ‚¬åœæ—¶ï¼Œåˆ—è¡¨æˆ–æ ‘çš„å‰æ™¯é¢œè‰²</li>
<li><code>list.inactiveSelectionBackground</code>: åˆ—è¡¨/æ ‘æœªæ¿€æ´»æ—¶å·²é€‰é¡¹çš„èƒŒæ™¯è‰²</li>
<li><code>list.inactiveSelectionForeground</code>: åˆ—è¡¨/æ ‘æœªæ¿€æ´»æ—¶å·²é€‰é¡¹çš„å‰æ™¯è‰²</li>
<li><code>list.inactiveFocusBackground</code>: éæ¿€æ´»çš„åˆ—è¡¨æˆ–æ ‘æ§ä»¶ä¸­ç„¦ç‚¹é¡¹çš„èƒŒæ™¯é¢œè‰²</li>
<li><code>list.invalidItemForeground</code>: åˆ—è¡¨æˆ–æ ‘ä¸­æ— æ•ˆé¡¹çš„å‰æ™¯è‰²ï¼Œä¾‹å¦‚èµ„æºç®¡ç†å™¨ä¸­æ²¡æœ‰è§£æçš„æ ¹ç›®å½•</li>
<li><code>list.errorForeground</code>: åŒ…å«é”™è¯¯çš„åˆ—è¡¨é¡¹çš„å‰æ™¯é¢œè‰²</li>
<li><code>list.warningForeground</code>: åŒ…å«è­¦å‘Šçš„åˆ—è¡¨é¡¹çš„å‰æ™¯é¢œè‰²</li>
<li><code>listFilterWidget.background</code>: åˆ—è¡¨å’Œæ ‘ä¸­ç±»å‹ç­›é€‰å™¨å°ç»„ä»¶çš„èƒŒæ™¯è‰²</li>
<li><code>listFilterWidget.outline</code>: åˆ—è¡¨å’Œæ ‘ä¸­ç±»å‹ç­›é€‰å™¨å°ç»„ä»¶çš„è½®å»“é¢œè‰²</li>
<li><code>listFilterWidget.noMatchesOutline</code>: å½“æ²¡æœ‰åŒ¹é…é¡¹æ—¶ï¼Œåˆ—è¡¨å’Œæ ‘ä¸­ç±»å‹ç­›é€‰å™¨å°ç»„ä»¶çš„è½®å»“é¢œè‰²</li>
</ul>
<h3 id="æ´»åŠ¨æ "><a href="#æ´»åŠ¨æ " class="headerlink" title="æ´»åŠ¨æ "></a>æ´»åŠ¨æ </h3><hr>
<p>æ´»åŠ¨æ å¯æ˜¾ç¤ºåœ¨æœ€å·¦ä¾§æˆ–æœ€å³ä¾§ï¼Œä¾›ç”¨æˆ·å¿«é€Ÿåˆ‡æ¢ä¾§è¾¹æ è§†å›¾</p>
<ul>
<li><code>activityBar.background</code>: æ´»åŠ¨æ èƒŒæ™¯è‰²</li>
<li><code>activityBar.dropBackground</code>: æ‹–æ”¾æ´»åŠ¨æ é¡¹æ—¶çš„è§†è§‰åé¦ˆé¢œè‰²ã€‚æ­¤é¢œè‰²åº”æœ‰é€æ˜åº¦ï¼Œä»¥ä¾¿æ´»åŠ¨æ æ¡ç›®èƒ½é€è¿‡æ­¤é¢œè‰²</li>
<li><code>activityBar.foreground</code>: æ¿€æ´»æ—¶æ´»åŠ¨æ é¡¹çš„å‰æ™¯è‰²</li>
<li><code>activityBar.inactiveForeground</code>: æœªæ¿€æ´»æ—¶æ´»åŠ¨æ é¡¹çš„å‰æ™¯è‰²</li>
<li><code>activityBar.border</code>: æ´»åŠ¨æ åˆ†éš”ä¾§è¾¹æ çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>activityBarBadge.background</code>: æ´»åŠ¨é€šçŸ¥å¾½ç« èƒŒæ™¯è‰²</li>
<li><code>activityBarBadge.foreground</code>: æ´»åŠ¨é€šçŸ¥å¾½ç« å‰æ™¯è‰²</li>
</ul>
<h3 id="ä¾§è¾¹æ "><a href="#ä¾§è¾¹æ " class="headerlink" title="ä¾§è¾¹æ "></a>ä¾§è¾¹æ </h3><hr>
<p>ä¾§è¾¹æ æ˜¯èµ„æºç®¡ç†å™¨å’Œæœç´¢ç­‰è§†å›¾çš„å®¹å™¨ã€‚</p>
<ul>
<li><code>sideBar.background</code>: ä¾§è¾¹æ èƒŒæ™¯è‰²</li>
<li><code>sideBar.foreground</code>: ä¾§è¾¹æ å‰æ™¯è‰²</li>
<li><code>sideBar.border</code>: ä¾§è¾¹æ åˆ†éš”ç¼–è¾‘å™¨çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>sideBar.dropBackground</code>: æ‹–æ”¾ä¾§è¾¹æ åŒºåŸŸæ—¶çš„åé¦ˆé¢œè‰²ã€‚æ­¤é¢œè‰²åº”æœ‰é€æ˜åº¦ï¼Œä»¥ä¾¿ä¾§è¾¹æ ä¸­çš„éƒ¨åˆ†ä»èƒ½é€è¿‡</li>
<li><code>sideBarTitle.foreground</code>: ä¾§è¾¹æ æ ‡é¢˜å‰æ™¯è‰²</li>
<li><code>sideBarSectionHeader.background</code>: ä¾§è¾¹æ èŠ‚æ ‡é¢˜çš„èƒŒæ™¯é¢œè‰²</li>
<li><code>sideBarSectionHeader.foreground</code>: ä¾§è¾¹æ èŠ‚æ ‡é¢˜çš„å‰æ™¯è‰²</li>
<li><code>sideBarSectionHeader.border</code>: ä¾§è¾¹æ èŠ‚æ ‡é¢˜çš„è¾¹æ¡†é¢œè‰²</li>
</ul>
<h3 id="ç¼–è¾‘å™¨ç»„-amp-é€‰é¡¹å¡"><a href="#ç¼–è¾‘å™¨ç»„-amp-é€‰é¡¹å¡" class="headerlink" title="ç¼–è¾‘å™¨ç»„ &amp; é€‰é¡¹å¡"></a>ç¼–è¾‘å™¨ç»„ &amp; é€‰é¡¹å¡</h3><hr>
<p>ç¼–è¾‘å™¨ç»„æ˜¯å¤šä¸ªç¼–è¾‘å™¨çš„å®¹å™¨ï¼Œä¸€ä¸ªç¼–è¾‘å™¨ç»„å¯ä»¥åŒ…å«å¤šä¸ªç¼–è¾‘å™¨ã€‚ä¸€ä¸ªé€‰é¡¹å¡æ˜¯ä¸€ä¸ªç¼–è¾‘å™¨çš„å®¹å™¨ã€‚å¯ä»¥åœ¨ä¸€ä¸ªç¼–è¾‘å™¨ç»„é‡Œé¢æ‰“å¼€å¤šä¸ªé€‰é¡¹å¡ã€‚</p>
<ul>
<li><code>editorGroup.border</code>: ç¼–è¾‘å™¨ç»„ä¹‹é—´çš„åˆ†éš”é¢œè‰²</li>
</ul>
<p><img src="/images/loading.gif" data-original="../images/development/c861e8e13b391b1a1a5600227ab1ff37.gif" alt=""></p>
<ul>
<li><code>editorGroup.dropBackground</code>: æ‹–åŠ¨ç¼–è¾‘å™¨æ—¶çš„èƒŒæ™¯é¢œè‰²</li>
</ul>
<p><img src="/images/loading.gif" data-original="../images/development/1a5ba4b971530190fe1df41ca721e68c.gif" alt=""></p>
<ul>
<li><code>editorGroupHeader.noTabsBackground</code>: ç¦ç”¨é€‰é¡¹å¡ (<code>"workbench.editor.showTabs": false</code>) æ—¶ç¼–è¾‘å™¨ç»„æ ‡é¢˜é¢œè‰²</li>
</ul>
<p><img src="/images/loading.gif" data-original="../images/development/d2e9c4bb889fd61495a273986f58bb00.gif" alt=""></p>
<ul>
<li><code>editorGroupHeader.tabsBackground</code>: å¯ç”¨é€‰é¡¹å¡æ—¶ç¼–è¾‘å™¨ç»„æ ‡é¢˜çš„èƒŒæ™¯é¢œè‰²</li>
</ul>
<p><img src="/images/loading.gif" data-original="../images/development/23307f72ad4a71d5d1348eda070563b8.gif" alt=""></p>
<ul>
<li><code>editorGroupHeader.tabsBorder</code>: é€‰é¡¹å¡å¯ç”¨æ—¶ç¼–è¾‘å™¨ç»„æ ‡é¢˜çš„è¾¹æ¡†é¢œè‰²ã€‚</li>
</ul>
<p><img src="/images/loading.gif" data-original="../images/development/c6a5aa451e2e3222d8807dffae02e50a.gif" alt=""></p>
<ul>
<li><code>editorGroup.emptyBackground</code>: ç©ºç¼–è¾‘å™¨ç»„çš„èƒŒæ™¯è‰²</li>
<li><code>editorGroup.focusedEmptyBorder</code>: ç¼–è¾‘å™¨ç»„è¢«èšç„¦æ—¶çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>tab.activeBackground</code>: æ´»åŠ¨é€‰é¡¹å¡çš„èƒŒæ™¯è‰²</li>
<li><code>tab.activeForeground</code>: æ´»åŠ¨ç»„ä¸­æ´»åŠ¨é€‰é¡¹å¡çš„å‰æ™¯è‰²</li>
<li><code>tab.border</code>: åˆ†éš”å¤šä¸ªé€‰é¡¹å¡çš„è¾¹æ¡†</li>
<li><code>tab.activeBorder</code>: æ´»åŠ¨é€‰é¡¹å¡åº•éƒ¨çš„è¾¹æ¡†</li>
<li><code>tab.unfocusedActiveBorder</code>: åœ¨å¤±å»ç„¦ç‚¹çš„ç¼–è¾‘å™¨ç»„ä¸­çš„æ´»åŠ¨é€‰é¡¹å¡åº•éƒ¨çš„è¾¹æ¡†</li>
<li><code>tab.activeBorderTop</code>: æ´»åŠ¨é€‰é¡¹å¡é¡¶éƒ¨çš„è¾¹æ¡†</li>
<li><code>tab.unfocusedActiveBorderTop</code>: åœ¨å¤±å»ç„¦ç‚¹çš„ç¼–è¾‘å™¨ç»„ä¸­çš„æ´»åŠ¨é€‰é¡¹å¡é¡¶éƒ¨çš„è¾¹æ¡†</li>
<li><code>tab.inactiveBackground</code>: éæ´»åŠ¨é€‰é¡¹å¡çš„èƒŒæ™¯è‰²</li>
<li><code>tab.inactiveForeground</code>: æ´»åŠ¨ç»„ä¸­éæ´»åŠ¨é€‰é¡¹å¡çš„å‰æ™¯è‰²</li>
<li><code>tab.unfocusedActiveForeground</code>: ä¸€ä¸ªå¤±å»ç„¦ç‚¹çš„ç¼–è¾‘å™¨ç»„ä¸­çš„æ´»åŠ¨é€‰é¡¹å¡çš„å‰æ™¯è‰²</li>
<li><code>tab.unfocusedInactiveForeground</code>: åœ¨ä¸€ä¸ªå¤±å»ç„¦ç‚¹çš„ç»„ä¸­éæ´»åŠ¨é€‰é¡¹å¡çš„å‰æ™¯è‰²</li>
<li><code>tab.hoverBackground</code>: é¼ æ ‡æ‚¬åœæ—¶é€‰é¡¹å¡çš„èƒŒæ™¯è‰²</li>
<li><code>tab.unfocusedHoverBackground</code>: é¼ æ ‡æ‚¬åœæ—¶éç„¦ç‚¹ç»„é€‰é¡¹å¡çš„èƒŒæ™¯è‰²</li>
<li><code>tab.hoverBorder</code>: é¼ æ ‡æ‚¬åœæ—¶é€‰é¡¹å¡çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>tab.unfocusedHoverBorder</code>: é¼ æ ‡æ‚¬åœæ—¶éç„¦ç‚¹ç»„é€‰é¡¹å¡çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>tab.activeModifiedBorder</code> : åœ¨æ´»åŠ¨ç¼–è¾‘å™¨ç»„ä¸­å·²ä¿®æ”¹ (å­˜åœ¨æ›´æ–°) çš„æ´»åŠ¨é€‰é¡¹å¡çš„é¡¶éƒ¨è¾¹æ¡†</li>
<li><code>tab.inactiveModifiedBorder</code>: åœ¨æ´»åŠ¨ç¼–è¾‘å™¨ç»„ä¸­å·²ä¿®æ”¹ (å­˜åœ¨æ›´æ–°) çš„éæ´»åŠ¨é€‰é¡¹å¡çš„é¡¶éƒ¨è¾¹æ¡†</li>
<li><code>tab.unfocusedActiveModifiedBorder</code>: åœ¨æœªè·ç„¦ç‚¹çš„ç¼–è¾‘å™¨ç»„ä¸­å·²ä¿®æ”¹ (å­˜åœ¨æ›´æ–°) çš„æ´»åŠ¨é€‰é¡¹å¡çš„é¡¶éƒ¨è¾¹æ¡†</li>
<li><code>tab.unfocusedInactiveModifiedBorder</code>: åœ¨æœªè·ç„¦ç‚¹çš„ç¼–è¾‘å™¨ç»„ä¸­å·²ä¿®æ”¹ (å­˜åœ¨æ›´æ–°) çš„éæ´»åŠ¨é€‰é¡¹å¡çš„é¡¶éƒ¨è¾¹æ¡†</li>
<li><code>editorPane.background</code>: å±…ä¸­ç¼–è¾‘å™¨å¸ƒå±€ä¸­å·¦ä¾§ä¸å³ä¾§ç¼–è¾‘å™¨çª—æ ¼çš„èƒŒæ™¯è‰²</li>
</ul>
<h3 id="ç¼–è¾‘å™¨è‰²å½©"><a href="#ç¼–è¾‘å™¨è‰²å½©" class="headerlink" title="ç¼–è¾‘å™¨è‰²å½©"></a>ç¼–è¾‘å™¨è‰²å½©</h3><hr>
<p>ç¼–è¾‘å™¨é‡Œé¢æœ€é‡è¦çš„å­—ç¬¦ç¬¦å·é¢œè‰²ä¸»è¦æ˜¯è¯­æ³•é«˜äº®ã€‚å¯ä»¥åœ¨è‰²å½©ä¸»é¢˜ä¸­æˆ–è€…ä½¿ç”¨<code>editor.tokenColorCustomizations</code>é…ç½®ã€‚å‚é˜…<a href="https://code.visualstudio.com/docs/getstarted/themes#_customizing-a-color-theme" target="_blank" rel="noopener">å®šåˆ¶è‰²å½©ä¸»é¢˜</a>ä»¥äº†è§£æ›´æ–°è‰²å½©ä¸»é¢˜å’Œå¯ç”¨çš„æ ‡è®°ç±»å‹</p>
<p>ä¸‹é¢åˆ—å‡ºäº†æ‰€æœ‰çš„ç¼–è¾‘å™¨è‰²å½©:</p>
<ul>
<li><code>editor.background</code>: ç¼–è¾‘å™¨èƒŒæ™¯è‰²</li>
<li><code>editor.foreground</code>: ç¼–è¾‘å™¨å‰æ™¯è‰²</li>
<li><code>editorLineNumber.foreground</code>: ç¼–è¾‘å™¨è¡Œå·çš„é¢œè‰²</li>
<li><code>editorLineNumber.activeForeground</code>: ç¼–è¾‘å™¨æ´»åŠ¨è¡Œå·çš„é¢œè‰²</li>
<li><code>editorCursor.background</code>: ç¼–è¾‘å™¨å…‰æ ‡çš„èƒŒæ™¯è‰²ã€‚å¯ä»¥è‡ªå®šä¹‰å—å‹å…‰æ ‡è¦†ç›–å­—ç¬¦çš„é¢œè‰²</li>
<li><code>editorCursor.foreground</code>: ç¼–è¾‘å™¨å…‰æ ‡çš„å‰æ™¯è‰²ã€‚å¯ä»¥è‡ªå®šä¹‰å—å‹å…‰æ ‡è¦†ç›–å­—ç¬¦çš„é¢œè‰²</li>
</ul>
<p>å½“é€‰ä¸­å¤šä¸ªå­—ç¬¦æ—¶ä¼šæ˜¾ç¤ºé€‰åŒºé¢œè‰²ã€‚åŒæ—¶ï¼Œä¸æ‰€é€‰æ–‡æœ¬ç›¸å…³çš„åŒºåŸŸä¹Ÿä¼šé«˜äº®æ˜¾ç¤ºã€‚</p>
<p><img src="/images/loading.gif" data-original="../images/development/0eaf2b00becd85f533244718fda52b37.png" alt=""></p>
<ul>
<li><code>editor.selectionBackground</code>: æ‰€é€‰å†…å®¹çš„èƒŒæ™¯è‰²</li>
<li><code>editor.selectionForeground</code>: æ‰€é€‰æ–‡æœ¬çš„å‰æ™¯è‰²</li>
<li><code>editor.inactiveSelectionBackground</code>: éæ´»åŠ¨ç¼–è¾‘å™¨ä¸­æ‰€é€‰å†…å®¹çš„é¢œè‰²ï¼Œé¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>editor.selectionHighlightBackground</code>: å…·æœ‰ä¸æ‰€é€‰é¡¹ç›¸å…³å†…å®¹çš„åŒºåŸŸçš„é¢œè‰²ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>editor.selectionHighlightBorder</code>: ä¸æ‰€é€‰é¡¹å†…å®¹ç›¸åŒçš„åŒºåŸŸçš„è¾¹æ¡†é¢œè‰²</li>
</ul>
<p>å½“å…‰æ ‡å‡ºç°åœ¨ç¬¦å·æˆ–å•è¯ä¸­æ—¶éœ€æ˜¾ç¤ºå•è¯é«˜äº®ï¼Œä¾æ®è¯­è¨€æ’ä»¶çš„å®ç°æƒ…å†µï¼Œå¯æä¾›ä¸é«˜äº®å•è¯æ‰€å¯¹åº”å£°æ˜å’Œå¼•ç”¨çš„è¯­æ³•é«˜äº®æ•ˆæœï¼Œä½†æ˜¯è¿™ä¸ªé«˜äº®æ•ˆæœéœ€å’Œåªè¯»ã€ä¹¦å†™çš„æƒ…å†µä¸‹çš„é«˜äº®æ•ˆæœæœ‰æ‰€åŒºåˆ†ã€‚å¦‚æœæ–‡æ¡£çš„è¯­æ³•æ’ä»¶ä¸æä¾›æ­¤é¡¹åŠŸèƒ½ï¼Œé‚£ä¹ˆé«˜äº®æ•ˆæœåº”é™çº§åˆ°å•çº¯çš„å•è¯é«˜äº®:</p>
<p><img src="/images/loading.gif" data-original="../images/development/aec1d0d6ee59a45379fd66a0051f5f2a.png" alt=""></p>
<ul>
<li><code>editor.wordHighlightBackground</code>: è¯»å–è®¿é—®æœŸé—´ç¬¦å·çš„èƒŒæ™¯è‰²ï¼Œä¾‹å¦‚è¯»å–å˜é‡æ—¶ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>editor.wordHighlightBorder</code>: ç¬¦å·åœ¨è¿›è¡Œè¯»å–è®¿é—®æ“ä½œæ—¶çš„è¾¹æ¡†é¢œè‰²ï¼Œä¾‹å¦‚è¯»å–å˜é‡</li>
<li><code>editor.wordHighlightStrongBackground</code>: å†™å…¥è®¿é—®è¿‡ç¨‹ä¸­ç¬¦å·çš„èƒŒæ™¯è‰²ï¼Œä¾‹å¦‚å†™å…¥å˜é‡æ—¶ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>editor.wordHighlightStrongBorder</code>: ç¬¦å·åœ¨è¿›è¡Œå†™å…¥è®¿é—®æ“ä½œæ—¶çš„è¾¹æ¡†é¢œè‰²ï¼Œä¾‹å¦‚å†™å…¥å˜é‡</li>
</ul>
<p>æœç´¢åŒ¹é…é¡¹çš„é¢œè‰²å–å†³äºæœç´¢/æ›¿æ¢å¯¹è¯æ¡†ä¸­çš„è¾“å…¥æ–‡å­—:</p>
<p><img src="/images/loading.gif" data-original="../images/development/9b379398bcb3a3d5bbce96db9ef6e5f1.png" alt=""></p>
<ul>
<li><code>editor.findMatchBackground</code>: å½“å‰æœç´¢åŒ¹é…é¡¹çš„é¢œè‰²</li>
<li><code>editor.findMatchHighlightBackground</code>: å…¶ä»–æœç´¢åŒ¹é…é¡¹çš„é¢œè‰²ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>editor.findRangeHighlightBackground</code>: é™åˆ¶æœç´¢èŒƒå›´çš„é¢œè‰²(æœç´¢å¼¹å‡ºæ¡†å°éƒ¨ä»¶çš„â€˜åœ¨ç»“æœä¸­æŸ¥æ‰¾â€™ä¸­å¯ç”¨)ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>editor.findMatchBorder</code>: å½“å‰æœç´¢åŒ¹é…é¡¹çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>editor.findMatchHighlightBorder</code>: å…¶ä»–æœç´¢åŒ¹é…é¡¹çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>editor.findRangeHighlightBorder</code>: æœç´¢èŒƒå›´é™åˆ¶ä¸­çš„è¾¹æ¡†é¢œè‰²ï¼ˆæœç´¢å¼¹å‡ºæ¡†å°éƒ¨ä»¶çš„â€˜åœ¨ç»“æœä¸­æŸ¥æ‰¾â€™ä¸­å¯ç”¨ï¼‰</li>
</ul>
<p>é¼ æ ‡æ‚¬åœæ—¶ç¬¦å·çš„é¢œè‰²:</p>
<p><img src="/images/loading.gif" data-original="../images/development/cba6aa86baca5940be6d06dc1b146571.png" alt=""></p>
<ul>
<li><code>editor.hoverHighlightBackground</code>: åœ¨ä¸‹é¢çªå‡ºæ˜¾ç¤ºæ‚¬åœçš„å­—è¯ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
</ul>
<p>å½“å‰è¡Œ(å…‰æ ‡æ‰€åœ¨è¡Œ)åªä¼šæ˜¾ç¤ºèƒŒæ™¯é«˜äº®æˆ–è€…è¾¹æ¡†é«˜äº®(ä¸¤è€…ä¹‹ä¸€)</p>
<p><img src="/images/loading.gif" data-original="../images/development/c12939abf9d9ac4a9184b4a47ba4f9e5.png" alt=""></p>
<ul>
<li><code>editor.lineHighlightBackground</code>: å…‰æ ‡æ‰€åœ¨è¡Œé«˜äº®å†…å®¹çš„èƒŒæ™¯é¢œè‰²</li>
<li><code>editor.lineHighlightBorder</code>: å…‰æ ‡æ‰€åœ¨è¡Œå››å‘¨è¾¹æ¡†çš„èƒŒæ™¯é¢œè‰²</li>
</ul>
<p>é“¾æ¥è¢«ç‚¹å‡»æ—¶çš„é¢œè‰²:</p>
<p><img src="/images/loading.gif" data-original="../images/development/4ea7b00b5dda16a94b213b1e47527ffd.png" alt=""></p>
<ul>
<li><code>editorLink.activeForeground</code>: æ¿€æ´»çš„é“¾æ¥çš„å‰æ™¯è‰²</li>
</ul>
<p>é€‰æ‹©æœç´¢ç»“æœæ—¶çš„èŒƒå›´é«˜äº®:</p>
<p><img src="/images/loading.gif" data-original="../images/development/33a96fda8e087d5a5d0a91889960fab8.png" alt=""></p>
<ul>
<li><code>editor.rangeHighlightBackground</code>: é™åˆ¶æœç´¢èŒƒå›´çš„é¢œè‰²ï¼Œç”¨äºå¿«é€Ÿæ‰“å¼€ã€æ–‡ä»¶ä¸­çš„ç¬¦å·ã€æœç´¢ç»“æœã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>editor.rangeHighlightBorder</code>: é™åˆ¶æœç´¢çš„èŒƒå›´çš„è¾¹æ¡†é¢œè‰²</li>
</ul>
<p>è¦æŸ¥çœ‹ç¼–è¾‘å™¨åœ¨ç©ºç™½å­—ç¬¦ä¸Šæ˜¾ç¤ºç¬¦å·çš„æ–¹å¼ï¼Œå¯ç”¨(enable)<strong>Toggle Render Whitespace</strong>é…ç½®é¡¹ã€‚</p>
<ul>
<li><code>editorWhitespace.foreground</code>: ç¼–è¾‘å™¨ä¸­ç©ºç™½å­—ç¬¦çš„å‰æ™¯è‰²</li>
</ul>
<p>ä½¿ç”¨<code>"editor.renderIndentGuides: true"</code>é…ç½®ç¼–è¾‘å™¨æ˜¾ç¤ºç¼©è¿›å‚è€ƒçº¿</p>
<ul>
<li><code>editorIndentGuide.background</code>: ç¼–è¾‘å™¨ç¼©è¿›å‚è€ƒçº¿çš„é¢œè‰²</li>
<li><code>editorIndentGuide.activeBackground</code>: ç¼–è¾‘å™¨æ´»åŠ¨ç¼©è¿›å‚è€ƒçº¿çš„é¢œè‰²</li>
</ul>
<p>ä½¿ç”¨<code>"editor.rulers"</code>æ¥é…ç½®ç¼–è¾‘å™¨æ ‡å°º</p>
<ul>
<li><code>editorRuler.foreground</code>: ç¼–è¾‘å™¨æ ‡å°ºçš„å‰æ™¯è‰²</li>
</ul>
<p>CodeLens:</p>
<p><img src="/images/loading.gif" data-original="../images/development/715ae4b294b9216a52641f65ecbbd915.png" alt=""></p>
<ul>
<li><code>editorCodeLens.foreground</code>: ç¼–è¾‘å™¨ CodeLens çš„å‰æ™¯è‰²</li>
</ul>
<p>æ‹¬å·åŒ¹é…:</p>
<p><img src="/images/loading.gif" data-original="../images/development/1e7560dbcfa74701073598b2d1a2db5c.png" alt=""></p>
<ul>
<li><code>editorBracketMatch.background</code>: åŒ¹é…æ‹¬å·çš„èƒŒæ™¯è‰²</li>
<li><code>editorBracketMatch.border</code>: åŒ¹é…æ‹¬å·å¤–æ¡†çš„é¢œè‰²</li>
</ul>
<p>ç¼©ç•¥å›¾æ ‡å°º:</p>
<p>ä½äºç¼–è¾‘å™¨å³è¾¹ç¼˜æ»šåŠ¨æ¡ä¸‹æ–¹ï¼Œå¯ä»¥æ¦‚è§ˆæ•´ä¸ªç¼–è¾‘å™¨ã€‚</p>
<ul>
<li><code>editorOverviewRuler.border</code>: ç¼©ç•¥å›¾æ ‡å°ºè¾¹æ¡†çš„é¢œè‰²</li>
<li><code>editorOverviewRuler.findMatchForeground</code>: ç”¨äºæŸ¥æ‰¾åŒ¹é…é¡¹çš„æ¦‚è¿°æ ‡å°ºæ ‡è®°é¢œè‰²ï¼Œé¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>editorOverviewRuler.rangeHighlightForeground</code>: ç”¨äºçªå‡ºæ˜¾ç¤ºèŒƒå›´çš„æ¦‚è¿°æ ‡å°ºæ ‡è®°é¢œè‰²ï¼Œæ¯”å¦‚å¿«é€Ÿæ‰“å¼€ã€æ–‡ä»¶ä¸­çš„ç¬¦å·ã€æŸ¥æ‰¾åŠŸèƒ½ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>editorOverviewRuler.selectionHighlightForeground</code>: ç”¨äºçªå‡ºæ˜¾ç¤ºæ‰€é€‰å†…å®¹çš„æ¦‚è¿°æ ‡å°ºæ ‡è®°é¢œè‰²ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>editorOverviewRuler.wordHighlightForeground</code>: ç”¨äºçªå‡ºæ˜¾ç¤ºç¬¦å·çš„æ¦‚è¿°æ ‡å°ºæ ‡è®°é¢œè‰²ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>editorOverviewRuler.wordHighlightStrongForeground</code>: ç”¨äºçªå‡ºæ˜¾ç¤ºå†™æƒé™ç¬¦å·çš„æ¦‚è¿°æ ‡å°ºæ ‡è®°é¢œè‰²ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>editorOverviewRuler.modifiedForeground</code>: ç¼©ç•¥å›¾æ ‡å°ºä¸­å·²ä¿®æ”¹å†…å®¹çš„é¢œè‰²</li>
<li><code>editorOverviewRuler.addedForeground</code>: ç¼©ç•¥å›¾æ ‡å°ºä¸­å·²å¢åŠ å†…å®¹çš„é¢œè‰²</li>
<li><code>editorOverviewRuler.deletedForeground</code>: ç¼©ç•¥å›¾æ ‡å°ºä¸­å·²åˆ é™¤å†…å®¹çš„é¢œè‰²</li>
<li><code>editorOverviewRuler.errorForeground</code>: ç¼©ç•¥å›¾æ ‡å°ºä¸­é”™è¯¯å†…å®¹çš„é¢œè‰²</li>
<li><code>editorOverviewRuler.warningForeground</code>: ç¼©ç•¥å›¾æ ‡å°ºä¸­è­¦å‘Šä¿¡æ¯çš„é¢œè‰²</li>
<li><code>editorOverviewRuler.infoForeground</code>: ç¼©ç•¥å›¾æ ‡å°ºä¸­ä¿¡æ¯çš„é¢œè‰²</li>
<li><code>editorOverviewRuler.bracketMatchForeground</code>: ç¼©ç•¥å›¾æ ‡å°ºä¸Šè¡¨ç¤ºåŒ¹é…æ‹¬å·çš„æ ‡è®°é¢œè‰²</li>
</ul>
<p>é”™è¯¯å’Œè­¦å‘Š:</p>
<ul>
<li><code>editorError.foreground</code>: é”™è¯¯ä¿¡æ¯çš„æ•´ä½“å‰æ™¯è‰²ã€‚æ­¤é¢œè‰²ä»…åœ¨ä¸è¢«ç»„ä»¶è¦†ç›–æ—¶é€‚ç”¨</li>
<li><code>editorError.border</code>: ç¼–è¾‘å™¨ä¸­é”™è¯¯æ³¢æµªçº¿çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>editorWarning.foreground</code>: ç¼–è¾‘å™¨ä¸­è­¦å‘Šæ³¢æµªçº¿çš„å‰æ™¯è‰²</li>
<li><code>editorWarning.border</code>: ç¼–è¾‘å™¨ä¸­è­¦å‘Šæ³¢æµªçº¿çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>editorInfo.foreground</code>: ç¼–è¾‘å™¨ä¸­ä¿¡æ¯æ³¢æµªçº¿çš„å‰æ™¯è‰²</li>
<li><code>editorInfo.border</code>: ç¼–è¾‘å™¨ä¸­ä¿¡æ¯æ³¢æµªçº¿çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>editorHint.foreground</code>: ç¼–è¾‘å™¨ä¸­æç¤ºæ³¢æµªçº¿çš„å‰æ™¯è‰²</li>
<li><code>editorHint.border</code>: ç¼–è¾‘å™¨ä¸­æç¤ºæ³¢æµªçº¿çš„è¾¹æ¡†é¢œè‰²</li>
</ul>
<p>æœªä½¿ç”¨çš„æºä»£ç :</p>
<ul>
<li><code>editorUnnecessaryCode.border</code>: ç¼–è¾‘å™¨ä¸­ä¸å¿…è¦(æœªä½¿ç”¨)çš„æºä»£ç çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>editorUnnecessaryCode.opacity</code>: ä¸å¿…è¦ï¼ˆæœªä½¿ç”¨ï¼‰ä»£ç çš„åœ¨ç¼–è¾‘å™¨ä¸­æ˜¾ç¤ºçš„ä¸é€æ˜åº¦ã€‚ä¾‹å¦‚ï¼Œ<code>"#000000c0"</code> å°†ä»¥ 75% çš„ä¸é€æ˜åº¦æ˜¾ç¤ºä»£ç ã€‚å¯¹äºé«˜å¯¹æ¯”åº¦ä¸»é¢˜ï¼Œè¯·ä½¿ç”¨ <code>"editorUnnecessaryCode.border"</code> ä¸»é¢˜æ¥ä¸ºéå¿…é¡»ä»£ç æ·»åŠ ä¸‹åˆ’çº¿ï¼Œä»¥é¿å…é¢œè‰²æ·¡åŒ–</li>
</ul>
<p>å¯¼èˆªçº¿åŒ…æ‹¬å­—ç¬¦è¾¹è·å’Œè¡Œå·:</p>
<ul>
<li><code>editorGutter.background</code>: ç¼–è¾‘å™¨å¯¼èˆªçº¿çš„èƒŒæ™¯è‰²ï¼Œå¯¼èˆªçº¿åŒ…æ‹¬å­—ç¬¦è¾¹è·å’Œè¡Œå·</li>
<li><code>editorGutter.modifiedBackground</code>: ç¼–è¾‘å™¨å¯¼èˆªçº¿ä¸­è¢«ä¿®æ”¹è¡Œçš„èƒŒæ™¯é¢œè‰²</li>
<li><code>editorGutter.addedBackground</code>: ç¼–è¾‘å™¨å¯¼èˆªçº¿ä¸­å·²æ’å…¥è¡Œçš„èƒŒæ™¯é¢œè‰²</li>
<li><code>editorGutter.deletedBackground</code>: ç¼–è¾‘å™¨å¯¼èˆªçº¿ä¸­è¢«åˆ é™¤è¡Œçš„èƒŒæ™¯é¢œè‰²</li>
</ul>
<h3 id="å·®å¼‚ç¼–è¾‘å™¨è‰²å½©"><a href="#å·®å¼‚ç¼–è¾‘å™¨è‰²å½©" class="headerlink" title="å·®å¼‚ç¼–è¾‘å™¨è‰²å½©"></a>å·®å¼‚ç¼–è¾‘å™¨è‰²å½©</h3><hr>
<p>å·²æ’å…¥æˆ–è€…ç§»é™¤çš„æ–‡å­—çš„é¢œè‰²ï¼Œä½¿ç”¨èƒŒæ™¯è‰²æˆ–è€…è¾¹æ¡†è‰²(ä¸¤è€…é€‰å…¶ä¸€)</p>
<ul>
<li><code>diffEditor.insertedTextBackground</code>: å·²æ’å…¥çš„æ–‡æœ¬çš„èƒŒæ™¯è‰²ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>diffEditor.insertedTextBorder</code>: æ’å…¥çš„æ–‡æœ¬çš„è½®å»“é¢œè‰²</li>
<li><code>diffEditor.removedTextBackground</code>: å·²åˆ é™¤çš„æ–‡æœ¬çš„èƒŒæ™¯è‰²ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>diffEditor.removedTextBorder</code>: è¢«åˆ é™¤æ–‡æœ¬çš„è½®å»“é¢œè‰²</li>
<li><code>diffEditor.border</code>: ä¸¤ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ä¹‹é—´çš„è¾¹æ¡†é¢œè‰²</li>
</ul>
<h3 id="ç¼–è¾‘å™¨å°éƒ¨ä»¶è‰²å½©"><a href="#ç¼–è¾‘å™¨å°éƒ¨ä»¶è‰²å½©" class="headerlink" title="ç¼–è¾‘å™¨å°éƒ¨ä»¶è‰²å½©"></a>ç¼–è¾‘å™¨å°éƒ¨ä»¶è‰²å½©</h3><hr>
<p>ç¼–è¾‘å™¨ç»„ä»¶åœ¨å…¶å†…å®¹çš„å‰é¢ã€‚ä¾‹å¦‚(æŸ¥æ‰¾/æ›¿æ¢)å¯¹è¯æ¡†ã€å»ºè®®ç»„ä»¶ã€ç¼–è¾‘å™¨æ‚¬æµ®æç¤ºæ¡†</p>
<ul>
<li><code>editorWidget.background</code>: ç¼–è¾‘å™¨ç»„ä»¶(å¦‚æŸ¥æ‰¾/æ›¿æ¢)èƒŒæ™¯é¢œè‰²</li>
<li><code>editorWidget.border</code>: ç¼–è¾‘å™¨å°éƒ¨ä»¶çš„è¾¹æ¡†é¢œè‰²ã€‚æ­¤é¢œè‰²ä»…åœ¨å°éƒ¨ä»¶æœ‰è¾¹æ¡†ä¸”ä¸è¢«å°éƒ¨ä»¶é‡å†™æ—¶é€‚ç”¨</li>
<li><code>editorWidget.resizeBorder</code>: ç¼–è¾‘å™¨å°éƒ¨ä»¶å¤§å°è°ƒæ•´æ¡çš„è¾¹æ¡†é¢œè‰²ã€‚æ­¤é¢œè‰²ä»…åœ¨å°éƒ¨ä»¶æœ‰è°ƒæ•´è¾¹æ¡†ä¸”ä¸è¢«å°éƒ¨ä»¶é¢œè‰²è¦†ç›–æ—¶ä½¿ç”¨</li>
<li><code>editorSuggestWidget.background</code>: ä»£ç æç¤ºæµ®å±‚çš„èƒŒæ™¯è‰²</li>
<li><code>editorSuggestWidget.border</code>: ä»£ç æç¤ºæµ®å±‚çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>editorSuggestWidget.foreground</code>: ä»£ç æç¤ºæµ®å±‚çš„å‰æ™¯è‰²</li>
<li><code>editorSuggestWidget.highlightForeground</code>: ä»£ç æç¤ºæµ®å±‚ä¸­åŒ¹é…å†…å®¹çš„é«˜äº®é¢œè‰²</li>
<li><code>editorSuggestWidget.selectedBackground</code>: ä»£ç æç¤ºæµ®å±‚ä¸­æ‰€é€‰æ¡ç›®çš„èƒŒæ™¯è‰²</li>
<li><code>editorHoverWidget.background</code>: ä»£ç æç¤ºæµ®å±‚èƒŒæ™¯é¢œè‰²</li>
<li><code>editorHoverWidget.border</code>: ä»£ç æç¤ºæµ®å±‚è¾¹æ¡†é¢œè‰²</li>
</ul>
<p>å¼‚å¸¸å°ç»„ä»¶æ˜¯ä¸€ä¸ªé€Ÿè§ˆçª—å£ï¼Œå½“è°ƒè¯•æŠ›å‡ºå¼‚å¸¸æ—¶å‡ºç°</p>
<ul>
<li><code>debugExceptionWidget.background</code>: å¼‚å¸¸å°ç»„ä»¶èƒŒæ™¯é¢œè‰²</li>
<li><code>debugExceptionWidget.border</code>: å¼‚å¸¸å°ç»„ä»¶è¾¹æ¡†é¢œè‰²</li>
</ul>
<p>ç¼–è¾‘å™¨æ ‡è®°ï¼Œå½“å¯¼èˆªè‡³ç¼–è¾‘å™¨ä¸­çš„é”™è¯¯å’Œè­¦å‘Šæ—¶å‡ºç°(<strong>è·³åˆ°ä¸‹ä¸€ä¸ªé”™è¯¯æˆ–è­¦å‘Š</strong>å‘½ä»¤)</p>
<ul>
<li><code>editorMarkerNavigation.background</code>: ç¼–è¾‘å™¨æ ‡è®°å¯¼èˆªå°ç»„ä»¶èƒŒæ™¯è‰²</li>
<li><code>editorMarkerNavigationError.background</code>: ç¼–è¾‘å™¨æ ‡è®°å¯¼èˆªå°ç»„ä»¶é”™è¯¯é¢œè‰²</li>
<li><code>editorMarkerNavigationWarning.background</code>: ç¼–è¾‘å™¨æ ‡è®°å¯¼èˆªå°ç»„ä»¶è­¦å‘Šé¢œè‰²</li>
<li><code>editorMarkerNavigationInfo.background</code>: ç¼–è¾‘å™¨æ ‡è®°å¯¼èˆªå°ç»„ä»¶ä¿¡æ¯é¢œè‰²</li>
</ul>
<h3 id="é€Ÿè§ˆçª—å£è‰²å½©"><a href="#é€Ÿè§ˆçª—å£è‰²å½©" class="headerlink" title="é€Ÿè§ˆçª—å£è‰²å½©"></a>é€Ÿè§ˆçª—å£è‰²å½©</h3><hr>
<p>é€Ÿè§ˆçª—å£åœ¨ç¼–è¾‘å™¨å†…éƒ¨ï¼Œå°†å¼•ç”¨å’Œå£°æ˜æ˜¾ç¤ºä¸ºè§†å›¾</p>
<p><img src="/images/loading.gif" data-original="../images/development/d7ea276dce547c94be5aa9eab9fc2c16.png" alt=""></p>
<ul>
<li><code>peekView.border</code>: é€Ÿè§ˆè§†å›¾è¾¹æ¡†å’Œç®­å¤´é¢œè‰²</li>
<li><code>peekViewEditor.background</code>: é€Ÿè§ˆè§†å›¾ç¼–è¾‘å™¨èƒŒæ™¯è‰²</li>
<li><code>peekViewEditorGutter.background</code>: é€Ÿè§ˆè§†å›¾ç¼–è¾‘å™¨ä¸­è£…è®¢çº¿çš„èƒŒæ™¯è‰²</li>
<li><code>peekViewEditor.matchHighlightBackground</code>: åœ¨é€Ÿè§ˆè§†å›¾ç¼–è¾‘å™¨ä¸­åŒ¹é…çªå‡ºæ˜¾ç¤ºé¢œè‰²</li>
<li><code>peekViewEditor.matchHighlightBorder</code>: åœ¨é€Ÿè§ˆè§†å›¾ç¼–è¾‘å™¨ä¸­åŒ¹é…é¡¹çš„çªå‡ºæ˜¾ç¤ºè¾¹æ¡†</li>
<li><code>peekViewResult.background</code>: é€Ÿè§ˆè§†å›¾ç»“æœåˆ—è¡¨èƒŒæ™¯è‰²</li>
<li><code>peekViewResult.fileForeground</code>: é€Ÿè§ˆè§†å›¾ç»“æœåˆ—è¡¨ä¸­æ–‡ä»¶èŠ‚ç‚¹çš„å‰æ™¯è‰²</li>
<li><code>peekViewResult.lineForeground</code>: é€Ÿè§ˆè§†å›¾ç»“æœåˆ—è¡¨ä¸­è¡ŒèŠ‚ç‚¹çš„å‰æ™¯è‰²</li>
<li><code>peekViewResult.matchHighlightBackground</code>: åœ¨é€Ÿè§ˆè§†å›¾ç»“æœåˆ—è¡¨ä¸­åŒ¹é…çªå‡ºæ˜¾ç¤ºé¢œè‰²</li>
<li><code>peekViewResult.selectionBackground</code>: é€Ÿè§ˆè§†å›¾ç»“æœåˆ—è¡¨ä¸­æ‰€é€‰æ¡ç›®çš„èƒŒæ™¯è‰²</li>
<li><code>peekViewResult.selectionForeground</code>: é€Ÿè§ˆè§†å›¾ç»“æœåˆ—è¡¨ä¸­æ‰€é€‰æ¡ç›®çš„å‰æ™¯è‰²</li>
<li><code>peekViewTitle.background</code>: é€Ÿè§ˆè§†å›¾æ ‡é¢˜åŒºåŸŸèƒŒæ™¯é¢œè‰²</li>
<li><code>peekViewTitleDescription.foreground</code>: é€Ÿè§ˆè§†å›¾æ ‡é¢˜ä¿¡æ¯é¢œè‰²</li>
<li><code>peekViewTitleLabel.foreground</code>: é€Ÿè§ˆè§†å›¾æ ‡é¢˜é¢œè‰²</li>
</ul>
<h3 id="åˆå¹¶å†²çª"><a href="#åˆå¹¶å†²çª" class="headerlink" title="åˆå¹¶å†²çª"></a>åˆå¹¶å†²çª</h3><hr>
<p>åˆå¹¶å†²çªè£…é¥°ï¼Œå½“ç¼–è¾‘å™¨åŒ…å«èŒƒå›´å·®å¼‚æ—¶æ˜¾ç¤º</p>
<p><img src="/images/loading.gif" data-original="../images/development/2a60dc941d0a65adb22bcb01eeceb5ff.png" alt=""></p>
<ul>
<li><code>merge.currentHeaderBackground</code>: å½“å‰æ ‡é¢˜çš„èƒŒæ™¯é¢œè‰²ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>merge.currentContentBackground</code>: å½“å‰å†…å®¹èƒŒæ™¯è‰²ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>merge.incomingHeaderBackground</code>: ä¼ å…¥æ ‡é¢˜èƒŒæ™¯è‰²ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>merge.incomingContentBackground</code>: ä¼ å…¥å†…å®¹èƒŒæ™¯è‰²ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>merge.border</code>: æ ‡å¤´å’Œåˆ†å‰²çº¿çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>merge.commonContentBackground</code>: å…±åŒç¥–å…ˆçš„å†…å®¹èƒŒæ™¯è‰²ã€‚é¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>merge.commonHeaderBackground</code>: å…±åŒç¥–å…ˆçš„æ ‡å¤´èƒŒæ™¯è‰²ï¼Œé¢œè‰²éœ€å¸¦æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡åº•å±‚æ ·å¼</li>
<li><code>editorOverviewRuler.currentContentForeground</code>: å½“å‰ç‰ˆæœ¬åŒºåŸŸçš„ç¼©ç•¥å›¾æ ‡å°ºå‰æ™¯è‰²</li>
<li><code>editorOverviewRuler.incomingContentForeground</code>: ä¼ å…¥çš„ç‰ˆæœ¬åŒºåŸŸçš„ç¼©ç•¥å›¾æ ‡å°ºå‰æ™¯è‰²</li>
<li><code>editorOverviewRuler.commonContentForeground</code>: å…±åŒç¥–å…ˆå†…å®¹çš„ç¼©ç•¥å›¾æ ‡å°ºå‰æ™¯è‰²</li>
</ul>
<h3 id="é¢æ¿è‰²å½©"><a href="#é¢æ¿è‰²å½©" class="headerlink" title="é¢æ¿è‰²å½©"></a>é¢æ¿è‰²å½©</h3><hr>
<p>é¢æ¿æ˜¾ç¤ºåœ¨ç¼–è¾‘å™¨åŒºåŸŸä¸‹æ–¹ï¼ŒåŒ…å«è¾“å‡ºå’Œé›†æˆç»ˆç«¯ç­‰è§†å›¾</p>
<ul>
<li><code>panel.background</code>: é¢æ¿çš„èƒŒæ™¯è‰²</li>
<li><code>panel.border</code>: å°†é¢æ¿ä¸ç¼–è¾‘å™¨éš”å¼€çš„è¾¹æ¡†çš„é¢œè‰²</li>
<li><code>panel.dropBackground</code>: æ‹–æ”¾é¢æ¿æ ‡é¢˜é¡¹æ—¶çš„è§†è§‰åé¦ˆé¢œè‰²ï¼Œæ­¤é¢œè‰²åº”æœ‰é€æ˜åº¦ï¼Œä»¥å…é®æŒ¡é¢æ¿é¡¹</li>
<li><code>panelTitle.activeBorder</code>: æ´»åŠ¨é¢æ¿æ ‡é¢˜çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>panelTitle.activeForeground</code>: æ´»åŠ¨é¢æ¿çš„æ ‡é¢˜é¢œè‰²</li>
<li><code>panelTitle.inactiveForeground</code>: éæ´»åŠ¨é¢æ¿çš„æ ‡é¢˜é¢œè‰²</li>
</ul>
<h3 id="çŠ¶æ€æ è‰²å½©"><a href="#çŠ¶æ€æ è‰²å½©" class="headerlink" title="çŠ¶æ€æ è‰²å½©"></a>çŠ¶æ€æ è‰²å½©</h3><hr>
<p>çŠ¶æ€æ æ˜¾ç¤ºåœ¨å·¥ä½œåŒºåº•éƒ¨</p>
<ul>
<li><code>statusBar.background</code>: æ™®é€šçŠ¶æ€ä¸‹ï¼ŒçŠ¶æ€æ çš„èƒŒæ™¯è‰²</li>
<li><code>statusBar.foreground</code>: æ™®é€šçŠ¶æ€ä¸‹ï¼ŒçŠ¶æ€æ çš„å‰æ™¯è‰²</li>
<li><code>statusBar.border</code>: çŠ¶æ€æ å’Œç¼–è¾‘å™¨é—´çš„åˆ†éš”çº¿é¢œè‰²</li>
<li><code>statusBar.debuggingBackground</code>: è°ƒè¯•ç¨‹åºæ—¶çŠ¶æ€æ çš„èƒŒæ™¯è‰²</li>
<li><code>statusBar.debuggingForeground</code>: è°ƒè¯•ç¨‹åºæ—¶çŠ¶æ€æ çš„å‰æ™¯è‰²</li>
<li><code>statusBar.debuggingBorder</code>: è°ƒè¯•ç¨‹åºæ—¶ï¼ŒçŠ¶æ€æ å’Œç¼–è¾‘å™¨çš„åˆ†éš”çº¿é¢œè‰²</li>
<li><code>statusBar.noFolderForeground</code>: æ²¡æœ‰æ‰“å¼€æ–‡ä»¶å¤¹æ—¶çŠ¶æ€æ çš„å‰æ™¯è‰²</li>
<li><code>statusBar.noFolderBackground</code>: æ²¡æœ‰æ‰“å¼€æ–‡ä»¶å¤¹æ—¶çŠ¶æ€æ çš„èƒŒæ™¯è‰²</li>
<li><code>statusBar.noFolderBorder</code>: æ²¡æœ‰æ‰“å¼€æ–‡ä»¶å¤¹æ—¶ï¼ŒçŠ¶æ€æ å’Œç¼–è¾‘å™¨é—´çš„åˆ†éš”çº¿é¢œè‰²</li>
<li><code>statusBarItem.activeBackground</code>: å•å‡»æ—¶çš„çŠ¶æ€æ é¡¹èƒŒæ™¯è‰²</li>
<li><code>statusBarItem.hoverBackground</code>: æ‚¬åœæ—¶çŠ¶æ€æ é¡¹èƒŒæ™¯è‰²</li>
<li><code>statusBarItem.prominentBackground</code>: çŠ¶æ€æ çªå‡ºæ˜¾ç¤ºé¡¹çš„èƒŒæ™¯é¢œè‰²ï¼Œçªå‡ºæ˜¾ç¤ºé¡¹æ¯”çŠ¶æ€æ ä¸­çš„å…¶ä»–æ¡ç›®æ›´é†’ç›®ä»¥è¡¨æ˜å…¶é‡è¦æ€§ï¼Œåœ¨å‘½ä»¤é¢æ¿ä¸­æ›´æ”¹<code>åˆ‡æ¢ Tab é”®æ˜¯å¦ç§»åŠ¨ç„¦ç‚¹</code>å¯æŸ¥çœ‹ç¤ºä¾‹</li>
<li><code>statusBarItem.prominentHoverBackground</code>: é¼ æ ‡æ‚¬åœè¿‡ç¨‹ä¸­çŠ¶æ€æ çªå‡ºæ˜¾ç¤ºé¡¹çš„èƒŒæ™¯é¢œè‰²ï¼Œçªå‡ºæ˜¾ç¤ºé¡¹æ¯”çŠ¶æ€æ ä¸­çš„å…¶ä»–æ¡ç›®æ›´é†’ç›®ä»¥è¡¨æ˜å…¶é‡è¦æ€§ã€‚åœ¨å‘½ä»¤é¢æ¿ä¸­æ›´æ”¹<code>åˆ‡æ¢ Tab é”®æ˜¯å¦ç§»åŠ¨ç„¦ç‚¹</code>å¯æŸ¥çœ‹ç¤ºä¾‹</li>
</ul>
<h3 id="æ ‡é¢˜æ è‰²å½©"><a href="#æ ‡é¢˜æ è‰²å½©" class="headerlink" title="æ ‡é¢˜æ è‰²å½©"></a>æ ‡é¢˜æ è‰²å½©</h3><hr>
<ul>
<li><code>titleBar.activeBackground</code>: çª—å£å¤„äºæ´»åŠ¨çŠ¶æ€æ—¶çš„æ ‡é¢˜æ èƒŒæ™¯è‰²</li>
<li><code>titleBar.activeForeground</code>: çª—å£å¤„äºæ´»åŠ¨çŠ¶æ€æ—¶çš„æ ‡é¢˜æ å‰æ™¯è‰²</li>
<li><code>titleBar.inactiveBackground</code>: çª—å£å¤„äºéæ´»åŠ¨çŠ¶æ€æ—¶çš„æ ‡é¢˜æ èƒŒæ™¯è‰²</li>
<li><code>titleBar.inactiveForeground</code>: çª—å£å¤„äºéæ´»åŠ¨çŠ¶æ€æ—¶çš„æ ‡é¢˜æ å‰æ™¯è‰²</li>
<li><code>titleBar.border</code>: æ ‡é¢˜æ è¾¹æ¡†é¢œè‰²</li>
</ul>
<h3 id="èœå•æ è‰²å½©"><a href="#èœå•æ è‰²å½©" class="headerlink" title="èœå•æ è‰²å½©"></a>èœå•æ è‰²å½©</h3><hr>
<ul>
<li><code>menubar.selectionForeground</code>: èœå•æ ä¸­é€‰å®šèœå•é¡¹çš„å‰æ™¯è‰²</li>
<li><code>menubar.selectionBackground</code>: èœå•æ ä¸­é€‰å®šèœå•é¡¹çš„èƒŒæ™¯è‰²</li>
<li><code>menubar.selectionBorder</code>: èœå•æ ä¸­æ‰€é€‰èœå•é¡¹çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>menu.foreground</code>: èœå•é¡¹çš„å‰æ™¯é¢œè‰²</li>
<li><code>menu.background</code>: èœå•é¡¹çš„èƒŒæ™¯é¢œè‰²</li>
<li><code>menu.selectionForeground</code>: èœå•ä¸­é€‰å®šèœå•é¡¹çš„å‰æ™¯è‰²</li>
<li><code>menu.selectionBackground</code>: èœå•ä¸­æ‰€é€‰èœå•é¡¹çš„èƒŒæ™¯è‰²</li>
<li><code>menu.selectionBorder</code>: èœå•ä¸­æ‰€é€‰èœå•é¡¹çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>menu.separatorBackground</code>: èœå•ä¸­åˆ†éš”çº¿çš„é¢œè‰²</li>
</ul>
<h3 id="é€šçŸ¥æ¡†è‰²å½©"><a href="#é€šçŸ¥æ¡†è‰²å½©" class="headerlink" title="é€šçŸ¥æ¡†è‰²å½©"></a>é€šçŸ¥æ¡†è‰²å½©</h3><hr>
<p>!&gt; <strong>æ³¨æ„</strong>: ä¸‹åˆ—çš„è‰²å½©åªé€‚ç”¨äºVS Code-1.21æˆ–æ›´é«˜ç‰ˆæœ¬</p>
<p>é€šçŸ¥æ¨ªå¹…ä»çª—å£å³ä¸‹è§’å¼¹å‡º</p>
<p><img src="/images/loading.gif" data-original="../images/development/d7adef69b40402edaf03254e4b11ed81.png" alt=""></p>
<p>é€šçŸ¥ä¸­å¿ƒä»¥å¸¦æ ‡é¢˜çš„åˆ—è¡¨æ˜¾ç¤º</p>
<p><img src="/images/loading.gif" data-original="../images/development/14d3f17bde96f0efa99d430a439eee2d.png" alt=""></p>
<ul>
<li><code>notificationCenter.border</code>: é€šçŸ¥ä¸­å¿ƒçš„è¾¹æ¡†é¢œè‰²</li>
<li><code>notificationCenterHeader.foreground</code>: é€šçŸ¥ä¸­å¿ƒå¤´éƒ¨çš„å‰æ™¯è‰²</li>
<li><code>notificationCenterHeader.background</code>: é€šçŸ¥ä¸­å¿ƒå¤´éƒ¨çš„èƒŒæ™¯è‰²</li>
<li><code>notificationToast.border</code>: é€šçŸ¥æ¨ªå¹…çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>notifications.foreground</code>: é€šçŸ¥çš„å‰æ™¯è‰²</li>
<li><code>notifications.background</code>: é€šçŸ¥çš„èƒŒæ™¯è‰²</li>
<li><code>notifications.border</code>: é€šçŸ¥ä¸­å¿ƒä¸­åˆ†éš”é€šçŸ¥çš„è¾¹æ¡†çš„é¢œè‰²</li>
<li><code>notificationLink.foreground</code>: é€šçŸ¥é“¾æ¥çš„å‰æ™¯è‰²</li>
</ul>
<p>å¦‚æœä½ ä½¿ç”¨çš„VS Codeç‰ˆæœ¬ä½äº1.21(2018-2)ï¼Œå¯ä»¥ä½¿ç”¨æ—§çš„è‰²å½©(ä¸å†æ”¯æŒ):</p>
<ul>
<li><code>notification.background</code></li>
<li><code>notification.foreground</code></li>
<li><code>notification.buttonBackground</code></li>
<li><code>notification.buttonForeground</code></li>
<li><code>notification.buttonHoverBackground</code></li>
<li><code>notification.errorBackground</code></li>
<li><code>notification.errorForeground</code></li>
<li><code>notification.infoBackground</code></li>
<li><code>notification.infoForeground</code></li>
<li><code>notification.warningBackground</code></li>
<li><code>notification.warningForeground</code></li>
</ul>
<h3 id="æ’ä»¶æ "><a href="#æ’ä»¶æ " class="headerlink" title="æ’ä»¶æ "></a>æ’ä»¶æ </h3><hr>
<ul>
<li><code>extensionButton.prominentForeground</code>: æ‰©å±•ä¸­çªå‡ºæ“ä½œçš„æŒ‰é’®å‰æ™¯è‰²(æ¯”å¦‚ <strong>å®‰è£…</strong>æŒ‰é’®)</li>
<li><code>extensionButton.prominentBackground</code>: æ‰©å±•ä¸­çªå‡ºæ“ä½œçš„æŒ‰é’®èƒŒæ™¯è‰²</li>
<li><code>extensionButton.prominentHoverBackground</code>: é¼ æ ‡æ‚¬åœæ—¶æ’ä»¶ä¸­çªå‡ºæ“ä½œçš„æŒ‰é’®çš„é¢œè‰²</li>
</ul>
<h3 id="å¿«é€Ÿé€‰å–å™¨"><a href="#å¿«é€Ÿé€‰å–å™¨" class="headerlink" title="å¿«é€Ÿé€‰å–å™¨"></a>å¿«é€Ÿé€‰å–å™¨</h3><hr>
<ul>
<li><code>pickerGroup.border</code>: å¿«é€Ÿé€‰å–(å¿«é€Ÿæ‰“å¼€)å™¨åˆ†ç»„è¾¹æ¡†çš„é¢œè‰²</li>
<li><code>pickerGroup.foreground</code>: å¿«é€Ÿé€‰å–(å¿«é€Ÿæ‰“å¼€)å™¨åˆ†ç»„æ ‡ç­¾çš„é¢œè‰²</li>
</ul>
<h3 id="é›†æˆç»ˆç«¯è‰²å½©"><a href="#é›†æˆç»ˆç«¯è‰²å½©" class="headerlink" title="é›†æˆç»ˆç«¯è‰²å½©"></a>é›†æˆç»ˆç«¯è‰²å½©</h3><hr>
<ul>
<li><code>terminal.background</code>: ç»ˆç«¯è§†å£çš„èƒŒæ™¯é¢œè‰²</li>
<li><code>terminal.border</code>: åˆ†éš”ç»ˆç«¯ä¸­æ‹†åˆ†çª—æ ¼çš„è¾¹æ¡†çš„é¢œè‰²ã€‚é»˜è®¤ä¸º panel.border çš„é¢œè‰²</li>
<li><code>terminal.foreground</code>: é›†æˆç»ˆç«¯çš„é»˜è®¤å‰æ™¯è‰²</li>
<li><code>terminal.ansiBlack</code>: ç»ˆç«¯ä¸­çš„â€™Blackâ€™ANSI</li>
<li><code>terminal.ansiBlue</code>: ç»ˆç«¯ä¸­çš„â€™Blueâ€™ANSI</li>
<li><code>terminal.ansiBrightBlack</code>: ç»ˆç«¯ä¸­çš„â€™BrightBlackâ€™ANSI</li>
<li><code>terminal.ansiBrightBlue</code>: ç»ˆç«¯ä¸­çš„â€™BrightBlueâ€™ANSI</li>
<li><code>terminal.ansiBrightCyan</code>: ç»ˆç«¯ä¸­çš„â€™BrightCyanâ€™ANSI</li>
<li><code>terminal.ansiBrightGreen</code>: ç»ˆç«¯ä¸­çš„â€™BrightGreenâ€™ANSI</li>
<li><code>terminal.ansiBrightMagenta</code>: ç»ˆç«¯ä¸­çš„â€™BrightMagentaâ€™ANSI</li>
<li><code>terminal.ansiBrightRed</code>: ç»ˆç«¯ä¸­çš„â€™BrightRedâ€™ANSI</li>
<li><code>terminal.ansiBrightWhite</code>: ç»ˆç«¯ä¸­çš„â€™BrightWhiteâ€™ANSI</li>
<li><code>terminal.ansiBrightYellow</code>: ç»ˆç«¯ä¸­çš„â€™BrightYellowâ€™ANSI</li>
<li><code>terminal.ansiCyan</code>: ç»ˆç«¯ä¸­çš„â€™Cyanâ€™ANSI</li>
<li><code>terminal.ansiGreen</code>: ç»ˆç«¯ä¸­çš„â€™Greenâ€™ANSI</li>
<li><code>terminal.ansiMagenta</code>: ç»ˆç«¯ä¸­çš„â€™Magentaâ€™ANSI</li>
<li><code>terminal.ansiRed</code>: ç»ˆç«¯ä¸­çš„â€™Redâ€™ANSI</li>
<li><code>terminal.ansiWhite</code>: ç»ˆç«¯ä¸­çš„â€™Whiteâ€™ANSI</li>
<li><code>terminal.ansiYellow</code>: ç»ˆç«¯ä¸­çš„â€™Yellowâ€™ANSI</li>
<li><code>terminal.selectionBackground</code>: ç»ˆç«¯ä¸­é€‰ä¸­å†…å®¹çš„èƒŒæ™¯è‰²</li>
<li><code>terminalCursor.background</code>: ç»ˆç«¯å…‰æ ‡çš„èƒŒæ™¯è‰²ã€‚å…è®¸è‡ªå®šä¹‰è¢« block å…‰æ ‡é®ä½çš„å­—ç¬¦çš„é¢œè‰²</li>
<li><code>terminalCursor.foreground</code>: ç»ˆç«¯å…‰æ ‡çš„å‰æ™¯è‰²</li>
</ul>
<h3 id="è°ƒè¯•-1"><a href="#è°ƒè¯•-1" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h3><hr>
<ul>
<li><code>debugToolBar.background</code>: è°ƒè¯•å·¥å…·æ èƒŒæ™¯é¢œè‰²</li>
<li><code>debugToolBar.border</code>: è°ƒè¯•å·¥å…·æ è¾¹æ¡†é¢œè‰²</li>
<li><code>editor.stackFrameHighlightBackground</code>: å †æ ˆå¸§ä¸­é¡¶éƒ¨ä¸€è¡Œçš„é«˜äº®èƒŒæ™¯è‰²</li>
<li><code>editor.focusedStackFrameHighlightBackground</code>: å †æ ˆå¸§ä¸­ç„¦ç‚¹ä¸€è¡Œçš„é«˜äº®èƒŒæ™¯è‰²</li>
</ul>
<h3 id="æ¬¢è¿ç•Œé¢"><a href="#æ¬¢è¿ç•Œé¢" class="headerlink" title="æ¬¢è¿ç•Œé¢"></a>æ¬¢è¿ç•Œé¢</h3><hr>
<ul>
<li><code>welcomePage.background</code>: æ¬¢è¿é¡µé¢çš„èƒŒæ™¯è‰²</li>
<li><code>welcomePage.buttonBackground</code>: æ¬¢è¿é¡µæŒ‰é’®çš„èƒŒæ™¯è‰²</li>
<li><code>welcomePage.buttonHoverBackground</code>: é¼ æ ‡æ‚¬åœæ—¶æ¬¢è¿é¡µæŒ‰é’®çš„èƒŒæ™¯è‰²</li>
<li><code>walkThrough.embeddedEditorBackground</code>: åµŒå…¥äºäº¤äº’å¼æ“åœºä¸­çš„ç¼–è¾‘å™¨çš„èƒŒæ™¯é¢œè‰²</li>
</ul>
<h3 id="Gitè‰²å½©"><a href="#Gitè‰²å½©" class="headerlink" title="Gitè‰²å½©"></a>Gitè‰²å½©</h3><hr>
<ul>
<li><code>gitDecoration.addedResourceForeground</code>: æ–°å¢çš„Gitèµ„æºçš„å‰æ™¯è‰²ã€‚ç”¨äºæ˜¾ç¤ºæ–‡ä»¶æ ‡ç­¾å’Œæºä»£ç ç®¡ç†</li>
<li><code>gitDecoration.modifiedResourceForeground</code>: ä¿®æ”¹è¿‡çš„Gitèµ„æºçš„å‰æ™¯è‰²ã€‚ç”¨äºæ˜¾ç¤ºæ–‡ä»¶æ ‡ç­¾å’Œæºä»£ç ç®¡ç†</li>
<li><code>gitDecoration.deletedResourceForeground</code>: ç§»é™¤è¿‡çš„Gitèµ„æºçš„å‰æ™¯è‰²ã€‚ç”¨äºæ˜¾ç¤ºæ–‡ä»¶æ ‡ç­¾å’Œæºä»£ç ç®¡ç†</li>
<li><code>gitDecoration.untrackedResourceForeground</code>: æœªè·Ÿè¸ªçš„Gitèµ„æºçš„å‰æ™¯è‰²ã€‚ç”¨äºæ–‡ä»¶æ ‡ç­¾å’Œæºä»£ç ç®¡ç†</li>
<li><code>gitDecoration.ignoredResourceForeground</code>: å·²å¿½è§†çš„Gitèµ„æºçš„å‰æ™¯è‰²ã€‚ç”¨äºæ–‡ä»¶æ ‡ç­¾å’Œæºä»£ç ç®¡ç†</li>
<li><code>gitDecoration.conflictingResourceForeground</code>: å†²çªçš„Gitèµ„æºçš„å‰æ™¯è‰²ã€‚ç”¨äºæ–‡ä»¶æ ‡ç­¾å’Œæºä»£ç ç®¡ç†</li>
<li><code>gitDecoration.submoduleResourceForeground</code>: å­æ¨¡å—èµ„æºçš„å‰æ™¯è‰²</li>
</ul>
<h3 id="è®¾ç½®ç¼–è¾‘å™¨è‰²å½©"><a href="#è®¾ç½®ç¼–è¾‘å™¨è‰²å½©" class="headerlink" title="è®¾ç½®ç¼–è¾‘å™¨è‰²å½©"></a>è®¾ç½®ç¼–è¾‘å™¨è‰²å½©</h3><hr>
<p>!&gt; <strong>æ³¨æ„</strong>: ä¸‹åˆ—è‰²å½©é…ç½®åªé€‚ç”¨äº<strong>è®¾ç½®</strong>ç¼–è¾‘å™¨ç•Œé¢ï¼Œå¯ä»¥é€šè¿‡<code>é¦–é€‰é¡¹: æ‰“å¼€è®¾ç½®(UI)</code>å‘½ä»¤æ‰“å¼€ã€‚</p>
<ul>
<li><code>settings.headerForeground</code>: å°èŠ‚æ ‡é¢˜ä¸æ´»åŠ¨æ ‡é¢˜çš„å‰æ™¯è‰²</li>
<li><code>settings.modifiedItemIndicator</code>: å·²ä¿®æ”¹è®¾ç½®æŒ‡ç¤ºå™¨çš„é¢œè‰²</li>
<li><code>settings.dropdownBackground</code>: ä¸‹æ‹‰åˆ—è¡¨çš„èƒŒæ™¯è‰²</li>
<li><code>settings.dropdownForeground</code>: ä¸‹æ‹‰åˆ—è¡¨çš„å‰æ™¯è‰²</li>
<li><code>settings.dropdownBorder</code>: ä¸‹æ‹‰åˆ—è¡¨çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>settings.dropdownListBorder</code>: ä¸‹æ‹‰åˆ—è¡¨é€‰é¡¹çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>settings.checkboxBackground</code>: å¤é€‰æ¡†çš„èƒŒæ™¯è‰²</li>
<li><code>settings.checkboxForeground</code>: å¤é€‰æ¡†çš„å‰æ™¯è‰²</li>
<li><code>settings.checkboxBorder</code>: å¤é€‰æ¡†çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>settings.textInputBackground</code>: æ–‡æœ¬è¾“å…¥æ¡†çš„èƒŒæ™¯è‰²</li>
<li><code>settings.textInputForeground</code>: æ–‡æœ¬è¾“å…¥æ¡†çš„å‰æ™¯è‰²</li>
<li><code>settings.textInputBorder</code>: æ–‡æœ¬è¾“å…¥æ¡†çš„è¾¹æ¡†é¢œè‰²</li>
<li><code>settings.numberInputBackground</code>: æ•°å­—è¾“å…¥æ¡†çš„èƒŒæ™¯è‰²</li>
<li><code>settings.numberInputForeground</code>: æ•°å­—è¾“å…¥æ¡†çš„å‰æ™¯è‰²</li>
<li><code>settings.numberInputBorder</code>: æ•°å­—è¾“å…¥æ¡†çš„è¾¹æ¡†é¢œè‰²</li>
</ul>
<h3 id="é¢åŒ…å±‘å¯¼èˆª"><a href="#é¢åŒ…å±‘å¯¼èˆª" class="headerlink" title="é¢åŒ…å±‘å¯¼èˆª"></a>é¢åŒ…å±‘å¯¼èˆª</h3><hr>
<p>é¢åŒ…å±‘å¯¼èˆªçš„è‰²å½©ä¸»é¢˜:</p>
<ul>
<li><code>breadcrumb.foreground</code>: å¯¼èˆªè·¯å¾„çš„å‰æ™¯è‰²</li>
<li><code>breadcrumb.background</code>: å¯¼èˆªè·¯å¾„é¡¹çš„èƒŒæ™¯è‰²</li>
<li><code>breadcrumb.focusForeground</code>: ç„¦ç‚¹å¯¼èˆªè·¯å¾„çš„é¢œè‰²</li>
<li><code>breadcrumb.activeSelectionForeground</code>: å·²é€‰å¯¼èˆªè·¯å¾„é¡¹çš„é¢œè‰²</li>
<li><code>breadcrumbPicker.background</code>: å¯¼èˆªè·¯å¾„é¡¹é€‰æ‹©å™¨çš„èƒŒæ™¯è‰²</li>
</ul>
<h3 id="ä»£ç ç‰‡æ®µ-1"><a href="#ä»£ç ç‰‡æ®µ-1" class="headerlink" title="ä»£ç ç‰‡æ®µ"></a>ä»£ç ç‰‡æ®µ</h3><hr>
<p>ä»£ç ç‰‡æ®µçš„è‰²å½©ä¸»é¢˜:</p>
<ul>
<li><code>editor.snippetTabstopHighlightBackground</code>: ä»£ç ç‰‡æ®µ Tab ä½çš„é«˜äº®èƒŒæ™¯è‰²</li>
<li><code>editor.snippetTabstopHighlightBorder</code>: ä»£ç ç‰‡æ®µ Tab ä½çš„é«˜äº®è¾¹æ¡†é¢œè‰²</li>
<li><code>editor.snippetFinalTabstopHighlightBackground</code>: ä»£ç ç‰‡æ®µä¸­æœ€åçš„ Tab ä½çš„é«˜äº®èƒŒæ™¯è‰²</li>
<li><code>editor.snippetFinalTabstopHighlightBorder</code>: ä»£ç ç‰‡æ®µä¸­æœ€åçš„ Tab ä½çš„é«˜äº®è¾¹æ¡†é¢œè‰²</li>
</ul>
<p>ä¹Ÿå¯ä»¥æ ¹æ®å‘å¸ƒå†…å®¹çš„é¢œè‰²é…ç½®é¡¹ï¼Œä½¿ç”¨æ’ä»¶æ¥å‘å¸ƒè‰²å½©id(Ids)ã€‚å½“åœ¨<code>workbench.colorCustomizations</code>é…ç½®é¡¹ä¸­ä½¿ç”¨ä»£ç è¡¥å…¨æˆ–è€…ç¼–è¾‘è‰²å½©ä¸»é¢˜æ–‡ä»¶æ—¶ï¼Œè¿™äº›è‰²å½©ä¹Ÿä¼šå‡ºç°ã€‚ç”¨æˆ·å¯ä»¥åœ¨<a href="https://code.visualstudio.com/docs/editor/extension-gallery#_extension-details" target="_blank" rel="noopener">æ’ä»¶å‘å¸ƒ</a>é€‰é¡¹å¡ä¸­çœ‹åˆ°æ’ä»¶å®šä¹‰çš„è‰²å½©ã€‚</p>
<h3 id="é…ç½®æ’ä»¶ä¸­çš„è‰²å½©"><a href="#é…ç½®æ’ä»¶ä¸­çš„è‰²å½©" class="headerlink" title="é…ç½®æ’ä»¶ä¸­çš„è‰²å½©"></a>é…ç½®æ’ä»¶ä¸­çš„è‰²å½©</h3><hr>
<p>ä¹Ÿå¯ä»¥æ ¹æ®å‘å¸ƒå†…å®¹çš„é¢œè‰²é…ç½®é¡¹ï¼Œä½¿ç”¨æ’ä»¶æ¥å‘å¸ƒè‰²å½©idã€‚å½“åœ¨<code>workbench.colorCustomizations</code>å½“ç¼–è¾‘<code>workbench.colorCustomizations</code>å’Œä¸»é¢˜é¢œè‰²æ–‡ä»¶æ—¶ï¼Œè¿™äº›è‰²å½©ä¼šå‡ºç°åœ¨ä»£ç è¡¥å…¨ä¸­ã€‚ç”¨æˆ·å¯ä»¥åœ¨<a href="https://code.visualstudio.com/docs/editor/extension-gallery#_extension-details" target="_blank" rel="noopener">æ’ä»¶å‘å¸ƒ</a>é€‰é¡¹å¡ä¸­çœ‹åˆ°æ’ä»¶å®šä¹‰çš„è‰²å½©ã€‚</p>
<h2 id="æ ‡ç­¾ä¸­çš„å›¾æ ‡"><a href="#æ ‡ç­¾ä¸­çš„å›¾æ ‡" class="headerlink" title="æ ‡ç­¾ä¸­çš„å›¾æ ‡"></a>æ ‡ç­¾ä¸­çš„å›¾æ ‡</h2><p>ä½ å¯ä»¥åœ¨æ’ä»¶ä¸­ä½¿ç”¨githubæä¾›çš„å¼€æºå›¾æ ‡<a href="https://octicons.github.com/" target="_blank" rel="noopener">Octicons</a>ï¼Œä½ ç”šè‡³å¯ä»¥åœ¨<a href="https://code.visualstudio.com/api/references/vscode-api#StatusBarItem" target="_blank" rel="noopener"><code>StatusBarItem</code></a>æ–‡æœ¬å’Œ<a href="https://code.visualstudio.com/api/references/vscode-api#QuickPickItem" target="_blank" rel="noopener"><code>QuickPickItem</code></a>æ ‡ç­¾ä¸­ä½¿ç”¨ã€‚æ·»åŠ å›¾æ ‡çš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre><code>$(alert);</code></pre><p>ä½ è¿˜å¯ä»¥åƒè¿™æ ·ä½¿ç”¨å¤šä¸ªæ ‡ç­¾</p>
<pre><code>$(eye) $(heart) $(mark-github) GitHub</code></pre><h4 id="å›¾æ ‡åˆ—è¡¨"><a href="#å›¾æ ‡åˆ—è¡¨" class="headerlink" title="å›¾æ ‡åˆ—è¡¨"></a>å›¾æ ‡åˆ—è¡¨</h4><p><strong>å›¾æ ‡åˆ—è¡¨</strong>è¯·å‚è€ƒ<a href="https://code.visualstudio.com/api/references/icons-in-labels" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p>
<h2 id="æ–‡æ¡£é€‰æ‹©å™¨"><a href="#æ–‡æ¡£é€‰æ‹©å™¨" class="headerlink" title="æ–‡æ¡£é€‰æ‹©å™¨"></a>æ–‡æ¡£é€‰æ‹©å™¨</h2><p>æ’ä»¶çš„ç‰¹æ€§å¯ä»¥é€šè¿‡è¯­è¨€ã€ç±»å‹ã€ä½ç½®ç­‰æ–‡æ¡£é€‰æ‹©å™¨ç±»å‹åŠ ä»¥ç­›é€‰ï¼Œæœ¬èŠ‚å°†æ·±å…¥æ–‡æ¡£é€‰æ‹©å™¨ã€æ–‡æ¡£åè®®ç­‰æ’ä»¶åˆ›ä½œè€…åº”è¯¥äº†è§£çš„å†…å®¹ã€‚</p>
<h3 id="ä¸åœ¨ç£ç›˜ä¸Šçš„æ–‡ä»¶"><a href="#ä¸åœ¨ç£ç›˜ä¸Šçš„æ–‡ä»¶" class="headerlink" title="ä¸åœ¨ç£ç›˜ä¸Šçš„æ–‡ä»¶"></a>ä¸åœ¨ç£ç›˜ä¸Šçš„æ–‡ä»¶</h3><hr>
<p>å¹¶ä¸æ˜¯æ‰€æœ‰æ–‡ä»¶éƒ½æ˜¯å‚¨å­˜åœ¨ç£ç›˜ä¸Šçš„ï¼Œæ¯”å¦‚ä¸€ä»½åˆšåˆšåˆ›å»ºçš„æ–‡ä»¶ã€‚é™¤éç‰¹åˆ«æŒ‡æ˜ï¼Œæ–‡æ¡£é€‰æ‹©å™¨é€šå¸¸ä¼šåº”ç”¨äº<strong>æ‰€æœ‰</strong>æ–‡æ¡£ç±»å‹ã€‚ä½¿ç”¨<a href="https://code.visualstudio.com/api/references/vscode-api#DocumentFilter" target="_blank" rel="noopener">DocumentFilter</a>çš„<code>scheme</code>å±æ€§å°†åè®®èŒƒå›´ç¼©å°ï¼Œæ¯”å¦‚è¯´ï¼Œ<code>{ scheme: 'file', language: 'typescript' }</code>æ˜¯ç‰¹å®šçš„ç”¨äºå‚¨å­˜åœ¨ç£ç›˜ä¸Šçš„TypeScriptæ–‡ä»¶ã€‚</p>
<h3 id="æ–‡æ¡£é€‰æ‹©å™¨-1"><a href="#æ–‡æ¡£é€‰æ‹©å™¨-1" class="headerlink" title="æ–‡æ¡£é€‰æ‹©å™¨"></a>æ–‡æ¡£é€‰æ‹©å™¨</h3><hr>
<p>VS Codeæ’ä»¶APIç»“åˆäº†ç‰¹å®šçš„è¯­è¨€ç‰¹æ€§, é€šè¿‡æ–‡æ¡£é€‰æ‹©å™¨çš„<a href="https://code.visualstudio.com/api/references/vscode-api#DocumentSelector" target="_blank" rel="noopener">DocumentSelector</a>ç±»å‹, å¯ä»¥æ”¯æŒä¾‹å¦‚æ™ºèƒ½æ„ŸçŸ¥(IntelliSense)ç­‰ç‰¹æ€§. è¿™æ˜¯å®ç°ç‰¹å®šè¯­è¨€æ‰€æ”¯æŒç‰¹æ€§çš„æœ€ä¸ºç®€å•çš„æœºåˆ¶.</p>
<p>ä¸‹é¢çš„ç‰‡æ®µæ³¨å†Œäº†ä¸€ä¸ªTypescriptæ–‡ä»¶çš„<a href="https://code.visualstudio.com/api/references/vscode-api#HoverProvider" target="_blank" rel="noopener">HoverProvider</a>, æ­¤æ—¶çš„æ–‡æ¡£é€‰æ‹©å™¨æ˜¯<code>typescript</code>è¯­è¨€æ ‡è¯†ç¬¦.</p>
<pre><code>vscode.languages.registerHoverProvider('typescript', {
  provideHover(doc: vscode.TextDocument) {
    return new vscode.Hover('For *all* TypeScript documents.');
  }
});</code></pre><p>æ–‡æ¡£é€‰æ‹©å™¨å¯ä»¥ä¸åªæ˜¯ä¸€ä¸ªè¯­è¨€æ ‡è¯†ç¬¦, è¿˜å¯ä»¥æ˜¯å¤æ‚é€‰æ‹©å™¨â€”â€”æ¯”å¦‚åŸºäº<code>åè®®(scheme)</code>å’Œæ–‡ä»¶è·¯å¾„çš„<a href="https://code.visualstudio.com/api/references/vscode-api#DocumentFilter" target="_blank" rel="noopener">DocumentFilter</a>, æ–‡ä»¶è·¯å¾„æ”¯æŒ<code>pattern</code>å‚æ•°å’Œglobæ¨¡å¼:</p>
<pre><code>vscode.languages.registerHoverProvider(
  { pattern: '**/test/**' },
  {
    provideHover(doc: vscode.TextDocument) {
      return new vscode.Hover('For documents inside `test`-folders only');
    }
  }
);</code></pre><p>ä¸‹é¢è¿™ä¸ªç‰‡æ®µ, ä½¿ç”¨åˆå¹¶åçš„<code>åè®®(scheme)</code>è¿‡æ»¤å™¨å’Œè¯­è¨€æ ‡è¯†ç¬¦ä½œä¸ºå‚æ•°. <code>æœªå‘½åçš„(untitled)</code>åè®®æ­£æ˜¯ä¸ºæš‚æœªä¿å­˜åˆ°æœ¬åœ°ç£ç›˜çš„æ–‡ä»¶å‡†å¤‡çš„.</p>
<pre><code>vscode.languages.registerHoverProvider(
  { scheme: 'untitled', language: 'typescript' },
  {
    provideHover(doc: vscode.TextDocument) {
      return new vscode.Hover('For new, unsaved TypeScript documents only');
    }
  }
);</code></pre><h3 id="æ–‡æ¡£åè®®"><a href="#æ–‡æ¡£åè®®" class="headerlink" title="æ–‡æ¡£åè®®"></a>æ–‡æ¡£åè®®</h3><hr>
<p><code>æ–‡æ¡£åè®®</code>ç»å¸¸ä¼šè¢«å¿½è§†, ä½†æ˜¯å®ƒæä¾›äº†å¾ˆé‡è¦çš„ä¿¡æ¯. æ’ä»¶å¼€å‘è€…ç»å¸¸å‡è®¾è‡ªå·±æ­£åœ¨å¤„ç†çš„æ–‡æ¡£ä¹Ÿæ˜¯å­˜åœ¨ç£ç›˜ä¸Šçš„. ç”¨ä¸€ä¸ªç®€å•çš„<code>typescript</code>é€‰æ‹©å™¨åšä¸ªä¾‹å­, å‡è®¾<strong>Typescriptæ–‡ä»¶åœ¨ç£ç›˜ä¸Š</strong>, ä¸è¿‡å¤§éƒ¨åˆ†å¼€å‘åœºæ™¯éƒ½è¿‡äºå®½æ¾äº†ï¼Œä½¿ç”¨äº†è¯¸å¦‚<code>{ scheme: 'file', language: 'typescript' }</code>æ˜¾å¼çš„é€‰æ‹©å™¨ã€‚</p>
<p>å½“æŸé¡¹åŠŸèƒ½ä¾èµ–äºä»ç£ç›˜ä¸Šè¯»/å†™æ–‡ä»¶æ—¶, è¿™ä¸ªé—®é¢˜æ˜¾å¾—å°¤ä¸ºé‡è¦. è¯·çœ‹ä¸‹é¢çš„ä»£ç :</p>
<pre><code>// ğŸ‘ too lax
vscode.languages.registerHoverProvider('typescript', {
  provideHover(doc: vscode.TextDocument) {
    const { size } = fs.statSync(doc.uri.fsPath); // âš ï¸ what about 'untitled:/Untitled1.ts' or others?
    return new vscode.Hover(`Size in bytes is ${size}`);
  }
});</code></pre><p>ä¸Šé¢çš„ä¾‹å­ä¸­, æ‚¬æµ®æç¤ºå™¨æƒ³å±•ç¤ºæ–‡ä»¶å ç”¨çš„ç£ç›˜å¤§å°, ä½†æ˜¯å®ƒä¸ä¼šæ£€æŸ¥æ–‡æ¡£æ˜¯ä¸æ˜¯çœŸçš„å­˜å‚¨åœ¨ç£ç›˜ä¸Š. æ¯”å¦‚, ä¸€ä¸ªæ–°åˆ›å»ºä½†æ˜¯æœªä¿å­˜çš„æ–‡ä»¶. æ­£ç¡®çš„åšæ³•æ˜¯å‘Šè¯‰VS Codeåªåœ¨æ–‡ä»¶å­˜å‚¨åœ¨ç£ç›˜ä¸Šæ—¶æ‰å¼€å§‹å·¥ä½œ.</p>
<pre><code>// ğŸ‘ only works with files on disk
vscode.languages.registerHoverProvider(
  { scheme: 'file', language: 'typescript' },
  {
    provideHover(doc: vscode.TextDocument) {
      const { size } = fs.statSync(doc.uri.fsPath);
      return new vscode.Hover(`Size in bytes is ${size}`);
    }
  }
);</code></pre><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><hr>
<p>æ–‡æ¡£é€šå¸¸éƒ½å‚¨å­˜åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä½†ä¹Ÿæœ‰ä¾‹å¤–ï¼šæœªä¿å­˜çš„æ–°æ–‡ä»¶ã€Gitä½¿ç”¨çš„ç¼“å­˜æ–‡ä»¶ã€FTPä¸Šçš„è¿œç¨‹æ–‡ä»¶ç­‰ç­‰ã€‚å¦‚æœä½ çš„æ’ä»¶ç‰¹æ€§ä¾èµ–äºç£ç›˜è¯»å–ï¼Œé‚£ä¹ˆä½ å°±è¦ç”¨æ–‡æ¡£é€‰æ‹©å™¨æ—¶åº”å¸¦ä¸Šfileåè®®ã€‚</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        æ–‡ç« ä½œè€…:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://jackhcc.github.io" rel="external nofollow noreferrer">æ°å…‹æˆ</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        æ–‡ç« é“¾æ¥:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://jackhcc.github.io/posts/vscode.html">https://jackhcc.github.io/posts/vscode.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        ç‰ˆæƒå£°æ˜:
                    </i>
                </span>
                <span class="reprint-info">
                    æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ¥å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº
                    <a href="https://jackhcc.github.io" target="_blank">æ°å…‹æˆ</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>å¤åˆ¶æˆåŠŸï¼Œè¯·éµå¾ªæœ¬æ–‡çš„è½¬è½½è§„åˆ™</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">æŸ¥çœ‹</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Vscode/">
                                    <span class="chip bg-color">Vscode</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>å¾®ä¿¡æ‰«ä¸€æ‰«å³å¯åˆ†äº«ï¼</p>"></div>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">èµ</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">ä½ çš„èµè¯†æ˜¯æˆ‘å‰è¿›çš„åŠ¨åŠ›</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">æ”¯ä»˜å®</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">å¾® ä¿¡</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/reward/aliqr.png" class="reward-img" alt="æ”¯ä»˜å®æ‰“èµäºŒç»´ç ">
                    </div>
                    <div id="wechat">
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/reward/wxqr.png" class="reward-img" alt="å¾®ä¿¡æ‰“èµäºŒç»´ç ">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            
        </div>
    </div>

    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>è¯„è®º</span>
    </div>
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: '3821a0bbb773038a51fc',
        clientSecret: '4b30b507d67ec5497ec0e77f43f80cb3e0d7dd3a',
        repo: 'JackHCC.github.io',
        owner: 'JackHCC',
        admin: "JackHCC",
        id: '2021-09-11T22-47-08',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>
    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;ä¸Šä¸€ç¯‡</div>
            <div class="card">
                <a href="/posts/design-pattern.html">
                    <div class="card-image">
                        
                        
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/featureimages/5.jpg" class="responsive-img" alt="Design Patternè¯¦è§£">
                        
                        <span class="card-title">Design Patternè¯¦è§£</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            è®¾è®¡æ¨¡å¼å­¦ä¹ è®°å½•
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-09-13
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Development/" class="post-category">
                                    Development
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Design-Pattern/">
                        <span class="chip bg-color">Design Pattern</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                ä¸‹ä¸€ç¯‡&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/posts/ml-algorithm.html">
                    <div class="card-image">
                        
                        
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/featureimages/2.jpg" class="responsive-img" alt="Machine Learning Algorithm">
                        
                        <span class="card-title">Machine Learning Algorithm</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            æœºå™¨å­¦ä¹ ç»å…¸ç®—æ³•
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-09-10
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Algorithm/" class="post-category">
                                    Algorithm
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Machine-Learning/">
                        <span class="chip bg-color">Machine Learning</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- ä»£ç å—åŠŸèƒ½ä¾èµ– -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeBlockFuction.js"></script>

<!-- ä»£ç è¯­è¨€ -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeLang.js"></script>


<!-- ä»£ç å—å¤åˆ¶ -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeCopy.js"></script>


<!-- ä»£ç å—æ”¶ç¼© -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeShrink.js"></script>


<!-- ä»£ç å—æŠ˜è¡Œ -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;ç›®å½•</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC æ‚¬æµ®æŒ‰é’®. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('4'),
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* ä¿®å¤æ–‡ç« å¡ç‰‡ div çš„å®½åº¦. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // åˆ‡æ¢TOCç›®å½•å±•å¼€æ”¶ç¼©çš„ç›¸å…³æ“ä½œ.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



    <footer class="page-footer bg-color">
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2020</span>
            <a href="https://jackhcc.github.io" target="_blank">æ°å…‹æˆ</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;ç«™ç‚¹æ€»å­—æ•°:&nbsp;<span
                class="white-color">3591.2k</span>&nbsp;å­—
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;æ€»è®¿é—®é‡:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;æ¬¡
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;æ€»è®¿é—®äººæ•°:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;äºº
            </span>
            
            <br>
            
            <span id="sitetime">è½½å…¥è¿è¡Œæ—¶é—´...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2020";
                    var startMonth = "2";
                    var startDate = "27";
                    var startHour = "6";
                    var startMinute = "30";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "æœ¬ç«™å·²å®‰å…¨è¿è¡Œ " + diffDays + " å¤© " + diffHours +
                            " å°æ—¶ " + diffMinutes + " åˆ†é’Ÿ " + diffSeconds + " ç§’";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "æœ¬ç«™å·²å®‰å…¨è¿è¡Œ " + diffYears + " å¹´ " + diffDays +
                            " å¤© " + diffHours + " å°æ—¶ " + diffMinutes + " åˆ†é’Ÿ " + diffSeconds + " ç§’";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/JackHCC" class="tooltipped" target="_blank" data-tooltip="è®¿é—®æˆ‘çš„GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:jackcc0701@163.com" class="tooltipped" target="_blank" data-tooltip="é‚®ä»¶è”ç³»æˆ‘" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>



    <a href="https://www.facebook.com/profile.php?id=100046343443643" class="tooltipped" target="_blank" data-tooltip="å…³æ³¨æˆ‘çš„Facebook: https://www.facebook.com/profile.php?id=100046343443643" data-position="top" data-delay="50">
        <i class="fab fa-facebook-f"></i>
    </a>



    <a href="https://twitter.com/JackChe66021834" class="tooltipped" target="_blank" data-tooltip="å…³æ³¨æˆ‘çš„Twitter: https://twitter.com/JackChe66021834" data-position="top" data-delay="50">
        <i class="fab fa-twitter"></i>
    </a>



    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2508074836" class="tooltipped" target="_blank" data-tooltip="QQè”ç³»æˆ‘: 2508074836" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>



    <a href="https://weibo.com/u/6885584679" class="tooltipped" target="_blank" data-tooltip="å…³æ³¨æˆ‘çš„å¾®åš: https://weibo.com/u/6885584679" data-position="top" data-delay="50">
        <i class="fab fa-weibo"></i>
    </a>



    <a href="https://www.zhihu.com/people/8f8482f01f0d6a04e844efe32e0f0710" class="tooltipped" target="_blank" data-tooltip="å…³æ³¨æˆ‘çš„çŸ¥ä¹: https://www.zhihu.com/people/8f8482f01f0d6a04e844efe32e0f0710" data-position="top" data-delay="50">
        <i class="fab fa-zhihu1">çŸ¥</i>
    </a>



</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- æœç´¢é®ç½©æ¡† -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;æœç´¢</span>
            <input type="search" id="searchInput" name="s" placeholder="è¯·è¾“å…¥æœç´¢çš„å…³é”®å­—"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- å›åˆ°é¡¶éƒ¨æŒ‰é’® -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/materialize/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/aos/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/js/matery.js"></script>

    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas>
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
    <script type="text/javascript" src="/js/fireworks.js"></script>

    <script type="text/javascript">
        //åªåœ¨æ¡Œé¢ç‰ˆç½‘é¡µå¯ç”¨ç‰¹æ•ˆ
        var windowWidth = $(window).width();
        if (windowWidth > 768) {
            document.write('<script type="text/javascript" src="/js/sakura.js"><\/script>'); }
    </script>

    <!-- weather -->
	<script type="text/javascript">
	WIDGET = {FID: 'TToslpmkVO'}
	</script>
	<script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111"></script>


    <!-- Global site tag (gtag.js) - Google Analytics -->


    <!-- Baidu Analytics -->

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

    <!-- Baidu Push -->

    
    
    <script async src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/others/busuanzi.pure.mini.js"></script>
    

    
        <script src="//code.tidio.co/kqhlkxviiccyoa0czpfpu4ijuey9hfre.js"></script>
        <script> 
            $(document).ready(function () {
                setInterval(change_Tidio, 50);  
                function change_Tidio() { 
                    var tidio=$("#tidio-chat iframe");
                    if(tidio.css("display")=="block"&& $(window).width()>977 ){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" &&$(window).width()>977)>0? "-40px" : ($("div.toc-title").length&&$(window).width()>977)>0?"85px":"20px";   
                        document.getElementById("tidio-chat-iframe").style.right="-15px";   
                        document.getElementById("tidio-chat-iframe").style.height=parseInt(tidio.css("height"))>=520?"520px":tidio.css("height");
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    } 
                    else if(tidio.css("display")=="block"&&$(window).width()>601 &&$(window).width()<992 ){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" && 601< $(window).width()<992)>0? "-40px":"20px" ;   
                        document.getElementById("tidio-chat-iframe").style.right="-15px"; 
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    }
                    else if(tidio.css("display")=="block"&&$(window).width()<601 && parseInt(tidio.css("height"))<230){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" && $(window).width()<601)>0? "-10px":"45px" ;   
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    }
                    if( tidio.css("display")=="block"&&$(window).width()<601 && parseInt(tidio.css("height"))>=230){
                        document.getElementById("tidio-chat-iframe").style.zIndex="998";
                    }
                } 
            }); 
        </script>
    

    

    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/background/canvas-nest.js"></script>
    

    

    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/background/ribbon-dynamic.js" async="async"></script>
    
    
    
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/instantpage/instantpage.js" type="module"></script>
    

        <script src="//cdn.jsdelivr.net/npm/js-base64/base64.min.js"></script>
        <script>
        $('a').each(function() {
          const $this = $(this);
          const href = $this.attr('href');
          if (href && href.match('^((http|https|thunder|qqdl|ed2k|Flashget|qbrowser|ftp|rtsp|mms)://)')) {
            const strs = href.split('/');
            if (strs.length >= 3) {
                const host = strs[2];
                if (host !== 'your_domain' || window.location.host) {
                    $this.attr('href', '/go.html?u='+Base64.encode(href)+'').attr('rel', 'external nofollow noopener noreferrer');
                    if (true) {
                        $this.attr('target', '_blank');
                    }
                }
            }
          }
        });
        </script><script>!function(e){var c=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){for(var r=0;r<c.length;r++)t=c[r],0<=(n=t.getBoundingClientRect()).bottom&&0<=n.left&&n.top<=(e.innerHeight||document.documentElement.clientHeight)&&function(){var t,n,e,i,o=c[r];t=o,n=function(){c=c.filter(function(t){return o!==t})},e=new Image,i=t.getAttribute("data-original"),e.onload=function(){t.src=i,n&&n()},e.src=i}();var t,n}i(),e.addEventListener("scroll",function(){var t,n;t=i,n=e,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)})}(this);</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script></body>

</html>

