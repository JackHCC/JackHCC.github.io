<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Python-Seaborn详解, JackHCC">
    <meta name="description" content="Python Seaborn基本使用">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Python-Seaborn详解 | JackHCC</title>
    <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/favicon.png">

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/css/matery.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/css/my.css">
    
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/jquery/jquery.min.js"></script>
    
<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="JackHCC" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-hopscotch.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper head-container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/me.jpg" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">JackHCC</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-list" style="zoom: 0.6;"></i>
      
      <span>Tools</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="https://creativecc.cn/" target="_blank" rel="noopener">
          
          <i class="fas fa-book" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Creative工具导航</span>
        </a>
      </li>
      
      <li>
        <a href="https://blog.creativecc.cn/Arxiv-NLP-Reporter/" target="_blank" rel="noopener">
          
          <i class="fas fa-film" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>NLP每日论文</span>
        </a>
      </li>
      
      <li>
        <a href="http://chat.creativecc.cn/" target="_blank" rel="noopener">
          
          <i class="fas fa-music" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>RocketChat聊天室</span>
        </a>
      </li>
      
      <li>
        <a href="/contact">
          
          <i class="fas fa-comments" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Contact留言板</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/me.jpg" class="logo-img circle responsive-img">
        
        <div class="logo-name">JackHCC</div>
        <div class="logo-desc">
            
            Make the world betterrrr!!!
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-list"></i>
			
			Tools
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>   
				
                  <a href="https://creativecc.cn/ " target="_blank" rel="noopener" style="margin-left:75px";>
				  
				   <i class="fa fas fa-book" style="position: absolute;left:50px" ></i>
			      
		          <span>Creative工具导航</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="https://blog.creativecc.cn/Arxiv-NLP-Reporter/ " target="_blank" rel="noopener" style="margin-left:75px";>
				  
				   <i class="fa fas fa-film" style="position: absolute;left:50px" ></i>
			      
		          <span>NLP每日论文</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="http://chat.creativecc.cn/ " target="_blank" rel="noopener" style="margin-left:75px";>
				  
				   <i class="fa fas fa-music" style="position: absolute;left:50px" ></i>
			      
		          <span>RocketChat聊天室</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/contact " style="margin-left:75px";>
				  
				   <i class="fa fas fa-comments" style="position: absolute;left:50px" ></i>
			      
		          <span>Contact留言板</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/JackHCC/JackHCC.github.io" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/JackHCC/JackHCC.github.io" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/featureimages/20.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Python-Seaborn详解</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 30px;
        bottom: 146px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Seaborn/">
                                <span class="chip bg-color">Seaborn</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Python/" class="post-category">
                                Python
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-09-05
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2021-12-08
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    52.6k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    240 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>

        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Seaborn-简介"><a href="#Seaborn-简介" class="headerlink" title="Seaborn 简介"></a>Seaborn 简介</h1><p>Seaborn 是一个基于 <a href="https://matplotlib.org/" target="_blank" rel="noopener">matplotlib</a> 且数据结构与 <a href="https://pandas.pydata.org/" target="_blank" rel="noopener">pandas</a> 统一的统计图制作库。</p>
<p>这里列出了一些 seaborn 的功能：</p>
<ul>
<li>计算多变量间关系的面向数据集接口</li>
<li>可视化类别变量的观测与统计</li>
<li>可视化单变量或多变量分布并与其子数据集比较</li>
<li>控制线性回归的不同因变量并进行参数估计与作图</li>
<li>对复杂数据进行易行的整体结构可视化</li>
<li>对多表统计图的制作高度抽象并简化可视化过程</li>
<li>提供多个内建主题渲染 matplotlib 的图像样式</li>
<li>提供调色板工具生动再现数据</li>
</ul>
<p>Seaborn 框架旨在以数据可视化为中心来挖掘与理解数据。它提供的面向数据集制图函数主要是对行列索引和数组的操作，包含对整个数据集进行内部的语义映射与统计整合，以此生成富于信息的图表。</p>
<p>下面是一些 ? 的喵：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>
tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
            hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span>
            data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/edfd168858231883b7e55e685f2f4e0d.jpg" alt=""></p>
<p>上面发生了什么呢？我们一步步分析：</p>
<ol>
<li>我们装载 seaborn，这是这个例子唯一需要的 python 库。</li>
</ol>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>此处，seaborn 实际调用了 matplotlib 作图。虽然很多任务都可以直接使用 seaborn 提供的函数来完成，不过一些更深层或者更加个性化的可能需要直接使用 matplotlib 来实现，下面会详细介绍这一点。如果需要获得交互式体验，推荐使用 Jupyter/IPython 工具并开启 matplotlib 模式。否则，在使用交互式工具时如果想要看到图片需要调用 matplotlib.pyplot.show 函数。</p>
<ol>
<li>我们设置并使用 seaborn 默认的主题、尺寸大小以及调色板。</li>
</ol>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这里改变了 <a href="https://matplotlib.org/users/customizing.html" target="_blank" rel="noopener">matplotlib rcParam 系统</a> 所以会影响所有 matplotlib 图像的显示，即使你没有显式的调用 seaborn 修改这些参数。除了缺省的主题，我们提供一些其他选项，你可以独立的控制图片风格与尺寸来将他们迅速应用到演讲当中（例如，在演讲投影中使用一个拥有可阅读字体的图表）。如果你倾向于使用默认 matplotlib 主题或者其他的内置样式，你可以跳过这一部分，只使用 seaborn 提供的制图函数。</p>
<ol>
<li>装载数据集</li>
</ol>
<pre class="line-numbers language-python"><code class="language-python">tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>文档中的代码多数会使用 <code>load_dataset()</code> 去取得样例数据集。这些数据集没什么特殊，都是 pandas 的数据结构（dataframes），所以我们也可以使用 <code>pandas.read_csv</code> 或者手动输入创建数据集。在文档中，多数作图都使用 <code>tips</code> 数据集，非常无聊但是就说明状况的作用还是可以。<code>tips</code> 数据集提供了一种“整洁”的整合数据的方式，所以如果你使用这种方式来整合自己的数据，使用 seaborn 再好不过了。下面详细解释为什么。</p>
<ol>
<li>我们写一个多子图散点图，分配语义变量</li>
</ol>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
            hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span>
            data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>这张图说明了 <code>tips</code> 数据集中五个变量的关系，三个是数值变量，另外两个是类别变量。其中 <code>total_bill</code> 和 <code>tip</code> 这两个数值变量决定了轴上每个点出现的位置，另外一个 <code>size</code> 变量影响着出现点的大小。第一个类别变量 <code>time</code> 将散点图分为两个子图，第二个类别变量 <code>smoker</code> 决定点的形状。</p>
<p>所有上述内容均由 <code>relplot</code> 一次调用生成。注意，在函数调用过程中，我们仅仅使用变量名来划分图像中的不同的语义。如果直接使用 matplotlib ，就必须将变量转换为可视化函数的参数（例如，指定颜色，指定每个类别的制图方式），这在 seaborn 中被自动执行了，以此让使用者将注意力放在他们要解决的问题上。</p>
<h2 id="接口抽象"><a href="#接口抽象" class="headerlink" title="接口抽象"></a>接口抽象</h2><p>因为不存在可视化数据的最好方式，每一个制图所描述的问题都有自己最合适的可视化方法。seaborn 旨在让可视化方法间的切换变得更容易，有时仅仅需要改变同一个接口中的参数即可。</p>
<p>函数 <code>relplot()</code> 之所以这样命名是因为设计这个函数的初衷是想让他体现多个统计间的关系。散点图可以很好的体现统计数据间的关系，但是如果有一个变量具有时间意义，那线状图可能更好一点，因此，<code>relplot()</code> 函数提供了一个 <code>kind</code> 接口可以很方便的用作于改变图像的组织方式。</p>
<pre class="line-numbers language-python"><code class="language-python">dots <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"dots"</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"firing_rate"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"align"</span><span class="token punctuation">,</span>
            hue<span class="token operator">=</span><span class="token string">"choice"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"coherence"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"choice"</span><span class="token punctuation">,</span>
            facet_kws<span class="token operator">=</span>dict<span class="token punctuation">(</span>sharex<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token string">"full"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>dots<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/304d64035cdade741a6566356fb5105f.jpg" alt=""></p>
<p>参数 <code>size</code> 和 <code>style</code> 被散点图和线状图共享，但是他们对这些可视化结果产生的影响是不同的（例如，改变点大小和线的样式）。这些细节在实际使用中是无需被关注的，我们只需要将注意力放在组织图像的结构与我们想表达的信息中。</p>
<h2 id="估计与误差"><a href="#估计与误差" class="headerlink" title="估计与误差"></a>估计与误差</h2><p>我们常常会想知道一个变量的均值函数以便在计算其他变量时作为可用参数。seaborn 的许多函数都可以自动的计算参数估计，这在解决一些问题中是十分必要的。</p>
<pre class="line-numbers language-python"><code class="language-python">fmri <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"fmri"</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"region"</span><span class="token punctuation">,</span>
            hue<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ea7a65c02fd53e88da3b411bce44613e.jpg" alt=""></p>
<p>估计统计参数时，seaborn 使用了 bootstrap 方法计算置信区间和误差以表示估计的不确定性程度。</p>
<p>Seaborn 还能实现一些不是很好用语言描述统计估计。比如，使用 <code>lmplot()</code> 可以将一个线性回归模型放在散点图当中去：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span>
           data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ed897fd7956612dbde4cb1f80e874a54.jpg" alt=""></p>
<h2 id="分类图"><a href="#分类图" class="headerlink" title="分类图"></a>分类图</h2><p>标准的散点图和线状图用来可视化数值型数据，但是可能有些变量含有分类信息，之前的做法不再合适。我们提供了一些可视化分类变量的函数，在 <code>catplot()</code> 中可以找到。和 <code>relplot()</code> 相似的地方是，写 <code>catplot()</code> 函数的目的是为了提供一个面向数据集的通用接口，不仅可以显示数值变量，同时展示一个或多个类别变量。</p>
<p>在下面这种图中，你可以改变观测的粒聚集度，最好的情况是，所有的观测值都被调整的恰好到不会重叠但是又是沿着类别轴的：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">"swarm"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/8c2ce11c1030543cc9193699a7799daa.jpg" alt=""></p>
<p>你也可以使用核密度估计来表示这些观测可能来源于的样本：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">"violin"</span><span class="token punctuation">,</span> split<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b7fc9d043ac684d49db7216d04477181.jpg" alt=""></p>
<p>或者你可以在每个嵌套类别变量中求其唯一均值与置信区间：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">"bar"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/afab9a9586d23bfd75307cf6ba8af4e7.jpg" alt=""></p>
<h2 id="图与轴的函数"><a href="#图与轴的函数" class="headerlink" title="图与轴的函数"></a>图与轴的函数</h2><p>了解 seaborn 提供的不同函数间的区别非常重要，到目前为止我们见到的函数都是基于 figure-level 的函数。由于直接创建包含子图的 matplotlib 图像，数据得以被沿着轴展开，挖掘数据得到了优化。这些函数还可以做一些比较有技巧性的事情，比如把图例放在轴外。我们可以使用 <code>FacetGrid</code> 来完成这些事情。</p>
<p>每一个 figure-level 的图像 <code>kind</code> （指传给 kind 参数位置的图类别变量）都包含着一个特殊的 axes-level 作为 <code>FacetGrid</code> 的对象。例如，散点图实际上使用的是 <code>scatterplot()</code> 函数，条形图使用的是 <code>barplot()</code> 函数，这些函数被称为 axes-level 因为他们只会作用一个独立 matplotlib 图像轴不会影响到其他剩余轴上的子图。</p>
<p>总之就是 figure-level 函数控制整个图像，axes-level 的函数可以和 matplotlib 图进行更复杂的结合，无论其他轴上的子图是否由 seaborn 作出。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
f<span class="token punctuation">,</span> axes <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> sharey<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> ax<span class="token operator">=</span>axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> ax<span class="token operator">=</span>axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5d9c323ba09277e74341a23fc4397041.jpg" alt=""></p>
<p>使用 figure-level 函数控制图像大小的方法和控制 matplotlib 图的方法有一点不同。figure-level 函数不会设置整个图的大小，而是调整每个组成图的子图的大小，并且对于子图设定高度与比例，不会去分别设定高度和宽度。这样的参数化形式使得控制图表大小更容易了，并不需要非得仔细计算到底结果图会包含多少行、多少列，即使这样容易让人比较晕：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"firing_rate"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"align"</span><span class="token punctuation">,</span>
            hue<span class="token operator">=</span><span class="token string">"choice"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"coherence"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"choice"</span><span class="token punctuation">,</span>
            height<span class="token operator">=</span><span class="token number">4.5</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">2</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">,</span>
            facet_kws<span class="token operator">=</span>dict<span class="token punctuation">(</span>sharex<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token string">"full"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>dots<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2b0ae6898e6a1091d872587335b2e5bf.jpg" alt=""></p>
<p>区别 figure-level 函数和 axes-level 函数的方法就是去看函数是否携带一个 <code>ax=</code> 参数。或者你可以查看他们的输出类型：axes-level 函数返回一个 matplotlib <code>axes</code>，figure-level 函数返回一个 <code>FacetGrid</code>。</p>
<h2 id="数据集结构可视化"><a href="#数据集结构可视化" class="headerlink" title="数据集结构可视化"></a>数据集结构可视化</h2><p>在 seaborn 中创建多子图的可视化结果有两种方法，两种方法都可以刻画数据集的结构。第一种<code>jointplot()</code> 方法注重单对单关系：</p>
<pre class="line-numbers language-python"><code class="language-python">iris <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"iris"</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"sepal_length"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"petal_length"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>iris<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/c4a64a553429646fe040a596413d44e4.jpg" alt=""></p>
<p>另一种是 <code>pairplot()</code> ，提供对数据更为全面的可视化。对于每对数据间的关系以及边缘分布都有考察，你可以选择用哪里分类变量作为条件：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>data<span class="token operator">=</span>iris<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"species"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/61b3a047c35b789c4461b09d5bed86ac.jpg" alt=""></p>
<p>这两种方法在数据可视化都提供一些自定义选项，他们都是对于两个高度可自定义的多图作图函数 <a href="https://www.bookstack.cn/read/seaborn-0.9/$docs-generated-seaborn.JointGrid.html#seaborn.JointGrid" target="_blank" rel="noopener"><code>JointGrid</code></a> 和 <a href="https://www.bookstack.cn/read/seaborn-0.9/$docs-generated-seaborn.PairGrid.html#seaborn.PairGrid" target="_blank" rel="noopener"><code>PairGrid</code></a> 再封装。</p>
<h2 id="自定义样式"><a href="#自定义样式" class="headerlink" title="自定义样式"></a>自定义样式</h2><p>Seaborn 库选择尽可能美观的设计，并且添加富于信息的标签。如果需要设计更为精致的图片可能会需要多执行一些步骤，这有多种方法。</p>
<p>第一种方法是使用 seaborn 给你的其他的主题。设置了不同的主题或者调色板样式会让整个图的效果都不一样：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"ticks"</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"muted"</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
            hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span>
            data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/4263c8446521fa44bcb4c6f2bdec4bad.jpg" alt=""></p>
<p>如果要仅针对图像设计，所有的 seaborn 函数都接受一系列的可选参数来改变默认的语义映射，比如颜色。（对颜色的恰当选择在数据可视化中非常关键，seaborn 提供了附加支持 来引导调色板的使用）。</p>
<p>最后，当 seaborn 的函数与 matploblib 函数具有显然一致性时（例如 <code>scatterplot()</code> 和 <code>plt.scatter</code>），多余的参数会被直接传给 matploblib 层：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
            hue<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span>
            palette<span class="token operator">=</span><span class="token string">"YlGnBu"</span><span class="token punctuation">,</span> markers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token string">"o"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> sizes<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            edgecolor<span class="token operator">=</span><span class="token string">".2"</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">75</span><span class="token punctuation">,</span>
            data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/506d0705fd945624be2ed50162adb4eb.jpg" alt=""></p>
<p>注意 <code>relplot()</code> 或者其他 figure-level 函数，因为当 <code>relplot()</code> 函数传递一些额外的关键字参数到 seaborn 底层的 axes-level 函数时，相当于将这些参数直接传给了底层 matplotlib 函数，这会使得你寻找对应文档变得有些麻烦，不过原则上是可以做到很高的自定义程度的。</p>
<p>有些 figure-level 的函数自定义可以通过传递额外参数到 <code>FacetGrid</code> 来实现，你可以使用这个对象的方法来控制图像的属性。甚至可以修改需要被作图的 matploblib 对象的值达到效果：</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
                height<span class="token operator">=</span><span class="token number">3.5</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">,</span>
                kind<span class="token operator">=</span><span class="token string">"box"</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"Meal"</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>set_axis_labels<span class="token punctuation">(</span><span class="token string">"Total bill ($)"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>set<span class="token punctuation">(</span>xlim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> yticklabels<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"Thursday"</span><span class="token punctuation">,</span> <span class="token string">"Friday"</span><span class="token punctuation">,</span> <span class="token string">"Saturday"</span><span class="token punctuation">,</span> <span class="token string">"Sunday"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>despine<span class="token punctuation">(</span>trim<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>fig<span class="token punctuation">.</span>set_size_inches<span class="token punctuation">(</span><span class="token number">6.5</span><span class="token punctuation">,</span> <span class="token number">3.5</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>ax<span class="token punctuation">.</span>set_xticks<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span><span class="token punctuation">,</span> minor<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
plt<span class="token punctuation">.</span>setp<span class="token punctuation">(</span>g<span class="token punctuation">.</span>ax<span class="token punctuation">.</span>get_yticklabels<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/3be223a42bf5ef33ccf970a4e8a79fe3.jpg" alt=""></p>
<p>Figure-level 函数作用于需要高效显示数据的情况，所以如果要更精确的调整大小与组织形式，直接使用 matploblib 或者使用对应的 seaborn axes-level 函数。matploblib 具有易于理解和强大的接口，任何有关图像属性的值都可以通过接口来完成设置。最好是将高度抽象的 seaborn 接口和可深度自定义的 matplotlib 接口一起使用来制作达到<a href="https://github.com/wagnerlabpapers/Waskom_PNAS_2017" target="_blank" rel="noopener">出版质量</a>的最终成果。</p>
<h2 id="组织数据集"><a href="#组织数据集" class="headerlink" title="组织数据集"></a>组织数据集</h2><p>之前提到过，如果你的数据整合的比较好，seaborn 的表现也会很出众。这种能称为做“长型”或者“整洁”数据在<a href="http://vita.had.co.nz/papers/tidy-data.html" target="_blank" rel="noopener">这里</a>被详细解释。这些方式可以大致概括为：</p>
<ol>
<li>每个变量占有一个列</li>
<li>每个观测占有一个行</li>
</ol>
<p>你的数据是否整洁了？一种比较好的思考方式是去想你要怎么画你的图，从这一点来讲，变量就是图中一种具有规律展现形式的元素。如果看看样例 <code>tips</code> 会比较好：</p>
<pre class="line-numbers language-python"><code class="language-python">tips<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">total_bill</th>
<th align="left">tip</th>
<th align="left">sex</th>
<th align="left">smoker</th>
<th align="left">day</th>
<th align="left">time</th>
<th align="left">size</th>
</tr>
</thead>
<tbody><tr>
<td align="left">0</td>
<td align="left">16.99</td>
<td align="left">1.01</td>
<td align="left">Female</td>
<td align="left">No</td>
<td align="left">Sun</td>
<td align="left">Dinner</td>
<td align="left">2</td>
</tr>
<tr>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">10.34</td>
<td align="left">1.66</td>
<td align="left">Male</td>
<td align="left">No</td>
<td align="left">Sun</td>
<td align="left">Dinner</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">21.01</td>
<td align="left">3.50</td>
<td align="left">Male</td>
<td align="left">No</td>
<td align="left">Sun</td>
<td align="left">Dinner</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">23.68</td>
<td align="left">3.31</td>
<td align="left">Male</td>
<td align="left">No</td>
<td align="left">Sun</td>
<td align="left">Dinner</td>
<td align="left">2</td>
</tr>
<tr>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">24.59</td>
<td align="left">3.61</td>
<td align="left">Female</td>
<td align="left">No</td>
<td align="left">Sun</td>
<td align="left">Dinner</td>
<td align="left">4</td>
</tr>
<tr>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
</tr>
</tbody></table>
<p>从某种意义上讲，使用这种组织方式开始可能会感觉尴尬，比如使用时间序列数据，将时间点作为观测值放在列中。我们之前使用的 <code>fmri</code> 数据集展示了一个整洁的时间点在不同行间的组织形式：</p>
<pre class="line-numbers language-python"><code class="language-python">fmri<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">subject</th>
<th align="left">timepoint</th>
<th align="left">event</th>
<th align="left">region</th>
<th align="left">signal</th>
</tr>
</thead>
<tbody><tr>
<td align="left">0</td>
<td align="left">s13</td>
<td align="left">18</td>
<td align="left">stim</td>
<td align="left">parietal</td>
<td align="left">-0.017552</td>
</tr>
<tr>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">s5</td>
<td align="left">14</td>
<td align="left">stim</td>
<td align="left">parietal</td>
<td align="left">-0.080883</td>
</tr>
<tr>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">s12</td>
<td align="left">18</td>
<td align="left">stim</td>
<td align="left">parietal</td>
<td align="left">-0.081033</td>
</tr>
<tr>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">s11</td>
<td align="left">18</td>
<td align="left">stim</td>
<td align="left">parietal</td>
<td align="left">-0.046134</td>
</tr>
<tr>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">s10</td>
<td align="left">18</td>
<td align="left">stim</td>
<td align="left">parietal</td>
<td align="left">-0.037970</td>
</tr>
<tr>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
<td align="left">—-</td>
</tr>
</tbody></table>
<p>许多 seaborn 函数都提供了画出大范围数据图的功能，虽然在函数性上有所限制。要利用好整合较好的数据集，你肯定会使用 <code>pandas.melt</code> 函数来解构一个大的数据集。</p>
<h1 id="安装和入门"><a href="#安装和入门" class="headerlink" title="安装和入门"></a>安装和入门</h1><p>为了安装最新版本的seaborn, 可以 <code>pip</code>命令:</p>
<pre><code>pip install seaborn</code></pre><p>也可以使用 <code>conda</code> 命令安装:</p>
<pre><code>conda install seaborn</code></pre><p>或者，您可以使用 <code>pip</code> 直接从github安装开发版本:</p>
<pre><code>pip install git+https://github.com/mwaskom/seaborn.git</code></pre><p>另外的方法是从 <a href="https://github.com/mwaskom/seaborn" target="_blank" rel="noopener">github仓库</a> 下载，从本地安装:</p>
<pre><code>pip install .</code></pre><h2 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h2><ul>
<li>Python 2.7 or 3.5+</li>
</ul>
<h3 id="必须的依赖"><a href="#必须的依赖" class="headerlink" title="必须的依赖"></a>必须的依赖</h3><ul>
<li><a href="http://www.numpy.org/" target="_blank" rel="noopener">numpy</a> (&gt;= 1.9.3)</li>
<li><a href="https://www.scipy.org/" target="_blank" rel="noopener">scipy</a> (&gt;= 0.14.0)</li>
<li><a href="https://matplotlib.org/" target="_blank" rel="noopener">matplotlib</a> (&gt;= 1.4.3)</li>
<li><a href="https://pandas.pydata.org/" target="_blank" rel="noopener">pandas</a> (&gt;= 0.15.2)</li>
</ul>
<h3 id="推荐的依赖"><a href="#推荐的依赖" class="headerlink" title="推荐的依赖"></a>推荐的依赖</h3><ul>
<li><a href="https://www.statsmodels.org/" target="_blank" rel="noopener">statsmodels</a> (&gt;= 0.5.0)</li>
</ul>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>为了测试 seaborn，请在源代码分发的根目录中运行 <code>make test</code>。 这会运行单元测试套件（使用 <code>pytest</code>，但许多旧测试使用 <code>nose</code> 断言）。 它还在函数 docstrings 中运行示例代码，以对更广泛和更现实的示例用法进行冒烟测试。</p>
<p>完整的测试集需要 Internet 连接才能下载示例数据集（如果以前没有缓存过），但单元测试应该可以离线运行。</p>
<h2 id="错误"><a href="#错误" class="headerlink" title="错误"></a>错误</h2><p>请通过 github <a href="https://github.com/mwaskom/seaborn/issues/new" target="_blank" rel="noopener">issue tracker</a> 报告您遇到的任何错误. 在其中一个示例数据集中包含可重现的示例（通过 <code>load_dataset()</code> 访问）将是最有帮助的。 如果不知道你正在使用的 seaborn 和 matplotlib 的版本，以及 用于绘图的 <a href="https://matplotlib.org/faq/usage_faq.html#what-is-a-backend" target="_blank" rel="noopener">matplotlib backend</a>，你很难调试任何问题，所以请在错误报告中包含这些内容。</p>
<h1 id="可视化统计关系"><a href="#可视化统计关系" class="headerlink" title="可视化统计关系"></a>可视化统计关系</h1><p>统计分析是了解数据集中的变量如何相互关联以及这些关系如何依赖于其他变量的过程。可视化是此过程的核心组件，这是因为当数据被恰当地可视化时，人的视觉系统可以看到指示关系的趋势和模式。</p>
<p>我们将在本教程中讨论三个seaborn函数。我们最常用的是<code>relplot()</code>。这是一个figure-level的函数，可以用散点图和线图两种通用的方法来可视化统计关系。<code>relplot()</code>将<code>FacetGrid</code> 与两个axes-level函数组合在一起:</p>
<ul>
<li><code>scatterplot()</code> (<code>kind="scatter"</code>; 默认值)</li>
<li><code>lineplot()</code>(<code>kind="line"</code>)</li>
</ul>
<p>正如我们将要看到的，这些函数可能非常有启发性，因为他们使用简单且易于理解的数据表示形式，且仍然能够表示复杂的数据集结构。之所以可以这样，是因为它们可以通过色调、大小和样式的语义映射最多三个额外的变量来增强绘制的二维图形。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"darkgrid"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="用散点图关联变量"><a href="#用散点图关联变量" class="headerlink" title="用散点图关联变量"></a>用散点图关联变量</h2><p>散点图是数据可视化的支柱，它通过点云描绘了两个变量的联合分布，其中每个点代表数据集中的一个观测值。这种描述能够使我们通过视觉推断出许多信息，他们之间是否存在任何有意义的关系。</p>
<p>在seaborn中有多种方式绘制散点图。当两个变量的是数值型时，最基本的是函数<code>scatterplot()</code>。在 类别可视化，我们将会看到使用散点图来显示类别数据的专用工具。<code>scatterplot()</code>是<code>relplot()</code>中<code>kind</code>的默认类型(也可以通过<code>kind="scatter"</code>来设置):</p>
<pre class="line-numbers language-python"><code class="language-python">tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/da2b66e95b2bbd08f2c58046234e97b1.jpg" alt=""></p>
<p>虽然这些点是以二维绘制的，但可以通过根据第三个变量对点进行着色来将另一个维度添加到绘图中。在seaborn中，这被称为使用“色调语义”，因为该点的颜色获得了意义：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/7e2cd86a1f38e486133cd69728feed62.jpg" alt=""></p>
<p>为了强调类别之间的差异并提高可访问性，可以为每个类别使用不同的标记样式：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/9240094a48ef05fa3a34fab7ea6bb093.jpg" alt=""></p>
<p>也可以通过单独改变每个点的色调和样式来表示四个变量。但是这应该谨慎，因为眼睛对形状的敏感度远低于对颜色的敏感度:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/36180ad55b36cb767608c261d92e2918.jpg" alt=""></p>
<p>在上面的例子中，色调语义表示类别，所以使用了默认的定性调色板。如果色调语义表示数值(特别是，如果它可以转换为浮点数)，默认的颜色切换到顺序调色板:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/e2261011757746831cd8de1e799bf2e5.jpg" alt=""></p>
<p>在这两种情况下，您都可以自定义调色板，有多种方式可以实现。在这里，我们使用<code>cubehelix_palette()</code>的字符串接口自定义一个顺序调色板:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"ch:r=-.5,l=.75"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/3a9f5f15fbcf65ae0763da92544620c3.jpg" alt=""></p>
<p>第三个语义变量改变每个点的大小:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/c89bfa6f82af190645b6a97983037d2f.jpg" alt=""></p>
<p>与<code>matplotlib.pyplot.scatter()</code>不同，变量的值不用于直接决定点的面积。数据单位中的值范围被规范化为面积单位的范围，这个范围可以自定义:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> sizes<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/c622412b599649be9b4d765223de73f5.jpg" alt=""></p>
<p>在<code>scatterplot()</code>API示例中展示了更多如何通过自定义使用不同语义来显示统计关系的示例。</p>
<h2 id="强调线图的连续性"><a href="#强调线图的连续性" class="headerlink" title="强调线图的连续性"></a>强调线图的连续性</h2><p>散点图是非常有效的，但是没有通用的最优可视化类型。相反，可视表示应该适应数据集的细节以及您试图用图表回答的问题。</p>
<p>对于某些数据集，您可能希望了解一个变量中的变化关于时间的函数，或者类似的连续变量。在这种情况下，一个很好的选择是绘制线图。在seaborn中，这可以通过<code>lineplot()</code>函数直接实现，也可以通过设置<code>relplot()</code>的参数<code>kind="line"</code>来实现:</p>
<pre class="line-numbers language-python"><code class="language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>dict<span class="token punctuation">(</span>time<span class="token operator">=</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                       value<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
g <span class="token operator">=</span> sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"value"</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>df<span class="token punctuation">)</span>
g<span class="token punctuation">.</span>fig<span class="token punctuation">.</span>autofmt_xdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/41ec1c6b7e5de5ac6cc5f6020ac029fc.jpg" alt=""></p>
<p>由于<code>lineplot()</code>假设您想要将<code>y</code>绘制为<code>x</code>的函数，默认行为是在绘制之前按数字<code>x</code>对数据进行排序。但是，这可以被禁用：</p>
<pre class="line-numbers language-python"><code class="language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"x"</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">,</span> sort<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>df<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2d731687030e9e2dab13cbdb46017e91.jpg" alt=""></p>
<h3 id="聚合和表示不确定性"><a href="#聚合和表示不确定性" class="headerlink" title="聚合和表示不确定性"></a>聚合和表示不确定性</h3><p>更复杂的数据集将对<code>x</code>变量的相同值有多个观测值。seaborn的默认行为是通过绘制平均值及95%的置信区间，在每个<code>x</code>周围聚合多个测量值:</p>
<pre class="line-numbers language-python"><code class="language-python">fmri <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"fmri"</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/c1b2a3e1708607a80c705b690a9c6c5a.jpg" alt=""></p>
<p>置信区间是使用bootstrapping计算的，对于较大的数据集，它可能是时间密集型的。因此，可以禁用它们:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> ci<span class="token operator">=</span>None<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/95ca0b5950c77a49aceb9f22e148ba9c.jpg" alt=""></p>
<p>尤其是对于较大的数据，另一个不错的选择是通过绘制标准差，而不是置信区间来表示分布在每个时间点的分布范围:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token string">"sd"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/318e42d583df0fc8e01c6d7c565d758c.jpg" alt=""></p>
<p>可以通过设置<code>estimator</code>参数为<code>None</code>，来完全停用聚合。当数据在每个点上有多个观察值时，这可能会产生奇怪的效果。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> estimator<span class="token operator">=</span>None<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5edaaa0dfdffc4b78552a1a5b68f5491.jpg" alt=""></p>
<h3 id="Plotting-subsets-of-data-with-semantic-mappings"><a href="#Plotting-subsets-of-data-with-semantic-mappings" class="headerlink" title="Plotting subsets of data with semantic mappings"></a>Plotting subsets of data with semantic mappings</h3><p>函数<code>lineplot()</code>与<code>scatterplot()</code>具有相同的灵活性：它可以通过修改绘图元素的色调，大小和样式来显示最多三个附加变量。它使用于<code>scatterplot()</code>相同的API，这意味着我们不需要停下来考虑控制matplotlib中线条与点外观的参数。</p>
<p>在<code>lineplot()</code>中使用语义也将决定数据的聚合方式。例如，添加具有两个级别的色调语义将绘图分成两行以及错误带，每个都着色以指示它们对应于哪个数据集。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a9e30b276189c5c26d3a9959798a84a6.jpg" alt=""></p>
<p>在线条图中添加样式语义默认情况下会改变线条中的破折号模式：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"region"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b51b0bae21d924ef1f739aabdd811e31.jpg" alt=""></p>
<p>但您可以通过每次观察时使用的标记识别子集，或者使用短划线或代替它们：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"region"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/68010acf9a074a4aa94ad7e89b9a819e.jpg" alt=""></p>
<p>与散点图一样，要谨慎使用多个语义制作线图。虽然有时提供信息，但它们也很难解析和解释。但当您只检查一个附加变量的变化时，更改线条的颜色和样式也很有用。当打印成黑白或有色盲的人观看时，这可以使绘图更容易访问：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/e04dba52166d9d9333fcd7d824a3bb02.jpg" alt=""></p>
<p>当您使用重复测量数据（即，您有多次采样的单位）时，您还可以单独绘制每个采样单位，而无需通过语义区分它们。这样可以避免使图例混乱：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"region"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span>
            dashes<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> markers<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/21df9f9baaa60a010973e5b26a1e7259.jpg" alt=""></p>
<p><code>lineplot()</code>中默认的色彩映射和图例的处理还取决于色调语义是类别还是数值：</p>
<pre class="line-numbers language-python"><code class="language-python">dots <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"dots"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">"align == 'dots'"</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"firing_rate"</span><span class="token punctuation">,</span>
            hue<span class="token operator">=</span><span class="token string">"coherence"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"choice"</span><span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>dots<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/1e1bc5f34e003c074af116c6f2a0cd58.jpg" alt=""></p>
<p>可能会发生这样的情况：即使<code>hue</code>变量是数值，它也很难用线性色标表示。如下示例，其中<code>hue</code>变量的级别以对数方式缩放。您可以通过传递列表或字典为每一行提供特定的颜色值：</p>
<pre class="line-numbers language-python"><code class="language-python">palette <span class="token operator">=</span> sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span>light<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">8</span><span class="token punctuation">,</span> n_colors<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"firing_rate"</span><span class="token punctuation">,</span>
            hue<span class="token operator">=</span><span class="token string">"coherence"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"choice"</span><span class="token punctuation">,</span>
            palette<span class="token operator">=</span>palette<span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>dots<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a1749fc5a5cf2bb2e4b3c4c741c1b8f7.jpg" alt=""></p>
<p>或者您可以更改色彩映射的规范化方式：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> matplotlib<span class="token punctuation">.</span>colors <span class="token keyword">import</span> LogNorm
palette <span class="token operator">=</span> sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span>light<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">7</span><span class="token punctuation">,</span> n_colors<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"firing_rate"</span><span class="token punctuation">,</span>
            hue<span class="token operator">=</span><span class="token string">"coherence"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"choice"</span><span class="token punctuation">,</span>
            hue_norm<span class="token operator">=</span>LogNorm<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>dots<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/fe7b4873c67199b180714300c4b65def.jpg" alt=""></p>
<p>第三个语义，<code>size</code>改变线的宽度：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"firing_rate"</span><span class="token punctuation">,</span>
            size<span class="token operator">=</span><span class="token string">"coherence"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"choice"</span><span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>dots<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/3ab581b389567a79a8bf4ddd79ec9356.jpg" alt=""></p>
<p>虽然<code>size</code>变量通常是数值型的，但是也可以用线宽映射为类别变量。在这样做的时候要小心，因为除了“粗”线和“细”线之外，很难区分更多。然而，当线具有高频变异性时，破折号很难被察觉，因此在这种情况下，使用不同的宽度可能更有效:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"firing_rate"</span><span class="token punctuation">,</span>
           hue<span class="token operator">=</span><span class="token string">"coherence"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"choice"</span><span class="token punctuation">,</span>
           palette<span class="token operator">=</span>palette<span class="token punctuation">,</span>
           kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>dots<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/de02eb5b7f92879b7db8e43542d3bef9.jpg" alt=""></p>
<h3 id="用日期数据绘图"><a href="#用日期数据绘图" class="headerlink" title="用日期数据绘图"></a>用日期数据绘图</h3><p>线图通常用于可视化与实际日期和时间相关的数据。这些函数以原始格式将数据传递给底层的matplotlib函数，因此他们可以利用matplotlib在tick标签中设置日期格式的功能。但是所有这些格式化都必须在matplotlib层进行，您应该参考matplotlib文档来了解它是如何工作的：</p>
<pre class="line-numbers language-python"><code class="language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>dict<span class="token punctuation">(</span>time<span class="token operator">=</span>pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">"2017-1-1"</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                       value<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
g <span class="token operator">=</span> sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"value"</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>df<span class="token punctuation">)</span>
g<span class="token punctuation">.</span>fig<span class="token punctuation">.</span>autofmt_xdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ec42ca3d421c2355f3f6ef3ce2b26cfe.jpg" alt=""></p>
<h2 id="显示与切面的多种关系"><a href="#显示与切面的多种关系" class="headerlink" title="显示与切面的多种关系"></a>显示与切面的多种关系</h2><p>我们在本教程中强调，虽然这些函数可以同时显示几个语义变量，但这样做并不总是有效的。但是，当你想要了解两个变量之间的关系如何依赖于多个其他变量时呢？</p>
<p>最好的方法可能是多次绘制。因为<code>relplot()</code>基于<code>FacetGrid</code>，所以这很容易做到。要显示附加变量的影响，而不是将其分配给图中的一个语义角色，而是使用它来“切面”可视化。这意味着您可以创建多个轴并在每个轴上绘制数据的子集:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/68f664bef239fbf14e3fa497f5ff9a02.jpg" alt=""></p>
<p>您还可以通过这种方式显示两个变量的影响：一个是通过在列上切面而另一个是在行上切面。当您开始向网格添加更多变量时，您可能希望减小图形大小。请记住，大小<code>FacetGrid</code>由每个切面的高度和长宽比参数化的：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"subject"</span><span class="token punctuation">,</span>
            col<span class="token operator">=</span><span class="token string">"region"</span><span class="token punctuation">,</span> row<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> estimator<span class="token operator">=</span>None<span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6f53de8393d846c1c350ac9a5e85c900.jpg" alt=""></p>
<p>当您想要检查一个变量的多个级别的效果时，在列上对该变量进行切面处理，然后将切面“包装”到行中:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span>
            col<span class="token operator">=</span><span class="token string">"subject"</span><span class="token punctuation">,</span> col_wrap<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>
            height<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">75</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">2.5</span><span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">"region == 'frontal'"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f6baefd0e5308da156602144fc329c25.jpg" alt=""></p>
<p>这些可视化通常被称为格点图，它们非常有效，因为它们以总体模式和与这些模式的偏差的数据格式来呈现数据，便于眼睛观察。虽然你应该利用<code>scatterplot()</code>和<code>relplot()</code>提供的灵活性，但一定要记住，几个简单的图通常比一个复杂的图更有效。</p>
<h1 id="可视化数据集的分布"><a href="#可视化数据集的分布" class="headerlink" title="可视化数据集的分布"></a>可视化数据集的分布</h1><p>在处理一组数据时，您通常想做的第一件事就是了解变量的分布情况。本教程的这一章将简要介绍seaborn中用于检查单变量和双变量分布的一些工具。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">from</span> scipy <span class="token keyword">import</span> stats
sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>color_codes<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="绘制单变量分布"><a href="#绘制单变量分布" class="headerlink" title="绘制单变量分布"></a>绘制单变量分布</h2><p>在seaborn中想要快速查看单变量分布的最方便的方法是使用<code>distplot()</code>函数。默认情况下，该方法将会绘制直方图<a href="https://en.wikipedia.org/wiki/Histogram" target="_blank" rel="noopener">histogram</a>并拟合[内核密度估计] <a href="https://en.wikipedia.org/wiki/Kernel_density_estimation" target="_blank" rel="noopener">kernel density estimate</a> (KDE).</p>
<pre class="line-numbers language-python"><code class="language-python">x <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/fea324aca2ed4416872749b8352a5412.jpg" alt=""></p>
<h3 id="直方图"><a href="#直方图" class="headerlink" title="直方图"></a>直方图</h3><p>对于直方图我们可能很熟悉，而且matplotlib中已经存在<code>hist</code>函数。 直方图首先确定数据区间，然后观察数据落入这些区间中的数量来绘制柱形图以此来表征数据的分布情况。为了说明这一点，让我们删除密度曲线并添加一个rug plot，它在每个观察值上画一个小的垂直刻度。您可以使用<code>rugplot()</code> 函数来创建rugplot本身，但是也可以在 <code>distplot()</code>中使用:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> kde<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> rug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/3a0a2053efeea3a9932d764e2d71470d.jpg" alt=""></p>
<p>在绘制柱状图时，您的主要选择是要使用的“桶”的数量和放置它们的位置。 <code>distplot()</code> 使用一个简单的规则来很好地猜测默认情况下正确的数字是多少，但是尝试更多或更少的“桶”可能会揭示数据中的其他特性:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span> kde<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> rug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5193c672119d848c7926379d43f7f0cc.jpg" alt=""></p>
<h3 id="核密度估计"><a href="#核密度估计" class="headerlink" title="核密度估计"></a>核密度估计</h3><p>可能你对核密度估计不太熟悉，但它可以是绘制分布形状的有力工具。和直方图一样，KDE图沿另一个轴的高度，编码一个轴上的观测密度：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> hist<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> rug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a6d422236da60cc9bd01d12080b60453.jpg" alt=""></p>
<p>绘制KDE比绘制直方图更需要计算。每个观测值首先被一个以该值为中心的正态(高斯)曲线所取代:</p>
<pre class="line-numbers language-python"><code class="language-python">x <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span>
bandwidth <span class="token operator">=</span> <span class="token number">1.06</span> <span class="token operator">*</span> x<span class="token punctuation">.</span>std<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> x<span class="token punctuation">.</span>size <span class="token operator">**</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
support <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
kernels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> x_i <span class="token keyword">in</span> x<span class="token punctuation">:</span>
    kernel <span class="token operator">=</span> stats<span class="token punctuation">.</span>norm<span class="token punctuation">(</span>x_i<span class="token punctuation">,</span> bandwidth<span class="token punctuation">)</span><span class="token punctuation">.</span>pdf<span class="token punctuation">(</span>support<span class="token punctuation">)</span>
    kernels<span class="token punctuation">.</span>append<span class="token punctuation">(</span>kernel<span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>support<span class="token punctuation">,</span> kernel<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"r"</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>rugplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">".2"</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/31ee2d7a3dfda467565a2053ac19a38f.jpg" alt=""></p>
<p>接下来，对这些曲线求和，计算支持网格(support grid)中每个点的密度值。然后对得到的曲线进行归一化，使曲线下的面积等于1:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> scipy<span class="token punctuation">.</span>integrate <span class="token keyword">import</span> trapz
density <span class="token operator">=</span> np<span class="token punctuation">.</span>sum<span class="token punctuation">(</span>kernels<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
density <span class="token operator">/=</span> trapz<span class="token punctuation">(</span>density<span class="token punctuation">,</span> support<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>support<span class="token punctuation">,</span> density<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d0ff3115fb5935fe56c1bb8123d5ddce.jpg" alt=""></p>
<p>我们可以看到，如果在seaborn中使用<code>kdeplot()</code> 函数， 我们可以得到相同的曲线。这个函数也被<code>distplot()</code>所使用, 但是当您只想要密度估计时，它提供了一个更直接的接口，可以更容易地访问其他选项:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> shade<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/247df80468d3edbc28836cb1cc56c81c.jpg" alt=""></p>
<p>KDE的带宽（<code>bw</code>）参数控制估计与数据的拟合程度，就像直方图中的bin大小一样。 它对应于我们在上面绘制的内核的宽度。 默认行为尝试使用常用参考规则猜测一个好的值，但尝试更大或更小的值可能会有所帮助：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> bw<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">2</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">"bw: 0.2"</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> bw<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">"bw: 2"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/8a713fe4da039acf9c3a4e70b274b60a.jpg" alt=""></p>
<p>正如您在上面所看到的，高斯KDE过程的本质意味着估计超出了数据集中最大和最小的值。有可能控制超过极值多远的曲线是由’cut’参数绘制的;然而，这只影响曲线的绘制方式，而不影响曲线的拟合方式:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> shade<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> cut<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>rugplot<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/63e498131614f726dd72a90161b58971.jpg" alt=""></p>
<h3 id="拟合参数分布"><a href="#拟合参数分布" class="headerlink" title="拟合参数分布"></a>拟合参数分布</h3><p>您还可以使用 <code>distplot()</code></p>
<p>将参数分布拟合到数据集上，并直观地评估其与观测数据的对应程度:</p>
<pre class="line-numbers language-python"><code class="language-python">x <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>gamma<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> kde<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> fit<span class="token operator">=</span>stats<span class="token punctuation">.</span>gamma<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/cf48dc45f5484db58f3d310e434b11a2.jpg" alt=""></p>
<h2 id="绘制二元分布"><a href="#绘制二元分布" class="headerlink" title="绘制二元分布"></a>绘制二元分布</h2><p>它对于可视化两个变量的二元分布也很有用。在seaborn中，最简单的方法就是使用<code>jointplot()</code>函数，它创建了一个多面板图形，显示了两个变量之间的二元(或联合)关系，以及每个变量在单独轴上的一元(或边际)分布。</p>
<pre class="line-numbers language-python"><code class="language-python">mean<span class="token punctuation">,</span> cov <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>multivariate_normal<span class="token punctuation">(</span>mean<span class="token punctuation">,</span> cov<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"x"</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="散点图"><a href="#散点图" class="headerlink" title="散点图"></a>散点图</h3><p>可视化二元分布最常见的方法是散点图，其中每个观察点都以<em>x</em>和<em>y</em>值表示。 这类似于二维rug plot。 您可以使用matplotlib的<code>plt.scatter</code> 函数绘制散点图, 它也是 <code>jointplot()</code>函数显示的默认类型的图:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>df<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/66ba868aeef60b82d90c872e188217ed.jpg" alt=""></p>
<h3 id="六边形“桶”-Hexbin-图"><a href="#六边形“桶”-Hexbin-图" class="headerlink" title="六边形“桶”(Hexbin)图"></a>六边形“桶”(Hexbin)图</h3><p>类似于单变量的直方图，用于描绘二元变量关系的图称为 “hexbin” 图,因为它显示了落入六边形“桶”内的观察计数。 此图对于相对较大的数据集最有效。它可以通过调用matplotlib中的 <code>plt.hexbin</code>函数获得并且在<code>jointplot()</code>作为一种样式。当使用白色作为背景色时效果最佳。</p>
<pre class="line-numbers language-python"><code class="language-python">x<span class="token punctuation">,</span> y <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>multivariate_normal<span class="token punctuation">(</span>mean<span class="token punctuation">,</span> cov<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span>T
<span class="token keyword">with</span> sns<span class="token punctuation">.</span>axes_style<span class="token punctuation">(</span><span class="token string">"white"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    sns<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"hex"</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"k"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/621cac508b507f43ba50f91290aea5fd.jpg" alt=""></p>
<h3 id="核密度估计-1"><a href="#核密度估计-1" class="headerlink" title="核密度估计"></a>核密度估计</h3><p>也可以使用上面描述的核密度估计过程来可视化二元分布。在seaborn中，这种图用等高线图表示， 在<code>jointplot()</code>中被当作一种样式:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>df<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"kde"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/3fa9b8716f00e81aa6ca6864cb110e2b.jpg" alt=""></p>
<p>您还可以使用<code>kdeplot()</code>函数绘制二维核密度图。这允许您在一个特定的(可能已经存在的)matplotlib轴上绘制这种图，而 <code>jointplot()</code> 函数能够管理它自己的图:</p>
<pre class="line-numbers language-python"><code class="language-python">f<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>df<span class="token punctuation">.</span>x<span class="token punctuation">,</span> df<span class="token punctuation">.</span>y<span class="token punctuation">,</span> ax<span class="token operator">=</span>ax<span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>rugplot<span class="token punctuation">(</span>df<span class="token punctuation">.</span>x<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>ax<span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>rugplot<span class="token punctuation">(</span>df<span class="token punctuation">.</span>y<span class="token punctuation">,</span> vertical<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>ax<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5bbf1afea90de1dcab11584fb0169efe.jpg" alt=""></p>
<p>如果希望更连续地显示双变量密度，可以简单地增加轮廓层的数量:</p>
<pre class="line-numbers language-python"><code class="language-python">f<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
cmap <span class="token operator">=</span> sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span>as_cmap<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> dark<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> light<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>df<span class="token punctuation">.</span>x<span class="token punctuation">,</span> df<span class="token punctuation">.</span>y<span class="token punctuation">,</span> cmap<span class="token operator">=</span>cmap<span class="token punctuation">,</span> n_levels<span class="token operator">=</span><span class="token number">60</span><span class="token punctuation">,</span> shade<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/fd8b7fa16dccb291fe1a2148a45e3eba.jpg" alt=""></p>
<p><code>jointplot()</code>函数使用<code>JointGrid</code>来管理图形。为了获得更大的灵活性，您可能想直接使用<code>JointGrid</code>来绘制图形。<code>jointplot()</code>在绘图后返回<code>JointGrid</code>对象，您可以使用它添加更多图层或调整可视化的其他方面：</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>df<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"kde"</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"m"</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>plot_joint<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">"w"</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">"+"</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>ax_joint<span class="token punctuation">.</span>collections<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_alpha<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>set_axis_labels<span class="token punctuation">(</span><span class="token string">"$X$"</span><span class="token punctuation">,</span> <span class="token string">"$Y$"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/aeaafccce597b72105feb6cf712b0ca2.jpg" alt=""></p>
<h2 id="可视化数据集中的成对关系"><a href="#可视化数据集中的成对关系" class="headerlink" title="可视化数据集中的成对关系"></a>可视化数据集中的成对关系</h2><p>要在数据集中绘制多个成对的双变量分布，您可以使用<code>pairplot()</code>函数。 这将创建一个轴矩阵并显示DataFrame中每对列的关系，默认情况下，它还绘制对角轴上每个变量的单变量分布：</p>
<pre class="line-numbers language-python"><code class="language-python">iris <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"iris"</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>iris<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/bea67bf34fcd01d7b6f454ae5f563460.jpg" alt=""></p>
<p>与<code>jointplot()</code>和<code>JointGrid</code>之间的关系非常类似， <code>pairplot()</code>函数构建在<code>PairGrid</code>对象之上, 可以直接使用它来获得更大的灵活性：</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>iris<span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map_diag<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map_offdiag<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">,</span> n_levels<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/c65d91122f8de69b16659df5ab31214e.jpg" alt=""></p>
<h1 id="Visualizing-linear-relationships"><a href="#Visualizing-linear-relationships" class="headerlink" title="Visualizing linear relationships"></a>Visualizing linear relationships</h1><p>Many datasets contain multiple quantitative variables, and the goal of an analysis is often to relate those variables to each other. We previously discussed functions that can accomplish this by showing the joint distribution of two variables. It can be very helpful, though, to use statistical models to estimate a simple relationship between two noisy sets of observations. The functions discussed in this chapter will do so through the common framework of linear regression.</p>
<p>In the spirit of Tukey, the regression plots in seaborn are primarily intended to add a visual guide that helps to emphasize patterns in a dataset during exploratory data analyses. That is to say that seaborn is not itself a package for statistical analysis. To obtain quantitative measures related to the fit of regression models, you should use <a href="https://www.statsmodels.org/" target="_blank" rel="noopener">statsmodels</a>. The goal of seaborn, however, is to make exploring a dataset through visualization quick and easy, as doing so is just as (if not more) important than exploring a dataset through tables of statistics.</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>color_codes<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Functions-to-draw-linear-regression-models"><a href="#Functions-to-draw-linear-regression-models" class="headerlink" title="Functions to draw linear regression models"></a>Functions to draw linear regression models</h2><p>Two main functions in seaborn are used to visualize a linear relationship as determined through regression. These functions, <code>regplot()</code> and <code>lmplot()</code> are closely related, and share much of their core functionality. It is important to understand the ways they differ, however, so that you can quickly choose the correct tool for particular job.</p>
<p>In the simplest invocation, both functions draw a scatterplot of two variables, <code>x</code> and <code>y</code>, and then fit the regression model <code>y ~ x</code> and plot the resulting regression line and a 95% confidence interval for that regression:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/06f05fb132ef0dc7f9cca60a16b84f1a.jpg" alt=""></p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ff165b205839381bf1fa11c2df3d176d.jpg" alt=""></p>
<p>You should note that the resulting plots are identical, except that the figure shapes are different. We will explain why this is shortly. For now, the other main difference to know about is that <code>regplot()</code> accepts the <code>x</code> and <code>y</code> variables in a variety of formats including simple numpy arrays, pandas <code>Series</code> objects, or as references to variables in a pandas <code>DataFrame</code> object passed to <code>data</code>. In contrast, <code>lmplot()</code> has <code>data</code> as a required parameter and the <code>x</code> and <code>y</code> variables must be specified as strings. This data format is called “long-form” or “tidy” data. Other than this input flexibility, <code>regplot()</code> possesses a subset of <code>lmplot()</code>’s features, so we will demonstrate them using the latter.</p>
<p>It’s possible to fit a linear regression when one of the variables takes discrete values, however, the simple scatterplot produced by this kind of dataset is often not optimal:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/18916d57b3e69c5de1769a7b26e0f713.jpg" alt=""></p>
<p>One option is to add some random noise (“jitter”) to the discrete values to make the distribution of those values more clear. Note that jitter is applied only to the scatterplot data and does not influence the regression line fit itself:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> x_jitter<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">05</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2e23cc65e61b2659c68ac3746b8ebad1.jpg" alt=""></p>
<p>A second option is to collapse over the observations in each discrete bin to plot an estimate of central tendency along with a confidence interval:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> x_estimator<span class="token operator">=</span>np<span class="token punctuation">.</span>mean<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/4dda0f476dee5bc15c815a9403521409.jpg" alt=""></p>
<h2 id="Fitting-different-kinds-of-models"><a href="#Fitting-different-kinds-of-models" class="headerlink" title="Fitting different kinds of models"></a>Fitting different kinds of models</h2><p>The simple linear regression model used above is very simple to fit, however, it is not appropriate for some kinds of datasets. The <a href="https://en.wikipedia.org/wiki/Anscombe' target=" _blank"="" rel="noopener" s_quartet"="">Anscombe’s quartet</a> dataset shows a few examples where simple linear regression provides an identical estimate of a relationship where simple visual inspection clearly shows differences. For example, in the first case, the linear regression is a good model:</p>
<pre class="line-numbers language-python"><code class="language-python">anscombe <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"anscombe"</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>anscombe<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">"dataset == 'I'"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           ci<span class="token operator">=</span>None<span class="token punctuation">,</span> scatter_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"s"</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/7facbea48d8c72d5400863700e07aa18.jpg" alt=""></p>
<p>The linear relationship in the second dataset is the same, but the plot clearly shows that this is not a good model:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>anscombe<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">"dataset == 'II'"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           ci<span class="token operator">=</span>None<span class="token punctuation">,</span> scatter_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"s"</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/af2ff74dd015731938ea83ab029d73e7.jpg" alt=""></p>
<p>In the presence of these kind of higher-order relationships, <code>lmplot()</code> and <code>regplot()</code> can fit a polynomial regression model to explore simple kinds of nonlinear trends in the dataset:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>anscombe<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">"dataset == 'II'"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           order<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> ci<span class="token operator">=</span>None<span class="token punctuation">,</span> scatter_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"s"</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b2cde7454aa9f4cc76186d93a3cab208.jpg" alt=""></p>
<p>A different problem is posed by “outlier” observations that deviate for some reason other than the main relationship under study:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>anscombe<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">"dataset == 'III'"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           ci<span class="token operator">=</span>None<span class="token punctuation">,</span> scatter_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"s"</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d9085f52d35beabc56a47c8326aee8cf.jpg" alt=""></p>
<p>In the presence of outliers, it can be useful to fit a robust regression, which uses a different loss function to downweight relatively large residuals:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>anscombe<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">"dataset == 'III'"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           robust<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> ci<span class="token operator">=</span>None<span class="token punctuation">,</span> scatter_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"s"</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/696b41cce47f6657e61372ff64381129.jpg" alt=""></p>
<p>When the <code>y</code> variable is binary, simple linear regression also “works” but provides implausible predictions:</p>
<pre class="line-numbers language-python"><code class="language-python">tips<span class="token punctuation">[</span><span class="token string">"big_tip"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>tips<span class="token punctuation">.</span>tip <span class="token operator">/</span> tips<span class="token punctuation">.</span>total_bill<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token punctuation">.</span><span class="token number">15</span>
sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"big_tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
           y_jitter<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">03</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2b4711757bd351625d2244392491e1cf.jpg" alt=""></p>
<p>The solution in this case is to fit a logistic regression, such that the regression line shows the estimated probability of <code>y = 1</code> for a given value of <code>x</code>:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"big_tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
           logistic<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> y_jitter<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">03</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/afea667bcdb80a09c24a25f5d5d0bd82.jpg" alt=""></p>
<p>Note that the logistic regression estimate is considerably more computationally intensive (this is true of robust regression as well) than simple regression, and as the confidence interval around the regression line is computed using a bootstrap procedure, you may wish to turn this off for faster iteration (using <code>ci=None</code>).</p>
<p>An altogether different approach is to fit a nonparametric regression using a <a href="https://en.wikipedia.org/wiki/Local_regression" target="_blank" rel="noopener">lowess smoother</a>. This approach has the fewest assumptions, although it is computationally intensive and so currently confidence intervals are not computed at all:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
           lowess<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/640b99998425ffa57b452eca0b5e129b.jpg" alt=""></p>
<p>The <code>residplot()</code> function can be a useful tool for checking whether the simple regression model is appropriate for a dataset. It fits and removes a simple linear regression and then plots the residual values for each observation. Ideally, these values should be randomly scattered around <code>y = 0</code>:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>residplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>anscombe<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">"dataset == 'I'"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              scatter_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"s"</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/86f9e6a8b938de1a3aeb9b237b524f0b.jpg" alt=""></p>
<p>If there is structure in the residuals, it suggests that simple linear regression is not appropriate:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>residplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>anscombe<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">"dataset == 'II'"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              scatter_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"s"</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/61c737744b3c54b93ad9bc691e4461bc.jpg" alt=""></p>
<h2 id="Conditioning-on-other-variables"><a href="#Conditioning-on-other-variables" class="headerlink" title="Conditioning on other variables"></a>Conditioning on other variables</h2><p>The plots above show many ways to explore the relationship between a pair of variables. Often, however, a more interesting question is “how does the relationship between these two variables change as a function of a third variable?” This is where the difference between <code>regplot()</code> and <code>lmplot()</code> appears. While <code>regplot()</code> always shows a single relationship, <code>lmplot()</code> combines <code>regplot()</code> with <code>FacetGrid</code> to provide an easy interface to show a linear regression on “faceted” plots that allow you to explore interactions with up to three additional categorical variables.</p>
<p>The best way to separate out a relationship is to plot both levels on the same axes and to use color to distinguish them:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/c1be6d813a335d32887cfd051ef9167f.jpg" alt=""></p>
<p>In addition to color, it’s possible to use different scatterplot markers to make plots the reproduce to black and white better. You also have full control over the colors used:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
           markers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"o"</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b065f9278c97b242c9a517aa98c090fa.jpg" alt=""></p>
<p>To add another variable, you can draw multiple “facets” which each level of the variable appearing in the rows or columns of the grid:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/02113b4a6b876c8e3b32dd2bb7eae74c.jpg" alt=""></p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> row<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/eb0843cd39205e7144eb4acdf1b8356d.jpg" alt=""></p>
<h2 id="Controlling-the-size-and-shape-of-the-plot"><a href="#Controlling-the-size-and-shape-of-the-plot" class="headerlink" title="Controlling the size and shape of the plot"></a>Controlling the size and shape of the plot</h2><p>Before we noted that the default plots made by <code>regplot()</code> and <code>lmplot()</code> look the same but on axes that have a different size and shape. This is because <code>regplot()</code> is an “axes-level” function draws onto a specific axes. This means that you can make multi-panel figures yourself and control exactly where the regression plot goes. If no axes object is explicitly provided, it simply uses the “currently active” axes, which is why the default plot has the same size and shape as most other matplotlib functions. To control the size, you need to create a figure object yourself.</p>
<pre class="line-numbers language-python"><code class="language-python">f<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> ax<span class="token operator">=</span>ax<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a94aa08c017f4688743921ccc9d8a4d0.jpg" alt=""></p>
<p>In contrast, the size and shape of the <code>lmplot()</code> figure is controlled through the <code>FacetGrid</code> interface using the <code>size</code> and <code>aspect</code> parameters, which apply to each <em>facet</em> in the plot, not to the overall figure itself:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
           col_wrap<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/fce6798715088ab4d9f615ae89a67b2c.jpg" alt=""></p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
           aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ea6e78ca63d3d86dece589f475f2338d.jpg" alt=""></p>
<h2 id="Plotting-a-regression-in-other-contexts"><a href="#Plotting-a-regression-in-other-contexts" class="headerlink" title="Plotting a regression in other contexts"></a>Plotting a regression in other contexts</h2><p>A few other seaborn functions use <code>regplot()</code> in the context of a larger, more complex plot. The first is the <code>jointplot()</code> function that we introduced in the distributions tutorial. In addition to the plot styles previously discussed, <code>jointplot()</code> can use <code>regplot()</code> to show the linear regression fit on the joint axes by passing <code>kind="reg"</code>:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"reg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/0a3f41c0a016c66f0f3379c128f550b9.jpg" alt=""></p>
<p>Using the <code>pairplot()</code> function with <code>kind="reg"</code> combines <code>regplot()</code> and <code>PairGrid</code> to show the linear relationship between variables in a dataset. Take care to note how this is different from <code>lmplot()</code>. In the figure below, the two axes don’t show the same relationship conditioned on two levels of a third variable; rather, <code>PairGrid()</code> is used to show multiple relationships between different pairings of the variables in a dataset:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> x_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"size"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"tip"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
             height<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">8</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"reg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/65fcd97ee44e136d797a4d343a58cc4f.jpg" alt=""></p>
<p>Like <code>lmplot()</code>, but unlike <code>jointplot()</code>, conditioning on an additional categorical variable is built into <code>pairplot()</code> using the <code>hue</code> parameter:</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> x_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"size"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"tip"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
             hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">8</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"reg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b166f746ed213b5ac4e495320f99b0fd.jpg" alt=""></p>
<h1 id="构建结构化多图网格"><a href="#构建结构化多图网格" class="headerlink" title="构建结构化多图网格"></a>构建结构化多图网格</h1><p>在探索中等维度数据时，经常需要在数据集的不同子集上绘制同一类型图的多个实例。这种技术有时被称为“网格”或“格子”绘图，它与<a href="https://en.wikipedia.org/wiki/Small_multiple" target="_blank" rel="noopener">“多重小图”</a>的概念有关。这种技术使查看者从复杂数据中快速提取大量信息。 Matplotlib为绘制这种多轴图提供了很好的支持; seaborn构建于此之上，可直接将绘图结构和数据集结构关系起来。</p>
<p>要使用网格图功能，数据必须在Pandas数据框中，并且必须采用 Hadley Whickam所谓的 <a href="https://vita.had.co.nz/papers/tidy-data.pdf" target="_blank" rel="noopener">“整洁”数据</a>的形式。简言之，用来画图的数据框应该构造成每列一个变量，每一行一个观察的形式。</p>
<p>至于高级用法，可以直接使用本教程中讨论的对象，以提供最大的灵活性。一些seaborn函数（例如<code>lmplot()</code>，<code>catplot()</code>和<code>pairplot()</code>）也在后台使用它们。与其他在没有操纵图形的情况下绘制到特定的（可能已经存在的）matplotlib <code>Axes</code>上的“Axes-level” seaborn函数不同，这些更高级别的函数在调用时会创建一个图形，并且通常对图形的设置方式更加严格。在某些情况下，这些函数或它们所依赖的类构造函数的参数将提供不同的接口属性，如<code>lmplot()</code>中的图形大小，你可以设置每个子图的高和宽高比。但是，使用这些对象的函数在绘图后都会返回它，并且这些对象大多都有方便简单的方法来改变图的绘制方式。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"ticks"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="基于一定条件的多重小图"><a href="#基于一定条件的多重小图" class="headerlink" title="基于一定条件的多重小图"></a>基于一定条件的多重小图</h2><p>当你想在数据集的不同子集中分别可视化变量分布或多个变量之间的关系时，<code>FacetGrid</code>类非常有用。 <code>FacetGrid</code>最多有三个维：<code>row</code>，<code>col</code>和<code>hue</code>。前两个与轴(axes)阵列有明显的对应关系;将色调变量<code>hue</code>视为沿深度轴的第三个维度，不同的级别用不同的颜色绘制。</p>
<p>首先，使用数据框初始化<code>FacetGrid</code>对象并指定将形成网格的行，列或色调维度的变量名称。这些变量应是离散的，然后对应于变量的不同取值的数据将用于沿该轴的不同小平面的绘制。例如，假设我们想要在<code>tips</code>数据集中检查午餐和晚餐小费分布的差异。</p>
<p>此外，<code>relplot()</code>，<code>catplot()</code>和<code>lmplot()</code>都在内部使用此对象，并且它们在完成时返回该对象，以便进一步调整。</p>
<pre class="line-numbers language-python"><code class="language-python">tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/98101f3cd02be71d90f9d777eca5876f.jpg" alt=""></p>
<p>如上初始化网格会设置matplotlib图形和轴，但不会在其上绘制任何内容。</p>
<p>在网格上可视化数据的主要方法是FacetGrid.map()。为此方法提供绘图函数以及要绘制的数据框变量名作为参数。我们使用直方图绘制每个子集中小费金额的分布。</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5e335e837566d00501c0389d96625993.jpg" alt=""></p>
<p><code>map</code>函数绘制图形并注释轴，生成图。要绘制关系图，只需传递多个变量名称。还可以提供关键字参数，这些参数将传递给绘图函数：</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">7</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/96cf02373c746bde1b58beb44b2f25c8.jpg" alt=""></p>
<p>有几个传递给类构造函数的选项可用于控制网格外观。</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> row<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> margin_titles<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>regplot<span class="token punctuation">,</span> <span class="token string">"size"</span><span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">".3"</span><span class="token punctuation">,</span> fit_reg<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> x_jitter<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/8da0c248ec165400ddf3c27f13d9a824.jpg" alt=""></p>
<p>注意，matplotlib API并未正式支持<code>margin_titles</code>，此选项在一些情况下可能无法正常工作。特别是，它目前不能与图之外的图例同时使用。</p>
<p>通过提供每个面的高度以及纵横比来设置图形的大小：</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>barplot<span class="token punctuation">,</span> <span class="token string">"sex"</span><span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">/</span>Users<span class="token operator">/</span>mwaskom<span class="token operator">/</span>code<span class="token operator">/</span>seaborn<span class="token operator">/</span>seaborn<span class="token operator">/</span>axisgrid<span class="token punctuation">.</span>py<span class="token punctuation">:</span><span class="token number">715</span><span class="token punctuation">:</span> UserWarning<span class="token punctuation">:</span> Using the barplot function without specifying order <span class="token keyword">is</span> likely to produce an incorrect plot<span class="token punctuation">.</span>
  warnings<span class="token punctuation">.</span>warn<span class="token punctuation">(</span>warning<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/05a2ee4e2b81712775628943c2135066.jpg" alt=""></p>
<p>小图的默认排序由DataFrame中的信息确定的。如果用于定义小图的变量是类别变量，则使用类别的顺序。否则，小图将按照各类的出现顺序排列。但是，可以使用适当的<code>* _order</code>参数指定任意构面维度的顺序：</p>
<pre class="line-numbers language-python"><code class="language-python">ordered_days <span class="token operator">=</span> tips<span class="token punctuation">.</span>day<span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index
g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> row<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> row_order<span class="token operator">=</span>ordered_days<span class="token punctuation">,</span>
                  height<span class="token operator">=</span><span class="token number">1.7</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>distplot<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> hist<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> rug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/0140b6849cae4a202c9a56ad5edfffd6.jpg" alt=""></p>
<p>可以用seaborn调色板（即可以传递给<code>color_palette()</code>的东西。）还可以用字典将<code>hue</code>变量中的值映射到matplotlib颜色：</p>
<pre class="line-numbers language-python"><code class="language-python">pal <span class="token operator">=</span> dict<span class="token punctuation">(</span>Lunch<span class="token operator">=</span><span class="token string">"seagreen"</span><span class="token punctuation">,</span> Dinner<span class="token operator">=</span><span class="token string">"gray"</span><span class="token punctuation">)</span>
g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> palette<span class="token operator">=</span>pal<span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">7</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/686b61f7ba884a08ccd40cd9aae45791.jpg" alt=""></p>
<p>还可以让图的其他方面（如点的形状）在色调变量的各个级别之间变化，这在以黑白方式打印时使图易于理解。为此，只需将一个字典传递给hue_kws，其中键是绘图函数关键字参数的名称，值是关键字值列表，每个级别为一个色调变量。</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set1"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> hue_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"marker"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"^"</span><span class="token punctuation">,</span> <span class="token string">"v"</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a99d865fc52a457633d59e779fb194f1.jpg" alt=""></p>
<p>如果一个变量的水平数过多，除了可以沿着列绘制之外，也可以“包装”它们以便它们跨越多行。执行此wrap操作时，不能使用<code>row</code>变量。</p>
<pre class="line-numbers language-python"><code class="language-python">attend <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"attention"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">"subject &lt;= 12"</span><span class="token punctuation">)</span>
g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>attend<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"subject"</span><span class="token punctuation">,</span> col_wrap<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> ylim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">,</span> <span class="token string">"solutions"</span><span class="token punctuation">,</span> <span class="token string">"score"</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">".3"</span><span class="token punctuation">,</span> ci<span class="token operator">=</span>None<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">/</span>Users<span class="token operator">/</span>mwaskom<span class="token operator">/</span>code<span class="token operator">/</span>seaborn<span class="token operator">/</span>seaborn<span class="token operator">/</span>axisgrid<span class="token punctuation">.</span>py<span class="token punctuation">:</span><span class="token number">715</span><span class="token punctuation">:</span> UserWarning<span class="token punctuation">:</span> Using the pointplot function without specifying order <span class="token keyword">is</span> likely to produce an incorrect plot<span class="token punctuation">.</span>
  warnings<span class="token punctuation">.</span>warn<span class="token punctuation">(</span>warning<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5291ce95bb602839ea9bb9b4e3e7d128.jpg" alt=""></p>
<p>使用<code>FacetGrid.map()</code> （可以多次调用）绘图后，你可以调整绘图的外观。 <code>FacetGrid</code>对象有许多方法可以在更高的抽象层次上操作图形。最一般的是<code>FacetGrid.set()</code>，还有其他更专业的方法，如<code>FacetGrid.set_axis_labels()</code>，它们都遵循内部构面没有轴标签的约定。例如：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">with</span> sns<span class="token punctuation">.</span>axes_style<span class="token punctuation">(</span><span class="token string">"white"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> row<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> margin_titles<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">2.5</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"#334488"</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span>set_axis_labels<span class="token punctuation">(</span><span class="token string">"Total bill (US Dollars)"</span><span class="token punctuation">,</span> <span class="token string">"Tip"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span>set<span class="token punctuation">(</span>xticks<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">,</span> yticks<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span>fig<span class="token punctuation">.</span>subplots_adjust<span class="token punctuation">(</span>wspace<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">02</span><span class="token punctuation">,</span> hspace<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">02</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/9127880f623ed92358326c68893d22b4.jpg" alt=""></p>
<p>对于需要更多自定义的情形，你可以直接使用底层matplotlib图形<code>Figure</code>和轴<code>Axes</code>对象，它们分别作为成员属性存储在<code>Figure</code>和轴<code>Axes</code>（一个二维数组）中。在制作没有行或列刻面的图形时，你还可以使用<code>ax</code>属性直接访问单个轴。</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> margin_titles<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"#338844"</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> ax <span class="token keyword">in</span> g<span class="token punctuation">.</span>axes<span class="token punctuation">.</span>flat<span class="token punctuation">:</span>
    ax<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">".2"</span><span class="token punctuation">,</span> ls<span class="token operator">=</span><span class="token string">"--"</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>set<span class="token punctuation">(</span>xlim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ylim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a7e016f2ed7f61c499c7f56b2f3d8350.jpg" alt=""></p>
<h2 id="使用自定义函数"><a href="#使用自定义函数" class="headerlink" title="使用自定义函数"></a>使用自定义函数</h2><p>使用<code>FacetGrid</code>时，你除了可以使用现有的matplotlib和seaborn函数，还可以使用自定义函数。但是，这些函数必须遵循一些规则：</p>
<ol>
<li>它必须绘制到“当前活动的”matplotlib轴<code>Axes</code>上。 <code>matplotlib.pyplot</code>命名空间中的函数就是如此。如果要直接使用当前轴的方法，可以调用<code>plt.gca</code>来获取对当前<code>Axes</code>的引用。</li>
<li>它必须接受它在位置参数中绘制的数据。在内部，<code>FacetGrid</code>将为传递给<code>FacetGrid.map()</code>的每个命名位置参数传递一<code>Series</code>数据。</li>
<li>它必须能接受<code>color</code>和<code>label</code>关键字参数，理想情况下，它会用它们做一些有用的事情。在大多数情况下，最简单的方法是捕获<code>** kwargs</code>的通用字典并将其传递给底层绘图函数。</li>
</ol>
<p>让我们看一下自定义绘图函数的最小示例。这个函数在每个构面采用一个数据向量：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> scipy <span class="token keyword">import</span> stats
<span class="token keyword">def</span> <span class="token function">quantile_plot</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    qntls<span class="token punctuation">,</span> xr <span class="token operator">=</span> stats<span class="token punctuation">.</span>probplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> fit<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>xr<span class="token punctuation">,</span> qntls<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>quantile_plot<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f7075e926868bca0186de8da2f906ed9.jpg" alt=""></p>
<p>如果你想要制作一个双变量图，编写函数则应该有分别接受x轴变量，y轴变量的参数：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">qqplot</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    _<span class="token punctuation">,</span> xr <span class="token operator">=</span> stats<span class="token punctuation">.</span>probplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> fit<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    _<span class="token punctuation">,</span> yr <span class="token operator">=</span> stats<span class="token punctuation">.</span>probplot<span class="token punctuation">(</span>y<span class="token punctuation">,</span> fit<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>xr<span class="token punctuation">,</span> yr<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>qqplot<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b9d0e6d4b79fc2df3e1a1edcdd37e5ec.jpg" alt=""></p>
<p>因为<code>plt.scatter</code>接受颜色和标签关键字参数并做相应的处理，所以我们可以毫无困难地添加一个色调构面：</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>qqplot<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/9d51f61931446dc9eccd2013f7666eb9.jpg" alt=""></p>
<p>这种方法还允许我们使用额外的美学元素来区分色调变量的级别，以及不依赖于分面变量的关键字参数：</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span>
                  hue_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"marker"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"s"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>qqplot<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"w"</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/894a1105419e7147b562c1576471c410.jpg" alt=""></p>
<p>有时候，你需要使用<code>color</code>和<code>label</code>关键字参数映射不能按预期方式工作的函数。在这种情况下，你需要显式捕获它们并在自定义函数的逻辑中处理它们。例如，这种方法可用于映射<code>plt.hexbin</code>，使它与<code>FacetGrid</code> API匹配：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">hexbin</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> color<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    cmap <span class="token operator">=</span> sns<span class="token punctuation">.</span>light_palette<span class="token punctuation">(</span>color<span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>hexbin<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> gridsize<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">,</span> cmap<span class="token operator">=</span>cmap<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
<span class="token keyword">with</span> sns<span class="token punctuation">.</span>axes_style<span class="token punctuation">(</span><span class="token string">"dark"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>hexbin<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> extent<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6e0f3ad155ad03e98d1e10abc9d60e82.jpg" alt=""></p>
<h2 id="绘制成对数据关系"><a href="#绘制成对数据关系" class="headerlink" title="绘制成对数据关系"></a>绘制成对数据关系</h2><p><code>PairGrid</code>允许你使用相同的绘图类型快速绘制小子图的网格。在<code>PairGrid</code>中，每个行和列都分配给一个不同的变量，结果图显示数据集中的每个对变量的关系。这种图有时被称为“散点图矩阵”，这是显示成对关系的最常见方式，但是<code>PairGrid</code>不仅限于散点图。</p>
<p>了解<code>FacetGrid</code>和<code>PairGrid</code>之间的差异非常重要。前者每个构面显示以不同级别的变量为条件的相同关系。后者显示不同的关系（尽管上三角和下三角组成镜像图）。使用<code>PairGrid</code>可为你提供数据集中有趣关系的快速，高级的摘要。</p>
<p>该类的基本用法与<code>FacetGrid</code>非常相似。首先初始化网格，然后将绘图函数传递给<code>map</code>方法，并在每个子图上调用它。还有一个伴侣函数， <code>pairplot()</code> ，可以更快的绘图。</p>
<pre class="line-numbers language-python"><code class="language-python">iris <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"iris"</span><span class="token punctuation">)</span>
g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>iris<span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/4a1b1a2445b45757efa39039fe666d0f.jpg" alt=""></p>
<p>可以在对角线上绘制不同的函数，以显示每列中变量的单变量分布。但请注意，轴刻度与该绘图的计数或密度轴不对应。</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>iris<span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map_diag<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map_offdiag<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/e6b76ab1dc666e53ba77d9784aa8d168.jpg" alt=""></p>
<p>此图的一种常见用法是通过单独的分类变量对观察结果进行着色。例如，iris数据集三种不同种类的鸢尾花都有四种测量值，因此你可以看到不同花在这些取值上的差异。</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"species"</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map_diag<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map_offdiag<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">)</span>
g<span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/31d92e08bdcc758f28b32f9a6f31aff7.jpg" alt=""></p>
<p>默认情况下，使用数据集中的每个数值列，但如果需要，你可以专注于特定列。</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"sepal_length"</span><span class="token punctuation">,</span> <span class="token string">"sepal_width"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"species"</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/8bd8dc270d4a00dd45e740cdf68fcf23.jpg" alt=""></p>
<p>也可以在上三角和下三角中使用不同的函数来强调关系的不同方面。</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>iris<span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map_upper<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map_lower<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map_diag<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/05cf1fb72d609a18fa7a4fdfb8ae460f.jpg" alt=""></p>
<p>对角线上具有单位关系的方形网格实际上只是一种特殊情况，你也可以在行和列中使用不同的变量进行绘图。</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> y_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"tip"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> x_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"size"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>regplot<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">".3"</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>set<span class="token punctuation">(</span>ylim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span> yticks<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/1519f7f68ebbc0bf3fa3072a2edb0838.jpg" alt=""></p>
<p>当然，美学属性是可配置的。例如，你可以使用不同的调色板（例如，显示色调变量的顺序）并将关键字参数传递到绘图函数中。</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"GnBu_d"</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/472e90723a05c450ec78ccf39888e6e4.jpg" alt=""></p>
<p><code>PairGrid</code>很灵活，但要快速查看数据集，使用<code>pairplot()</code>更容易。此函数默认使用散点图和直方图，但会添加一些其他类型（目前，你还可以绘制非对角线上的回归图和对角线上的KDE）。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"species"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">2.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/27d73e1a33e6845f05c2a4670413c156.jpg" alt=""></p>
<p>还可以使用关键字参数控制绘图的美观，函数会返回<code>PairGrid</code>实例以便进一步调整。</p>
<pre class="line-numbers language-python"><code class="language-python">g <span class="token operator">=</span> sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"species"</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set2"</span><span class="token punctuation">,</span> diag_kind<span class="token operator">=</span><span class="token string">"kde"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">2.5</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/62af2a2066c78c192cde66155a2331d9.jpg" alt=""></p>
<h1 id="控制图像的美学样式-aesthetics"><a href="#控制图像的美学样式-aesthetics" class="headerlink" title="控制图像的美学样式(aesthetics)"></a>控制图像的美学样式(aesthetics)</h1><p>绘制有吸引力的图像很十分重要的。当你在探索一个数据集并为你自己做图的时候，制作一些让人看了心情愉悦的图像是很好的。可视化对向观众传达量化的简介也是很重要的，在这种情况下制作能够抓住查看者的注意力并牢牢吸引住他们的图像就更有必要了。</p>
<p>Matplotlib是高度可定制的，但是很难知道要如何设置图像才能使得图像更加吸引人。Seaborn提供了许多定制好的主题和高级的接口，用于控制Matplotlib所做图像的外观。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>让我们定义一个简单的函数来绘制一些偏移正弦波，这将帮助我们看到我们可以调整的能够影响图像风格的不同参数。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sinplot</span><span class="token punctuation">(</span>flip<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>x <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">7</span> <span class="token operator">-</span> i<span class="token punctuation">)</span> <span class="token operator">*</span> flip<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>这是Matplotlib默认情况下的绘图外观：</p>
<pre><code>sinplot()</code></pre><p><img src="/images/loading.gif" data-original="../images/language/4784d932a8738cea5085be56ce6f7315.jpg" alt=""></p>
<p>为了将图像的风格转变为seaborn的默认样式，我们可以 <code>set()</code> 函数。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>
sinplot<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2422a0c0d2c96ec6397babaa6c842d79.jpg" alt=""></p>
<p>（注意，在0.8之前的seaborn版本中， <code>set()</code> 已经在使用impory语句导入的时候就被调用了。但在以后的版本中，必须要显式调用它）。</p>
<p>Seaborn将matplotlib参数分成两个独立的组。第一组设置了图像的美术风格，第二组则对图像中不同的元素进行了控制，使得图像可以很容易地融入不同的环境中。</p>
<p>操作这些参数的接口是两对函数。要控制样式，请使用 <code>axes_style()</code> 和 <code>set_style()</code> 函数。要对图像中元素的样式进行修改，请使用 <code>plotting_context()</code> 和 <code>set_context()</code> 函数。在这两种情况下（控制图像样式与修改元素样式），第一个函数会返回一个参数字典，第二个函数设置matplotlib中相关参数的默认值。</p>
<h2 id="Seaborn图像参数"><a href="#Seaborn图像参数" class="headerlink" title="Seaborn图像参数"></a>Seaborn图像参数</h2><p>有五个预设的Seaborn主题： <code>darkgrid</code>，<code>whitegrid</code>，<code>dark</code>，<code>white</code>以及 <code>ticks</code>。它们分别适用于不同的应用程序和个人偏好。默认主题为 <code>darkgrid</code>。如上所述，坐标方格有助于将制出的图像用作定量信息的查阅表，灰色背景上的白色有助于防止网格与表示数据的行发生竞争。 <code>whitegrid</code> 主题类似，但它更适用于包含大量数据元素的绘图：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>set_style<span class="token punctuation">(</span><span class="token string">"whitegrid"</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>
sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>data<span class="token operator">=</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ba3b8a1ba98a18cbe9f37192b2338932.jpg" alt=""></p>
<p>对许多的图像而言，（尤其是在你只是想通过图像来提供给人们一个对数据模式的印象时，比如说作报告时）坐标网格都是不必要的。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>set_style<span class="token punctuation">(</span><span class="token string">"dark"</span><span class="token punctuation">)</span>
sinplot<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/4810d616de6fa5d37502c1a2cd931669.jpg" alt=""></p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>set_style<span class="token punctuation">(</span><span class="token string">"white"</span><span class="token punctuation">)</span>
sinplot<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/47decb21ce3a9413876a02f2967ef7aa.jpg" alt=""></p>
<p>有时，您可能希望为绘图提供一点额外的结构，这正是tick样式的用武之地：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>set_style<span class="token punctuation">(</span><span class="token string">"ticks"</span><span class="token punctuation">)</span>
sinplot<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d23eefa56e1ef945c75b43ab4fc651a4.jpg" alt=""></p>
<h2 id="移除坐标轴"><a href="#移除坐标轴" class="headerlink" title="移除坐标轴"></a>移除坐标轴</h2><p><code>white</code> 样式与 <code>ticks</code> 样式的好处是都能删除所不需要的顶部与右部坐标轴。使用seaborn中的函数 <code>despine()</code> 可以来移除它们：</p>
<pre class="line-numbers language-python"><code class="language-python">sinplot<span class="token punctuation">(</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>despine<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b9a7a625477fd6d6c167844f557d14dd.jpg" alt=""></p>
<p>有些图的好处在于，可以让坐标的主轴随着数据进行偏移，这可以使用 <code>despine()</code>函数来完成。当刻度无法覆盖轴的整个范围时，<code>trim</code>参数将限制不受影响的坐标轴的范围。</p>
<pre class="line-numbers language-python"><code class="language-python">f<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>data<span class="token operator">=</span>data<span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>despine<span class="token punctuation">(</span>offset<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> trim<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/7c21c8cb297826c3a45b483039151d9e.jpg" alt=""></p>
<p>你也可以通过控制 <code>despine()</code>的额外参数来删除坐标轴：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>set_style<span class="token punctuation">(</span><span class="token string">"whitegrid"</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>data<span class="token operator">=</span>data<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"deep"</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>despine<span class="token punctuation">(</span>left<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/4f24815584c7c584945d529f3d9dbfbf.jpg" alt=""></p>
<h2 id="设置临时图像格式"><a href="#设置临时图像格式" class="headerlink" title="设置临时图像格式"></a>设置临时图像格式</h2><p>虽然来回切换很容易，但你也可以在<code>with</code>语句中使用 <code>axes_style()</code> 函数来临时设置绘图参数。 这也允许您使用不同风格的坐标轴制作图形：</p>
<pre class="line-numbers language-python"><code class="language-python">f <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">with</span> sns<span class="token punctuation">.</span>axes_style<span class="token punctuation">(</span><span class="token string">"darkgrid"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    ax <span class="token operator">=</span> f<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    sinplot<span class="token punctuation">(</span><span class="token punctuation">)</span>
ax <span class="token operator">=</span> f<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
sinplot<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/1b8ec9b9fb72e9193bfefe933d976d37.jpg" alt=""></p>
<h2 id="覆盖控制seaborn样式的元素"><a href="#覆盖控制seaborn样式的元素" class="headerlink" title="覆盖控制seaborn样式的元素"></a>覆盖控制seaborn样式的元素</h2><p>如果你想要自己定制seaborn的样式，你可以通过给 <code>axes_style()</code> 与<code>set_style()</code>函数中的 <code>rc</code> 参数传递一个参数字典来实现。请注意，您只能通过此方法覆盖作为样式定义一部分的参数。（但是，更高级别的 <code>set()</code> 函数会获取任何matplotlib参数的字典）。</p>
<p>如果你想看看包含哪些参数，你可以只调用没有参数的函数，这将返回当前设置：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>axes_style<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token string">'axes.axisbelow'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
 <span class="token string">'axes.edgecolor'</span><span class="token punctuation">:</span> <span class="token string">'.8'</span><span class="token punctuation">,</span>
 <span class="token string">'axes.facecolor'</span><span class="token punctuation">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span>
 <span class="token string">'axes.grid'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
 <span class="token string">'axes.labelcolor'</span><span class="token punctuation">:</span> <span class="token string">'.15'</span><span class="token punctuation">,</span>
 <span class="token string">'axes.spines.bottom'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
 <span class="token string">'axes.spines.left'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
 <span class="token string">'axes.spines.right'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
 <span class="token string">'axes.spines.top'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
 <span class="token string">'figure.facecolor'</span><span class="token punctuation">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span>
 <span class="token string">'font.family'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'sans-serif'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token string">'font.sans-serif'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Arial'</span><span class="token punctuation">,</span>
  <span class="token string">'DejaVu Sans'</span><span class="token punctuation">,</span>
  <span class="token string">'Liberation Sans'</span><span class="token punctuation">,</span>
  <span class="token string">'Bitstream Vera Sans'</span><span class="token punctuation">,</span>
  <span class="token string">'sans-serif'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token string">'grid.color'</span><span class="token punctuation">:</span> <span class="token string">'.8'</span><span class="token punctuation">,</span>
 <span class="token string">'grid.linestyle'</span><span class="token punctuation">:</span> <span class="token string">'-'</span><span class="token punctuation">,</span>
 <span class="token string">'image.cmap'</span><span class="token punctuation">:</span> <span class="token string">'rocket'</span><span class="token punctuation">,</span>
 <span class="token string">'lines.solid_capstyle'</span><span class="token punctuation">:</span> <span class="token string">'round'</span><span class="token punctuation">,</span>
 <span class="token string">'patch.edgecolor'</span><span class="token punctuation">:</span> <span class="token string">'w'</span><span class="token punctuation">,</span>
 <span class="token string">'patch.force_edgecolor'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
 <span class="token string">'text.color'</span><span class="token punctuation">:</span> <span class="token string">'.15'</span><span class="token punctuation">,</span>
 <span class="token string">'xtick.bottom'</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
 <span class="token string">'xtick.color'</span><span class="token punctuation">:</span> <span class="token string">'.15'</span><span class="token punctuation">,</span>
 <span class="token string">'xtick.direction'</span><span class="token punctuation">:</span> <span class="token string">'out'</span><span class="token punctuation">,</span>
 <span class="token string">'xtick.top'</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
 <span class="token string">'ytick.color'</span><span class="token punctuation">:</span> <span class="token string">'.15'</span><span class="token punctuation">,</span>
 <span class="token string">'ytick.direction'</span><span class="token punctuation">:</span> <span class="token string">'out'</span><span class="token punctuation">,</span>
 <span class="token string">'ytick.left'</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
 <span class="token string">'ytick.right'</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后，您可以设置这些参数的不同版本：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>set_style<span class="token punctuation">(</span><span class="token string">"darkgrid"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">"axes.facecolor"</span><span class="token punctuation">:</span> <span class="token string">".9"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
sinplot<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5ebb828c6eed309cb239f2219f35397c.jpg" alt=""></p>
<h2 id="缩放图像元素"><a href="#缩放图像元素" class="headerlink" title="缩放图像元素"></a>缩放图像元素</h2><p>一组独立的参数控制绘图元素的比例，这允许您使用相同的代码来制作在适合使用不同大小图片场景下的图片。</p>
<p>首先，让我们通过调用 <code>set()</code>来重置默认的参数：</p>
<pre><code>sns.set()</code></pre><p>按照相对大小的顺序排序，四个预设环境是 <code>paper</code>， <code>notebook</code>， <code>talk</code>与 <code>poster</code>。 <code>notebook</code>样式是默认样式，上文中的图就是使用该样式绘制的。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>set_context<span class="token punctuation">(</span><span class="token string">"paper"</span><span class="token punctuation">)</span>
sinplot<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/1e7ac5787ede28760da23610a7f3926f.jpg" alt=""></p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>set_context<span class="token punctuation">(</span><span class="token string">"talk"</span><span class="token punctuation">)</span>
sinplot<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/3152abe0e185f2c164330dac175b8746.jpg" alt=""></p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>set_context<span class="token punctuation">(</span><span class="token string">"poster"</span><span class="token punctuation">)</span>
sinplot<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5788d7f7d4b9f29480e997849d16ee10.jpg" alt=""></p>
<p>您现在知道的关于样式函数的大部分内容应该转移到环境函数中。</p>
<p>你可以通过在调用 <code>set_context()</code> 时指定环境的名字来设置参数，你也可以通过提供一个参数字典来覆盖原有的参数值。</p>
<p>你也在转换环境的时候独立地对字符元素的大小进行缩放。（这个操作也能够顶层的 <code>set()</code> 函数来实现）。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>set_context<span class="token punctuation">(</span><span class="token string">"notebook"</span><span class="token punctuation">,</span> font_scale<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">,</span> rc<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"lines.linewidth"</span><span class="token punctuation">:</span> <span class="token number">2.5</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
sinplot<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2b8879fda28a3be3acac977e15cbeebb.jpg" alt=""></p>
<p>同样的，你也可以暂时的通过嵌套在 <code>with</code> 语句下的语句来实现图像的缩放。</p>
<p>样式和环境都可以使用 <code>set()</code> 函数快速配置。 </p>
<h1 id="选择调色板"><a href="#选择调色板" class="headerlink" title="选择调色板"></a>选择调色板</h1><p>颜色在图像风格中比起其他元素显得更为重要。当合理有效地使用颜色时，数据模式会被凸显出来；反之，则会被掩盖。这里有很多数据可视化中关于颜色使用的优秀资源，我推荐阅读这些 Rob Simmon 的<a href="https://earthobservatory.nasa.gov/blogs/elegantfigures/2013/08/05/subtleties-of-color-part-1-of-6/" target="_blank" rel="noopener">博客文章</a>以及这篇更加学术性的<a href="https://cfwebprod.sandia.gov/cfdocs/CompResearch/docs/ColorMapsExpanded.pdf" target="_blank" rel="noopener">论文</a>。 此外，matplotlib 文档也提供了一篇很好的<a href="https://matplotlib.org/users/colormaps.html" target="_blank" rel="noopener">教程</a>来说明一些内置Colormap的感知属性。</p>
<p>seaborn让您在选择与您处理的数据类型和可视化过程中搭配的配色方案变得简单。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="创建调色板"><a href="#创建调色板" class="headerlink" title="创建调色板"></a>创建调色板</h2><p>使用离散调色板过程中最重要函数是<code>color_palette()</code>。这个函数为许多(但不是全部)可以在seaborn中生成颜色的方式提供了一个接口，并且在任何具有<code>palette</code>参数的函数的内部都可以使用(以及某些需要多种颜色时具有<code>color</code>参数的情况)。</p>
<p><code>color_palette()</code> 会接受所有的seaborn调色板或者matplotlib Colormap (除了 <code>jet</code>, 您永远都不应该使用它). 它还可以获取以任何有效matplotlib格式(RGB元组、十六进制颜色代码或HTML颜色名字)指定的颜色列表。返回值始终是RGB元组的列表。</p>
<p>最后，在没有参数的情况下调用<code>color_palette()</code>函数将会返回当前默认的颜色循环。</p>
<p>函数<code>set_palette()</code>接受相同的参数，并将为所有图像设置默认的颜色循环。您也可以在<code>with</code>语句中调用<code>color_palette()</code>来临时改变调色板。</p>
<p>在不了解数据特征的情况下，通常也不可能知道哪种调色板或Colormap最适合一组数据。接下来，我们将通过三种常见的调色板 <em>定性调色板</em>, <em>顺序调色板</em>, 和 <em>发散调色板</em> 来拆分介绍<code>color_palette()</code>函数的使用方法以及其他seaborn函数。</p>
<h2 id="定性调色板"><a href="#定性调色板" class="headerlink" title="定性调色板"></a>定性调色板</h2><p>当您想要区分不具有内在顺序的离散数据块时，定性(分类)调色板是最佳方案。</p>
<p>导入seaborn的同时，会引入默认的颜色循环，由6种颜色构成。并将调用标准matplotlib颜色循环，看起来也更加赏心悦目。</p>
<pre class="line-numbers language-python"><code class="language-python">current_palette <span class="token operator">=</span> sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>current_palette<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/975109fd603a63c12f7e0db1461d265e.jpg" alt=""></p>
<p>默认主题有六种变体，分别为<code>deep</code>, <code>muted</code>, <code>pastel</code>, <code>bright</code>, <code>dark</code>, and <code>colorblind</code>。</p>
<p><img src="/images/loading.gif" data-original="../images/language/9dee4b50342228bbf515be6a3e60b0e8.jpg" alt=""></p>
<h3 id="使用循环颜色系统"><a href="#使用循环颜色系统" class="headerlink" title="使用循环颜色系统"></a>使用循环颜色系统</h3><p>当您要区分任意数量的类别而不强调任何类别时，最简单的方法是在循环颜色空间中绘制间距相等的颜色(在此颜色空间中，色调会发生变化，同时保持亮度和饱和度不变)。这是大多数seaborn函数在处理当需要区分的数据集超过颜色循环中的6种颜色时时所使用的默认方法。</p>
<p>最为常用的方法是使用<code>hls</code>颜色空间——一种简单的RGB值变体。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"hls"</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f35d431e80f906b39aa82e1bd8390361.jpg" alt=""></p>
<p><code>hls_palette()</code>函数允许您控制颜色的亮度(lightness)和饱和度(saturation)。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>hls_palette<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> l<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">3</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/7787cf3ad144a10c16ce1f2697d4af34.jpg" alt=""></p>
<p>然而，由于人类视觉系统的工作方式，RGB强度很高的颜色也不一定看起来同样强烈。我们认为黄色和绿色是相对较亮的，蓝色是相对较暗的，当目标是与<code>hls</code>系统保持一致性时可能会带来一些问题。</p>
<p>为了解决这一问题，seaborn提供了一个<a href="http://www.hsluv.org/" target="_blank" rel="noopener">husl</a>系统(后来更名为HSLuv)的接口，这也使选择间隔均匀的色调变得容易，同时使亮度和饱和度都更加均匀。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"husl"</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/151c643774e7ae51ed523abe3fa5f559.jpg" alt=""></p>
<p>类似地，<code>husl_palette()</code>函数也为这个系统提供了一个更灵活的接口。</p>
<h3 id="使用Color-Brewer调色板"><a href="#使用Color-Brewer调色板" class="headerlink" title="使用Color Brewer调色板"></a>使用Color Brewer调色板</h3><p><a href="http://colorbrewer2.org/" target="_blank" rel="noopener">Color Brewer</a>为定性调色板提供了另一种美观的配色方案(同样包含顺序调色板包括和发散调色板，详情见下文)。这些也作为matplotlib Colormap存在，但并没有得到很好的处理。在seaborn中，当您需要定性(qualitative)的Color Brewer方案时，你总是会得到离散的颜色，但这意味着在某些情况下颜色会循环重复。</p>
<p>Color Brewer的一个很好的特点是它对色盲比较友好。色盲有很多种，最为常见的是红绿色盲。通常，对于需要根据颜色进行元素区分时，应该尽量避免使用这两种颜色。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"Paired"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/4a2b106cd5abd71c514edda6c1f06b6e.jpg" alt=""></p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"Set2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/8d928f7a998a90772bc3defd036444a8.jpg" alt=""></p>
<p>为了帮助您从Color Brewer库中选取配色方案，seaborn提供了<code>choose_colorbrewer_palette()</code>函数。这个函数能够启动交互式组件来帮助您浏览各种选项，修改不同的参数。但是只能在Jupyter notebook中使用。</p>
<p>当然，您可能只希望手动指定一组您喜欢的颜色。<code>color_palette()</code>函数会接受一个颜色列表，操作起来也很简单。</p>
<pre class="line-numbers language-python"><code class="language-python">flatui <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"#9b59b6"</span><span class="token punctuation">,</span> <span class="token string">"#3498db"</span><span class="token punctuation">,</span> <span class="token string">"#95a5a6"</span><span class="token punctuation">,</span> <span class="token string">"#e74c3c"</span><span class="token punctuation">,</span> <span class="token string">"#34495e"</span><span class="token punctuation">,</span> <span class="token string">"#2ecc71"</span><span class="token punctuation">]</span>
sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span>flatui<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/e1506db895aa2aaa0d7df99cc7d3d4c3.jpg" alt=""></p>
<h3 id="使用来自xkcd-color-survey的颜色名字"><a href="#使用来自xkcd-color-survey的颜色名字" class="headerlink" title="使用来自xkcd color survey的颜色名字"></a>使用来自xkcd color survey的颜色名字</h3><p>不久前，<a href="https://xkcd.com/" target="_blank" rel="noopener">xkcd</a>开展了一项<a href="https://blog.xkcd.com/2010/05/03/color-survey-results/" target="_blank" rel="noopener">众包工作</a>来为随机RGB颜色命名。产生了<a href="https://xkcd.com/color/rgb/" target="_blank" rel="noopener">954个颜色名字</a>，您现在可以在seaborn中使用<code>xkcd_rgb</code>字典来引用它们：</p>
<pre class="line-numbers language-python"><code class="language-python">plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> sns<span class="token punctuation">.</span>xkcd_rgb<span class="token punctuation">[</span><span class="token string">"pale red"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> sns<span class="token punctuation">.</span>xkcd_rgb<span class="token punctuation">[</span><span class="token string">"medium green"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> sns<span class="token punctuation">.</span>xkcd_rgb<span class="token punctuation">[</span><span class="token string">"denim blue"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/85ba77533a6b6eb1cc44b5bf4aed4e1d.jpg" alt=""></p>
<p>除了从<code>xkcd_rgb</code>字典中提取单一颜色外，您也可以向<code>xkcd_palette()</code>函数传递一个颜色名字列表。</p>
<pre class="line-numbers language-python"><code class="language-python">colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"windows blue"</span><span class="token punctuation">,</span> <span class="token string">"amber"</span><span class="token punctuation">,</span> <span class="token string">"greyish"</span><span class="token punctuation">,</span> <span class="token string">"faded green"</span><span class="token punctuation">,</span> <span class="token string">"dusty purple"</span><span class="token punctuation">]</span>
sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>xkcd_palette<span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6508f97c0a5563f99b755ccfac8c2b12.jpg" alt=""></p>
<h2 id="顺序调色板"><a href="#顺序调色板" class="headerlink" title="顺序调色板"></a>顺序调色板</h2><p>第二类主要的调色板被称为“顺序调色板”(sequential)，当数据集的范围从相对低值(不感兴趣)到相对高值(很感兴趣)时，最好使用顺序调色板，尽管在某些情况下您可能需要顺序调色板中的离散颜色。在<code>kdeplot()</code>和<code>heatmap()</code>函数中使用它们来作为Colormap则更为常见(以及类似的matplotlib函数)。</p>
<p>在这种情况下使用<code>jet</code>（或其他彩虹调色板）等Colormap是很常见的，因为色调范围给人的印象是提供有关数据的额外信息。然而，具有较大色调变化的Colormap往往会引入数据中不存在的不连续性，并且我们的视觉系统无法自然地将彩虹光谱映射到诸如“高”或“低”的定量区分。导致来这些可视化的结果更加令人困惑，因为它们掩盖了数据中的模式，而不是揭示它们。<code>jet</code> 调色板使用了最亮的颜色(黄色和青色)的中间数据值，导致效果是强调无趣的(和任意的)值，而不是强调极端的值。</p>
<p>对于连续性的数据，最好使用色调变化幅度较小，而亮度和饱和度变化幅度较大的配色方案。这种方法会很自然地吸引人们注意数据中相对重要的部分。</p>
<p>Color Brewer库有大量这样的配色方案，它们以调色板中主要的一种或多种颜色命名。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"Blues"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b6ac2dda5753920442b42aa6c3f8746c.jpg" alt=""></p>
<p>与matplotlib类似，您可以通过添加加后缀<code>_r</code>来倒置顺序调色板的顺序。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"BuGn_r"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/35ba6c0dab54401105c2b869de17084b.jpg" alt=""></p>
<p>seaborn同样添加了一个小窍门来帮助您创建“深色”调色板，它没有一个很宽的动态范围。在当您需要按顺序映射直线或点时这可能会很有用，因为颜色较亮的线条会比较难以区分。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"GnBu_d"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/12d91b101a0391d48ce055f66e4a910a.jpg" alt=""></p>
<p>您可能想要使用<code>choose_colorbrewer_palette()</code>函数来尝试多种选项，当您希望传递给seaborn或者matplotlib的返回值为Colormap对象时，您可以将<code>as_cmap</code>对象设置为<code>True</code>。</p>
<h3 id="顺序-“cubehelix”-调色板"><a href="#顺序-“cubehelix”-调色板" class="headerlink" title="顺序 “cubehelix” 调色板"></a>顺序 “cubehelix” 调色板</h3><p><a href="https://www.mrao.cam.ac.uk/~dag/CUBEHELIX/" target="_blank" rel="noopener">cubehelix</a>调色板系统使顺序调色板的亮度产生线性变化，色调也会产生一些变化。这意味着您的Colormap在转换为黑白模式时(用于打印)的信息将得到保留，且对色盲友好。</p>
<p>Matplotlib内置了默认的cubehelix版本：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"cubehelix"</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d07b38f860b0f58e365e7ea26da8be92.jpg" alt=""></p>
<p>Seborn为cubehelix系统提供了一个接口，以便您可以制作各种调色板，这些调色板都具有良好的线性亮度渐变。</p>
<p>由seborn <code>cubehelix_palette()</code> 函数返回的默认调色板与matplotlib的默认值稍有不同，因为它不会围绕色轮旋转很远，也不会覆盖很宽的强度范围。它还反转顺序，以便让更重要的值的颜色更暗：</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/be20ca200667c3c8849b95c4a6aa846e.jpg" alt=""></p>
<p><code>cubehelix_palette()</code> 函数的其他参数控制调色板的外观。您将更改的两个主要参数为 <code>start</code> (介于0到3之间的值)和 <code>rot</code> —— 旋转次数(任意值，但可能在-1和1之间)。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> start<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">,</span> rot<span class="token operator">=</span><span class="token operator">-</span><span class="token punctuation">.</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/e4e79afcca0586e526385c901b5cf806.jpg" alt=""></p>
<p>您还可以控制端点的亮度，甚至反转渐变：</p>
<pre><code>sns.palplot(sns.cubehelix_palette(8, start=2, rot=0, dark=0, light=.95, reverse=True))</code></pre><p><img src="/images/loading.gif" data-original="../images/language/c4e8f173e5519de01ed11bca06911371.jpg" alt=""></p>
<p>如同其他seaborn函数，您将默认得到一个颜色列表。但您也可以通过修改 <code>as_cmap=True</code> 将调色板作为Colormap对象的返回值来传递给seaborn或matplotlib函数。</p>
<pre class="line-numbers language-python"><code class="language-python">x<span class="token punctuation">,</span> y <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>multivariate_normal<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">.</span>T
cmap <span class="token operator">=</span> sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span>light<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> cmap<span class="token operator">=</span>cmap<span class="token punctuation">,</span> shade<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2e48cfc09dde0559e31096f5a067ad3d.jpg" alt=""></p>
<p>为了帮助您选择更好的调色板或者Colormap，您可以在Jupyter notebook中使用 <code>choose_cubehelix_palette()</code> 函数来启动互动界面帮助您测试、修改不同的参数。如果您希望函数返回一个Colormap(而不是列表)，则在例如像 <code>hexbin</code> 这样的函数中设置 <code>as_Cmap=True</code>。</p>
<h3 id="自定义调色板"><a href="#自定义调色板" class="headerlink" title="自定义调色板"></a>自定义调色板</h3><p>为了更简单地生成自定义顺序调色板，您可以使用 <code>light_palette()</code> 或 <code>dark_palette()</code> 函数。它们都是以某个颜色为种子，从明向暗或从暗向明渐变，产生顺序调色板。与这些函数相搭配的还有 <code>choose_light_palette()</code> 和 <code>choose_dark_palette()</code> 来提供交互式组件便于创建调色板。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>light_palette<span class="token punctuation">(</span><span class="token string">"green"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/c5d7ac6e8ae2f2ccf0f40dd4dccda398.jpg" alt=""></p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>dark_palette<span class="token punctuation">(</span><span class="token string">"purple"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/de7d739c3094b9d34a7c69356ed9703f.jpg" alt=""></p>
<p>这些调色板同样可以被反转。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>light_palette<span class="token punctuation">(</span><span class="token string">"navy"</span><span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/c32dd39f791f7d395dc47b37e1252b78.jpg" alt=""></p>
<p>这些调色板同样可以被用来创建Colormap对象而不是颜色列表。</p>
<pre class="line-numbers language-python"><code class="language-python">pal <span class="token operator">=</span> sns<span class="token punctuation">.</span>dark_palette<span class="token punctuation">(</span><span class="token string">"palegreen"</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> cmap<span class="token operator">=</span>pal<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/16096f5a5796354b892ba4f6ff2dcef1.jpg" alt=""></p>
<p>默认情况下，输入可以是任何有效的matplotlib颜色。替代解释由 <code>input</code> 参数控制。现在，您可以在 <code>hls</code> 或 <code>husl</code> 空间中提供元组以及默认的 <code>rgb</code>，您也可以使用任何有效的 <code>xkcd</code> 颜色来生成调色板。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>light_palette<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">210</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> input<span class="token operator">=</span><span class="token string">"husl"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/697bc3366186ebc63715159c7e6f934a.jpg" alt=""></p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>dark_palette<span class="token punctuation">(</span><span class="token string">"muted purple"</span><span class="token punctuation">,</span> input<span class="token operator">=</span><span class="token string">"xkcd"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/eaa5d2a866409544e7f4f2f2b484e4f5.jpg" alt=""></p>
<p>注意，交互式调色板小部件的默认输入空间是 <code>husl</code>，它不同于函数本身的默认设置，但是在这种情况下更有用。</p>
<h2 id="发散调色板"><a href="#发散调色板" class="headerlink" title="发散调色板"></a>发散调色板</h2><p>第三类调色板称为“发散调色板”(diverging)。当数据集的低值和高值都很重要，且数据集中有明确定义的中点时，这会是您的最佳选择。例如，绘制温度相对于基准时间点的变化图时，最好使用发散Colormap来同时显示温度相对于基准值的上升和下降</p>
<p>选择良好分散调色板的规则类似于良好的顺序调色板。不过在这种情况时需要注意两端颜色向中间颜色渐变时中间点的颜色不应该喧宾夺主，两端的颜色也应该具有相似的亮度和饱和度。</p>
<p>这里还需要强调的是，应该避免使用红色和绿色，因为需要考虑到<a href="https://en.wikipedia.org/wiki/Color_blindness" target="_blank" rel="noopener">红绿色盲</a>患者的观感。</p>
<p>不出所料，Color Brewer库也同样提供了一些精心挑选的发散调色板。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"BrBG"</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/fb741f69016b77f7e6a93fc12ad8420c.jpg" alt=""></p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"RdBu_r"</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a6f00f18e0a24fee984824847391d181.jpg" alt=""></p>
<p>matplotlib库中内置的 <code>coolwarm</code> 调色板也是一个很好的选择。请注意，这个Colormap的中间值和极值之间的对比度较小。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"coolwarm"</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/650e30fa2dd7a01892cacc0fd1e2ca85.jpg" alt=""></p>
<h3 id="自定义发散调色板"><a href="#自定义发散调色板" class="headerlink" title="自定义发散调色板"></a>自定义发散调色板</h3><p>您可以使用seaborn的<code>diverging_palette()</code>函数来创建自定义colormap来描述发散数据(搭配有交互式组件<code>choose_diverging_palette()</code>)。此函数使用 <code>husl</code> 颜色系统来创建发散调色板，您需要在函数中设置两个色调参数(用度表示)，也可以选择设置两端颜色的亮度和饱和度。 使用 <code>husl</code> 意味着两端到中间点的色调变化将是平衡的。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>diverging_palette<span class="token punctuation">(</span><span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> n<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/429c1d877c3d7c4b23d82d35ade3603d.jpg" alt=""></p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>diverging_palette<span class="token punctuation">(</span><span class="token number">145</span><span class="token punctuation">,</span> <span class="token number">280</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">85</span><span class="token punctuation">,</span> l<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">,</span> n<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/75b405b71a445bc29d020b75ee4b3632.jpg" alt=""></p>
<p><code>sep</code> 参数控制两端到中间点色调变化的间隔。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>diverging_palette<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">,</span> n<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/df43f6b2a11e5c0ee8c60f7ef2962e19.jpg" alt=""></p>
<p>也可以将中间点的颜色设置成暗色而非亮色。</p>
<pre class="line-numbers language-python"><code class="language-python">sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>diverging_palette<span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">133</span><span class="token punctuation">,</span> l<span class="token operator">=</span><span class="token number">60</span><span class="token punctuation">,</span> n<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> center<span class="token operator">=</span><span class="token string">"dark"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b0fa1a625cc563e5a13abc41fa080b59.jpg" alt=""></p>
<h2 id="设置默认调色板"><a href="#设置默认调色板" class="headerlink" title="设置默认调色板"></a>设置默认调色板</h2><p>与<code>color_palette()</code>函数相伴随的有<code>set_palette()</code>。 两者之间的关系与美学教程中介绍的<code>set_palette()</code>函数和<code>color_palette()</code>函数接受相同参数的关系相类似。但它会更改默认的matplotlib参数，以便调色板应用于所有图像。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sinplot</span><span class="token punctuation">(</span>flip<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>x <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">7</span> <span class="token operator">-</span> i<span class="token punctuation">)</span> <span class="token operator">*</span> flip<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6c2898fe95dd4d45e166acda2ab730fe.jpg" alt=""></p>
<p>您可以在 <code>with</code> 语句中通过 <code>color_palette()</code> 函数来临时改变调色板。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">with</span> sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"PuBuGn_d"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    sinplot<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a276fb7452f1f31a95ec2ec9d810fa20.jpg" alt=""></p>
<h1 id="Seaborn-API"><a href="#Seaborn-API" class="headerlink" title="Seaborn API"></a>Seaborn API</h1><h1 id="seaborn-relplot"><a href="#seaborn-relplot" class="headerlink" title="seaborn.relplot"></a>seaborn.relplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span>None<span class="token punctuation">,</span> y<span class="token operator">=</span>None<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> size<span class="token operator">=</span>None<span class="token punctuation">,</span> style<span class="token operator">=</span>None<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> row<span class="token operator">=</span>None<span class="token punctuation">,</span> col<span class="token operator">=</span>None<span class="token punctuation">,</span> col_wrap<span class="token operator">=</span>None<span class="token punctuation">,</span> row_order<span class="token operator">=</span>None<span class="token punctuation">,</span> col_order<span class="token operator">=</span>None<span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_norm<span class="token operator">=</span>None<span class="token punctuation">,</span> sizes<span class="token operator">=</span>None<span class="token punctuation">,</span> size_order<span class="token operator">=</span>None<span class="token punctuation">,</span> size_norm<span class="token operator">=</span>None<span class="token punctuation">,</span> markers<span class="token operator">=</span>None<span class="token punctuation">,</span> dashes<span class="token operator">=</span>None<span class="token punctuation">,</span> style_order<span class="token operator">=</span>None<span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token string">'brief'</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">'scatter'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> facet_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Figure-level interface for drawing relational plots onto a FacetGrid.</p>
<p>This function provides access to several different axes-level functions that show the relationship between two variables with semantic mappings of subsets. The <code>kind</code> parameter selects the underlying axes-level function to use:</p>
<ul>
<li><code>scatterplot()</code> (with <code>kind="scatter"</code>; the default)</li>
<li><code>lineplot()</code> (with <code>kind="line"</code>)</li>
</ul>
<p>Extra keyword arguments are passed to the underlying function, so you should refer to the documentation for each to see kind-specific options.</p>
<p>The relationship between <code>x</code> and <code>y</code> can be shown for different subsets of the data using the <code>hue</code>, <code>size</code>, and <code>style</code> parameters. These parameters control what visual semantics are used to identify the different subsets. It is possible to show up to three dimensions independently by using all three semantic types, but this style of plot can be hard to interpret and is often ineffective. Using redundant semantics (i.e. both <code>hue</code> and <code>style</code> for the same variable) can be helpful for making graphics more accessible.</p>
<p>After plotting, the <code>FacetGrid</code> with the plot is returned and can be used directly to tweak supporting plot details or add other layers.</p>
<p>Note that, unlike when using the underlying plotting functions directly, data must be passed in a long-form DataFrame with variables specified by passing strings to <code>x</code>, <code>y</code>, and other parameters.</p>
<p>参数：<code>x, y</code>：names of variables in <code>data</code></p>
<blockquote>
<p>Input data variables; must be numeric.</p>
</blockquote>
<p><code>hue</code>：name in <code>data</code>, optional</p>
<blockquote>
<p>Grouping variable that will produce elements with different colors. Can be either categorical or numeric, although color mapping will behave differently in latter case.</p>
</blockquote>
<p><code>size</code>：name in <code>data</code>, optional</p>
<blockquote>
<p>Grouping variable that will produce elements with different sizes. Can be either categorical or numeric, although size mapping will behave differently in latter case.</p>
</blockquote>
<p><code>style</code>：name in <code>data</code>, optional</p>
<blockquote>
<p>Grouping variable that will produce elements with different styles. Can have a numeric dtype but will always be treated as categorical.</p>
</blockquote>
<p><code>data</code>：DataFrame</p>
<blockquote>
<p>Tidy (“long-form”) dataframe where each column is a variable and each row is an observation.</p>
</blockquote>
<p><code>row, col</code>：names of variables in <code>data</code>, optional</p>
<blockquote>
<p>Categorical variables that will determine the faceting of the grid.</p>
</blockquote>
<p><code>col_wrap</code>：int, optional</p>
<blockquote>
<p>“Wrap” the column variable at this width, so that the column facets span multiple rows. Incompatible with a <code>row</code> facet.</p>
</blockquote>
<p><code>row_order, col_order</code>：lists of strings, optional</p>
<blockquote>
<p>Order to organize the rows and/or columns of the grid in, otherwise the orders are inferred from the data objects.</p>
</blockquote>
<p><code>palette</code>：palette name, list, or dict, optional</p>
<blockquote>
<p>Colors to use for the different levels of the <code>hue</code> variable. Should be something that can be interpreted by <code>color_palette()</code>, or a dictionary mapping hue levels to matplotlib colors.</p>
</blockquote>
<p><code>hue_order</code>：list, optional</p>
<blockquote>
<p>Specified order for the appearance of the <code>hue</code> variable levels, otherwise they are determined from the data. Not relevant when the <code>hue</code> variable is numeric.</p>
</blockquote>
<p><code>hue_norm</code>：tuple or Normalize object, optional</p>
<blockquote>
<p>Normalization in data units for colormap applied to the <code>hue</code> variable when it is numeric. Not relevant if it is categorical.</p>
</blockquote>
<p><code>sizes</code>：list, dict, or tuple, optional</p>
<blockquote>
<p>An object that determines how sizes are chosen when <code>size</code> is used. It can always be a list of size values or a dict mapping levels of the <code>size</code> variable to sizes. When <code>size</code> is numeric, it can also be a tuple specifying the minimum and maximum size to use such that other values are normalized within this range.</p>
</blockquote>
<p><code>size_order</code>：list, optional</p>
<blockquote>
<p>Specified order for appearance of the <code>size</code> variable levels, otherwise they are determined from the data. Not relevant when the <code>size</code> variable is numeric.</p>
</blockquote>
<p><code>size_norm</code>：tuple or Normalize object, optional</p>
<blockquote>
<p>Normalization in data units for scaling plot objects when the <code>size</code> variable is numeric.</p>
</blockquote>
<p><code>legend</code>：“brief”, “full”, or False, optional</p>
<blockquote>
<p>How to draw the legend. If “brief”, numeric <code>hue</code> and <code>size</code> variables will be represented with a sample of evenly spaced values. If “full”, every group will get an entry in the legend. If <code>False</code>, no legend data is added and no legend is drawn.</p>
</blockquote>
<p><code>kind</code>：string, optional</p>
<blockquote>
<p>Kind of plot to draw, corresponding to a seaborn relational plot. Options are {<code>scatter</code> and <code>line</code>}.</p>
</blockquote>
<p><code>height</code>：scalar, optional</p>
<blockquote>
<p>Height (in inches) of each facet. See also: <code>aspect</code>.</p>
</blockquote>
<p><code>aspect</code>：scalar, optional</p>
<blockquote>
<p>Aspect ratio of each facet, so that <code>aspect * height</code> gives the width of each facet in inches.</p>
</blockquote>
<p><code>facet_kws</code>：dict, optional</p>
<blockquote>
<p>Dictionary of other keyword arguments to pass to <code>FacetGrid</code>.</p>
</blockquote>
<p><code>kwargs</code>：key, value pairings</p>
<blockquote>
<p>Other keyword arguments are passed through to the underlying plotting function.</p>
</blockquote>
<p>返回值：<code>g</code>：<code>FacetGrid</code></p>
<blockquote>
<p>Returns the <code>FacetGrid</code> object with the plot on it for further tweaking.</p>
</blockquote>
<p>Examples</p>
<p>Draw a single facet to use the <code>FacetGrid</code> legend placement:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"ticks"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/1c7fa44b0679b71a3e8e8a4e26d75963.jpg" alt=""></p>
<p>Facet on the columns with another variable:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 hue<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f0eb2f840a13f8dbd2b829e6bb51c4af.jpg" alt=""></p>
<p>Facet on the columns and rows:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> row<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/e6f2f0c866185be9801d43c59f348826.jpg" alt=""></p>
<p>“Wrap” many column facets into multiple rows:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 col<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> col_wrap<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a89db144a2f030e70603b92ba8728326.jpg" alt=""></p>
<p>Use multiple semantic variables on each facet with specified attributes:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 palette<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> sizes<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/79d93fb6cd8974ec779ead1b35e2aad1.jpg" alt=""></p>
<p>Use a different kind of plot:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> fmri <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"fmri"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 hue<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"region"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f14f4331afb42bd5512f2c24a5140604.jpg" alt=""></p>
<p>Change the size of each facet:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 hue<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"region"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 height<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">7</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/bcbb773f27f65051374518d1d859a486.jpg" alt=""></p>
<h1 id="seaborn-scatterplot"><a href="#seaborn-scatterplot" class="headerlink" title="seaborn.scatterplot"></a>seaborn.scatterplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span>None<span class="token punctuation">,</span> y<span class="token operator">=</span>None<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> style<span class="token operator">=</span>None<span class="token punctuation">,</span> size<span class="token operator">=</span>None<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_norm<span class="token operator">=</span>None<span class="token punctuation">,</span> sizes<span class="token operator">=</span>None<span class="token punctuation">,</span> size_order<span class="token operator">=</span>None<span class="token punctuation">,</span> size_norm<span class="token operator">=</span>None<span class="token punctuation">,</span> markers<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> style_order<span class="token operator">=</span>None<span class="token punctuation">,</span> x_bins<span class="token operator">=</span>None<span class="token punctuation">,</span> y_bins<span class="token operator">=</span>None<span class="token punctuation">,</span> units<span class="token operator">=</span>None<span class="token punctuation">,</span> estimator<span class="token operator">=</span>None<span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token number">95</span><span class="token punctuation">,</span> n_boot<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token string">'auto'</span><span class="token punctuation">,</span> x_jitter<span class="token operator">=</span>None<span class="token punctuation">,</span> y_jitter<span class="token operator">=</span>None<span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token string">'brief'</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Draw a scatter plot with possibility of several semantic groupings.</p>
<p>The relationship between <code>x</code> and <code>y</code> can be shown for different subsets of the data using the <code>hue</code>, <code>size</code>, and <code>style</code> parameters. These parameters control what visual semantics are used to identify the different subsets. It is possible to show up to three dimensions independently by using all three semantic types, but this style of plot can be hard to interpret and is often ineffective. Using redundant semantics (i.e. both <code>hue</code> and <code>style</code> for the same variable) can be helpful for making graphics more accessible.</p>
<p>参数：<code>x, y</code>：names of variables in <code>data</code> or vector data, optional</p>
<blockquote>
<p>Input data variables; must be numeric. Can pass data directly or reference columns in <code>data</code>.</p>
</blockquote>
<p><code>hue</code>：name of variables in <code>data</code> or vector data, optional</p>
<blockquote>
<p>Grouping variable that will produce points with different colors. Can be either categorical or numeric, although color mapping will behave differently in latter case.</p>
</blockquote>
<p><code>size</code>：name of variables in <code>data</code> or vector data, optional</p>
<blockquote>
<p>Grouping variable that will produce points with different sizes. Can be either categorical or numeric, although size mapping will behave differently in latter case.</p>
</blockquote>
<p><code>style</code>：name of variables in <code>data</code> or vector data, optional</p>
<blockquote>
<p>Grouping variable that will produce points with different markers. Can have a numeric dtype but will always be treated as categorical.</p>
</blockquote>
<p><code>data</code>：DataFrame</p>
<blockquote>
<p>Tidy (“long-form”) dataframe where each column is a variable and each row is an observation.</p>
</blockquote>
<p><code>palette</code>：palette name, list, or dict, optional</p>
<blockquote>
<p>Colors to use for the different levels of the <code>hue</code> variable. Should be something that can be interpreted by <code>color_palette()</code>, or a dictionary mapping hue levels to matplotlib colors.</p>
</blockquote>
<p><code>hue_order</code>：list, optional</p>
<blockquote>
<p>Specified order for the appearance of the <code>hue</code> variable levels, otherwise they are determined from the data. Not relevant when the <code>hue</code> variable is numeric.</p>
</blockquote>
<p><code>hue_norm</code>：tuple or Normalize object, optional</p>
<blockquote>
<p>Normalization in data units for colormap applied to the <code>hue</code> variable when it is numeric. Not relevant if it is categorical.</p>
</blockquote>
<p><code>sizes</code>：list, dict, or tuple, optional</p>
<blockquote>
<p>An object that determines how sizes are chosen when <code>size</code> is used. It can always be a list of size values or a dict mapping levels of the <code>size</code> variable to sizes. When <code>size</code> is numeric, it can also be a tuple specifying the minimum and maximum size to use such that other values are normalized within this range.</p>
</blockquote>
<p><code>size_order</code>：list, optional</p>
<blockquote>
<p>Specified order for appearance of the <code>size</code> variable levels, otherwise they are determined from the data. Not relevant when the <code>size</code> variable is numeric.</p>
</blockquote>
<p><code>size_norm</code>：tuple or Normalize object, optional</p>
<blockquote>
<p>Normalization in data units for scaling plot objects when the <code>size</code> variable is numeric.</p>
</blockquote>
<p><code>markers</code>：boolean, list, or dictionary, optional</p>
<blockquote>
<p>Object determining how to draw the markers for different levels of the <code>style</code> variable. Setting to <code>True</code> will use default markers, or you can pass a list of markers or a dictionary mapping levels of the <code>style</code> variable to markers. Setting to <code>False</code> will draw marker-less lines. Markers are specified as in matplotlib.</p>
</blockquote>
<p><code>style_order</code>：list, optional</p>
<blockquote>
<p>Specified order for appearance of the <code>style</code> variable levels otherwise they are determined from the data. Not relevant when the <code>style</code> variable is numeric.</p>
</blockquote>
<p><code>{x,y}_bins</code>：lists or arrays or functions</p>
<blockquote>
<p><em>Currently non-functional.</em></p>
</blockquote>
<p><code>units</code>：{long_form_var}</p>
<blockquote>
<p>Grouping variable identifying sampling units. When used, a separate line will be drawn for each unit with appropriate semantics, but no legend entry will be added. Useful for showing distribution of experimental replicates when exact identities are not needed.</p>
<p><em>Currently non-functional.</em></p>
</blockquote>
<p><code>estimator</code>：name of pandas method or callable or None, optional</p>
<blockquote>
<p>Method for aggregating across multiple observations of the <code>y</code> variable at the same <code>x</code> level. If <code>None</code>, all observations will be drawn. <em>Currently non-functional.</em></p>
</blockquote>
<p><code>ci</code>：int or “sd” or None, optional</p>
<blockquote>
<p>Size of the confidence interval to draw when aggregating with an estimator. “sd” means to draw the standard deviation of the data. Setting to <code>None</code> will skip bootstrapping. <em>Currently non-functional.</em></p>
</blockquote>
<p><code>n_boot</code>：int, optional</p>
<blockquote>
<p>Number of bootstraps to use for computing the confidence interval. <em>Currently non-functional.</em></p>
</blockquote>
<p><code>alpha</code>：float</p>
<blockquote>
<p>Proportional opacity of the points.</p>
</blockquote>
<p><code>{x,y}_jitter</code>：booleans or floats</p>
<blockquote>
<p><em>Currently non-functional.</em></p>
</blockquote>
<p><code>legend</code>：“brief”, “full”, or False, optional</p>
<blockquote>
<p>How to draw the legend. If “brief”, numeric <code>hue</code> and <code>size</code> variables will be represented with a sample of evenly spaced values. If “full”, every group will get an entry in the legend. If <code>False</code>, no legend data is added and no legend is drawn.</p>
</blockquote>
<p><code>ax</code>：matplotlib Axes, optional</p>
<blockquote>
<p>Axes object to draw the plot onto, otherwise uses the current Axes.</p>
</blockquote>
<p><code>kwargs</code>：key, value mappings</p>
<blockquote>
<p>Other keyword arguments are passed down to <code>plt.scatter</code> at draw time.</p>
</blockquote>
<p>返回值：<code>ax</code>：matplotlib Axes</p>
<blockquote>
<p>Returns the Axes object with the plot drawn onto it.</p>
</blockquote>
<p>See also</p>
<p>Show the relationship between two variables connected with lines to emphasize continuity.Draw a scatter plot with one categorical variable, arranging the points to show the distribution of values.</p>
<p>Examples</p>
<p>Draw a simple scatter plot between two variables:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token operator">>></span><span class="token operator">></span> tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/0c0c7dd9c7bdb6a6490d4f09db142ec7.jpg" alt=""></p>
<p>Group by another variable and show the groups with different colors:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/7fa2188b7e7f18a4af451121d39996f0.jpg" alt=""></p>
<p>Show the grouping variable by varying both color and marker:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      hue<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/efc3bf2e49e981db42de96bfa2fbf3c3.jpg" alt=""></p>
<p>Vary colors and markers to show two different grouping variables:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      hue<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/9cd2a9e38e483ecbe02a7f0d0b67aac3.jpg" alt=""></p>
<p>Show a quantitative variable by varying the size of the points:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/eed42ab8c9334459069ea90987d5a184.jpg" alt=""></p>
<p>Also show the quantitative variable by also using continuous colors:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      hue<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2777268c97b2e7b9d1e8269eb5a30c32.jpg" alt=""></p>
<p>Use a different continuous color map:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> cmap <span class="token operator">=</span> sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span>dark<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">3</span><span class="token punctuation">,</span> light<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">8</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      hue<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      palette<span class="token operator">=</span>cmap<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6254a35c0308633b36668290c5aecadd.jpg" alt=""></p>
<p>Change the minimum and maximum point size and show all sizes in legend:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> cmap <span class="token operator">=</span> sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span>dark<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">3</span><span class="token punctuation">,</span> light<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">8</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      hue<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      sizes<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span> palette<span class="token operator">=</span>cmap<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      legend<span class="token operator">=</span><span class="token string">"full"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/8dce33a113d5097dca0507c737d018d4.jpg" alt=""></p>
<p>Use a narrower range of color map intensities:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> cmap <span class="token operator">=</span> sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span>dark<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">3</span><span class="token punctuation">,</span> light<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">8</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      hue<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      sizes<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span> hue_norm<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      legend<span class="token operator">=</span><span class="token string">"full"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/83eadbdb8a87de2c9615c02d627bb299.jpg" alt=""></p>
<p>Vary the size with a categorical variable, and use a different palette:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> cmap <span class="token operator">=</span> sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span>dark<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">3</span><span class="token punctuation">,</span> light<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">8</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      hue<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      palette<span class="token operator">=</span><span class="token string">"Set2"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a5b1731f0fcd91611390c0bb109cfe64.jpg" alt=""></p>
<p>Use a specific set of markers:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> markers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"Lunch"</span><span class="token punctuation">:</span> <span class="token string">"s"</span><span class="token punctuation">,</span> <span class="token string">"Dinner"</span><span class="token punctuation">:</span> <span class="token string">"X"</span><span class="token punctuation">}</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      markers<span class="token operator">=</span>markers<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d36b6251be5569fe2c31daea7543bf8a.jpg" alt=""></p>
<p>Control plot attributes using matplotlib parameters:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      s<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">".2"</span><span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">"+"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6096554e5a6fc5659cb1506870489993.jpg" alt=""></p>
<p>Pass data vectors instead of names in a data frame:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> iris <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"iris"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span>iris<span class="token punctuation">.</span>sepal_length<span class="token punctuation">,</span> y<span class="token operator">=</span>iris<span class="token punctuation">.</span>sepal_width<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      hue<span class="token operator">=</span>iris<span class="token punctuation">.</span>species<span class="token punctuation">,</span> style<span class="token operator">=</span>iris<span class="token punctuation">.</span>species<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5efb6c24bde137217b7d6471bd9e806a.jpg" alt=""></p>
<p>Pass a wide-form dataset and plot against its index:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token punctuation">,</span> pandas <span class="token keyword">as</span> pd<span class="token punctuation">;</span> plt<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token string">"all"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> index <span class="token operator">=</span> pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">"1 1 2000"</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                       freq<span class="token operator">=</span><span class="token string">"m"</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"date"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> wide_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token punctuation">,</span> index<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>data<span class="token operator">=</span>wide_df<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ef47abe0a6cdede1f181c16d59bd3fe0.jpg" alt=""></p>
<h1 id="seaborn-lineplot"><a href="#seaborn-lineplot" class="headerlink" title="seaborn.lineplot"></a>seaborn.lineplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span>None<span class="token punctuation">,</span> y<span class="token operator">=</span>None<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> size<span class="token operator">=</span>None<span class="token punctuation">,</span> style<span class="token operator">=</span>None<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_norm<span class="token operator">=</span>None<span class="token punctuation">,</span> sizes<span class="token operator">=</span>None<span class="token punctuation">,</span> size_order<span class="token operator">=</span>None<span class="token punctuation">,</span> size_norm<span class="token operator">=</span>None<span class="token punctuation">,</span> dashes<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> markers<span class="token operator">=</span>None<span class="token punctuation">,</span> style_order<span class="token operator">=</span>None<span class="token punctuation">,</span> units<span class="token operator">=</span>None<span class="token punctuation">,</span> estimator<span class="token operator">=</span><span class="token string">'mean'</span><span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token number">95</span><span class="token punctuation">,</span> n_boot<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span> sort<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> err_style<span class="token operator">=</span><span class="token string">'band'</span><span class="token punctuation">,</span> err_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token string">'brief'</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Draw a line plot with possibility of several semantic groupings.</p>
<p>The relationship between <code>x</code> and <code>y</code> can be shown for different subsets of the data using the <code>hue</code>, <code>size</code>, and <code>style</code> parameters. These parameters control what visual semantics are used to identify the different subsets. It is possible to show up to three dimensions independently by using all three semantic types, but this style of plot can be hard to interpret and is often ineffective. Using redundant semantics (i.e. both <code>hue</code> and <code>style</code> for the same variable) can be helpful for making graphics more accessible.</p>
<p>By default, the plot aggregates over multiple <code>y</code> values at each value of <code>x</code> and shows an estimate of the central tendency and a confidence interval for that estimate.</p>
<p>参数：<code>x, y</code>：names of variables in <code>data</code> or vector data, optional</p>
<blockquote>
<p>Input data variables; must be numeric. Can pass data directly or reference columns in <code>data</code>.</p>
</blockquote>
<p><code>hue</code>：name of variables in <code>data</code> or vector data, optional</p>
<blockquote>
<p>Grouping variable that will produce lines with different colors. Can be either categorical or numeric, although color mapping will behave differently in latter case.</p>
</blockquote>
<p><code>size</code>：name of variables in <code>data</code> or vector data, optional</p>
<blockquote>
<p>Grouping variable that will produce lines with different widths. Can be either categorical or numeric, although size mapping will behave differently in latter case.</p>
</blockquote>
<p><code>style</code>：name of variables in <code>data</code> or vector data, optional</p>
<blockquote>
<p>Grouping variable that will produce lines with different dashes and/or markers. Can have a numeric dtype but will always be treated as categorical.</p>
</blockquote>
<p><code>data</code>：DataFrame</p>
<blockquote>
<p>Tidy (“long-form”) dataframe where each column is a variable and each row is an observation.</p>
</blockquote>
<p><code>palette</code>：palette name, list, or dict, optional</p>
<blockquote>
<p>Colors to use for the different levels of the <code>hue</code> variable. Should be something that can be interpreted by <code>color_palette()</code>, or a dictionary mapping hue levels to matplotlib colors.</p>
</blockquote>
<p><code>hue_order</code>：list, optional</p>
<blockquote>
<p>Specified order for the appearance of the <code>hue</code> variable levels, otherwise they are determined from the data. Not relevant when the <code>hue</code> variable is numeric.</p>
</blockquote>
<p><code>hue_norm</code>：tuple or Normalize object, optional</p>
<blockquote>
<p>Normalization in data units for colormap applied to the <code>hue</code> variable when it is numeric. Not relevant if it is categorical.</p>
</blockquote>
<p><code>sizes</code>：list, dict, or tuple, optional</p>
<blockquote>
<p>An object that determines how sizes are chosen when <code>size</code> is used. It can always be a list of size values or a dict mapping levels of the <code>size</code> variable to sizes. When <code>size</code> is numeric, it can also be a tuple specifying the minimum and maximum size to use such that other values are normalized within this range.</p>
</blockquote>
<p><code>size_order</code>：list, optional</p>
<blockquote>
<p>Specified order for appearance of the <code>size</code> variable levels, otherwise they are determined from the data. Not relevant when the <code>size</code> variable is numeric.</p>
</blockquote>
<p><code>size_norm</code>：tuple or Normalize object, optional</p>
<blockquote>
<p>Normalization in data units for scaling plot objects when the <code>size</code> variable is numeric.</p>
</blockquote>
<p><code>dashes</code>：boolean, list, or dictionary, optional</p>
<blockquote>
<p>Object determining how to draw the lines for different levels of the <code>style</code> variable. Setting to <code>True</code> will use default dash codes, or you can pass a list of dash codes or a dictionary mapping levels of the <code>style</code> variable to dash codes. Setting to <code>False</code> will use solid lines for all subsets. Dashes are specified as in matplotlib: a tuple of <code>(segment, gap)</code> lengths, or an empty string to draw a solid line.</p>
</blockquote>
<p><code>markers</code>：boolean, list, or dictionary, optional</p>
<blockquote>
<p>Object determining how to draw the markers for different levels of the <code>style</code> variable. Setting to <code>True</code> will use default markers, or you can pass a list of markers or a dictionary mapping levels of the <code>style</code> variable to markers. Setting to <code>False</code> will draw marker-less lines. Markers are specified as in matplotlib.</p>
</blockquote>
<p><code>style_order</code>：list, optional</p>
<blockquote>
<p>Specified order for appearance of the <code>style</code> variable levels otherwise they are determined from the data. Not relevant when the <code>style</code> variable is numeric.</p>
</blockquote>
<p><code>units</code>：{long_form_var}</p>
<blockquote>
<p>Grouping variable identifying sampling units. When used, a separate line will be drawn for each unit with appropriate semantics, but no legend entry will be added. Useful for showing distribution of experimental replicates when exact identities are not needed.</p>
</blockquote>
<p><code>estimator</code>：name of pandas method or callable or None, optional</p>
<blockquote>
<p>Method for aggregating across multiple observations of the <code>y</code> variable at the same <code>x</code> level. If <code>None</code>, all observations will be drawn.</p>
</blockquote>
<p><code>ci</code>：int or “sd” or None, optional</p>
<blockquote>
<p>Size of the confidence interval to draw when aggregating with an estimator. “sd” means to draw the standard deviation of the data. Setting to <code>None</code> will skip bootstrapping.</p>
</blockquote>
<p><code>n_boot</code>：int, optional</p>
<blockquote>
<p>Number of bootstraps to use for computing the confidence interval.</p>
</blockquote>
<p><code>sort</code>：boolean, optional</p>
<blockquote>
<p>If True, the data will be sorted by the x and y variables, otherwise lines will connect points in the order they appear in the dataset.</p>
</blockquote>
<p><code>err_style</code>：“band” or “bars”, optional</p>
<blockquote>
<p>Whether to draw the confidence intervals with translucent error bands or discrete error bars.</p>
</blockquote>
<p><code>err_band</code>：dict of keyword arguments</p>
<blockquote>
<p>Additional paramters to control the aesthetics of the error bars. The kwargs are passed either to <code>ax.fill_between</code> or <code>ax.errorbar</code>, depending on the <code>err_style</code>.</p>
</blockquote>
<p><code>legend</code>：“brief”, “full”, or False, optional</p>
<blockquote>
<p>How to draw the legend. If “brief”, numeric <code>hue</code> and <code>size</code> variables will be represented with a sample of evenly spaced values. If “full”, every group will get an entry in the legend. If <code>False</code>, no legend data is added and no legend is drawn.</p>
</blockquote>
<p><code>ax</code>：matplotlib Axes, optional</p>
<blockquote>
<p>Axes object to draw the plot onto, otherwise uses the current Axes.</p>
</blockquote>
<p><code>kwargs</code>：key, value mappings</p>
<blockquote>
<p>Other keyword arguments are passed down to <code>plt.plot</code> at draw time.</p>
</blockquote>
<p>返回值：<code>ax</code>：matplotlib Axes</p>
<blockquote>
<p>Returns the Axes object with the plot drawn onto it.</p>
</blockquote>
<p>See also</p>
<p>Show the relationship between two variables without emphasizing continuity of the <code>x</code> variable.Show the relationship between two variables when one is categorical.</p>
<p>Examples</p>
<p>Draw a single line plot with error bands showing a confidence interval:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token operator">>></span><span class="token operator">></span> fmri <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"fmri"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/25ad91543cb2ac105ccfb3efc544658a.jpg" alt=""></p>
<p>Group by another variable and show the groups with different colors:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5d2d2c464b8872f780180217182517d4.jpg" alt=""></p>
<p>Show the grouping variable with both color and line dashing:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   hue<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2e99f3ab69ddcc3a94df1ddb15068249.jpg" alt=""></p>
<p>Use color and line dashing to represent two different grouping variables:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   hue<span class="token operator">=</span><span class="token string">"region"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/7c717f27fe7c1e02672338abf7cad829.jpg" alt=""></p>
<p>Use markers instead of the dashes to identify groups:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   hue<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   markers<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> dashes<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f82003c5544990262fe9a61a131d93ef.jpg" alt=""></p>
<p>Show error bars instead of error bands and plot the standard error:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   err_style<span class="token operator">=</span><span class="token string">"bars"</span><span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token number">68</span><span class="token punctuation">,</span> data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a92991eef59fbedc422f330f51697fe4.jpg" alt=""></p>
<p>Show experimental replicates instead of aggregating:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"timepoint"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"signal"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"event"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   units<span class="token operator">=</span><span class="token string">"subject"</span><span class="token punctuation">,</span> estimator<span class="token operator">=</span>None<span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   data<span class="token operator">=</span>fmri<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">"region == 'frontal'"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d7a78945c0ae60bbd5ee9dfef15baba0.jpg" alt=""></p>
<p>Use a quantitative color mapping:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> dots <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"dots"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">"align == 'dots'"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"firing_rate"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   hue<span class="token operator">=</span><span class="token string">"coherence"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"choice"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   data<span class="token operator">=</span>dots<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/bc93752a335d8985139584678e19a2b9.jpg" alt=""></p>
<p>Use a different normalization for the colormap:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> matplotlib<span class="token punctuation">.</span>colors <span class="token keyword">import</span> LogNorm
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"firing_rate"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   hue<span class="token operator">=</span><span class="token string">"coherence"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"choice"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   hue_norm<span class="token operator">=</span>LogNorm<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token operator">=</span>dots<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/1848472fd25a5227de0c58b2fc43c865.jpg" alt=""></p>
<p>Use a different color palette:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"firing_rate"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   hue<span class="token operator">=</span><span class="token string">"coherence"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"choice"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   palette<span class="token operator">=</span><span class="token string">"ch:2.5,.25"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>dots<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f758b47e18df4e0b8e31c3a3fb9a1634.jpg" alt=""></p>
<p>Use specific color values, treating the hue variable as categorical:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> palette <span class="token operator">=</span> sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"mako_r"</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"firing_rate"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   hue<span class="token operator">=</span><span class="token string">"coherence"</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">"choice"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   palette<span class="token operator">=</span>palette<span class="token punctuation">,</span> data<span class="token operator">=</span>dots<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f91976efc3d73db2b134c57ba7dd86f3.jpg" alt=""></p>
<p>Change the width of the lines with a quantitative variable:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"firing_rate"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   size<span class="token operator">=</span><span class="token string">"coherence"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"choice"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   legend<span class="token operator">=</span><span class="token string">"full"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>dots<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f7c110a02ff0dffcc8a6c88582b45b70.jpg" alt=""></p>
<p>Change the range of line widths used to normalize the size variable:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"firing_rate"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   size<span class="token operator">=</span><span class="token string">"coherence"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"choice"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   sizes<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">2.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token operator">=</span>dots<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/438199f3698b863dd842a2f680c4a845.jpg" alt=""></p>
<p>Plot from a wide-form DataFrame:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token punctuation">,</span> pandas <span class="token keyword">as</span> pd<span class="token punctuation">;</span> plt<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token string">"all"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> index <span class="token operator">=</span> pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">"1 1 2000"</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                       freq<span class="token operator">=</span><span class="token string">"m"</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"date"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> wide_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token punctuation">,</span> index<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>data<span class="token operator">=</span>wide_df<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/25659857727e22d0f951f9c750bb29de.jpg" alt=""></p>
<p>Plot from a list of Series:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> list_data <span class="token operator">=</span> <span class="token punctuation">[</span>wide_df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token string">"2005"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> wide_df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">"2003"</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>data<span class="token operator">=</span>list_data<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/711ff3dd5a0aef63679fe4174259ee3d.jpg" alt=""></p>
<p>Plot a single Series, pass kwargs to <code>plt.plot</code>:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>data<span class="token operator">=</span>wide_df<span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"coral"</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/fde16964145ae355ddbbeae37728260a.jpg" alt=""></p>
<p>Draw lines at points as they appear in the dataset:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> x<span class="token punctuation">,</span> y <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">,</span> sort<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/05782b02c2faaf09a504b53a5a526445.jpg" alt=""></p>
<h1 id="seaborn-catplot"><a href="#seaborn-catplot" class="headerlink" title="seaborn.catplot"></a>seaborn.catplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span>None<span class="token punctuation">,</span> y<span class="token operator">=</span>None<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> row<span class="token operator">=</span>None<span class="token punctuation">,</span> col<span class="token operator">=</span>None<span class="token punctuation">,</span> col_wrap<span class="token operator">=</span>None<span class="token punctuation">,</span> estimator<span class="token operator">=</span><span class="token operator">&lt;</span>function mean<span class="token operator">></span><span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token number">95</span><span class="token punctuation">,</span> n_boot<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span> units<span class="token operator">=</span>None<span class="token punctuation">,</span> order<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> row_order<span class="token operator">=</span>None<span class="token punctuation">,</span> col_order<span class="token operator">=</span>None<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">'strip'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> orient<span class="token operator">=</span>None<span class="token punctuation">,</span> color<span class="token operator">=</span>None<span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> legend_out<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> sharex<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> sharey<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> margin_titles<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> facet_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>seaborn.catplot 是一个将分类图绘制到FacetGrid上图级别接口。</p>
<p>这个函数可以访问多个轴级功能，这些轴级功能通过不同的可视化图表展示数字和一个或多个分类变量的关系。<code>kind</code> 参数可以选择的轴级基础函数有：</p>
<p>分类散点图:</p>
<ul>
<li><code>stripplot()</code> (with <code>kind="strip"</code>; the default)</li>
<li><code>swarmplot()</code> (with <code>kind="swarm"</code>)</li>
</ul>
<p>分类分布图:</p>
<ul>
<li><code>boxplot()</code> (with <code>kind="box"</code>)</li>
<li><code>violinplot()</code> (with <code>kind="violin"</code>)</li>
<li><code>boxenplot()</code> (with <code>kind="boxen"</code>)</li>
</ul>
<p>分类估计图:</p>
<ul>
<li><code>pointplot()</code> (with <code>kind="point"</code>)</li>
<li><code>barplot()</code> (with <code>kind="bar"</code>)</li>
<li><code>countplot()</code> (with <code>kind="count"</code>)</li>
</ul>
<p>额外的关键字参数将传递给基础函数，因此，您应参阅每个文档，以查看特定类型的选项.</p>
<p>请注意，与直接使用轴级函数不同, 数据必须在长格式DataFrame中传递，并通过将字符串传递给 <code>x</code>, <code>y</code>, <code>hue</code>, 等指定的变量.</p>
<p>与基础绘图函数的情况一样, 如果变量有 <code>categorical</code> 数据类型, 则将从对象推断出分类变量的级别及其顺序。否则，您可能必须使用更改 dataframe 排序或使用函数参数(<code>orient</code>, <code>order</code>, <code>hue_order</code>, etc.) 来正确设置绘图。</p>
<p>此函数始终将其中一个变量视为分类，并在相关轴上的序数位置（0,1，… n）处绘制数据，即使数据具有数字或日期类型。</p>
<p>绘图后，返回带有绘图的 <code>FacetGrid</code>，可以直接用于调整绘图细节或添加其他图层。</p>
<p>参数：<code>x, y, hue</code>： <code>data</code> names 中的变量名称</p>
<blockquote>
<p>用于绘制长格式数据的输入。查看解释示例</p>
</blockquote>
<p><code>data</code>：DataFrame</p>
<blockquote>
<p>用于绘图的长形（整洁）数据集。每列应对应一个变量，每行应对应一个观察。</p>
</blockquote>
<p><code>row, col</code>：<code>data</code> 中的变量名称, 可选</p>
<blockquote>
<p>分类变量将决定网格的分面。</p>
</blockquote>
<p><code>col_wrap</code>：int, 可选</p>
<blockquote>
<p>以此宽度“包裹”列变量，以便列面跨越多行。 与<code>行</code>方面不兼容。</p>
</blockquote>
<p><code>estimator</code>：可调用的映射向量 -&gt; 标量，可选</p>
<blockquote>
<p>在每个分类箱内估计的统计函数。</p>
</blockquote>
<p><code>ci</code>：float或“sd”或None，可选</p>
<blockquote>
<p>在估计值附近绘制置信区间的大小。如果是“sd”，则跳过自举(bootstrapping)并绘制观察的标准偏差。None,如果为<code>None</code>，则不执行自举，并且不会绘制错误条。</p>
</blockquote>
<p><code>n_boot</code>：int，可选</p>
<blockquote>
<p>计算置信区间时使用的引导程序迭代次数。</p>
</blockquote>
<p><code>units</code>：<code>数据</code>或矢量数据中变量的名称,可选</p>
<blockquote>
<p>采样单元的标识符，用于执行多级引导程序并考虑重复测量设计。</p>
</blockquote>
<p><code>order, hue_order</code>：字符串列表，可选</p>
<blockquote>
<p>命令绘制分类级别，否则从数据对象推断级别。</p>
</blockquote>
<p><code>row_order, col_order</code>：字符串列表，可选</p>
<blockquote>
<p>命令组织网格的行和/或列，否则从数据对象推断命令。</p>
</blockquote>
<p><code>kind</code>：字符串，可选</p>
<blockquote>
<p>要绘制的绘图类型（对应于分类绘图功能的名称。选项包括：“点”，“条形”，“条形”，“群”，“框”，“小提琴”或“盒子”。</p>
</blockquote>
<p><code>height</code>：标量，可选</p>
<blockquote>
<p>每个刻面的高度（以英寸为单位）。另见： <code>aspect</code>。</p>
</blockquote>
<p><code>aspect</code>：标量，可选</p>
<blockquote>
<p>每个面的纵横比，因此<code>aspect * height</code>给出每个面的宽度，单位为英寸。</p>
</blockquote>
<p><code>orient</code>：“v” | “h”, 可选</p>
<blockquote>
<p>图的方向（垂直或水平）。这通常是从输入变量的dtype推断出来的，但可用于指定“分类”变量何时是数字或何时绘制宽格式数据。</p>
</blockquote>
<p><code>color</code>：matplotlib颜色，可选</p>
<blockquote>
<p>所有元素的颜色，或渐变调色板的种子。</p>
</blockquote>
<p><code>palette</code>：调色板名称，列表或字典，可选</p>
<blockquote>
<p>用于色调变量的不同级别的颜色。应该是 <code>color_palette()</code>, 可以解释的东西，或者是将色调级别映射到matplotlib颜色的字典。</p>
</blockquote>
<p><code>legend</code>：bool, 可选</p>
<blockquote>
<p>如果为 <code>True</code> 并且存在<code>hue</code>变量，则在图上绘制图例。t.</p>
</blockquote>
<p><code>legend_out</code>：bool, 可选</p>
<blockquote>
<p>如果为<code>True</code>，则图形尺寸将被扩展，图例将绘制在中间右侧的图形之外。</p>
</blockquote>
<p><code>share{x,y}</code>：bool, ‘col’, 或 ‘row’ 可选</p>
<blockquote>
<p>如果为true，则facet将跨行跨越列和/或x轴共享y轴。</p>
</blockquote>
<p><code>margin_titles</code>：bool, 可选</p>
<blockquote>
<p>如果为<code>True</code>，则行变量的标题将绘制在最后一列的右侧。此选项是实验性的，可能无法在所有情况下使用。</p>
</blockquote>
<p><code>facet_kws</code>：dict, 可选</p>
<blockquote>
<p>传递给<code>FacetGrid</code>的其他关键字参数的字典。</p>
</blockquote>
<p><code>kwargs</code>：key, value 配对</p>
<blockquote>
<p>其他关键字参数将传递给基础绘图函数。</p>
</blockquote>
<p>返回值：<code>g</code>：<code>FacetGrid</code></p>
<blockquote>
<p>返回<code>FacetGrid</code>对象及其上的绘图以进一步调整。</p>
</blockquote>
<p>例子</p>
<p>绘制单个构面以使用<code>FacetGrid</code>图例放置：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"ticks"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> exercise <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"exercise"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"pulse"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"kind"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>exercise<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/0b12363978e10369fc98bd33cb536d85.jpg" alt=""></p>
<p>使用不同的绘图类型可视化相同的数据：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"pulse"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"kind"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                data<span class="token operator">=</span>exercise<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"violin"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/edd1fe3b83d3ec7ff2a1310bc2b87b8c.jpg" alt=""></p>
<p>沿列的方面显示第三个分类变量：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"pulse"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"kind"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 col<span class="token operator">=</span><span class="token string">"diet"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>exercise<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f54e97484ce6dfcae6e1ceafe18503af.jpg" alt=""></p>
<p>为构面使用不同的高度和宽高比：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"pulse"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"kind"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 col<span class="token operator">=</span><span class="token string">"diet"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>exercise<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 height<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">8</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ff09acb1a4ecf2c617aa1323f8894fe5.jpg" alt=""></p>
<p>创建许多列构面并将它们包装到网格的行中：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> titanic <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"titanic"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span><span class="token string">"alive"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"deck"</span><span class="token punctuation">,</span> col_wrap<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 data<span class="token operator">=</span>titanic<span class="token punctuation">[</span>titanic<span class="token punctuation">.</span>deck<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 kind<span class="token operator">=</span><span class="token string">"count"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">2.5</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">8</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/94e545c07037b66573b94c5d43e41899.jpg" alt=""></p>
<p>水平绘图并将其他关键字参数传递给绘图函数：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"age"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"embark_town"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 hue<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> row<span class="token operator">=</span><span class="token string">"class"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 data<span class="token operator">=</span>titanic<span class="token punctuation">[</span>titanic<span class="token punctuation">.</span>embark_town<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 orient<span class="token operator">=</span><span class="token string">"h"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set3"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 kind<span class="token operator">=</span><span class="token string">"violin"</span><span class="token punctuation">,</span> dodge<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> cut<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> bw<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/141f4c98341da1bc3beb4dc78e30df08.jpg" alt=""></p>
<p>使用返回的<code>FacetGrid</code> 上的方法来调整演示文稿：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"who"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"survived"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"class"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 data<span class="token operator">=</span>titanic<span class="token punctuation">,</span> saturation<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 kind<span class="token operator">=</span><span class="token string">"bar"</span><span class="token punctuation">,</span> ci<span class="token operator">=</span>None<span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">(</span>g<span class="token punctuation">.</span>set_axis_labels<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">"Survival Rate"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>   <span class="token punctuation">.</span>set_xticklabels<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Men"</span><span class="token punctuation">,</span> <span class="token string">"Women"</span><span class="token punctuation">,</span> <span class="token string">"Children"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>   <span class="token punctuation">.</span>set_titles<span class="token punctuation">(</span><span class="token string">"{col_name}  {col_var}"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>   <span class="token punctuation">.</span>set<span class="token punctuation">(</span>ylim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>   <span class="token punctuation">.</span>despine<span class="token punctuation">(</span>left<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token operator">&lt;</span>seaborn<span class="token punctuation">.</span>axisgrid<span class="token punctuation">.</span>FacetGrid object at 0x<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/407bdac663f0df796492a65e635fca81.jpg" alt=""></p>
<h1 id="seaborn-stripplot"><a href="#seaborn-stripplot" class="headerlink" title="seaborn.stripplot"></a>seaborn.stripplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>stripplot<span class="token punctuation">(</span>x<span class="token operator">=</span>None<span class="token punctuation">,</span> y<span class="token operator">=</span>None<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> order<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> jitter<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> dodge<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> orient<span class="token operator">=</span>None<span class="token punctuation">,</span> color<span class="token operator">=</span>None<span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">'gray'</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>绘制一个散点图，其中一个变量是分类。</p>
<p>条形图可以单独绘制，但如果您想要显示所有观察结果以及底层分布的某些表示，它也是一个盒子或小提琴图的良好补充。</p>
<p>输入数据可以以多种格式传递，包括：</p>
<ul>
<li>表示为列表，numpy数组或pandas Series对象的数据向量直接传递给<code>x</code>，<code>y</code>和<code>hue</code>参数</li>
<li>在这种情况下，<code>x</code>，<code>y</code>和<code>hue</code>变量将决定数据的绘制方式。</li>
<li>“wide-form” DataFrame, 用于绘制每个数字列。</li>
<li>一个数组或向量列表。</li>
</ul>
<p>在大多数情况下，可以使用numpy或Python对象，但最好使用pandas对象，因为关联的名称将用于注释轴。另外，您可以使用分组变量的分类类型来控制绘图元素的顺序。</p>
<p>此函数始终将其中一个变量视为分类，并在相关轴上的序数位置（0,1，… n）处绘制数据，即使数据具有数字或日期类型也是如此。</p>
<p>参数：<code>x, y, hue</code>： <code>数据</code>或矢量数据中的变量名称，可选</p>
<blockquote>
<p>用于绘制长格式数据的输入。查看解释示例。</p>
</blockquote>
<p><code>data</code>：DataFrame, 数组, 数组列表, 可选</p>
<blockquote>
<p>用于绘图的数据集。如果 <code>x</code> 和 <code>y</code> 不存在，则将其解释为宽格式。否则预计它将是长格式的。</p>
</blockquote>
<p><code>order, hue_order</code>：字符串列表，可选</p>
<blockquote>
<p>命令绘制分类级别，否则从数据对象推断级别。</p>
</blockquote>
<p><code>jitter</code>：float, <code>True</code>/<code>1</code> 是特殊的，可选</p>
<blockquote>
<p>要应用的抖动量（仅沿分类轴）。 当您有许多点并且它们重叠时，这可能很有用，因此更容易看到分布。您可以指定抖动量（均匀随机变量支持的宽度的一半），或者仅使用<code>True</code>作为良好的默认值</p>
</blockquote>
<p><code>dodge</code>：bool, 可选</p>
<blockquote>
<p>使用 <code>hue</code> 嵌套时，将其设置为 <code>True</code> 将沿着分类轴分离不同色调级别的条带。否则，每个级别的点将相互叠加。</p>
</blockquote>
<p><code>orient</code>：“v” | “h”, 可选</p>
<blockquote>
<p>图的方向（垂直或水平）。这通常是从输入变量的dtype推断出来的，但可用于指定“分类”变量何时是数字或何时绘制宽格式数据。</p>
</blockquote>
<p><code>color</code>：matplotlib颜色，可选</p>
<blockquote>
<p>所有元素的颜色，或渐变调色板的种子。</p>
</blockquote>
<p><code>palette</code>：调色板名称，列表或字典，可选</p>
<blockquote>
<p>用于色调变量的不同级别的颜色。应该是 <code>color_palette()</code>, 可以解释的东西，或者是将色调级别映射到matplotlib颜色的字典。</p>
</blockquote>
<p><code>size</code>：float, 可选</p>
<blockquote>
<p>标记的直径，以磅为单位。（虽然 <code>plt.scatter</code> 用于绘制点，但这里的 <code>size</code> 参数采用“普通”标记大小而不是大小^ 2，如 <code>plt.scatter</code> 。</p>
</blockquote>
<p><code>edgecolor</code>：matplotlib颜色，“灰色”是特殊的，可选的</p>
<blockquote>
<p>每个点周围线条的颜色。如果传递<code>"灰色"</code>，则亮度由用于点体的调色板决定。</p>
</blockquote>
<p><code>linewidth</code>：float, 可选</p>
<blockquote>
<p>构图元素的灰线宽度。</p>
</blockquote>
<p><code>ax</code>：matplotlib轴，可选</p>
<blockquote>
<p>返回Axes对象，并在其上绘制绘图。</p>
</blockquote>
<p>返回值：<code>ax</code>：matplotlib轴</p>
<blockquote>
<p>返回Axes对象，并在其上绘制绘图。</p>
</blockquote>
<p>也可参看</p>
<p>分类散点图，其中点不重叠。可以与其他图一起使用来显示每个观察结果。带有类似API的传统盒须图。箱形图和核密度估计的组合。</p>
<p>例子</p>
<p>绘制单个水平条形图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"whitegrid"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>stripplot<span class="token punctuation">(</span>x<span class="token operator">=</span>tips<span class="token punctuation">[</span><span class="token string">"total_bill"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/23f314e72f6e5a8952dc9e9ad7e91951.jpg" alt=""></p>
<p>通过分类变量对条形图进行分组：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>stripplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/e91e31fb6bd4af0c4a7726101c5498d5.jpg" alt=""></p>
<p>添加抖动以显示值的分布：</p>
<pre><code>&gt;&gt;&gt; ax = sns.stripplot(x="day", y="total_bill", data=tips, jitter=True)</code></pre><p><img src="/images/loading.gif" data-original="../images/language/bb509cea6c5bc79011b7aae3d06f02af.jpg" alt=""></p>
<p>使用较少量的抖动：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>stripplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> jitter<span class="token operator">=</span><span class="token number">0.05</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/187d29ea70c79f73b11ccc7bfa3d2dc3.jpg" alt=""></p>
<p>画水平条形图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>stripplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    jitter<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/3f587e4b0523d3c3e09d9950a187d53c.jpg" alt=""></p>
<p>围绕要点绘制轮廓：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>stripplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    jitter<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/808d1fbb36b6a8028b4e31ec238af4dc.jpg" alt=""></p>
<p>将条带嵌套在第二个分类变量中：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>stripplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    data<span class="token operator">=</span>tips<span class="token punctuation">,</span> jitter<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6667c226e573f81913cd01ab631ca098.jpg" alt=""></p>
<p>在主要分类轴上的不同位置绘制 <code>hue</code> 变量的每个级别：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>stripplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    data<span class="token operator">=</span>tips<span class="token punctuation">,</span> jitter<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    palette<span class="token operator">=</span><span class="token string">"Set2"</span><span class="token punctuation">,</span> dodge<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/877dac04cc4c90a1e6b62a3f4c75cb92.jpg" alt=""></p>
<p>通过传递显式顺序来控制条带顺序：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>stripplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"Dinner"</span><span class="token punctuation">,</span> <span class="token string">"Lunch"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/582830f6213892477ca7f7fd8aea05e3.jpg" alt=""></p>
<p>绘制具有大点和不同美感的条带：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span>  sns<span class="token punctuation">.</span>stripplot<span class="token punctuation">(</span><span class="token string">"day"</span><span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"smoker"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    palette<span class="token operator">=</span><span class="token string">"Set2"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">"D"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    edgecolor<span class="token operator">=</span><span class="token string">"gray"</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">25</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/8d98047d8f8f2021d6ee3b3a679f0890.jpg" alt=""></p>
<p>在箱形图上绘制观察条带：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> whis<span class="token operator">=</span>np<span class="token punctuation">.</span>inf<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>stripplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    jitter<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">".3"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/4affd3f4e9c07c5d6803b935d775b36f.jpg" alt=""></p>
<p>在小提琴情节的顶部绘制观察条带：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     inner<span class="token operator">=</span>None<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">".8"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>stripplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> jitter<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a68cecbc7d2dbcff50e7244cafe440ec.jpg" alt=""></p>
<p>使用 <code>catplot()</code> 组合<code>stripplot()</code>和<code>FacetGrid</code>。这允许在其他分类变量中进行分组。使用<code>catplot()</code>比直接使用<code>FacetGrid</code>更安全，因为它确保了跨方面的变量顺序的同步</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 data<span class="token operator">=</span>tips<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"strip"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 jitter<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/1b02f55ed166cfeb0628691d84bc1958.jpg" alt=""></p>
<h1 id="seaborn-swarmplot"><a href="#seaborn-swarmplot" class="headerlink" title="seaborn.swarmplot"></a>seaborn.swarmplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>swarmplot<span class="token punctuation">(</span>x<span class="token operator">=</span>None<span class="token punctuation">,</span> y<span class="token operator">=</span>None<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> order<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> dodge<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> orient<span class="token operator">=</span>None<span class="token punctuation">,</span> color<span class="token operator">=</span>None<span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">'gray'</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Draw a categorical scatterplot with non-overlapping points.</p>
<p>This function is similar to <code>stripplot()</code>, but the points are adjusted (only along the categorical axis) so that they don’t overlap. This gives a better representation of the distribution of values, but it does not scale well to large numbers of observations. This style of plot is sometimes called a “beeswarm”.</p>
<p>A swarm plot can be drawn on its own, but it is also a good complement to a box or violin plot in cases where you want to show all observations along with some representation of the underlying distribution.</p>
<p>Arranging the points properly requires an accurate transformation between data and point coordinates. This means that non-default axis limits must be set <em>before</em> drawing the plot.</p>
<p>Input data can be passed in a variety of formats, including:</p>
<ul>
<li>Vectors of data represented as lists, numpy arrays, or pandas Series objects passed directly to the <code>x</code>, <code>y</code>, and/or <code>hue</code> parameters.</li>
<li>A “long-form” DataFrame, in which case the <code>x</code>, <code>y</code>, and <code>hue</code> variables will determine how the data are plotted.</li>
<li>A “wide-form” DataFrame, such that each numeric column will be plotted.</li>
<li>An array or list of vectors.</li>
</ul>
<p>In most cases, it is possible to use numpy or Python objects, but pandas objects are preferable because the associated names will be used to annotate the axes. Additionally, you can use Categorical types for the grouping variables to control the order of plot elements.</p>
<p>This function always treats one of the variables as categorical and draws data at ordinal positions (0, 1, … n) on the relevant axis, even when the data has a numeric or date type.</p>
<p>参数：<code>x, y, hue</code>：names of variables in <code>data</code> or vector data, optional</p>
<blockquote>
<p>Inputs for plotting long-form data. See examples for interpretation.</p>
</blockquote>
<p><code>data</code>：DataFrame, array, or list of arrays, optional</p>
<blockquote>
<p>Dataset for plotting. If <code>x</code> and <code>y</code> are absent, this is interpreted as wide-form. Otherwise it is expected to be long-form.</p>
</blockquote>
<p><code>order, hue_order</code>：lists of strings, optional</p>
<blockquote>
<p>Order to plot the categorical levels in, otherwise the levels are inferred from the data objects.</p>
</blockquote>
<p><code>dodge</code>：bool, optional</p>
<blockquote>
<p>When using <code>hue</code> nesting, setting this to <code>True</code> will separate the strips for different hue levels along the categorical axis. Otherwise, the points for each level will be plotted in one swarm.</p>
</blockquote>
<p><code>orient</code>：“v” | “h”, optional</p>
<blockquote>
<p>Orientation of the plot (vertical or horizontal). This is usually inferred from the dtype of the input variables, but can be used to specify when the “categorical” variable is a numeric or when plotting wide-form data.</p>
</blockquote>
<p><code>color</code>：matplotlib color, optional</p>
<blockquote>
<p>Color for all of the elements, or seed for a gradient palette.</p>
</blockquote>
<p><code>palette</code>：palette name, list, or dict, optional</p>
<blockquote>
<p>Colors to use for the different levels of the <code>hue</code> variable. Should be something that can be interpreted by <code>color_palette()</code>, or a dictionary mapping hue levels to matplotlib colors.</p>
</blockquote>
<p><code>size</code>：float, optional</p>
<blockquote>
<p>Diameter of the markers, in points. (Although <code>plt.scatter</code> is used to draw the points, the <code>size</code> argument here takes a “normal” markersize and not size^2 like <code>plt.scatter</code>.</p>
</blockquote>
<p><code>edgecolor</code>：matplotlib color, “gray” is special-cased, optional</p>
<blockquote>
<p>Color of the lines around each point. If you pass <code>"gray"</code>, the brightness is determined by the color palette used for the body of the points.</p>
</blockquote>
<p><code>linewidth</code>：float, optional</p>
<blockquote>
<p>Width of the gray lines that frame the plot elements.</p>
</blockquote>
<p><code>ax</code>：matplotlib Axes, optional</p>
<blockquote>
<p>Axes object to draw the plot onto, otherwise uses the current Axes.</p>
</blockquote>
<p>返回值：<code>ax</code>：matplotlib Axes</p>
<blockquote>
<p>Returns the Axes object with the plot drawn onto it.</p>
</blockquote>
<p>See also</p>
<p>A traditional box-and-whisker plot with a similar API.A combination of boxplot and kernel density estimation.A scatterplot where one variable is categorical. Can be used in conjunction with other plots to show each observation.Combine a categorical plot with a class:FacetGrid.</p>
<p>Examples</p>
<p>Draw a single horizontal swarm plot:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"whitegrid"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>swarmplot<span class="token punctuation">(</span>x<span class="token operator">=</span>tips<span class="token punctuation">[</span><span class="token string">"total_bill"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/900c725fafc0f5e475a98f52f4ed7d04.jpg" alt=""></p>
<p>Group the swarms by a categorical variable:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>swarmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/414037bdbfc9b79cf5f12a30645f7301.jpg" alt=""></p>
<p>Draw horizontal swarms:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>swarmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b03c6dbcd2d2f71c2e5eafa99b46d96b.jpg" alt=""></p>
<p>Color the points using a second categorical variable:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>swarmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/12d5e5950bf28b7027b28766bc41989f.jpg" alt=""></p>
<p>Split each level of the <code>hue</code> variable along the categorical axis:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>swarmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    data<span class="token operator">=</span>tips<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set2"</span><span class="token punctuation">,</span> dodge<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6f9585fcbe42e72521292b80b0fdc97a.jpg" alt=""></p>
<p>Control swarm order by passing an explicit order:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>swarmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"Dinner"</span><span class="token punctuation">,</span> <span class="token string">"Lunch"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/73bbf8c6208a6e1c0dda89091dd509a4.jpg" alt=""></p>
<p>Plot using larger points:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>swarmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/34aa97c61dd6f6176fa2256880526439.jpg" alt=""></p>
<p>Draw swarms of observations on top of a box plot:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> whis<span class="token operator">=</span>np<span class="token punctuation">.</span>inf<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>swarmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">".2"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d992e6312a3ed98025ad0913dbc46228.jpg" alt=""></p>
<p>Draw swarms of observations on top of a violin plot:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> inner<span class="token operator">=</span>None<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>swarmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    color<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"gray"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/735aa7eaadb9afb7a47a2d079b28a10b.jpg" alt=""></p>
<p>Use <code>catplot()</code> to combine a <code>swarmplot()</code> and a <code>FacetGrid</code>. This allows grouping within additional categorical variables. Using <code>catplot()</code> is safer than using <code>FacetGrid</code> directly, as it ensures synchronization of variable order across facets:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 data<span class="token operator">=</span>tips<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"swarm"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/7c1bc4a2871b9e0dbe2c23ed05fcae1b.jpg" alt=""></p>
<h1 id="seaborn-boxplot"><a href="#seaborn-boxplot" class="headerlink" title="seaborn.boxplot"></a>seaborn.boxplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>x<span class="token operator">=</span>None<span class="token punctuation">,</span> y<span class="token operator">=</span>None<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> order<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> orient<span class="token operator">=</span>None<span class="token punctuation">,</span> color<span class="token operator">=</span>None<span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> saturation<span class="token operator">=</span><span class="token number">0.75</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> dodge<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> fliersize<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span>None<span class="token punctuation">,</span> whis<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">,</span> notch<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>seaborn.boxplot 接口的作用是绘制箱形图以展现与类别相关的数据分布状况。</p>
<p>箱形图（或盒须图）以一种利于变量之间比较或不同分类变量层次之间比较的方式来展示定量数据的分布。图中矩形框显示数据集的上下四分位数，而矩形框中延伸出的线段（触须）则用于显示其余数据的分布位置，剩下超过上下四分位间距的数据点则被视为“异常值”。</p>
<p>输入数据可以通过多种格式传入，包括：</p>
<ul>
<li>格式为列表，numpy数组或pandas Series对象的数据向量可以直接传递给<code>x</code>，<code>y</code>和<code>hue</code>参数。</li>
<li>对于长格式的DataFrame，<code>x</code>，<code>y</code>，和<code>hue</code>参数会决定如何绘制数据。</li>
<li>对于宽格式的DataFrame，每一列数值列都会被绘制。</li>
<li>一个数组或向量的列表。</li>
</ul>
<p>在大多数情况下，可以使用numpy或Python对象，但更推荐使用pandas对象，因为与数据关联的列名/行名可以用于标注横轴/纵轴的名称。此外，您可以使用分类类型对变量进行分组以控制绘图元素的顺序。</p>
<p>此函数始终将其中一个变量视为分类，并在相关轴上的序数位置(0,1，… n)处绘制数据，即使数据属于数值类型或日期类型也是如此。</p>
<p>参数：<code>x, y, hue</code>：<code>数据</code>或向量数据中的变量名称，可选</p>
<blockquote>
<p>用于绘制长格式数据的输入。查看样例以进一步理解。</p>
</blockquote>
<p><code>data</code>：DataFrame，数组，数组列表，可选</p>
<blockquote>
<p>用于绘图的数据集。如果<code>x</code>和<code>y</code>都缺失，那么数据将被视为宽格式。否则数据被视为长格式。</p>
</blockquote>
<p><code>order, hue_order</code>：字符串列表，可选</p>
<blockquote>
<p>控制分类变量（对应的条形图）的绘制顺序，若缺失则从数据中推断分类变量的顺序。</p>
</blockquote>
<p><code>orient</code>：“v” | “h”，可选</p>
<blockquote>
<p>控制绘图的方向（垂直或水平）。这通常是从输入变量的dtype推断出来的，但是当“分类”变量为数值型或绘制宽格式数据时可用于指定绘图的方向。</p>
</blockquote>
<p><code>color</code>：matplotlib颜色，可选</p>
<blockquote>
<p>所有元素的颜色，或渐变调色板的种子颜色。</p>
</blockquote>
<p><code>palette</code>：调色板名称，列表或字典，可选</p>
<blockquote>
<p>用于<code>hue</code>变量的不同级别的颜色。可以从 <code>color_palette()</code> 得到一些解释，或者将色调级别映射到matplotlib颜色的字典。</p>
</blockquote>
<p><code>saturation</code>：float，可选</p>
<blockquote>
<p>控制用于绘制颜色的原始饱和度的比例。通常大幅填充在轻微不饱和的颜色下看起来更好，如果您希望绘图颜色与输入颜色规格完美匹配可将其设置为<code>1</code>。</p>
</blockquote>
<p><code>width</code>：float，可选</p>
<blockquote>
<p>不使用色调嵌套时完整元素的宽度，或主要分组变量一个级别的所有元素的宽度。</p>
</blockquote>
<p><code>dodge</code>：bool，可选</p>
<blockquote>
<p>使用色调嵌套时，元素是否应沿分类轴移动。</p>
</blockquote>
<p><code>fliersize</code>：float，可选</p>
<blockquote>
<p>用于表示异常值观察的标记的大小。</p>
</blockquote>
<p><code>linewidth</code>：float，可选</p>
<blockquote>
<p>构图元素的灰线宽度。</p>
</blockquote>
<p><code>whis</code>：float，可选</p>
<blockquote>
<p>控制在超过高低四分位数时IQR的比例，因此需要延长绘制的触须线段。超出此范围的点将被识别为异常值。</p>
</blockquote>
<p><code>notch</code>：boolean，可选</p>
<blockquote>
<p>是否使矩形框“凹陷”以指示中位数的置信区间。还有其他几个参数可以控制凹槽的绘制方式；参见 <code>plt.boxplot</code> 以查看关于此问题的更多帮助信息。</p>
</blockquote>
<p><code>ax</code>：matplotlib轴，可选</p>
<blockquote>
<p>绘图时使用的Axes轴对象，否则使用当前Axes轴对象。</p>
</blockquote>
<p><code>kwargs</code>：键，值映射</p>
<blockquote>
<p>其他在绘图时传给 <code>plt.boxplot</code> 的参数。</p>
</blockquote>
<p>返回值：<code>ax</code>：matplotlib轴</p>
<blockquote>
<p>返回Axes对轴象，并在其上绘制绘图。</p>
</blockquote>
<p>亦可参见</p>
<p>boxplot和核密度估计的结合。当一个变量是分类变量的散点图。可以与其他图表结合使用以展示各自的观测结果。分类散点图的特点是其中数据点互不重叠。可以与其他图表结合使用以展示各自的观测结果。</p>
<p>示例</p>
<p>绘制一个单独的横向箱型图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"whitegrid"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>x<span class="token operator">=</span>tips<span class="token punctuation">[</span><span class="token string">"total_bill"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a60c5e81f1e6cf2aeb7d9790851ca60d.jpg" alt=""></p>
<p>根据分类变量分组绘制一个纵向的箱型图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/26d08ab02c44cb0a819065f27a1b7f84.jpg" alt=""></p>
<p>根据2个分类变量嵌套分组绘制一个箱型图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  data<span class="token operator">=</span>tips<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set3"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d642aa20a439141528ed8a872a4822a4.jpg" alt=""></p>
<p>当一些数据为空时根据嵌套分组绘制一个箱型图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  data<span class="token operator">=</span>tips<span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">2.5</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/97751f7296df86f26e8eb70275541082.jpg" alt=""></p>
<p>通过显式传入参数指定顺序控制箱型图的显示顺序：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"Dinner"</span><span class="token punctuation">,</span> <span class="token string">"Lunch"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/8ac363c4f6fd1e8ef5a4dd62d236ce9d.jpg" alt=""></p>
<p>针对DataFrame里每一个数值型变量绘制箱型图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> iris <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"iris"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>data<span class="token operator">=</span>iris<span class="token punctuation">,</span> orient<span class="token operator">=</span><span class="token string">"h"</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set2"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/7592f72da714721ad272271754ee8454.jpg" alt=""></p>
<p>使用 <code>hue</code> 参数无需改变箱型图的位置或宽度：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> tips<span class="token punctuation">[</span><span class="token string">"weekend"</span><span class="token punctuation">]</span> <span class="token operator">=</span> tips<span class="token punctuation">[</span><span class="token string">"day"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Sat"</span><span class="token punctuation">,</span> <span class="token string">"Sun"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"weekend"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  data<span class="token operator">=</span>tips<span class="token punctuation">,</span> dodge<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/583a43fccfad9c80a852b79bbd864c3b.jpg" alt=""></p>
<p>使用 <code>swarmplot()</code> 展示箱型图顶部的数据点：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>swarmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">".25"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/627c14ca4d7cabe1d122fd0b9d2586bd.jpg" alt=""></p>
<p>把 <code>catplot()</code> 与 <code>pointplot()</code> 以及 <code>FacetGrid</code> 结合起来使用。这允许您通过额外的分类变量进行分组。使用 <code>catplot()</code> 比直接使用 <code>FacetGrid</code> 更为安全，因为它保证了不同切面上变量同步的顺序：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 data<span class="token operator">=</span>tips<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"box"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/e992687c669c1747d5f18ff4d5e6457d.jpg" alt=""></p>
<h1 id="seaborn-violinplot"><a href="#seaborn-violinplot" class="headerlink" title="seaborn.violinplot"></a>seaborn.violinplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span>None<span class="token punctuation">,</span> y<span class="token operator">=</span>None<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> order<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> bw<span class="token operator">=</span><span class="token string">'scott'</span><span class="token punctuation">,</span> cut<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> scale<span class="token operator">=</span><span class="token string">'area'</span><span class="token punctuation">,</span> scale_hue<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> gridsize<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> inner<span class="token operator">=</span><span class="token string">'box'</span><span class="token punctuation">,</span> split<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> dodge<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> orient<span class="token operator">=</span>None<span class="token punctuation">,</span> linewidth<span class="token operator">=</span>None<span class="token punctuation">,</span> color<span class="token operator">=</span>None<span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> saturation<span class="token operator">=</span><span class="token number">0.75</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>结合箱型图与核密度估计绘图。</p>
<p>小提琴图的功能与箱型图类似。 它显示了一个（或多个）分类变量多个属性上的定量数据的分布，从而可以比较这些分布。与箱形图不同，其中所有绘图单元都与实际数据点对应，小提琴图描述了基础数据分布的核密度估计。</p>
<p>小提琴图可以是一种单次显示多个数据分布的有效且有吸引力的方式，但请记住，估计过程受样本大小的影响，相对较小样本的小提琴可能看起来非常平滑，这种平滑具有误导性。</p>
<p>输入数据可以通过多种格式传入，包括：</p>
<ul>
<li>格式为列表，numpy数组或pandas Series对象的数据向量可以直接传递给<code>x</code>，<code>y</code>和<code>hue</code>参数。</li>
<li>对于长格式的DataFrame，<code>x</code>，<code>y</code>，和<code>hue</code>参数会决定如何绘制数据。</li>
<li>对于宽格式的DataFrame，每一列数值列都会被绘制。</li>
<li>一个数组或向量的列表。</li>
</ul>
<p>在大多数情况下，可以使用numpy或Python对象，但更推荐使用pandas对象，因为与数据关联的列名/行名可以用于标注横轴/纵轴的名称。此外，您可以使用分类类型对变量进行分组以控制绘图元素的顺序。</p>
<p>此函数始终将其中一个变量视为分类，并在相关轴上的序数位置(0,1，… n)处绘制数据，即使数据属于数值类型或日期类型也是如此。</p>
<p>参数：<code>x, y, hue</code>：<code>数据</code>或向量数据中的变量名称，可选</p>
<blockquote>
<p>用于绘制长格式数据的输入。查看样例以进一步理解。</p>
</blockquote>
<p><code>data</code>：DataFrame，数组，数组列表，可选</p>
<blockquote>
<p>用于绘图的数据集。如果<code>x</code>和<code>y</code>都缺失，那么数据将被视为宽格式。否则数据被视为长格式。</p>
</blockquote>
<p><code>order, hue_order</code>：字符串列表，可选</p>
<blockquote>
<p>控制分类变量（对应的条形图）的绘制顺序，若缺失则从数据中推断分类变量的顺序。</p>
</blockquote>
<p><code>bw</code>：{‘scott’, ‘silverman’, float}，可选</p>
<blockquote>
<p>内置变量值或浮点数的比例因子都用来计算核密度的带宽。实际的核大小由比例因子乘以每个分箱内数据的标准差确定。</p>
</blockquote>
<p><code>cut</code>：float，可选</p>
<blockquote>
<p>以带宽大小为单位的距离，以控制小提琴图外壳延伸超过内部极端数据点的密度。设置为0以将小提琴图范围限制在观察数据的范围内。（例如，在 <code>ggplot</code> 中具有与 <code>trim=True</code> 相同的效果）</p>
</blockquote>
<p><code>scale</code>：{“area”, “count”, “width”}，可选</p>
<blockquote>
<p>该方法用于缩放每张小提琴图的宽度。若为 <code>area</code> ，每张小提琴图具有相同的面积。若为 <code>count</code> ，小提琴的宽度会根据分箱中观察点的数量进行缩放。若为 <code>width</code> ，每张小提琴图具有相同的宽度。</p>
</blockquote>
<p><code>scale_hue</code>：bool，可选</p>
<blockquote>
<p>当使用色调参数 <code>hue</code> 变量绘制嵌套小提琴图时，该参数决定缩放比例是在主要分组变量（<code>scale_hue=True</code>）的每个级别内还是在图上的所有小提琴图（<code>scale_hue=False</code>）内计算出来的。</p>
</blockquote>
<p><code>gridsize</code>：int，可选</p>
<blockquote>
<p>用于计算核密度估计的离散网格中的数据点数目。</p>
</blockquote>
<p><code>width</code>：float，可选</p>
<blockquote>
<p>不使用色调嵌套时的完整元素的宽度，或主要分组变量的一个级别的所有元素的宽度。</p>
</blockquote>
<p><code>inner</code>：{“box”, “quartile”, “point”, “stick”, None}，可选</p>
<blockquote>
<p>控制小提琴图内部数据点的表示。若为<code>box</code>，则绘制一个微型箱型图。若为<code>quartiles</code>，则显示四分位数线。若为<code>point</code>或<code>stick</code>，则显示具体数据点或数据线。使用<code>None</code>则绘制不加修饰的小提琴图。</p>
</blockquote>
<p><code>split</code>：bool，可选</p>
<blockquote>
<p>当使用带有两种颜色的变量时，将<code>split</code>设置为True则会为每种颜色绘制对应半边小提琴。从而可以更容易直接的比较分布。</p>
</blockquote>
<p><code>dodge</code>：bool，可选</p>
<blockquote>
<p>使用色调嵌套时，元素是否应沿分类轴移动。</p>
</blockquote>
<p><code>orient</code>：“v” | “h”，可选</p>
<blockquote>
<p>控制绘图的方向（垂直或水平）。这通常是从输入变量的dtype推断出来的，但是当“分类”变量为数值型或绘制宽格式数据时可用于指定绘图的方向。</p>
</blockquote>
<p><code>linewidth</code>：float，可选</p>
<blockquote>
<p>构图元素的灰线宽度。</p>
</blockquote>
<p><code>color</code>：matplotlib颜色，可选</p>
<blockquote>
<p>所有元素的颜色，或渐变调色板的种子颜色。</p>
</blockquote>
<p><code>palette</code>：调色板名称，列表或字典，可选</p>
<blockquote>
<p>用于<code>hue</code>变量的不同级别的颜色。可以从 <code>color_palette()</code> 得到一些解释，或者将色调级别映射到matplotlib颜色的字典。</p>
</blockquote>
<p><code>saturation</code>：float，可选</p>
<blockquote>
<p>控制用于绘制颜色的原始饱和度的比例。通常大幅填充在轻微不饱和的颜色下看起来更好，如果您希望绘图颜色与输入颜色规格完美匹配可将其设置为<code>1</code>。</p>
</blockquote>
<p><code>ax</code>：matplotlib轴，可选</p>
<blockquote>
<p>绘图时使用的Axes轴对象，否则使用当前Axes轴对象。</p>
</blockquote>
<p>返回值：<code>ax</code>：matplotlib轴</p>
<blockquote>
<p>返回Axes对轴象，并在其上绘制绘图。</p>
</blockquote>
<p>亦可参见</p>
<p>一个传统的箱型图具有类似的API。当一个变量是分类变量的散点图。可以与其他图表结合使用以展示各自的观测结果。分类散点图的特点是其中数据点互不重叠。可以与其他图表结合使用以展示各自的观测结果。</p>
<p>示例</p>
<p>绘制一个单独的横向小提琴图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"whitegrid"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span>tips<span class="token punctuation">[</span><span class="token string">"total_bill"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/997c424ce3337d1c47dea839b9dbdcae.jpg" alt=""></p>
<p>根据分类变量分组绘制一个纵向的小提琴图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/35c303fe21899eb631a454ab2d09e1bf.jpg" alt=""></p>
<p>根据2个分类变量嵌套分组绘制一个小提琴图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     data<span class="token operator">=</span>tips<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"muted"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/518916184779b02556d17a4d7366ba4f.jpg" alt=""></p>
<p>绘制分割的小提琴图以比较不同的色调变量：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     data<span class="token operator">=</span>tips<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"muted"</span><span class="token punctuation">,</span> split<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/556be3cec3d1462768f0cc39618394ee.jpg" alt=""></p>
<p>通过显式传入参数指定顺序控制小提琴图的显示顺序：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"Dinner"</span><span class="token punctuation">,</span> <span class="token string">"Lunch"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/0a27825dabd4d46b78291be90e8f255e.jpg" alt=""></p>
<p>将小提琴宽度缩放为每个分箱中观察到的数据点数目：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     data<span class="token operator">=</span>tips<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set2"</span><span class="token punctuation">,</span> split<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     scale<span class="token operator">=</span><span class="token string">"count"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/827ec31007a6e721317dd1ef46a8602f.jpg" alt=""></p>
<p>将四分位数绘制为水平线而不是迷你箱型图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     data<span class="token operator">=</span>tips<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set2"</span><span class="token punctuation">,</span> split<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     scale<span class="token operator">=</span><span class="token string">"count"</span><span class="token punctuation">,</span> inner<span class="token operator">=</span><span class="token string">"quartile"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/09cb7121a5be805931cc8ae1c99d3cf9.jpg" alt=""></p>
<p>用小提琴图内部的横线显示每个观察到的数据点：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     data<span class="token operator">=</span>tips<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set2"</span><span class="token punctuation">,</span> split<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     scale<span class="token operator">=</span><span class="token string">"count"</span><span class="token punctuation">,</span> inner<span class="token operator">=</span><span class="token string">"stick"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5c7220bdfc81c3823862c2988af57776.jpg" alt=""></p>
<p>根据所有分箱的数据点数目对密度进行缩放：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     data<span class="token operator">=</span>tips<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set2"</span><span class="token punctuation">,</span> split<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     scale<span class="token operator">=</span><span class="token string">"count"</span><span class="token punctuation">,</span> inner<span class="token operator">=</span><span class="token string">"stick"</span><span class="token punctuation">,</span> scale_hue<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b8b693d813ee5778cb52a3f3f634fc11.jpg" alt=""></p>
<p>使用窄带宽来减少平滑量：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     data<span class="token operator">=</span>tips<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set2"</span><span class="token punctuation">,</span> split<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     scale<span class="token operator">=</span><span class="token string">"count"</span><span class="token punctuation">,</span> inner<span class="token operator">=</span><span class="token string">"stick"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     scale_hue<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> bw<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a8ea9b9779973bf3274cc3f154bb6029.jpg" alt=""></p>
<p>绘制横向小提琴图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> planets <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"planets"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"orbital_period"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"method"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     data<span class="token operator">=</span>planets<span class="token punctuation">[</span>planets<span class="token punctuation">.</span>orbital_period <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     scale<span class="token operator">=</span><span class="token string">"width"</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set3"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/7a72774eb92deca2a76e6428021a5bd6.jpg" alt=""></p>
<p>不要让密度超出数据中的极端数值：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"orbital_period"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"method"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     data<span class="token operator">=</span>planets<span class="token punctuation">[</span>planets<span class="token punctuation">.</span>orbital_period <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     cut<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> scale<span class="token operator">=</span><span class="token string">"width"</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set3"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/eb118f7308dc5e81aa3ed5b5524a1182.jpg" alt=""></p>
<p>使用 <code>hue</code> 而不改变小提琴图的位置或宽度：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> tips<span class="token punctuation">[</span><span class="token string">"weekend"</span><span class="token punctuation">]</span> <span class="token operator">=</span> tips<span class="token punctuation">[</span><span class="token string">"day"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Sat"</span><span class="token punctuation">,</span> <span class="token string">"Sun"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"weekend"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                     data<span class="token operator">=</span>tips<span class="token punctuation">,</span> dodge<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/fad2cab7c30663b1f48e1015ad10f310.jpg" alt=""></p>
<p>把 <code>catplot()</code> 与 <code>violinplot()</code> 以及 <code>FacetGrid</code> 结合起来使用。这允许您通过额外的分类变量进行分组。使用 <code>catplot()</code> 比直接使用 <code>FacetGrid</code> 更为安全，因为它保证了不同切面上变量同步的顺序：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 data<span class="token operator">=</span>tips<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"violin"</span><span class="token punctuation">,</span> split<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/49227838b078bcd197f52cd3a7b01865.jpg" alt=""></p>
<h1 id="seaborn-boxenplot"><a href="#seaborn-boxenplot" class="headerlink" title="seaborn.boxenplot"></a>seaborn.boxenplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>boxenplot<span class="token punctuation">(</span>x<span class="token operator">=</span>None<span class="token punctuation">,</span> y<span class="token operator">=</span>None<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> order<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> orient<span class="token operator">=</span>None<span class="token punctuation">,</span> color<span class="token operator">=</span>None<span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> saturation<span class="token operator">=</span><span class="token number">0.75</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> dodge<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> k_depth<span class="token operator">=</span><span class="token string">'proportion'</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span>None<span class="token punctuation">,</span> scale<span class="token operator">=</span><span class="token string">'exponential'</span><span class="token punctuation">,</span> outlier_prop<span class="token operator">=</span>None<span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Draw an enhanced box plot for larger datasets.</p>
<p>This style of plot was originally named a “letter value” plot because it shows a large number of quantiles that are defined as “letter values”. It is similar to a box plot in plotting a nonparametric representation of a distribution in which all features correspond to actual observations. By plotting more quantiles, it provides more information about the shape of the distribution, particularly in the tails. For a more extensive explanation, you can read the paper that introduced the plot:</p>
<p><a href="https://vita.had.co.nz/papers/letter-value-plot.html" target="_blank" rel="noopener">https://vita.had.co.nz/papers/letter-value-plot.html</a></p>
<p>Input data can be passed in a variety of formats, including:</p>
<ul>
<li>Vectors of data represented as lists, numpy arrays, or pandas Series objects passed directly to the <code>x</code>, <code>y</code>, and/or <code>hue</code> parameters.</li>
<li>A “long-form” DataFrame, in which case the <code>x</code>, <code>y</code>, and <code>hue</code> variables will determine how the data are plotted.</li>
<li>A “wide-form” DataFrame, such that each numeric column will be plotted.</li>
<li>An array or list of vectors.</li>
</ul>
<p>In most cases, it is possible to use numpy or Python objects, but pandas objects are preferable because the associated names will be used to annotate the axes. Additionally, you can use Categorical types for the grouping variables to control the order of plot elements.</p>
<p>This function always treats one of the variables as categorical and draws data at ordinal positions (0, 1, … n) on the relevant axis, even when the data has a numeric or date type.</p>
<p>参数：<code>x, y, hue</code>：names of variables in <code>data</code> or vector data, optional</p>
<blockquote>
<p>Inputs for plotting long-form data. See examples for interpretation.</p>
</blockquote>
<p><code>data</code>：DataFrame, array, or list of arrays, optional</p>
<blockquote>
<p>Dataset for plotting. If <code>x</code> and <code>y</code> are absent, this is interpreted as wide-form. Otherwise it is expected to be long-form.</p>
</blockquote>
<p><code>order, hue_order</code>：lists of strings, optional</p>
<blockquote>
<p>Order to plot the categorical levels in, otherwise the levels are inferred from the data objects.</p>
</blockquote>
<p><code>orient</code>：“v” | “h”, optional</p>
<blockquote>
<p>Orientation of the plot (vertical or horizontal). This is usually inferred from the dtype of the input variables, but can be used to specify when the “categorical” variable is a numeric or when plotting wide-form data.</p>
</blockquote>
<p><code>color</code>：matplotlib color, optional</p>
<blockquote>
<p>Color for all of the elements, or seed for a gradient palette.</p>
</blockquote>
<p><code>palette</code>：palette name, list, or dict, optional</p>
<blockquote>
<p>Colors to use for the different levels of the <code>hue</code> variable. Should be something that can be interpreted by <code>color_palette()</code>, or a dictionary mapping hue levels to matplotlib colors.</p>
</blockquote>
<p><code>saturation</code>：float, optional</p>
<blockquote>
<p>Proportion of the original saturation to draw colors at. Large patches often look better with slightly desaturated colors, but set this to <code>1</code> if you want the plot colors to perfectly match the input color spec.</p>
</blockquote>
<p><code>width</code>：float, optional</p>
<blockquote>
<p>Width of a full element when not using hue nesting, or width of all the elements for one level of the major grouping variable.</p>
</blockquote>
<p><code>dodge</code>：bool, optional</p>
<blockquote>
<p>When hue nesting is used, whether elements should be shifted along the categorical axis.</p>
</blockquote>
<p><code>k_depth</code>：“proportion” | “tukey” | “trustworthy”, optional</p>
<blockquote>
<p>The number of boxes, and by extension number of percentiles, to draw. All methods are detailed in Wickham’s paper. Each makes different assumptions about the number of outliers and leverages different statistical properties.</p>
</blockquote>
<p><code>linewidth</code>：float, optional</p>
<blockquote>
<p>Width of the gray lines that frame the plot elements.</p>
</blockquote>
<p><code>scale</code>：“linear” | “exponential” | “area”</p>
<blockquote>
<p>Method to use for the width of the letter value boxes. All give similar results visually. “linear” reduces the width by a constant linear factor, “exponential” uses the proportion of data not covered, “area” is proportional to the percentage of data covered.</p>
</blockquote>
<p><code>outlier_prop</code>：float, optional</p>
<blockquote>
<p>Proportion of data believed to be outliers. Used in conjunction with k_depth to determine the number of percentiles to draw. Defaults to 0.007 as a proportion of outliers. Should be in range [0, 1].</p>
</blockquote>
<p><code>ax</code>：matplotlib Axes, optional</p>
<blockquote>
<p>Axes object to draw the plot onto, otherwise uses the current Axes.</p>
</blockquote>
<p><code>kwargs</code>：key, value mappings</p>
<blockquote>
<p>Other keyword arguments are passed through to <code>plt.plot</code> and <code>plt.scatter</code> at draw time.</p>
</blockquote>
<p>返回值：<code>ax</code>：matplotlib Axes</p>
<blockquote>
<p>Returns the Axes object with the plot drawn onto it.</p>
</blockquote>
<p>See also</p>
<p>A combination of boxplot and kernel density estimation.A traditional box-and-whisker plot with a similar API.</p>
<p>Examples</p>
<p>Draw a single horizontal boxen plot:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"whitegrid"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxenplot<span class="token punctuation">(</span>x<span class="token operator">=</span>tips<span class="token punctuation">[</span><span class="token string">"total_bill"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ea7362d005109093ddfe7d7a0039a13e.jpg" alt=""></p>
<p>Draw a vertical boxen plot grouped by a categorical variable:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxenplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/31c79f0cf22d453e10799da960e3e801.jpg" alt=""></p>
<p>Draw a letter value plot with nested grouping by two categorical variables:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxenplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    data<span class="token operator">=</span>tips<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set3"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/1db91ed8446afc825fa5bba21f1ef278.jpg" alt=""></p>
<p>Draw a boxen plot with nested grouping when some bins are empty:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxenplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    data<span class="token operator">=</span>tips<span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">2.5</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2e57af8b26439c244046ff7846601335.jpg" alt=""></p>
<p>Control box order by passing an explicit order:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxenplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"Dinner"</span><span class="token punctuation">,</span> <span class="token string">"Lunch"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/e8fa81696195ce058546e429317075bc.jpg" alt=""></p>
<p>Draw a boxen plot for each numeric variable in a DataFrame:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> iris <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"iris"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxenplot<span class="token punctuation">(</span>data<span class="token operator">=</span>iris<span class="token punctuation">,</span> orient<span class="token operator">=</span><span class="token string">"h"</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set2"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a9e939280daed8ec0712c8e6e6be78fb.jpg" alt=""></p>
<p>Use <code>stripplot()</code> to show the datapoints on top of the boxes:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>boxenplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>stripplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    size<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> jitter<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"gray"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/fb3de8051b91bb0be2143717f96c0a7c.jpg" alt=""></p>
<p>Use <code>catplot()</code> to combine <code>boxenplot()</code> and a <code>FacetGrid</code>. This allows grouping within additional categorical variables. Using <code>catplot()</code> is safer than using <code>FacetGrid</code> directly, as it ensures synchronization of variable order across facets:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 data<span class="token operator">=</span>tips<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"boxen"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ef97d95b2084af9b8636c2514545289d.jpg" alt=""></p>
<h1 id="seaborn-pointplot"><a href="#seaborn-pointplot" class="headerlink" title="seaborn.pointplot"></a>seaborn.pointplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>pointplot<span class="token punctuation">(</span>x<span class="token operator">=</span>None<span class="token punctuation">,</span> y<span class="token operator">=</span>None<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> order<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> estimator<span class="token operator">=</span><span class="token operator">&lt;</span>function mean<span class="token operator">></span><span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token number">95</span><span class="token punctuation">,</span> n_boot<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span> units<span class="token operator">=</span>None<span class="token punctuation">,</span> markers<span class="token operator">=</span><span class="token string">'o'</span><span class="token punctuation">,</span> linestyles<span class="token operator">=</span><span class="token string">'-'</span><span class="token punctuation">,</span> dodge<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> join<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> scale<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> orient<span class="token operator">=</span>None<span class="token punctuation">,</span> color<span class="token operator">=</span>None<span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> errwidth<span class="token operator">=</span>None<span class="token punctuation">,</span> capsize<span class="token operator">=</span>None<span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Show point estimates and confidence intervals using scatter plot glyphs.</p>
<p>A point plot represents an estimate of central tendency for a numeric variable by the position of scatter plot points and provides some indication of the uncertainty around that estimate using error bars.</p>
<p>Point plots can be more useful than bar plots for focusing comparisons between different levels of one or more categorical variables. They are particularly adept at showing interactions: how the relationship between levels of one categorical variable changes across levels of a second categorical variable. The lines that join each point from the same <code>hue</code> level allow interactions to be judged by differences in slope, which is easier for the eyes than comparing the heights of several groups of points or bars.</p>
<p>It is important to keep in mind that a point plot shows only the mean (or other estimator) value, but in many cases it may be more informative to show the distribution of values at each level of the categorical variables. In that case, other approaches such as a box or violin plot may be more appropriate.</p>
<p>Input data can be passed in a variety of formats, including:</p>
<ul>
<li>Vectors of data represented as lists, numpy arrays, or pandas Series objects passed directly to the <code>x</code>, <code>y</code>, and/or <code>hue</code> parameters.</li>
<li>A “long-form” DataFrame, in which case the <code>x</code>, <code>y</code>, and <code>hue</code> variables will determine how the data are plotted.</li>
<li>A “wide-form” DataFrame, such that each numeric column will be plotted.</li>
<li>An array or list of vectors.</li>
</ul>
<p>In most cases, it is possible to use numpy or Python objects, but pandas objects are preferable because the associated names will be used to annotate the axes. Additionally, you can use Categorical types for the grouping variables to control the order of plot elements.</p>
<p>This function always treats one of the variables as categorical and draws data at ordinal positions (0, 1, … n) on the relevant axis, even when the data has a numeric or date type.</p>
<p>参数：<code>x, y, hue</code>：names of variables in <code>data</code> or vector data, optional</p>
<blockquote>
<p>Inputs for plotting long-form data. See examples for interpretation.</p>
</blockquote>
<p><code>data</code>：DataFrame, array, or list of arrays, optional</p>
<blockquote>
<p>Dataset for plotting. If <code>x</code> and <code>y</code> are absent, this is interpreted as wide-form. Otherwise it is expected to be long-form.</p>
</blockquote>
<p><code>order, hue_order</code>：lists of strings, optional</p>
<blockquote>
<p>Order to plot the categorical levels in, otherwise the levels are inferred from the data objects.</p>
</blockquote>
<p><code>estimator</code>：callable that maps vector -&gt; scalar, optional</p>
<blockquote>
<p>Statistical function to estimate within each categorical bin.</p>
</blockquote>
<p><code>ci</code>：float or “sd” or None, optional</p>
<blockquote>
<p>Size of confidence intervals to draw around estimated values. If “sd”, skip bootstrapping and draw the standard deviation of the observations. If <code>None</code>, no bootstrapping will be performed, and error bars will not be drawn.</p>
</blockquote>
<p><code>n_boot</code>：int, optional</p>
<blockquote>
<p>Number of bootstrap iterations to use when computing confidence intervals.</p>
</blockquote>
<p><code>units</code>：name of variable in <code>data</code> or vector data, optional</p>
<blockquote>
<p>Identifier of sampling units, which will be used to perform a multilevel bootstrap and account for repeated measures design.</p>
</blockquote>
<p><code>markers</code>：string or list of strings, optional</p>
<blockquote>
<p>Markers to use for each of the <code>hue</code> levels.</p>
</blockquote>
<p><code>linestyles</code>：string or list of strings, optional</p>
<blockquote>
<p>Line styles to use for each of the <code>hue</code> levels.</p>
</blockquote>
<p><code>dodge</code>：bool or float, optional</p>
<blockquote>
<p>Amount to separate the points for each level of the <code>hue</code> variable along the categorical axis.</p>
</blockquote>
<p><code>join</code>：bool, optional</p>
<blockquote>
<p>If <code>True</code>, lines will be drawn between point estimates at the same <code>hue</code> level.</p>
</blockquote>
<p><code>scale</code>：float, optional</p>
<blockquote>
<p>Scale factor for the plot elements.</p>
</blockquote>
<p><code>orient</code>：“v” | “h”, optional</p>
<blockquote>
<p>Orientation of the plot (vertical or horizontal). This is usually inferred from the dtype of the input variables, but can be used to specify when the “categorical” variable is a numeric or when plotting wide-form data.</p>
</blockquote>
<p><code>color</code>：matplotlib color, optional</p>
<blockquote>
<p>Color for all of the elements, or seed for a gradient palette.</p>
</blockquote>
<p><code>palette</code>：palette name, list, or dict, optional</p>
<blockquote>
<p>Colors to use for the different levels of the <code>hue</code> variable. Should be something that can be interpreted by <code>color_palette()</code>, or a dictionary mapping hue levels to matplotlib colors.</p>
</blockquote>
<p><code>errwidth</code>：float, optional</p>
<blockquote>
<p>Thickness of error bar lines (and caps).</p>
</blockquote>
<p><code>capsize</code>：float, optional</p>
<blockquote>
<p>Width of the “caps” on error bars.</p>
</blockquote>
<p><code>ax</code>：matplotlib Axes, optional</p>
<blockquote>
<p>Axes object to draw the plot onto, otherwise uses the current Axes.</p>
</blockquote>
<p>返回值：<code>ax</code>：matplotlib Axes</p>
<blockquote>
<p>Returns the Axes object with the plot drawn onto it.</p>
</blockquote>
<p>See also</p>
<p>Show point estimates and confidence intervals using bars.Combine a categorical plot with a class:FacetGrid.</p>
<p>Examples</p>
<p>Draw a set of vertical point plots grouped by a categorical variable:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"darkgrid"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>!(../images/language/f5eb9519edb052868537ca9735f0f8df.jpg)</p>
<p>Draw a set of vertical points with nested grouping by a two variables:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/864eda3b3c2fcc6b0bdb53c84c3dafcf.jpg" alt=""></p>
<p>Separate the points for different hue levels along the categorical axis:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    data<span class="token operator">=</span>tips<span class="token punctuation">,</span> dodge<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b7f6772294dcf0d9b7035314c114c54b.jpg" alt=""></p>
<p>Use a different marker and line style for the hue levels:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    markers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"o"</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    linestyles<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"-"</span><span class="token punctuation">,</span> <span class="token string">"--"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a97ae4389fc8bc946eb62e06c173b3e3.jpg" alt=""></p>
<p>Draw a set of horizontal points:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/4217fbfe6aaba42c4d18a69c5b8c9fc4.jpg" alt=""></p>
<p>Don’t draw a line connecting each point:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> join<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/96a33f32e85dcced62c9fc4ff063fe3d.jpg" alt=""></p>
<p>Use a different color for a single-layer plot:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">(</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    color<span class="token operator">=</span><span class="token string">"#bb3f3f"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/1e3348f06e5cd7876d5bc530b04d3d93.jpg" alt=""></p>
<p>Use a different color palette for the points:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    data<span class="token operator">=</span>tips<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set2"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d4a4eeea79c55b0ae9d3088746b6503a.jpg" alt=""></p>
<p>Control point order by passing an explicit order:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"Dinner"</span><span class="token punctuation">,</span> <span class="token string">"Lunch"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/4c08e24283b6829b3d91e3c23de56923.jpg" alt=""></p>
<p>Use median as the estimate of central tendency:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> numpy <span class="token keyword">import</span> median
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> estimator<span class="token operator">=</span>median<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/0ec9398faa407996527db66db46c71f2.jpg" alt=""></p>
<p>Show the standard error of the mean with the error bars:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token number">68</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f9f6dd93a512624527b38dcc26d97e37.jpg" alt=""></p>
<p>Show standard deviation of observations instead of a confidence interval:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token string">"sd"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f41526e37f8f11614ea339da0e242c51.jpg" alt=""></p>
<p>Add “caps” to the error bars:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> capsize<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b7df4cf62c681ea39bd145bdb740bc81.jpg" alt=""></p>
<p>Use <code>catplot()</code> to combine a <code>barplot()</code> and a <code>FacetGrid</code>. This allows grouping within additional categorical variables. Using <code>catplot()</code> is safer than using <code>FacetGrid</code> directly, as it ensures synchronization of variable order across facets:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 data<span class="token operator">=</span>tips<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"point"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 dodge<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2d47b5f96f08a539147e7f0a71d0aa33.jpg" alt=""></p>
<h1 id="seaborn-barplot"><a href="#seaborn-barplot" class="headerlink" title="seaborn.barplot"></a>seaborn.barplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span>None<span class="token punctuation">,</span> y<span class="token operator">=</span>None<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> order<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> estimator<span class="token operator">=</span><span class="token operator">&lt;</span>function mean<span class="token operator">></span><span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token number">95</span><span class="token punctuation">,</span> n_boot<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span> units<span class="token operator">=</span>None<span class="token punctuation">,</span> orient<span class="token operator">=</span>None<span class="token punctuation">,</span> color<span class="token operator">=</span>None<span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> saturation<span class="token operator">=</span><span class="token number">0.75</span><span class="token punctuation">,</span> errcolor<span class="token operator">=</span><span class="token string">'.26'</span><span class="token punctuation">,</span> errwidth<span class="token operator">=</span>None<span class="token punctuation">,</span> capsize<span class="token operator">=</span>None<span class="token punctuation">,</span> dodge<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Show point estimates and confidence intervals as rectangular bars.</p>
<p>A bar plot represents an estimate of central tendency for a numeric variable with the height of each rectangle and provides some indication of the uncertainty around that estimate using error bars. Bar plots include 0 in the quantitative axis range, and they are a good choice when 0 is a meaningful value for the quantitative variable, and you want to make comparisons against it.</p>
<p>For datasets where 0 is not a meaningful value, a point plot will allow you to focus on differences between levels of one or more categorical variables.</p>
<p>It is also important to keep in mind that a bar plot shows only the mean (or other estimator) value, but in many cases it may be more informative to show the distribution of values at each level of the categorical variables. In that case, other approaches such as a box or violin plot may be more appropriate.</p>
<p>Input data can be passed in a variety of formats, including:</p>
<ul>
<li>Vectors of data represented as lists, numpy arrays, or pandas Series objects passed directly to the <code>x</code>, <code>y</code>, and/or <code>hue</code> parameters.</li>
<li>A “long-form” DataFrame, in which case the <code>x</code>, <code>y</code>, and <code>hue</code> variables will determine how the data are plotted.</li>
<li>A “wide-form” DataFrame, such that each numeric column will be plotted.</li>
<li>An array or list of vectors.</li>
</ul>
<p>In most cases, it is possible to use numpy or Python objects, but pandas objects are preferable because the associated names will be used to annotate the axes. Additionally, you can use Categorical types for the grouping variables to control the order of plot elements.</p>
<p>This function always treats one of the variables as categorical and draws data at ordinal positions (0, 1, … n) on the relevant axis, even when the data has a numeric or date type.</p>
<p>参数：<code>x, y, hue</code>：names of variables in <code>data</code> or vector data, optional</p>
<blockquote>
<p>Inputs for plotting long-form data. See examples for interpretation.</p>
</blockquote>
<p><code>data</code>：DataFrame, array, or list of arrays, optional</p>
<blockquote>
<p>Dataset for plotting. If <code>x</code> and <code>y</code> are absent, this is interpreted as wide-form. Otherwise it is expected to be long-form.</p>
</blockquote>
<p><code>order, hue_order</code>：lists of strings, optional</p>
<blockquote>
<p>Order to plot the categorical levels in, otherwise the levels are inferred from the data objects.</p>
</blockquote>
<p><code>estimator</code>：callable that maps vector -&gt; scalar, optional</p>
<blockquote>
<p>Statistical function to estimate within each categorical bin.</p>
</blockquote>
<p><code>ci</code>：float or “sd” or None, optional</p>
<blockquote>
<p>Size of confidence intervals to draw around estimated values. If “sd”, skip bootstrapping and draw the standard deviation of the observations. If <code>None</code>, no bootstrapping will be performed, and error bars will not be drawn.</p>
</blockquote>
<p><code>n_boot</code>：int, optional</p>
<blockquote>
<p>Number of bootstrap iterations to use when computing confidence intervals.</p>
</blockquote>
<p><code>units</code>：name of variable in <code>data</code> or vector data, optional</p>
<blockquote>
<p>Identifier of sampling units, which will be used to perform a multilevel bootstrap and account for repeated measures design.</p>
</blockquote>
<p><code>orient</code>：“v” | “h”, optional</p>
<blockquote>
<p>Orientation of the plot (vertical or horizontal). This is usually inferred from the dtype of the input variables, but can be used to specify when the “categorical” variable is a numeric or when plotting wide-form data.</p>
</blockquote>
<p><code>color</code>：matplotlib color, optional</p>
<blockquote>
<p>Color for all of the elements, or seed for a gradient palette.</p>
</blockquote>
<p><code>palette</code>：palette name, list, or dict, optional</p>
<blockquote>
<p>Colors to use for the different levels of the <code>hue</code> variable. Should be something that can be interpreted by <code>color_palette()</code>, or a dictionary mapping hue levels to matplotlib colors.</p>
</blockquote>
<p><code>saturation</code>：float, optional</p>
<blockquote>
<p>Proportion of the original saturation to draw colors at. Large patches often look better with slightly desaturated colors, but set this to <code>1</code> if you want the plot colors to perfectly match the input color spec.</p>
</blockquote>
<p><code>errcolor</code>：matplotlib color</p>
<blockquote>
<p>Color for the lines that represent the confidence interval.</p>
</blockquote>
<p><code>errwidth</code>：float, optional</p>
<blockquote>
<p>Thickness of error bar lines (and caps).</p>
</blockquote>
<p><code>capsize</code>：float, optional</p>
<blockquote>
<p>Width of the “caps” on error bars.</p>
</blockquote>
<p><code>dodge</code>：bool, optional</p>
<blockquote>
<p>When hue nesting is used, whether elements should be shifted along the categorical axis.</p>
</blockquote>
<p><code>ax</code>：matplotlib Axes, optional</p>
<blockquote>
<p>Axes object to draw the plot onto, otherwise uses the current Axes.</p>
</blockquote>
<p><code>kwargs</code>：key, value mappings</p>
<blockquote>
<p>Other keyword arguments are passed through to <code>plt.bar</code> at draw time.</p>
</blockquote>
<p>返回值：<code>ax</code>：matplotlib Axes</p>
<blockquote>
<p>Returns the Axes object with the plot drawn onto it.</p>
</blockquote>
<p>See also</p>
<p>Show the counts of observations in each categorical bin.Show point estimates and confidence intervals using scatterplot glyphs.Combine a categorical plot with a class:FacetGrid.</p>
<p>Examples</p>
<p>Draw a set of vertical bar plots grouped by a categorical variable:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"whitegrid"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/9d1addc98b6a35ef0376219c56e7b7fd.jpg" alt=""></p>
<p>Draw a set of vertical bars with nested grouping by a two variables:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/863249efe2403afa4fae2f2b6884d3bd.jpg" alt=""></p>
<p>Draw a set of horizontal bars:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/c3ea6265eaff0a4bfaec2966088cb66f.jpg" alt=""></p>
<p>Control bar order by passing an explicit order:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"Dinner"</span><span class="token punctuation">,</span> <span class="token string">"Lunch"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/9233554272a5e436f6ab85c97a65010c.jpg" alt=""></p>
<p>Use median as the estimate of central tendency:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> numpy <span class="token keyword">import</span> median
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> estimator<span class="token operator">=</span>median<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2622373fb99932aa42e45c3b151135be.jpg" alt=""></p>
<p>Show the standard error of the mean with the error bars:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token number">68</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d1310bd7e87a8549d1f0b3a1479fc06d.jpg" alt=""></p>
<p>Show standard deviation of observations instead of a confidence interval:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token string">"sd"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/eeb77dac6d8f76d9f715476ce03773c5.jpg" alt=""></p>
<p>Add “caps” to the error bars:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> capsize<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5a69e1058d9b8b4b5be6dc15d1bad130.jpg" alt=""></p>
<p>Use a different color palette for the bars:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span><span class="token string">"size"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  palette<span class="token operator">=</span><span class="token string">"Blues_d"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ef011fca38d3c55dde21ee8363e93e61.jpg" alt=""></p>
<p>Use <code>hue</code> without changing bar position or width:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> tips<span class="token punctuation">[</span><span class="token string">"weekend"</span><span class="token punctuation">]</span> <span class="token operator">=</span> tips<span class="token punctuation">[</span><span class="token string">"day"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Sat"</span><span class="token punctuation">,</span> <span class="token string">"Sun"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"weekend"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  data<span class="token operator">=</span>tips<span class="token punctuation">,</span> dodge<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d38d4ad12b16322a5ed00690bcbcd8b6.jpg" alt=""></p>
<p>Plot all bars in a single color:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span><span class="token string">"size"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  color<span class="token operator">=</span><span class="token string">"salmon"</span><span class="token punctuation">,</span> saturation<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/4922c693b75b7656b2f16f8fd2dd6509.jpg" alt=""></p>
<p>Use <code>plt.bar</code> keyword arguments to further change the aesthetic:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span><span class="token string">"day"</span><span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  linewidth<span class="token operator">=</span><span class="token number">2.5</span><span class="token punctuation">,</span> facecolor<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  errcolor<span class="token operator">=</span><span class="token string">".2"</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">".2"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/20114eb58ca40a3ccf0b20f14f426c83.jpg" alt=""></p>
<p>Use <code>catplot()</code> to combine a <code>barplot()</code> and a <code>FacetGrid</code>. This allows grouping within additional categorical variables. Using <code>catplot()</code> is safer than using <code>FacetGrid</code> directly, as it ensures synchronization of variable order across facets:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 data<span class="token operator">=</span>tips<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"bar"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a2d8b9c6867b1006b56e5508d5472c86.jpg" alt=""></p>
<h1 id="seaborn-countplot"><a href="#seaborn-countplot" class="headerlink" title="seaborn.countplot"></a>seaborn.countplot</h1><pre><code>seaborn.countplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, orient=None, color=None, palette=None, saturation=0.75, dodge=True, ax=None, **kwargs)</code></pre><p>seaborn.countplot使用条形图显示每个类别中观测值的数量。</p>
<p>这个函数可以被认为是针对类别变量的直方图。基本的API和选项与<code>barplot()</code>完全相同，因此可以对比学习。</p>
<p>可以通过多种格式传入数据，包括：</p>
<ul>
<li>通过列表、numpy数组、或者pandas Series对象表示的向量数据，数据直接传给<code>x</code>, <code>y</code>, 和/或<code>hue</code>参数。</li>
<li>长格式的DataFrame，此时会通过<code>x</code>, <code>y</code>以及<code>hue</code>变量决定如何绘制数据。</li>
<li>宽格式的DataFrame，此时每个数值型的column都会被绘制。</li>
<li>数组或者列表形式的向量</li>
</ul>
<p>在绝大多数情况下，数据格式都可以使用numpy或者Python对象，但是推荐使用pandas对象，因为pandas对象中相关的名称会被用于注释坐标轴。此外，可以通过设置分组变量为使用Categorical类型来控制绘制元素的顺序。</p>
<p>这个函数总会将变量作为类别变量进行处理，按顺序(0, 1, … n)在相应坐标轴绘制数据，即使数据为数值或者日期类型。</p>
<p>参数：<code>x, y, hue</code>: <code>data</code>或者向量数据中的变量名，可选</p>
<blockquote>
<p>用于绘制长格式数据的输入。查看解释示例</p>
</blockquote>
<p><code>data</code>：DataFrame, 数组，或者包含数组的列表，可选</p>
<blockquote>
<p>用于绘制的数据集。如果<code>x</code>和<code>y</code>不存在，那么会将数据按宽格式进行处理，否则应当为长格式。</p>
</blockquote>
<p><code>order, hue_order</code>：包含字符串的列表，可选</p>
<blockquote>
<p>类别层级绘制的顺序，否则层级会从数据对象中推测。</p>
</blockquote>
<p><code>orient</code>: “v” | “h”, 可选</p>
<blockquote>
<p>绘制的朝向（竖直或者水平）。通过从输入变量的dtype进行推断。当类别变量是数值型或者绘制宽格式数据时，可以进行指定。</p>
</blockquote>
<p><code>color</code>: matplotlib颜色，可选</p>
<blockquote>
<p>所有元素的颜色，或者渐变调色盘的种子。</p>
</blockquote>
<p><code>palette</code>: 调色盘名称，列表或字典，可选</p>
<blockquote>
<p>用于<code>hue</code>变量的不同级别的颜色。应当是<code>color_palette()</code>可以解释的东西，或者将色调级别映射到matplotlib颜色的字典。</p>
</blockquote>
<p><code>saturation</code>: float, 可选</p>
<blockquote>
<p>在原有饱和度的比例下绘制颜色。大片的图块通常在略微不饱和的颜色下看起来更好，而如果想要绘制的颜色与输入颜色规格完全匹配，应当设置此值为<code>1</code>。</p>
</blockquote>
<p><code>dodge</code>: bool, 可选</p>
<blockquote>
<p>当使用色调嵌套时，决定是否沿着类别轴对元素进行移位。</p>
</blockquote>
<p><code>ax</code>: matplotlib轴，可选</p>
<blockquote>
<p>绘制图像的轴对象，不指定时使用当前轴。</p>
</blockquote>
<p><code>kwargs</code>: 键值映射</p>
<blockquote>
<p>其他关键字参数会被传递给<code>plt.bar</code>.</p>
</blockquote>
<p>返回值：<code>ax</code>: matplotlib轴</p>
<blockquote>
<p>返回带有绘图的轴对象。</p>
</blockquote>
<p>另请参阅</p>
<p><code>barplot()</code>: 使用条形图显示点估计和置信区间。</p>
<p><code>factorplot()</code>: 结合类别图与<code>FacetGrid</code>类。</p>
<p>示例</p>
<p>显示单个类别变量的计数值：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"darkgrid"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> titanic <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"titanic"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>countplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"class"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>titanic<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/840a3b4206930d48fae0f0d4549b87a0.jpg" alt=""></p>
<p>显示两个类别变量的计数值：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>countplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"class"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"who"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>titanic<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/7fde400b120a0b6cd6aca0cb2de690db.jpg" alt=""></p>
<p>水平绘制条形图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>countplot<span class="token punctuation">(</span>y<span class="token operator">=</span><span class="token string">"class"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"who"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>titanic<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/512afaa1b09caf55faf909a34995137a.jpg" alt=""></p>
<p>使用不同的颜色色盘：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>countplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"who"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>titanic<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set3"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d3ac1e2e1f590489ef76341664562f87.jpg" alt=""></p>
<p>使用<code>plt.bar</code>的关键字参数获得不同的显示效果：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>countplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"who"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>titanic<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    facecolor<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    linewidth<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    edgecolor<span class="token operator">=</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"dark"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d23d0851c88c12754e0c1e08aac20d01.jpg" alt=""></p>
<p>使用<code>catplot()</code>实现结合<code>countplot()</code>以及<code>FacetGrid</code>的效果。这样做可以在额外的类别变量中进行分组。使用<code>catplot()</code>比直接使用<code>FacetGrid</code>更加安全，因为这样做可以确保跨分面的变量顺序同步：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"class"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"who"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"survived"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 data<span class="token operator">=</span>titanic<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"count"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                 height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5d75285f3c08542cd9db2296ef737d54.jpg" alt=""></p>
<h1 id="seaborn-jointplot"><a href="#seaborn-jointplot" class="headerlink" title="seaborn.jointplot"></a>seaborn.jointplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">'scatter'</span><span class="token punctuation">,</span> stat_func<span class="token operator">=</span>None<span class="token punctuation">,</span> color<span class="token operator">=</span>None<span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> ratio<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> space<span class="token operator">=</span><span class="token number">0.2</span><span class="token punctuation">,</span> dropna<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> xlim<span class="token operator">=</span>None<span class="token punctuation">,</span> ylim<span class="token operator">=</span>None<span class="token punctuation">,</span> joint_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> marginal_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> annot_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Draw a plot of two variables with bivariate and univariate graphs.</p>
<p>This function provides a convenient interface to the <code>JointGrid</code> class, with several canned plot kinds. This is intended to be a fairly lightweight wrapper; if you need more flexibility, you should use <code>JointGrid</code> directly.</p>
<p>参数：<code>x, y</code>：strings or vectors</p>
<blockquote>
<p>Data or names of variables in <code>data</code>.</p>
</blockquote>
<p><code>data</code>：DataFrame, optional</p>
<blockquote>
<p>DataFrame when <code>x</code> and <code>y</code> are variable names.</p>
</blockquote>
<p><code>kind</code>：{ “scatter” | “reg” | “resid” | “kde” | “hex” }, optional</p>
<blockquote>
<p>Kind of plot to draw.</p>
</blockquote>
<p><code>stat_func</code>：callable or None, optional</p>
<blockquote>
<p><em>Deprecated</em></p>
</blockquote>
<p><code>color</code>：matplotlib color, optional</p>
<blockquote>
<p>Color used for the plot elements.</p>
</blockquote>
<p><code>height</code>：numeric, optional</p>
<blockquote>
<p>Size of the figure (it will be square).</p>
</blockquote>
<p><code>ratio</code>：numeric, optional</p>
<blockquote>
<p>Ratio of joint axes height to marginal axes height.</p>
</blockquote>
<p><code>space</code>：numeric, optional</p>
<blockquote>
<p>Space between the joint and marginal axes</p>
</blockquote>
<p><code>dropna</code>：bool, optional</p>
<blockquote>
<p>If True, remove observations that are missing from <code>x</code> and <code>y</code>.</p>
</blockquote>
<p><code>{x, y}lim</code>：two-tuples, optional</p>
<blockquote>
<p>Axis limits to set before plotting.</p>
</blockquote>
<p><code>{joint, marginal, annot}_kws</code>：dicts, optional</p>
<blockquote>
<p>Additional keyword arguments for the plot components.</p>
</blockquote>
<p><code>kwargs</code>：key, value pairings</p>
<blockquote>
<p>Additional keyword arguments are passed to the function used to draw the plot on the joint Axes, superseding items in the <code>joint_kws</code> dictionary.</p>
</blockquote>
<p>返回值：<code>grid</code>：<code>JointGrid</code></p>
<blockquote>
<p><code>JointGrid</code> object with the plot on it.</p>
</blockquote>
<p>See also</p>
<p>The Grid class used for drawing this plot. Use it directly if you need more flexibility.</p>
<p>Examples</p>
<p>Draw a scatterplot with marginal histograms:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token punctuation">,</span> pandas <span class="token keyword">as</span> pd<span class="token punctuation">;</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">,</span> color_codes<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/48d5020fcbaa6d2f36aae520f84a6234.jpg" alt=""></p>
<p>Add regression and kernel density fits:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"reg"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/8434c101b75c73a9e1b8dfb89975a2b5.jpg" alt=""></p>
<p>Replace the scatterplot with a joint histogram using hexagonal bins:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"hex"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6d5c569bf97b1f683a2ec921e1031112.jpg" alt=""></p>
<p>Replace the scatterplots and histograms with density estimates and align the marginal Axes tightly with the joint Axes:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> iris <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"iris"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span><span class="token string">"sepal_width"</span><span class="token punctuation">,</span> <span class="token string">"petal_length"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>iris<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   kind<span class="token operator">=</span><span class="token string">"kde"</span><span class="token punctuation">,</span> space<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/c2c70e8889861b837b4fd45d707a6616.jpg" alt=""></p>
<p>Draw a scatterplot, then add a joint density estimate:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> <span class="token punctuation">(</span>sns<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span><span class="token string">"sepal_length"</span><span class="token punctuation">,</span> <span class="token string">"sepal_width"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                    data<span class="token operator">=</span>iris<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"k"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         <span class="token punctuation">.</span>plot_joint<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">,</span> zorder<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> n_levels<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b6895c87c4fa5a7fa1dc151dc3e5b385.jpg" alt=""></p>
<p>Pass vectors in directly without using Pandas, then name the axes:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> x<span class="token punctuation">,</span> y <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> <span class="token punctuation">(</span>sns<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"hex"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         <span class="token punctuation">.</span>set_axis_labels<span class="token punctuation">(</span><span class="token string">"x"</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/72b1f526c884ba4a6a285f1e8723013e.jpg" alt=""></p>
<p>Draw a smaller figure with more space devoted to the marginal plots:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   height<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> ratio<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ddcf0a83320e56c75f2d5d15ff29c874.jpg" alt=""></p>
<p>Pass keyword arguments down to the underlying plots:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span><span class="token string">"petal_length"</span><span class="token punctuation">,</span> <span class="token string">"sepal_length"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>iris<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   marginal_kws<span class="token operator">=</span>dict<span class="token punctuation">(</span>bins<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">,</span> rug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   annot_kws<span class="token operator">=</span>dict<span class="token punctuation">(</span>stat<span class="token operator">=</span><span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   s<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"w"</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/0fa41716b87d635876d921fc9ab967ea.jpg" alt=""></p>
<h1 id="seaborn-pairplot"><a href="#seaborn-pairplot" class="headerlink" title="seaborn.pairplot"></a>seaborn.pairplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>data<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> vars<span class="token operator">=</span>None<span class="token punctuation">,</span> x_vars<span class="token operator">=</span>None<span class="token punctuation">,</span> y_vars<span class="token operator">=</span>None<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">'scatter'</span><span class="token punctuation">,</span> diag_kind<span class="token operator">=</span><span class="token string">'auto'</span><span class="token punctuation">,</span> markers<span class="token operator">=</span>None<span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">2.5</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> dropna<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> plot_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> diag_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> grid_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> size<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Plot pairwise relationships in a dataset.</p>
<p>By default, this function will create a grid of Axes such that each variable in <code>data</code> will by shared in the y-axis across a single row and in the x-axis across a single column. The diagonal Axes are treated differently, drawing a plot to show the univariate distribution of the data for the variable in that column.</p>
<p>It is also possible to show a subset of variables or plot different variables on the rows and columns.</p>
<p>This is a high-level interface for <code>PairGrid</code> that is intended to make it easy to draw a few common styles. You should use <code>PairGrid</code> directly if you need more flexibility.</p>
<p>参数：<code>data</code>：DataFrame</p>
<blockquote>
<p>Tidy (long-form) dataframe where each column is a variable and each row is an observation.</p>
</blockquote>
<p><code>hue</code>：string (variable name), optional</p>
<blockquote>
<p>Variable in <code>data</code> to map plot aspects to different colors.</p>
</blockquote>
<p><code>hue_order</code>：list of strings</p>
<blockquote>
<p>Order for the levels of the hue variable in the palette</p>
</blockquote>
<p><code>palette</code>：dict or seaborn color palette</p>
<blockquote>
<p>Set of colors for mapping the <code>hue</code> variable. If a dict, keys should be values in the <code>hue</code> variable.</p>
</blockquote>
<p><code>vars</code>：list of variable names, optional</p>
<blockquote>
<p>Variables within <code>data</code> to use, otherwise use every column with a numeric datatype.</p>
</blockquote>
<p><code>{x, y}_vars</code>：lists of variable names, optional</p>
<blockquote>
<p>Variables within <code>data</code> to use separately for the rows and columns of the figure; i.e. to make a non-square plot.</p>
</blockquote>
<p><code>kind</code>：{‘scatter’, ‘reg’}, optional</p>
<blockquote>
<p>Kind of plot for the non-identity relationships.</p>
</blockquote>
<p><code>diag_kind</code>：{‘auto’, ‘hist’, ‘kde’}, optional</p>
<blockquote>
<p>Kind of plot for the diagonal subplots. The default depends on whether <code>"hue"</code> is used or not.</p>
</blockquote>
<p><code>markers</code>：single matplotlib marker code or list, optional</p>
<blockquote>
<p>Either the marker to use for all datapoints or a list of markers with a length the same as the number of levels in the hue variable so that differently colored points will also have different scatterplot markers.</p>
</blockquote>
<p><code>height</code>：scalar, optional</p>
<blockquote>
<p>Height (in inches) of each facet.</p>
</blockquote>
<p><code>aspect</code>：scalar, optional</p>
<blockquote>
<p>Aspect * height gives the width (in inches) of each facet.</p>
</blockquote>
<p><code>dropna</code>：boolean, optional</p>
<blockquote>
<p>Drop missing values from the data before plotting.</p>
</blockquote>
<p><code>{plot, diag, grid}_kws</code>：dicts, optional</p>
<blockquote>
<p>Dictionaries of keyword arguments.</p>
</blockquote>
<p>返回值：<code>grid</code>：PairGrid</p>
<blockquote>
<p>Returns the underlying <code>PairGrid</code> instance for further tweaking.</p>
</blockquote>
<p>See also</p>
<p>Subplot grid for more flexible plotting of pairwise relationships.</p>
<p>Examples</p>
<p>Draw scatterplots for joint relationships and histograms for univariate distributions:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"ticks"</span><span class="token punctuation">,</span> color_codes<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> iris <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"iris"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>iris<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/712c7f2cff4ed2c31b99bf5200838ae1.jpg" alt=""></p>
<p>Show different levels of a categorical variable by the color of plot elements:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"species"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/98c1e58e7427e940294084d2b4582ac8.jpg" alt=""></p>
<p>Use a different color palette:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"species"</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"husl"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f6d3d4030bc93eefcb054749cf90c36b.jpg" alt=""></p>
<p>Use different markers for each level of the hue variable:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"species"</span><span class="token punctuation">,</span> markers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"o"</span><span class="token punctuation">,</span> <span class="token string">"s"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6840daa5bd6d421f05969aeb76c74032.jpg" alt=""></p>
<p>Plot a subset of variables:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"sepal_width"</span><span class="token punctuation">,</span> <span class="token string">"sepal_length"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/87b11c84b7ec8551c2edf9a2ef987014.jpg" alt=""></p>
<p>Draw larger plots:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"sepal_width"</span><span class="token punctuation">,</span> <span class="token string">"sepal_length"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5e89b880399cf894d124b590416e7fb5.jpg" alt=""></p>
<p>Plot different variables in the rows and columns:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>iris<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  x_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"sepal_width"</span><span class="token punctuation">,</span> <span class="token string">"sepal_length"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  y_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"petal_width"</span><span class="token punctuation">,</span> <span class="token string">"petal_length"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/35f33d0939e4e10f46437f5690ad766b.jpg" alt=""></p>
<p>Use kernel density estimates for univariate plots:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> diag_kind<span class="token operator">=</span><span class="token string">"kde"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/cc2c3fb8414e50f2d9f95ab073457c23.jpg" alt=""></p>
<p>Fit linear regression models to the scatter plots:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">"reg"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/74befbc8e8cbc89474dd845fb49329ca.jpg" alt=""></p>
<p>Pass keyword arguments down to the underlying functions (it may be easier to use <a href="https://www.bookstack.cn/read/seaborn-0.9/$docs-seaborn.PairGrid.html#seaborn.PairGrid" target="_blank" rel="noopener"><code>PairGrid</code></a> directly):</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> diag_kind<span class="token operator">=</span><span class="token string">"kde"</span><span class="token punctuation">,</span> markers<span class="token operator">=</span><span class="token string">"+"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  plot_kws<span class="token operator">=</span>dict<span class="token punctuation">(</span>s<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"b"</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  diag_kws<span class="token operator">=</span>dict<span class="token punctuation">(</span>shade<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/0b688ef9f59240384ca84839d9707ce7.jpg" alt=""></p>
<h1 id="seaborn-distplot"><a href="#seaborn-distplot" class="headerlink" title="seaborn.distplot"></a>seaborn.distplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>a<span class="token punctuation">,</span> bins<span class="token operator">=</span>None<span class="token punctuation">,</span> hist<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> kde<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> rug<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> fit<span class="token operator">=</span>None<span class="token punctuation">,</span> hist_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> kde_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> rug_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> fit_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> color<span class="token operator">=</span>None<span class="token punctuation">,</span> vertical<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> norm_hist<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> axlabel<span class="token operator">=</span>None<span class="token punctuation">,</span> label<span class="token operator">=</span>None<span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>灵活绘制单变量观测值分布图。</p>
<p>该函数结合了matplotlib中的 <code>hist</code>函数（自动计算一个默认的合适的bin大小）、seaborn的<code>kdeplot()</code>和<code>rugplot()</code>函数。它还可以拟合<code>scipy.stats</code>分布并在数据上绘制估计的PDF（概率分布函数）。</p>
<p>参数：<code>a</code>：Series、1维数组或者列表。</p>
<blockquote>
<p>观察数据。如果是具有<code>name</code>属性的Series对象，则该名称将用于标记数据轴。</p>
</blockquote>
<p><code>bins</code>：matplotlib hist()的参数，或None。可选参数。</p>
<blockquote>
<p>直方图bins（柱）的数目，若填None，则默认使用Freedman-Diaconis规则指定柱的数目。</p>
</blockquote>
<p><code>hist</code>：布尔值，可选参数。</p>
<blockquote>
<p>是否绘制（标准化）直方图。</p>
</blockquote>
<p><code>kde</code>：布尔值，可选参数。</p>
<blockquote>
<p>是否绘制高斯核密度估计图。</p>
</blockquote>
<p><code>rug</code>：布尔值，可选参数。</p>
<blockquote>
<p>是否在横轴上绘制观测值竖线。</p>
</blockquote>
<p><code>fit</code>：随机变量对象，可选参数。</p>
<blockquote>
<p>一个带有<em>fit</em>方法的对象，返回一个元组，该元组可以传递给<em>pdf</em>方法一个位置参数，该位置参数遵循一个值的网格用于评估pdf。</p>
</blockquote>
<p><code>{hist, kde, rug, fit}_kws</code>：字典，可选参数。</p>
<blockquote>
<p>底层绘图函数的关键字参数。</p>
</blockquote>
<p><code>color</code>：matplotlib color，可选参数。</p>
<blockquote>
<p>可以绘制除了拟合曲线之外所有内容的颜色。</p>
</blockquote>
<p><code>vertical</code>：布尔值，可选参数。</p>
<blockquote>
<p>如果为True，则观测值在y轴显示。</p>
</blockquote>
<p><code>norm_hist</code>：布尔值，可选参数。</p>
<blockquote>
<p>如果为True，则直方图的高度显示密度而不是计数。如果绘制KDE图或拟合密度，则默认为True。</p>
</blockquote>
<p><code>axlabel</code>：字符串，False或者None，可选参数。</p>
<blockquote>
<p>横轴的名称。如果为None，将尝试从a.name获取它；如果为False，则不设置标签。</p>
</blockquote>
<p><code>label</code>：字符串，可选参数。</p>
<blockquote>
<p>图形相关组成部分的图例标签。</p>
</blockquote>
<p><code>ax</code>：matplotlib axis，可选参数。</p>
<blockquote>
<p>若提供该参数，则在参数设定的轴上绘图。</p>
</blockquote>
<p>返回值：<code>ax</code>：matplotlib Axes</p>
<blockquote>
<p>返回Axes对象以及用于进一步调整的绘图。</p>
</blockquote>
<p><strong>另请参见</strong></p>
<p><code>kdeplot</code></p>
<p>显示具有核密度估计图的单变量或双变量分布。</p>
<p><code>rugplot</code></p>
<p>绘制小的垂直线以显示分布中的每个观测值。</p>
<p><strong>范例</strong></p>
<p>显示具有核密度估计的默认图和使用参考规则自动确定bin大小的直方图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">,</span> numpy <span class="token keyword">as</span> np
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/dfbc2ec93ea21c479448cd2e25976945.jpg" alt=""></p>
<p>使用Pandas对象获取信息轴标签：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>x<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"x variable"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d33f6bf00c0886595c68d970316b0717.jpg" alt=""></p>
<p>使用核密度估计和小的垂直线绘制分布图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> rug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> hist<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/85548cb1190d0ad63fbaf33d0966b16d.jpg" alt=""></p>
<p>使用直方图和最大似然高斯分布拟合绘制分布图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> scipy<span class="token punctuation">.</span>stats <span class="token keyword">import</span> norm
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> fit<span class="token operator">=</span>norm<span class="token punctuation">,</span> kde<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d3a9c4026d4ce70e54b250057cd2062b.jpg" alt=""></p>
<p>在垂直轴上绘制分布图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> vertical<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/0a53d5e52e4ce61295a6c2b5fc4bf6c8.jpg" alt=""></p>
<p>更改所有绘图元素的颜色：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>set_color_codes<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/fac6ba03c6573e299e4eee00c32999fb.jpg" alt=""></p>
<p>将特定参数传递给基础绘图函数：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> rug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> rug_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"color"</span><span class="token punctuation">:</span> <span class="token string">"g"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   kde_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"color"</span><span class="token punctuation">:</span> <span class="token string">"k"</span><span class="token punctuation">,</span> <span class="token string">"lw"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"label"</span><span class="token punctuation">:</span> <span class="token string">"KDE"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   hist_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"histtype"</span><span class="token punctuation">:</span> <span class="token string">"step"</span><span class="token punctuation">,</span> <span class="token string">"linewidth"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                             <span class="token string">"alpha"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"color"</span><span class="token punctuation">:</span> <span class="token string">"g"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/fce8e5a984297be3f6f8b5d4c5369a78.jpg" alt=""></p>
<h1 id="seaborn-kdeplot"><a href="#seaborn-kdeplot" class="headerlink" title="seaborn.kdeplot"></a>seaborn.kdeplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>data<span class="token punctuation">,</span> data2<span class="token operator">=</span>None<span class="token punctuation">,</span> shade<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> vertical<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> kernel<span class="token operator">=</span><span class="token string">'gau'</span><span class="token punctuation">,</span> bw<span class="token operator">=</span><span class="token string">'scott'</span><span class="token punctuation">,</span> gridsize<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> cut<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> clip<span class="token operator">=</span>None<span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> cumulative<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> shade_lowest<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> cbar<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> cbar_ax<span class="token operator">=</span>None<span class="token punctuation">,</span> cbar_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>拟合并绘制单变量或双变量核密度估计图。</p>
<p>参数：<code>data</code>：一维阵列</p>
<blockquote>
<p>输入数据</p>
</blockquote>
<p>**data2：一维阵列，可选。</p>
<blockquote>
<p>第二输入数据。如果存在，将估计双变量KDE。</p>
</blockquote>
<p><code>shade</code>：布尔值，可选参数。</p>
<blockquote>
<p>如果为True，则在KDE曲线下方的区域中增加阴影（或者在数据为双变量时使用填充的轮廓绘制）。</p>
</blockquote>
<p><code>vertical</code>：布尔值，可选参数。</p>
<blockquote>
<p>如果为True，密度图将显示在x轴。</p>
</blockquote>
<p><code>kernel</code>：{‘gau’ | ‘cos’ | ‘biw’ | ‘epa’ | ‘tri’ | ‘triw’ }，可选参数</p>
<blockquote>
<p>要拟合的核的形状代码，双变量KDE只能使用高斯核。</p>
</blockquote>
<p><code>bw</code>：{‘scott’ | ‘silverman’ | scalar | pair of scalars }，可选参数</p>
<blockquote>
<p>用于确定双变量图的每个维的核大小、标量因子或标量的参考方法的名称。需要注意的是底层的计算库对此参数有不同的交互：<code>statsmodels</code>直接使用它，而<code>scipy</code>将其视为数据标准差的缩放因子。</p>
</blockquote>
<p><code>gridsize</code>：整型数据，可选参数。</p>
<blockquote>
<p>评估网格中的离散点数。</p>
</blockquote>
<p><code>cut</code>：标量，可选参数。</p>
<blockquote>
<p>绘制估计值以从极端数据点切割* bw。</p>
</blockquote>
<p><code>clip</code>：一对标量，可选参数。</p>
<blockquote>
<p>用于拟合KDE图的数据点的上下限值。可以为双变量图提供一对（上，下）边界。</p>
</blockquote>
<p><code>legend</code>：布尔值，可选参数。</p>
<blockquote>
<p>如果为True，为绘制的图像添加图例或者标记坐标轴。</p>
</blockquote>
<p><code>cumulative</code>：布尔值，可选参数。</p>
<blockquote>
<p>如果为True，则绘制kde估计图的累积分布。</p>
</blockquote>
<p><code>shade_lowest</code>：布尔值，可选参数。</p>
<blockquote>
<p>如果为True，则屏蔽双变量KDE图的最低轮廓。绘制单变量图或“shade = False”时无影响。当你想要在同一轴上绘制多个密度时，可将此参数设置为“False”。</p>
</blockquote>
<p><code>cbar</code>：布尔值，可选参数。</p>
<blockquote>
<p>如果为True并绘制双变量KDE图，为绘制的图像添加颜色条。</p>
</blockquote>
<p><code>cbar_ax</code>：matplotlib axes，可选参数。</p>
<blockquote>
<p>用于绘制颜色条的坐标轴，若为空，就在主轴绘制颜色条。</p>
</blockquote>
<p><code>cbar_kws</code>：字典，可选参数。</p>
<blockquote>
<p><code>fig.colorbar（）</code>的关键字参数。</p>
</blockquote>
<p><code>ax</code>：matplotlib axes，可选参数。</p>
<blockquote>
<p>要绘图的坐标轴，若为空，则使用当前轴。</p>
</blockquote>
<p><code>kwargs</code>：键值对</p>
<blockquote>
<p>其他传递给<code>plt.plot（）</code>或<code>plt.contour {f}</code>的关键字参数，具体取决于是绘制单变量还是双变量图。</p>
</blockquote>
<p>返回值：<code>ax</code>：matplotlib Axes</p>
<blockquote>
<p>绘图的坐标轴。</p>
</blockquote>
<p><strong>另请参见</strong></p>
<p><code>distplot</code></p>
<p>灵活绘制单变量观测值分布图。</p>
<p><code>jointplot</code></p>
<p>绘制一个具有双变量和边缘分布的联合数据集。</p>
<p>范例</p>
<p>绘制一个简单的单变量分布：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token punctuation">;</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>color_codes<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> mean<span class="token punctuation">,</span> cov <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> x<span class="token punctuation">,</span> y <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>multivariate_normal<span class="token punctuation">(</span>mean<span class="token punctuation">,</span> cov<span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">.</span>T
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/467839dfd41d95bdf1eb6d992d54a81f.jpg" alt=""></p>
<p>在密度曲线下使用不同的颜色着色：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> shade<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"r"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/98bd4d30d5719cd930a50603d08aa30e.jpg" alt=""></p>
<p>绘制一个双变量分布：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/1a4a764cf63a098fe9db3dc317e88058.jpg" alt=""></p>
<p>使用填充轮廓：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> shade<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/566a36de7b39f66e34fa323e7153fa42.jpg" alt=""></p>
<p>使用更多的轮廓级别和不同的调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> n_levels<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">"Purples_d"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/73c68c911f3d8aaf827238e97a8dc560.jpg" alt=""></p>
<p>使用窄带宽：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> bw<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">15</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/cf85bc1dbfbb0399b3008f079b88d570.jpg" alt=""></p>
<p>在纵轴上绘制密度分布：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>y<span class="token punctuation">,</span> vertical<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/62b886998fa52840a228f283aa862506.jpg" alt=""></p>
<p>将密度曲线限制在数据范围内:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> cut<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/1d21f3969de9de67e8acd0e2486c5e04.jpg" alt=""></p>
<p>为轮廓添加一个颜色条:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> cbar<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/341dd0f98ddca59219e6289b038c8784.jpg" alt=""></p>
<p>为双变量密度图绘制两个阴影：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> iris <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"iris"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> setosa <span class="token operator">=</span> iris<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>iris<span class="token punctuation">.</span>species <span class="token operator">==</span> <span class="token string">"setosa"</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> virginica <span class="token operator">=</span> iris<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>iris<span class="token punctuation">.</span>species <span class="token operator">==</span> <span class="token string">"virginica"</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>setosa<span class="token punctuation">.</span>sepal_width<span class="token punctuation">,</span> setosa<span class="token punctuation">.</span>sepal_length<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  cmap<span class="token operator">=</span><span class="token string">"Reds"</span><span class="token punctuation">,</span> shade<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> shade_lowest<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>virginica<span class="token punctuation">.</span>sepal_width<span class="token punctuation">,</span> virginica<span class="token punctuation">.</span>sepal_length<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  cmap<span class="token operator">=</span><span class="token string">"Blues"</span><span class="token punctuation">,</span> shade<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> shade_lowest<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6ffe5e9bcaba45c14f423cae61e6e743.jpg" alt=""></p>
<h1 id="seaborn-rugplot"><a href="#seaborn-rugplot" class="headerlink" title="seaborn.rugplot"></a>seaborn.rugplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>rugplot<span class="token punctuation">(</span>a<span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.05</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token string">'x'</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>将数组中的数据点绘制为轴上的棒状标识。</p>
<p>参数：<code>a</code>：向量</p>
<blockquote>
<p>1维的观察数组。</p>
</blockquote>
<p><code>height</code>：标量, 可选</p>
<blockquote>
<p>以比例形式表示的坐标轴上棒状标识的高度。</p>
</blockquote>
<p><code>axis</code>：{‘x’ | ‘y’}, 可选</p>
<blockquote>
<p>需要画rugplot的坐标轴</p>
</blockquote>
<p><code>ax</code>：matplotlib 轴, 可选</p>
<blockquote>
<p>进行绘制的坐标轴; 未指定的话设定为当前轴。</p>
</blockquote>
<p><code>kwargs</code>：键值对</p>
<blockquote>
<p>被传递给<code>LineCollection</code>的其他关键字参数。</p>
</blockquote>
<p>返回值：<code>ax</code>：matplotlib Axex对象</p>
<blockquote>
<p>在其上进行绘图的Axex对象。</p>
</blockquote>
<h1 id="seaborn-lmplot"><a href="#seaborn-lmplot" class="headerlink" title="seaborn.lmplot"></a>seaborn.lmplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> data<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> col<span class="token operator">=</span>None<span class="token punctuation">,</span> row<span class="token operator">=</span>None<span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> col_wrap<span class="token operator">=</span>None<span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> markers<span class="token operator">=</span><span class="token string">'o'</span><span class="token punctuation">,</span> sharex<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> sharey<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> col_order<span class="token operator">=</span>None<span class="token punctuation">,</span> row_order<span class="token operator">=</span>None<span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> legend_out<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> x_estimator<span class="token operator">=</span>None<span class="token punctuation">,</span> x_bins<span class="token operator">=</span>None<span class="token punctuation">,</span> x_ci<span class="token operator">=</span><span class="token string">'ci'</span><span class="token punctuation">,</span> scatter<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> fit_reg<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token number">95</span><span class="token punctuation">,</span> n_boot<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span> units<span class="token operator">=</span>None<span class="token punctuation">,</span> order<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> logistic<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> lowess<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> robust<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> logx<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> x_partial<span class="token operator">=</span>None<span class="token punctuation">,</span> y_partial<span class="token operator">=</span>None<span class="token punctuation">,</span> truncate<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> x_jitter<span class="token operator">=</span>None<span class="token punctuation">,</span> y_jitter<span class="token operator">=</span>None<span class="token punctuation">,</span> scatter_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> line_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> size<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>在FacetGrid对象上绘制数据和回归模型。</p>
<p>这个函数结合了 <code>regplot()</code> 和 <code>FacetGrid</code>。 它预期作为一个能够将回归模型运用在数据集处于不同条件下的子数据集的方便的接口</p>
<p>在考虑如何将变量分配到不同方面时，一般规则是使用 <code>hue</code> 进行最重要的比较，然后使用 <code>col</code> 和 <code>row</code>。 但是，请始终考虑您的特定数据集以及您正在创建的可视化目标。</p>
<p>估算回归模型有许多互斥的选项。</p>
<p>此函数的参数涵盖了 <code>FacetGrid</code>中的大多数选项，尽管这样，偶尔还是会出现您需要直接使用该类和 <code>regplot()</code> 的情况。</p>
<p>参数：<code>x, y</code>：字符串，可选</p>
<blockquote>
<p>输入变量; 这些应该是<code>data</code>中的列名。</p>
</blockquote>
<p><code>data</code>：DataFrame</p>
<blockquote>
<p>Tidy (“long-form”)格式的DataFrame，其中每列为一个变量，每行为一个观测样本。</p>
</blockquote>
<p><code>hue, col, row</code>：字符串</p>
<blockquote>
<p>定义数据子集的变量，将在网格中的不同构面上绘制。 请参阅<code>* _order</code>参数以控制此变量的级别顺序。</p>
</blockquote>
<p><code>palette</code>： 调色板名称，列表或字典，可选</p>
<blockquote>
<p>用于<code>hue</code>变量的不同级别的颜色。 应该是 <code>color_palette()</code>可以解释的东西，或者是将色调级别映射到matplotlib颜色的字典。</p>
</blockquote>
<p><code>col_wrap</code>：整数，可选</p>
<blockquote>
<p>以此宽度“包裹”列变量，以便列分面（facet）跨越多行。 与<code>row</code> 分面（facet）不兼容。</p>
</blockquote>
<p><code>height</code>： 标量，可选</p>
<blockquote>
<p>每个分面（facet）的高度（以英寸为单位）。 另见：<code>aspect</code>。</p>
</blockquote>
<p><code>aspect</code>：标量，可选</p>
<blockquote>
<p>每个分面（facet）的纵横比，因此<code>aspect * height</code>给出每个分面（facet）的宽度，单位为英寸。</p>
</blockquote>
<p><code>markers</code>：matplotlib标记代码或标记代码列表，可选</p>
<blockquote>
<p>散点图的标记。如果是列表，列表中的每个标记将用于<code>hue</code>变量的每个级别。</p>
</blockquote>
<p><code>share{x,y}</code>：布尔值，‘col’,或 ‘row’ ，可选</p>
<blockquote>
<p>如果为true，则分面（facet）之间将跨列共享y轴和/或跨行共享x轴。</p>
</blockquote>
<p><code>{hue,col,row}_order</code>：列表，可选</p>
<blockquote>
<p>分面变量的级别顺序。在默认情况下，这将是级别在“data”中出现的顺序，或者，如果变量是pandas的分类类别变量，则为类别的顺序。</p>
</blockquote>
<p><code>legend</code>：布尔值，可选</p>
<blockquote>
<p>如果为“True”并且有一个<code>hue</code>变量，则添加一个图例。</p>
</blockquote>
<p><code>legend_out</code>：布尔值，可选</p>
<blockquote>
<p>如果为“True”，图形尺寸将被扩展，图例将被绘制在图像中部右侧之外。</p>
</blockquote>
<p><code>x_estimator</code>：可调用的映射向量-&gt;标量，可选</p>
<blockquote>
<p>将此函数应用于<code>x</code>的每个唯一值并绘制结果的估计值。当<code>x</code>是离散变量时，这是十分有用的。如果给出<code>x_ci</code>，则该估计将被引导并且将绘制置信区间。</p>
</blockquote>
<p><code>x_bins</code>：整数或向量，可选</p>
<blockquote>
<p>将<code>x</code>变量加入离散区间，然后估计中心趋势和置信区间。 此分箱仅影响散点图的绘制方式; 回归仍然适合原始数据。该参数被解释为均匀大小（不必要间隔）的箱的数量或箱中心的位置。使用此参数时，它意味着<code>x_estimator</code>的默认值为<code>numpy.mean</code>。</p>
</blockquote>
<p><code>x_ci</code>：“ci”。“sd”， 在[0,100]间的整数或None，可选</p>
<blockquote>
<p>绘制“x”离散值的集中趋势时使用的置信区间的大小。 如果为<code>“ci”</code>，遵循<code>ci</code>参数的值。 如果是“sd”，则跳过bootstrapping并显示每个bin中观察值的标准偏差。</p>
</blockquote>
<p><code>scatter</code>：布尔值，可选</p>
<blockquote>
<p>如果为 <code>True</code>，则绘制带有基础观测值（或<code>x_estimator</code> 值）的散点图。</p>
</blockquote>
<p><code>fit_reg</code>：布尔值，可选</p>
<blockquote>
<p>如果为 <code>True</code>，则估计并绘制与 <code>x</code> 和 <code>y</code> 变量相关的回归模型。</p>
</blockquote>
<p><code>ci</code>：在[0,100]间的整数或None，可选</p>
<blockquote>
<p>回归估计的置信区间的大小。这将使用回归线周围的半透明带绘制。 使用自助法（bootstrap）估计置信区间; 对于大型数据集，建议通过将此参数设置为None来避免该计算。</p>
</blockquote>
<p><code>n_boot</code>：整数，可选</p>
<blockquote>
<p>用于估计<code>ci</code>的自助法（bootstrap）重采样数。 默认值试图在时间和稳定性之间找到平衡; 你可能希望为“最终”版本的图像增加此值。</p>
</blockquote>
<p><code>units</code>：<code>data</code>中的变量名，可选</p>
<blockquote>
<p>如果<code>x</code>和<code>y</code>观察结果嵌套在采样单元中，则可以在此处指定。在通过对所有的单元和观察样本（在单元内）执行重新采样的多级自助法（multilevel bootstrap）来计算置信区间时将考虑这一点。 否则，这不会影响估计或绘制回归的方式。</p>
</blockquote>
<p><code>order</code>：整数，可选</p>
<blockquote>
<p>如果<code>order</code>大于1，使用<code>numpy.polyfit</code>来估计多项式回归。</p>
</blockquote>
<p><code>logistic</code>：布尔值，可选</p>
<blockquote>
<p>如果为“True”，则假设<code>y</code>是二元变量并使用<code>statsmodels</code>来估计逻辑回归模型。 请注意，这比线性回归的计算密集程度要大得多，因此您可能希望减少引导程序重新采样（<code>n_boot</code>）的数量或将 <code>ci</code>设置为“无”。</p>
</blockquote>
<p><code>lowess</code>：布尔值，可选</p>
<blockquote>
<p>如果为“True”，则使用<code>statsmodels</code>来估计非参数lowess模型（局部加权线性回归）。 请注意，目前无法为此类模型绘制置信区间。</p>
</blockquote>
<p><code>robust</code>：布尔值，可选</p>
<blockquote>
<p>如果为“True”，则使用<code>statsmodels</code>来估计稳健回归。 这将削弱异常值。 请注意，这比标准线性回归的计算密集程度要大得多，因此您可能希望减少引导程序重新采样（<code>n_boot</code>）的数量或将 <code>ci</code>设置为“无”。</p>
</blockquote>
<p><code>logx</code>：布尔值，可选</p>
<blockquote>
<p>如果为 <code>True</code>，则估计形式y~log（x）的线性回归，但在输入空间中绘制散点图和回归模型。 请注意，<code>x</code>必须为正才能正常工作。</p>
</blockquote>
<p><code>{x,y}_partial</code>： <code>data</code>中的字符串或矩阵</p>
<blockquote>
<p>混淆（Confounding）变量以在绘图之前退回<code>x</code>或<code>y</code>变量。</p>
</blockquote>
<p><code>truncate</code>：布尔值，可选</p>
<blockquote>
<p>默认情况下，绘制回归线以在绘制散点图后填充x轴限制。 如果<code>truncate</code>是<code>True</code>，它将改为受到数据本身限制的限制。</p>
</blockquote>
<p><code>{x,y}_jitter</code>：浮点数，可选</p>
<blockquote>
<p>将此大小的均匀随机噪声添加到“x”或“y”变量中。 在拟合回归之后，噪声被添加到数据的副本中，并且仅影响散点图的外观。 在绘制采用离散值的变量时，这会很有用。</p>
</blockquote>
<p><code>{scatter,line}_kws</code>：字典</p>
<blockquote>
<p>传递给<code>plt.scatter</code>和<code>plt.plot</code>的附加关键字参数。</p>
</blockquote>
<p>也可以查看</p>
<p>绘制数据和条件模型fit.Subplot网格用于绘制条件关系。合并 <code>regplot()</code> 和 <code>PairGrid</code> （与<code>kind =“reg”</code>一起使用时）。</p>
<p>注意</p>
<p><code>regplot()</code> 与 <code>lmplot()</code> 函数是紧密关联的，但是前者是一个坐标轴级别的函数，而后者则是一个联合了<code>regplot()</code> 与 <code>FacetGrid</code>的图像级别的函数。</p>
<p>示例</p>
<p>绘制两个变量之间的简单线性关系：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>color_codes<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/86032eef9f0a340dfa9834cee96b10d4.jpg" alt=""></p>
<p>条件在第三个变量上并绘制不同颜色的水平：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ed002aaba578f2b1a6ae8d4677a52900.jpg" alt=""></p>
<p>使用不同的标记和颜色，以便绘图更容易再现为黑白：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                markers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"o"</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/770464118d2458a098652af00c46525a.jpg" alt=""></p>
<p>使用不同的调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                palette<span class="token operator">=</span><span class="token string">"Set1"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a314683a7f14a4e8a552aca52002c9b5.jpg" alt=""></p>
<p>使用字典将<code>hue</code>级别映射到颜色：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                palette<span class="token operator">=</span>dict<span class="token punctuation">(</span>Yes<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">,</span> No<span class="token operator">=</span><span class="token string">"m"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/cc594c98f73700b14c9817d68ebc89c6.jpg" alt=""></p>
<p>绘制不同列中第三个变量的级别：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/3c50ee123e8192e2899983b1be19d34b.jpg" alt=""></p>
<p>更改构面的高度和纵横比：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                data<span class="token operator">=</span>tips<span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">4</span><span class="token punctuation">,</span> x_jitter<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/47ce7b8d629a8d762bea59bc674e5490.jpg" alt=""></p>
<p>将列变量的级别换行为多行：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                data<span class="token operator">=</span>tips<span class="token punctuation">,</span> col_wrap<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/798a1691371e0506570d9f1f72d95fe4.jpg" alt=""></p>
<p>两个变量上的条件形成一个完整的网格：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> row<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                data<span class="token operator">=</span>tips<span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/36048a5d4503fddb7cf3479a473188f2.jpg" alt=""></p>
<p>在返回的 <code>FacetGrid</code> 实例上使用方法来进一步调整图像：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> row<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                data<span class="token operator">=</span>tips<span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> <span class="token punctuation">(</span>g<span class="token punctuation">.</span>set_axis_labels<span class="token punctuation">(</span><span class="token string">"Total bill (US Dollars)"</span><span class="token punctuation">,</span> <span class="token string">"Tip"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>       <span class="token punctuation">.</span>set<span class="token punctuation">(</span>xlim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ylim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>            xticks<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">,</span> yticks<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>       <span class="token punctuation">.</span>fig<span class="token punctuation">.</span>subplots_adjust<span class="token punctuation">(</span>wspace<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">02</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/11fc790735a7bdc59ac4a30d6af7e6d2.jpg" alt=""></p>
<h1 id="seaborn-regplot"><a href="#seaborn-regplot" class="headerlink" title="seaborn.regplot"></a>seaborn.regplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> x_estimator<span class="token operator">=</span>None<span class="token punctuation">,</span> x_bins<span class="token operator">=</span>None<span class="token punctuation">,</span> x_ci<span class="token operator">=</span><span class="token string">'ci'</span><span class="token punctuation">,</span> scatter<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> fit_reg<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token number">95</span><span class="token punctuation">,</span> n_boot<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span> units<span class="token operator">=</span>None<span class="token punctuation">,</span> order<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> logistic<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> lowess<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> robust<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> logx<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> x_partial<span class="token operator">=</span>None<span class="token punctuation">,</span> y_partial<span class="token operator">=</span>None<span class="token punctuation">,</span> truncate<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> dropna<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> x_jitter<span class="token operator">=</span>None<span class="token punctuation">,</span> y_jitter<span class="token operator">=</span>None<span class="token punctuation">,</span> label<span class="token operator">=</span>None<span class="token punctuation">,</span> color<span class="token operator">=</span>None<span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">'o'</span><span class="token punctuation">,</span> scatter_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> line_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>绘制数据和线性回归模型拟合。</p>
<p>估算回归模型有许多互斥的选项。</p>
<p>参数：<strong>x，y：字符串，序列（series）或者是向量数组（vector array）</strong></p>
<blockquote>
<p>输入变量。 如果是字符串，应该与<code>data</code>中的列名相对应。 使用pandas对象时，轴将被Series的名字标记。</p>
</blockquote>
<p><code>data</code>：DataFrame</p>
<blockquote>
<p>Tidy (“long-form”)格式的DataFrame，其中每列为一个变量，每行为一个观测样本。</p>
</blockquote>
<p><code>x_estimator</code>：可调用的映射向量 -&gt;标量，可选</p>
<blockquote>
<p>将此函数应用于<code>x</code>的每个唯一值并绘制结果的估计值。当<code>x</code>是离散变量时，这是十分有用的。如果给出<code>x_ci</code>，则该估计将被引导并且将绘制置信区间。</p>
</blockquote>
<p><code>x_bins</code>：整数或向量，可选</p>
<blockquote>
<p>将<code>x</code>变量加入离散区间，然后估计中心趋势和置信区间。 此分箱仅影响散点图的绘制方式; 回归仍然适合原始数据。该参数被解释为均匀大小（不必要间隔）的箱的数量或箱中心的位置。使用此参数时，它意味着<code>x_estimator</code>的默认值为<code>numpy.mean</code>。</p>
</blockquote>
<p><code>x_ci</code>：”ci”，’sd’，位于 [0, 100]之间的整数或None，可选</p>
<blockquote>
<p>绘制“x”离散值的集中趋势时使用的置信区间的大小。 如果为<code>“ci”</code>，遵循<code>ci</code>参数的值。 如果是“sd”，则跳过bootstrapping并显示每个bin中观察值的标准偏差。</p>
</blockquote>
<p><code>scatter</code>：布尔值，可选</p>
<blockquote>
<p>如果为 <code>True</code>，则绘制带有基础观测值（或<code>x_estimator</code> 值）的散点图。</p>
</blockquote>
<p><code>fit_reg</code>：布尔值，可选</p>
<blockquote>
<p>如果为 <code>True</code>，则估计并绘制与 <code>x</code> 和 <code>y</code> 变量相关的回归模型。</p>
</blockquote>
<p><code>ci</code>：位于 [0, 100]之间的整数或None，可选</p>
<blockquote>
<p>回归估计的置信区间的大小。这将使用回归线周围的半透明带绘制。 使用自助法（bootstrap）估计置信区间; 对于大型数据集，建议通过将此参数设置为None来避免该计算。</p>
</blockquote>
<p><code>n_boot</code>：整数，可选</p>
<blockquote>
<p>用于估计<code>ci</code>的自助法（bootstrap）重采样数。 默认值试图在时间和稳定性之间找到平衡; 你可能希望为“最终”版本的图像增加此值。</p>
</blockquote>
<p><code>units</code>： <code>data</code>,中的变量名，可选</p>
<blockquote>
<p>如果<code>x</code>和<code>y</code>观察结果嵌套在采样单元中，则可以在此处指定。在通过对所有的单元和观察样本（在单元内）执行重新采样的多级自助法（multilevel bootstrap）来计算置信区间时将考虑这一点。 否则，这不会影响估计或绘制回归的方式。</p>
</blockquote>
<p><code>order</code>：整数，可选</p>
<blockquote>
<p>如果<code>order</code>大于1，使用<code>numpy.polyfit</code>来估计多项式回归。</p>
</blockquote>
<p><code>logistic</code>：布尔值，可选</p>
<blockquote>
<p>如果为“True”，则假设<code>y</code>是二元变量并使用<code>statsmodels</code>来估计逻辑回归模型。 请注意，这比线性回归的计算密集程度要大得多，因此您可能希望减少引导程序重新采样（<code>n_boot</code>）的数量或将 <code>ci</code>设置为“无”。</p>
</blockquote>
<p><code>lowess</code>：布尔值，可选</p>
<blockquote>
<p>如果为“True”，则使用<code>statsmodels</code>来估计非参数lowess模型（局部加权线性回归）。 请注意，目前无法为此类模型绘制置信区间。</p>
</blockquote>
<p><code>robust</code>：布尔值，可选</p>
<blockquote>
<p>如果为“True”，则使用<code>statsmodels</code>来估计稳健回归。 这将削弱异常值。 请注意，这比标准线性回归的计算密集程度要大得多，因此您可能希望减少引导程序重新采样（<code>n_boot</code>）的数量或将 <code>ci</code>设置为“无”。</p>
</blockquote>
<p><code>logx</code>：布尔值，可选</p>
<blockquote>
<p>如果为 <code>True</code>，则估计形式y~log（x）的线性回归，但在输入空间中绘制散点图和回归模型。 请注意，<code>x</code>必须为正才能正常工作。</p>
</blockquote>
<p><code>{x,y}_partial</code>： <code>data</code> 中的字符串或矩阵</p>
<blockquote>
<p>混淆（Confounding）变量以在绘图之前退回<code>x</code>或<code>y</code>变量。</p>
</blockquote>
<p><code>truncate</code>：布尔值，可选</p>
<blockquote>
<p>默认情况下，绘制回归线以在绘制散点图后填充x轴限制。 如果<code>truncate</code>是<code>True</code>，它将改为受到数据本身限制的限制。</p>
</blockquote>
<p><code>{x,y}_jitter</code>：浮点数，可选</p>
<blockquote>
<p>将此大小的均匀随机噪声添加到“x”或“y”变量中。 在拟合回归之后，噪声被添加到数据的副本中，并且仅影响散点图的外观。 在绘制采用离散值的变量时，这会很有用。</p>
</blockquote>
<p><code>label</code>：字符串</p>
<blockquote>
<p>要应用于散点图或回归线（如果<code>scatter</code>为’False`）的标签，以便在图例中使用。</p>
</blockquote>
<p><code>color</code>：matplotlib 颜色</p>
<blockquote>
<p>适用于所有绘图元素的颜色; 将被<code>scatter_kws</code>或<code>line_kws</code>中传递的颜色取代。</p>
</blockquote>
<p><code>marker</code>：matplotlib标记代码或标记代码列表，可选</p>
<blockquote>
<p>散点图的标记。</p>
</blockquote>
<p><code>{scatter,line}_kws</code>：字典</p>
<blockquote>
<p>传递给<code>plt.scatter</code>和<code>plt.plot</code>的附加关键字参数。</p>
</blockquote>
<p><code>ax</code>：matplotlib Axes对象，可选</p>
<blockquote>
<p>绘制到指定轴对象，否则在当前轴对象上绘图。</p>
</blockquote>
<p>返回值：<code>ax</code>：matplotlib Axes对象</p>
<blockquote>
<p>包含了图像的Axes对象。</p>
</blockquote>
<p>也可以看看</p>
<p>结合 <code>regplot()</code> 和 <code>FacetGrid</code> 来绘制数据集中的多个线性关系。 结合 <code>regplot()</code> 和 <code>JointGrid</code> （与<code>kind="reg"</code>一起使用时）。结合 <code>regplot()</code> 和 <code>PairGrid</code> （当用于<code>kind =“reg”</code>）。绘制线性回归模型的残差。</p>
<p>注意</p>
<p><code>regplot()</code> 和 <code>lmplot()</code> 函数密切相关，但是前者是坐标轴级别的函数，而后者是结合了<code>regplot()</code> 和 <code>FacetGrid</code>的图像级别的函数。</p>
<p>通过 <code>jointplot()</code> 和 <code>pairplot()</code> 函数来组合 <code>regplot()</code> 和 <code>JointGrid</code> 或 <code>PairGrid</code> 是十分容易的，虽然这些函数不直接接受所有 <code>regplot()</code>的参数。</p>
<p>例子</p>
<p>绘制DataFrame中两个变量之间的关系：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>color_codes<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/99b1873131479cf9f24377991b06cbdb.jpg" alt=""></p>
<p>利用两个定义为numpy数组的变量进行绘图; 使用不同的颜色：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token punctuation">;</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> mean<span class="token punctuation">,</span> cov <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> x<span class="token punctuation">,</span> y <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>multivariate_normal<span class="token punctuation">(</span>mean<span class="token punctuation">,</span> cov<span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">.</span>T
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b6422e805157f85b21973dd3266dcb3f.jpg" alt=""></p>
<p>利用两个定义为pandas Series的变量来进行绘图; 使用不同的标记：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token operator">>></span><span class="token operator">></span> x<span class="token punctuation">,</span> y <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>x<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"x_var"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>y<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"y_var"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">"+"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2749fd423c61cc0419daeeec8d8aa467.jpg" alt=""></p>
<p>使用68％置信区间，该区间对应于估计的标准误差：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token number">68</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/17710001d51c2a58f06feca00a0eaa56.jpg" alt=""></p>
<p>使用离散的<code>x</code>变量进行绘图并添加一些抖动：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> x_jitter<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/823e73942bde25e25637964d2bcd7acf.jpg" alt=""></p>
<p>绘制一个离散的<code>x</code>变量，显示唯一值的均值和置信区间：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  x_estimator<span class="token operator">=</span>np<span class="token punctuation">.</span>mean<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b2bb1b6b97e36328f09b122b92dd52bf.jpg" alt=""></p>
<p>将连续的变量划分为分离的区间并进行绘图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">,</span> x_bins<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/90def53f341cf365a39051cbb1e17f61.jpg" alt=""></p>
<p>拟合高阶多项式回归并截断模型预测：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ans <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"anscombe"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>ans<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>ans<span class="token punctuation">.</span>dataset <span class="token operator">==</span> <span class="token string">"II"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  scatter_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"s"</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  order<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> ci<span class="token operator">=</span>None<span class="token punctuation">,</span> truncate<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/1eb024fe4ee82e1fd71c47c29ebf1856.jpg" alt=""></p>
<p>拟合稳健回归并且不绘制置信区间：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>ans<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>ans<span class="token punctuation">.</span>dataset <span class="token operator">==</span> <span class="token string">"III"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  scatter_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"s"</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  robust<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> ci<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/83369998db2c4eb1e99c856c538f5cb2.jpg" alt=""></p>
<p>对数据运用逻辑回归; 抖动y变量并使用较少的bootstrap迭代：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> tips<span class="token punctuation">[</span><span class="token string">"big_tip"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>tips<span class="token punctuation">.</span>tip <span class="token operator">/</span> tips<span class="token punctuation">.</span>total_bill<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token punctuation">.</span><span class="token number">175</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"big_tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  logistic<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> n_boot<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">,</span> y_jitter<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">03</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b7d4fc0e5dd7fd0d56b558fc3316841a.jpg" alt=""></p>
<p>使用 log(x) 拟合回归模型并截断模型预测：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  x_estimator<span class="token operator">=</span>np<span class="token punctuation">.</span>mean<span class="token punctuation">,</span> logx<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> truncate<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/9c01b014a76320a976b7d86173685435.jpg" alt=""></p>
<h1 id="seaborn-residplot"><a href="#seaborn-residplot" class="headerlink" title="seaborn.residplot"></a>seaborn.residplot</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>residplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> lowess<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> x_partial<span class="token operator">=</span>None<span class="token punctuation">,</span> y_partial<span class="token operator">=</span>None<span class="token punctuation">,</span> order<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> robust<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> dropna<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> label<span class="token operator">=</span>None<span class="token punctuation">,</span> color<span class="token operator">=</span>None<span class="token punctuation">,</span> scatter_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> line_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>绘制线性回归的残差。</p>
<p>此函数将在x上回归y（可能作为鲁棒或多项式回归），然后绘制残差的散点图。 你可以选择将局部加权回归散点平滑法（LOWESS）拟合到残差图，这有助于确定残差是否存在结构。</p>
<p>参数：<code>x</code>： 向量或字符串</p>
<blockquote>
<p>预测变量数据中的数据或列名称。</p>
</blockquote>
<p><code>y</code>：向量或字符串</p>
<blockquote>
<p>响应变量的数据中的数据或列名称。</p>
</blockquote>
<p><code>data</code>：DataFrame, 可选</p>
<blockquote>
<p>如果 <em>x</em> 和 <em>y</em> 是列名，则指定使用的DataFrame</p>
</blockquote>
<p><code>lowess</code>： 布尔值, 可选</p>
<blockquote>
<p>将局部加权回归散点平滑法（LOWESS）应用到残差散点图中。</p>
</blockquote>
<p><code>{x, y}_partial</code>：矩阵或字符串，可选</p>
<blockquote>
<p>具有与x相同的第一维的矩阵或数据中的列名称。这些变量被视为有误的，并在绘制之前从x或y变量中删除。</p>
</blockquote>
<p><code>order</code>：整数，可选</p>
<blockquote>
<p>计算残差时拟合多项式的阶数。</p>
</blockquote>
<p><code>robust</code>：布尔值，可选</p>
<blockquote>
<p>在计算残差时拟合稳健的线性回归。</p>
</blockquote>
<p><code>dropna</code>：布尔值，可选</p>
<blockquote>
<p>如果为True，则在拟合和绘图时忽略缺少的数据。</p>
</blockquote>
<p><code>label</code>：字符串，可选</p>
<blockquote>
<p>将在任何图的图例中使用的标签。</p>
</blockquote>
<p><code>color</code>：matplotlib 颜色，可选</p>
<blockquote>
<p>用于绘图的所有元素的颜色。</p>
</blockquote>
<p><code>{scatter, line}_kws</code>： 字典，可选</p>
<blockquote>
<p>用于绘制图像的组件而传递给 scatter() 和 plot() 的其他关键字参数。</p>
</blockquote>
<p><code>ax</code>：matplotlib轴，可选</p>
<blockquote>
<p>绘制到指定轴对象，否则在当前轴对象上绘图，如果轴不存在则创建一个新轴。</p>
</blockquote>
<p>返回值：ax：matplotlib Axes对象</p>
<blockquote>
<p>带有回归图像的轴对象</p>
</blockquote>
<p>也可以看看</p>
<p><code>regplot</code></p>
<p>绘制一个简单的线性回归模型</p>
<p><code>jointplot</code></p>
<p>边际分布。</p>
<h1 id="seaborn-heatmap"><a href="#seaborn-heatmap" class="headerlink" title="seaborn.heatmap"></a>seaborn.heatmap</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>data<span class="token punctuation">,</span> vmin<span class="token operator">=</span>None<span class="token punctuation">,</span> vmax<span class="token operator">=</span>None<span class="token punctuation">,</span> cmap<span class="token operator">=</span>None<span class="token punctuation">,</span> center<span class="token operator">=</span>None<span class="token punctuation">,</span> robust<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> annot<span class="token operator">=</span>None<span class="token punctuation">,</span> fmt<span class="token operator">=</span><span class="token string">'.2g'</span><span class="token punctuation">,</span> annot_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> linewidths<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> linecolor<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">,</span> cbar<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> cbar_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> cbar_ax<span class="token operator">=</span>None<span class="token punctuation">,</span> square<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> xticklabels<span class="token operator">=</span><span class="token string">'auto'</span><span class="token punctuation">,</span> yticklabels<span class="token operator">=</span><span class="token string">'auto'</span><span class="token punctuation">,</span> mask<span class="token operator">=</span>None<span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>将矩形数据绘制为颜色编码矩阵。</p>
<p>这是一个坐标轴级的函数，如果没有提供给<code>ax</code>参数，它会将热力图绘制到当前活动的轴中。除非<code>cbar</code>为False或为<code>cbar_ax</code>提供单独的Axes，否则将使用此轴空间的一部分绘制颜色图。</p>
<p>参数：<code>data</code>：矩形数据集</p>
<blockquote>
<p>可以强制转换为ndarray格式数据的2维数据集。如果提供了Pandas DataFrame数据，索引/列信息将用于标记列和行。</p>
</blockquote>
<p><code>vmin, vmax</code>：浮点型数据，可选参数。</p>
<blockquote>
<p>用于锚定色彩映射的值，否则它们是从数据和其他关键字参数推断出来的。</p>
</blockquote>
<p><code>cmap</code>：matplotlib 颜色条名称或者对象，或者是颜色列表，可选参数。</p>
<blockquote>
<p>从数据值到颜色空间的映射。 如果没有提供，默认值将取决于是否设置了“center”。</p>
</blockquote>
<p><code>center</code>：浮点数，可选参数。</p>
<blockquote>
<p>绘制有色数据时将色彩映射居中的值。 如果没有指定，则使用此参数将更改默认的<code>cmap</code>。</p>
</blockquote>
<p><code>robust</code>：布尔值，可选参数。</p>
<blockquote>
<p>如果是True，并且<code>vmin</code>或<code>vmax</code>为空，则使用稳健分位数而不是极值来计算色彩映射范围。</p>
</blockquote>
<p><code>annot</code>:布尔值或者矩形数据，可选参数。</p>
<blockquote>
<p>如果为True，则在每个热力图单元格中写入数据值。 如果数组的形状与<code>data</code>相同，则使用它来代替原始数据注释热力图。</p>
</blockquote>
<p><code>fmt</code>：字符串，可选参数。</p>
<blockquote>
<p>添加注释时要使用的字符串格式代码。</p>
</blockquote>
<p><code>annot_kws</code>：字典或者键值对，可选参数。</p>
<blockquote>
<p>当<code>annot</code>为True时，<code>ax.text</code>的关键字参数。</p>
</blockquote>
<p><code>linewidths</code>：浮点数，可选参数。</p>
<blockquote>
<p>划分每个单元格的行的宽度。</p>
</blockquote>
<p><code>linecolor</code>：颜色，可选参数</p>
<blockquote>
<p>划分每个单元的线条的颜色。</p>
</blockquote>
<p><code>cbar</code>：布尔值，可选参数。</p>
<blockquote>
<p>描述是否绘制颜色条。</p>
</blockquote>
<p><code>cbar_kws</code>：字典或者键值对，可选参数。</p>
<blockquote>
<p><em>fig.colorbar</em>的关键字参数。</p>
</blockquote>
<p><code>cbar_ax</code>：matplotlib Axes，可选参数。</p>
<blockquote>
<p>用于绘制颜色条的轴，否则从主轴获取。</p>
</blockquote>
<p><code>square</code>：布尔值，可选参数。</p>
<blockquote>
<p>如果为True，则将坐标轴方向设置为“equal”，以使每个单元格为方形。</p>
</blockquote>
<p><code>xticklabels, yticklabels</code>：“auto”，布尔值，类列表值，或者整形数值，可选参数。</p>
<blockquote>
<p>如果为True，则绘制数据框的列名称。如果为False，则不绘制列名称。如果是列表，则将这些替代标签绘制为xticklabels。如果是整数，则使用列名称，但仅绘制每个n标签。如果是“auto”，将尝试密集绘制不重叠的标签。</p>
</blockquote>
<p><code>mask</code>：布尔数组或者DataFrame数据，可选参数。</p>
<blockquote>
<p>如果为空值，数据将不会显示在<code>mask</code>为True的单元格中。 具有缺失值的单元格将自动被屏蔽。</p>
</blockquote>
<p><code>ax</code>：matplotlib Axes，可选参数。</p>
<blockquote>
<p>绘制图的坐标轴，否则使用当前活动的坐标轴。</p>
</blockquote>
<p><code>kwargs</code>：其他关键字参数。</p>
<blockquote>
<p>所有其他关键字参数都传递给<code>ax.pcolormesh</code>。</p>
</blockquote>
<p>返回值：<code>ax</code>：matplotlib Axes</p>
<blockquote>
<p>热力图的轴对象。</p>
</blockquote>
<p><strong>另请参见</strong></p>
<p><code>clustermap</code></p>
<p>使用分层聚类绘制矩阵以排列行和列。</p>
<p>范例</p>
<p>为numpy数组绘制热力图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token punctuation">;</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> uniform_data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>uniform_data<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2dcc622657bb409719bb9c747e0456c4.jpg" alt=""></p>
<p>更改默认的colormap范围：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>uniform_data<span class="token punctuation">,</span> vmin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> vmax<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6600f3e11ba368f49ec94d562dd39b4a.jpg" alt=""></p>
<p>使用发散色图绘制以0为中心的数据的热力图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> normal_data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>normal_data<span class="token punctuation">,</span> center<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/519a9ac2d3daa6dd6160e4f71bf0e342.jpg" alt=""></p>
<p>使用特定的行和列标签绘制dataframe：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> flights <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"flights"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> flights <span class="token operator">=</span> flights<span class="token punctuation">.</span>pivot<span class="token punctuation">(</span><span class="token string">"month"</span><span class="token punctuation">,</span> <span class="token string">"year"</span><span class="token punctuation">,</span> <span class="token string">"passengers"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>flights<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/dd89a846e99f54ceffc01f58b1545cc1.jpg" alt=""></p>
<p>使用整数格式的数字值注释每个小单元格：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>flights<span class="token punctuation">,</span> annot<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> fmt<span class="token operator">=</span><span class="token string">"d"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/e28bcf9d1f72aedbb18ec128da502f35.jpg" alt=""></p>
<p>在每个单元格之间添加线：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>flights<span class="token punctuation">,</span> linewidths<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/970cf8333ec7a6b8eec115254ad34265.jpg" alt=""></p>
<p>使用不同的colormap：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>flights<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">"YlGnBu"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/e18cb02ed3ad1b91b540951f2912539b.jpg" alt=""></p>
<p>将colormap置于特定值的中心：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>flights<span class="token punctuation">,</span> center<span class="token operator">=</span>flights<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">"January"</span><span class="token punctuation">,</span> <span class="token number">1955</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/cf3d8b2d64f574209d01cfe330f3927b.jpg" alt=""></p>
<p>绘制每个其他列标签，而不绘制行标签：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>data<span class="token punctuation">,</span> xticklabels<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> yticklabels<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a3dadd3fc0e3dcd7aba22164979fb558.jpg" alt=""></p>
<p>不绘制颜色条：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>flights<span class="token punctuation">,</span> cbar<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/be698c1c447b1398ee3d4501aef2415c.jpg" alt=""></p>
<p>在不同的坐标轴方向绘制颜色条：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> grid_kws <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"height_ratios"</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token number">05</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"hspace"</span><span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token number">3</span><span class="token punctuation">}</span>
<span class="token operator">>></span><span class="token operator">></span> f<span class="token punctuation">,</span> <span class="token punctuation">(</span>ax<span class="token punctuation">,</span> cbar_ax<span class="token punctuation">)</span> <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> gridspec_kw<span class="token operator">=</span>grid_kws<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>flights<span class="token punctuation">,</span> ax<span class="token operator">=</span>ax<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  cbar_ax<span class="token operator">=</span>cbar_ax<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  cbar_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"orientation"</span><span class="token punctuation">:</span> <span class="token string">"horizontal"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/be6577fc41adf407960f66d71436521f.jpg" alt=""></p>
<p>使用遮罩绘制矩阵中的一部分</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> corr <span class="token operator">=</span> np<span class="token punctuation">.</span>corrcoef<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> mask <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros_like<span class="token punctuation">(</span>corr<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> mask<span class="token punctuation">[</span>np<span class="token punctuation">.</span>triu_indices_from<span class="token punctuation">(</span>mask<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">with</span> sns<span class="token punctuation">.</span>axes_style<span class="token punctuation">(</span><span class="token string">"white"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>corr<span class="token punctuation">,</span> mask<span class="token operator">=</span>mask<span class="token punctuation">,</span> vmax<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">3</span><span class="token punctuation">,</span> square<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f683b3bba7ec2d231b917ed55aa858d1.jpg" alt=""></p>
<h1 id="seaborn-clustermap"><a href="#seaborn-clustermap" class="headerlink" title="seaborn.clustermap"></a>seaborn.clustermap</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>clustermap<span class="token punctuation">(</span>data<span class="token punctuation">,</span> pivot_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">'average'</span><span class="token punctuation">,</span> metric<span class="token operator">=</span><span class="token string">'euclidean'</span><span class="token punctuation">,</span> z_score<span class="token operator">=</span>None<span class="token punctuation">,</span> standard_scale<span class="token operator">=</span>None<span class="token punctuation">,</span> figsize<span class="token operator">=</span>None<span class="token punctuation">,</span> cbar_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> row_cluster<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> col_cluster<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> row_linkage<span class="token operator">=</span>None<span class="token punctuation">,</span> col_linkage<span class="token operator">=</span>None<span class="token punctuation">,</span> row_colors<span class="token operator">=</span>None<span class="token punctuation">,</span> col_colors<span class="token operator">=</span>None<span class="token punctuation">,</span> mask<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Plot a matrix dataset as a hierarchically-clustered heatmap.</p>
<p>参数：<strong>data：2D array-like</strong></p>
<blockquote>
<p>Rectangular data for clustering. Cannot contain NAs.</p>
</blockquote>
<p><code>pivot_kws</code>：dict, optional</p>
<blockquote>
<p>If <cite>data</cite> is a tidy dataframe, can provide keyword arguments for pivot to create a rectangular dataframe.</p>
</blockquote>
<p><code>method</code>：str, optional</p>
<blockquote>
<p>Linkage method to use for calculating clusters. See scipy.cluster.hierarchy.linkage documentation for more information: <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.cluster.hierarchy.linkage.html" target="_blank" rel="noopener">https://docs.scipy.org/doc/scipy/reference/generated/scipy.cluster.hierarchy.linkage.html</a></p>
</blockquote>
<p><code>metric</code>：str, optional</p>
<blockquote>
<p>Distance metric to use for the data. See scipy.spatial.distance.pdist documentation for more options <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.pdist.html" target="_blank" rel="noopener">https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.pdist.html</a> To use different metrics (or methods) for rows and columns, you may construct each linkage matrix yourself and provide them as {row,col}_linkage.</p>
</blockquote>
<p><code>z_score</code>：int or None, optional</p>
<blockquote>
<p>Either 0 (rows) or 1 (columns). Whether or not to calculate z-scores for the rows or the columns. Z scores are: z = (x - mean)/std, so values in each row (column) will get the mean of the row (column) subtracted, then divided by the standard deviation of the row (column). This ensures that each row (column) has mean of 0 and variance of 1.</p>
</blockquote>
<p><code>standard_scale</code>：int or None, optional</p>
<blockquote>
<p>Either 0 (rows) or 1 (columns). Whether or not to standardize that dimension, meaning for each row or column, subtract the minimum and divide each by its maximum.</p>
</blockquote>
<p><strong>figsize: tuple of two ints, optional</strong></p>
<blockquote>
<p>Size of the figure to create.</p>
</blockquote>
<p><code>cbar_kws</code>：dict, optional</p>
<blockquote>
<p>Keyword arguments to pass to <code>cbar_kws</code> in <code>heatmap</code>, e.g. to add a label to the colorbar.</p>
</blockquote>
<p><code>{row,col}_cluster</code>：bool, optional</p>
<blockquote>
<p>If True, cluster the {rows, columns}.</p>
</blockquote>
<p><code>{row,col}_linkage</code>：numpy.array, optional</p>
<blockquote>
<p>Precomputed linkage matrix for the rows or columns. See scipy.cluster.hierarchy.linkage for specific formats.</p>
</blockquote>
<p><code>{row,col}_colors</code>：list-like or pandas DataFrame/Series, optional</p>
<blockquote>
<p>List of colors to label for either the rows or columns. Useful to evaluate whether samples within a group are clustered together. Can use nested lists or DataFrame for multiple color levels of labeling. If given as a DataFrame or Series, labels for the colors are extracted from the DataFrames column names or from the name of the Series. DataFrame/Series colors are also matched to the data by their index, ensuring colors are drawn in the correct order.</p>
</blockquote>
<p><code>mask</code>：boolean array or DataFrame, optional</p>
<blockquote>
<p>If passed, data will not be shown in cells where <code>mask</code> is True. Cells with missing values are automatically masked. Only used for visualizing, not for calculating.</p>
</blockquote>
<p><code>kwargs</code>：other keyword arguments</p>
<blockquote>
<p>All other keyword arguments are passed to <code>sns.heatmap</code></p>
</blockquote>
<p>返回值：<code>clustergrid</code>：ClusterGrid</p>
<blockquote>
<p>A ClusterGrid instance.</p>
</blockquote>
<p>Notes</p>
<p>The returned object has a <code>savefig</code> method that should be used if you want to save the figure object without clipping the dendrograms.</p>
<p>To access the reordered row indices, use: <code>clustergrid.dendrogram_row.reordered_ind</code></p>
<p>Column indices, use: <code>clustergrid.dendrogram_col.reordered_ind</code></p>
<p>Examples</p>
<p>Plot a clustered heatmap:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>color_codes<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> iris <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"iris"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> species <span class="token operator">=</span> iris<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">"species"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>clustermap<span class="token punctuation">(</span>iris<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a7da372ba56ceec7b8b9e01f418bb1e3.jpg" alt=""></p>
<p>Use a different similarity metric:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>clustermap<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> metric<span class="token operator">=</span><span class="token string">"correlation"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/e102a295ca812e5085369488cedb3dac.jpg" alt=""></p>
<p>Use a different clustering method:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>clustermap<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">"single"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/64c061b1d37ef563dc9827fbb5c671a1.jpg" alt=""></p>
<p>Use a different colormap and ignore outliers in colormap limits:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>clustermap<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">"mako"</span><span class="token punctuation">,</span> robust<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b9161032a5adb7fb6694c185246664aa.jpg" alt=""></p>
<p>Change the size of the figure:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>clustermap<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f7ed7c41c4e6dbed729d2a3ea8e2d0ff.jpg" alt=""></p>
<p>Plot one of the axes in its original organization:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>clustermap<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> col_cluster<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/3acbff477d462457ef54fe167311c30e.jpg" alt=""></p>
<p>Add colored labels:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> lut <span class="token operator">=</span> dict<span class="token punctuation">(</span>zip<span class="token punctuation">(</span>species<span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"rbg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> row_colors <span class="token operator">=</span> species<span class="token punctuation">.</span>map<span class="token punctuation">(</span>lut<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>clustermap<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> row_colors<span class="token operator">=</span>row_colors<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/da7ff8019c2f5f473c8c8958fd395e76.jpg" alt=""></p>
<p>Standardize the data within the columns:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>clustermap<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> standard_scale<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/4c9cb45bac2fd0bc0e8ebf7b6411ecc9.jpg" alt=""></p>
<p>Normalize the data within the rows:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>clustermap<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> z_score<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5e7f4bf9cb93adb18b8275b2e6477182.jpg" alt=""></p>
<h1 id="seaborn-FacetGrid"><a href="#seaborn-FacetGrid" class="headerlink" title="seaborn.FacetGrid"></a>seaborn.FacetGrid</h1><pre class="line-numbers language-python"><code class="language-python">pyclass seaborn<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>data<span class="token punctuation">,</span> row<span class="token operator">=</span>None<span class="token punctuation">,</span> col<span class="token operator">=</span>None<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> col_wrap<span class="token operator">=</span>None<span class="token punctuation">,</span> sharex<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> sharey<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> row_order<span class="token operator">=</span>None<span class="token punctuation">,</span> col_order<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> dropna<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> legend_out<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> despine<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> margin_titles<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> xlim<span class="token operator">=</span>None<span class="token punctuation">,</span> ylim<span class="token operator">=</span>None<span class="token punctuation">,</span> subplot_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> gridspec_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> size<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>用于绘制条件关系的多图网格。</p>
<pre class="line-numbers language-python"><code class="language-python">__init__<span class="token punctuation">(</span>data<span class="token punctuation">,</span> row<span class="token operator">=</span>None<span class="token punctuation">,</span> col<span class="token operator">=</span>None<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> col_wrap<span class="token operator">=</span>None<span class="token punctuation">,</span> sharex<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> sharey<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> row_order<span class="token operator">=</span>None<span class="token punctuation">,</span> col_order<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> dropna<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> legend_out<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> despine<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> margin_titles<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> xlim<span class="token operator">=</span>None<span class="token punctuation">,</span> ylim<span class="token operator">=</span>None<span class="token punctuation">,</span> subplot_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> gridspec_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> size<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>初始化matplotlib画布和FacetGrid对象。</p>
<p>该类将数据集映射到由行和列组成的网格中的多个轴上，这些轴与数据集中变量的级别对应。它产生的图通常被称为“lattice”，“trellis”或“small-multiple”图形。</p>
<p>它还可以用<code>hue</code>参数表示第三个变量的级别，该参数绘制不同颜色的不同数据子集。它使用颜色来解析第三维度上的元素，但是只绘制相互重叠的子集，并且不会像接受“hue”的坐标轴级函数那样为特定的可视化定制“hue”参数。</p>
<p>当使用从数据集推断语义映射的seaborn函数时，必须注意在各个方面之间同步这些映射。在大多数情况下，使用图形级函数（例如<code>relplot()</code>或<code>catplot()</code>）比直接使用<code>FacetGrid</code>更好。</p>
<p>基本工作流程是使用数据集和用于构造网格的变量初始化FacetGrid对象。然后，通过调用<code>FacetGrid.map()</code>或<code>FacetGrid.map_dataframe()</code>，可以将一个或多个绘图函数应用于每个子集。最后，可以使用其他方法调整绘图，以执行更改轴标签、使用不同刻度或添加图例等操作。有关详细信息，请参阅下面的详细代码示例。</p>
<p>参数：<code>data</code>：DataFrame数据。</p>
<blockquote>
<p>整洁的（“长形式”）dataframe数据，其中每一列是一个变量，每一行是一个观察实例。</p>
</blockquote>
<p><code>row, col, hue</code>：字符串。</p>
<blockquote>
<p>定义数据子集的变量，这些变量将在网格的不同方面绘制。请参阅<code>*_order</code>参数以控制此变量的级别顺序。</p>
</blockquote>
<p><code>col_wrap</code>：整形数值，可选参数。</p>
<blockquote>
<p>以此参数值来限制网格的列维度，以便列面跨越多行。与<code>row</code>面不兼容。</p>
</blockquote>
<p><code>share{x,y}</code>：布尔值，’col’ 或 ‘row’可选</p>
<blockquote>
<p>如果为true，则跨列共享y轴或者跨行共享x轴。</p>
</blockquote>
<p><code>height</code>：标量，可选参数。</p>
<blockquote>
<p>每个图片的高度设定（以英寸为单位）。另见：<em>aspect</em></p>
</blockquote>
<p><code>aspect</code>：标量，可选参数。</p>
<blockquote>
<p>每个图片的纵横比，因此aspect * height给出每个图片的宽度，单位为英寸。</p>
</blockquote>
<p><code>palette</code>：调色板名称，列表或字典，可选参数。</p>
<blockquote>
<p>用于色调变量的不同级别的颜色。应为<code>color_palette()</code>可以解释的参数，或者是将色调级别映射到matplotlib颜色的字典。</p>
</blockquote>
<p><code>{row,col,hue}_order</code>：列表，可选参数。</p>
<blockquote>
<p>对所给命令级别进行排序。默认情况下，这将是在数据中显示的级别，或者，如果变量是pandas分类，则为类别顺序。</p>
</blockquote>
<p><code>hue_kws</code>：参数-列表值的映射字典</p>
<blockquote>
<p>插入到绘图调用中的其他关键字参数，使得其他绘图属性在色调变量的级别上有所不同（例如散点图中的标记）。</p>
</blockquote>
<p><code>legend_out</code>：布尔值，可选参数。</p>
<blockquote>
<p>如果为True，则图形尺寸将被扩展，图例将绘制在中间右侧的图形之外。</p>
</blockquote>
<p><code>despine</code>：布尔值，可选参数。</p>
<blockquote>
<p>从图中移除顶部和右侧边缘框架。</p>
</blockquote>
<p><code>margin_titles</code>：布尔值，可选参数。</p>
<blockquote>
<p>如果为True，则行变量的标题将绘制在最后一列的右侧。此选项是实验性的，可能无法在所有情况下使用。</p>
</blockquote>
<p><code>{x, y}lim</code>：元组，可选参数。</p>
<blockquote>
<p>每个图片上每个轴的限制（仅当share {x，y}为True时才相关）。</p>
</blockquote>
<p><code>subplot_kws</code>：字典，可选参数。</p>
<blockquote>
<p>传递给matplotlib subplot（s）方法的关键字参数字典。</p>
</blockquote>
<p><code>gridspec_kws</code>：字典，可选参数。</p>
<blockquote>
<p>传递给matplotlib的<code>gridspec</code>模块（通过<code>plt.subplots</code>）的关键字参数字典。需要matplotlib&gt; = 1.4，如果<code>col_wrap</code>不是<code>None</code>，则忽略它。</p>
</blockquote>
<p><strong>另请参见</strong></p>
<p>用于绘制成对关系的子图网格。</p>
<p><code>relplot</code></p>
<p>结合关系图和<code>FacetGrid</code>。</p>
<p><code>catplot</code></p>
<p>结合分类图和<code>FacetGrid</code>。</p>
<p><code>lmplot</code></p>
<p>结合回归图和<code>FacetGrid</code>。</p>
<p>范例</p>
<p>使用tips数据集初始化2x2网格图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"ticks"</span><span class="token punctuation">,</span> color_codes<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> row<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b8699392ad92687d3ac264d00b00ec9b.jpg" alt=""></p>
<p>在每个子图绘制一个单变量图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>  row<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ee99e47d6e0d2262037bca2e7fdb9772.jpg" alt=""></p>
<p>（注意，没有必要重新捕获返回的变量;它是相同的对象，但在示例中这样做使得处理doctests更加方便）。</p>
<p>将其他关键字参数传递给映射函数：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token operator">>></span><span class="token operator">></span> bins <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>  row<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> bins<span class="token operator">=</span>bins<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"r"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/7bd763d402e774603d6f5e7c48c2369a.jpg" alt=""></p>
<p>在每个子图绘制一个双变量函数：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>  row<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"w"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2aca4924009e92a55bc1579fc086d36c.jpg" alt=""></p>
<p>将其中一个变量分配给绘图元素的颜色：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>  hue<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> <span class="token punctuation">(</span>g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"w"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>       <span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/c53a49f5b838d50776627fc8910138ce.jpg" alt=""></p>
<p>更改每个子图的高度和纵横比：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> bins<span class="token operator">=</span>bins<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ca19289fa3db7f35bf27fa3f09db128e.jpg" alt=""></p>
<p>指定绘图元素的顺序：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> col_order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"Yes"</span><span class="token punctuation">,</span> <span class="token string">"No"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> bins<span class="token operator">=</span>bins<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"m"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d84004bd86dc3645488324a3fbb3b060.jpg" alt=""></p>
<p>使用不同的调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> kws <span class="token operator">=</span> dict<span class="token punctuation">(</span>s<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"w"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set1"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   hue_order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"Dinner"</span><span class="token punctuation">,</span> <span class="token string">"Lunch"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> <span class="token punctuation">(</span>g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> <span class="token operator">**</span>kws<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>      <span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/fe9b97ad8c3e66c3a2514249fcd62ee6.jpg" alt=""></p>
<p>使用字典将色调级别映射到颜色：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> pal <span class="token operator">=</span> dict<span class="token punctuation">(</span>Lunch<span class="token operator">=</span><span class="token string">"seagreen"</span><span class="token punctuation">,</span> Dinner<span class="token operator">=</span><span class="token string">"gray"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> palette<span class="token operator">=</span>pal<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   hue_order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"Dinner"</span><span class="token punctuation">,</span> <span class="token string">"Lunch"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> <span class="token punctuation">(</span>g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> <span class="token operator">**</span>kws<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>      <span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/9299602c8a3b49e2a9095ad9ea69f07f.jpg" alt=""></p>
<p>另外，为色调级别使用不同的标记：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> palette<span class="token operator">=</span>pal<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   hue_order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"Dinner"</span><span class="token punctuation">,</span> <span class="token string">"Lunch"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   hue_kws<span class="token operator">=</span>dict<span class="token punctuation">(</span>marker<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"^"</span><span class="token punctuation">,</span> <span class="token string">"v"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> <span class="token punctuation">(</span>g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> <span class="token operator">**</span>kws<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>      <span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/92494d907a4bd738426ff755349e4992.jpg" alt=""></p>
<p>将包含多个级别的列变量“换行”到行中：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> att <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"attention"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>att<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"subject"</span><span class="token punctuation">,</span> col_wrap<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">,</span> <span class="token string">"solutions"</span><span class="token punctuation">,</span> <span class="token string">"score"</span><span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">"."</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/3a3de5e84041d929dbf5cbade67f93e6.jpg" alt=""></p>
<p>定义一个自定义双变量函数来映射到网格：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> scipy <span class="token keyword">import</span> stats
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">def</span> <span class="token function">qqplot</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     _<span class="token punctuation">,</span> xr <span class="token operator">=</span> stats<span class="token punctuation">.</span>probplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> fit<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     _<span class="token punctuation">,</span> yr <span class="token operator">=</span> stats<span class="token punctuation">.</span>probplot<span class="token punctuation">(</span>y<span class="token punctuation">,</span> fit<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>xr<span class="token punctuation">,</span> yr<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> <span class="token punctuation">(</span>g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>qqplot<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> <span class="token operator">**</span>kws<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>       <span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a84563a49e5578ddeff33795280887f1.jpg" alt=""></p>
<p>定义一个使用<code>DataFrame</code>对象的自定义函数，并接受列名作为位置变量：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token operator">>></span><span class="token operator">></span> df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     columns<span class="token operator">=</span>pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>list<span class="token punctuation">(</span><span class="token string">"ABCD"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"walk"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     index<span class="token operator">=</span>pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">"2015-01-01"</span><span class="token punctuation">,</span> <span class="token string">"2015-03-31"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                         name<span class="token operator">=</span><span class="token string">"date"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> df <span class="token operator">=</span> df<span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>stack<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"val"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">def</span> <span class="token function">dateplot</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>gca<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     data <span class="token operator">=</span> kwargs<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     data<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">,</span> ax<span class="token operator">=</span>ax<span class="token punctuation">,</span> grid<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>df<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"walk"</span><span class="token punctuation">,</span> col_wrap<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">3.5</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map_dataframe<span class="token punctuation">(</span>dateplot<span class="token punctuation">,</span> <span class="token string">"date"</span><span class="token punctuation">,</span> <span class="token string">"val"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2017a8a703bdcc077baea030a758721d.jpg" alt=""></p>
<p>绘图后使用不同的轴标签：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> row<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> <span class="token punctuation">(</span>g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">,</span> <span class="token operator">**</span>kws<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>       <span class="token punctuation">.</span>set_axis_labels<span class="token punctuation">(</span><span class="token string">"Total bill (US Dollars)"</span><span class="token punctuation">,</span> <span class="token string">"Tip"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/52d5efab2c08ec72873b3e66fea66d14.jpg" alt=""></p>
<p>设置每个子图共享的其他属性：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> row<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> <span class="token punctuation">(</span>g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"r"</span><span class="token punctuation">,</span> <span class="token operator">**</span>kws<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>       <span class="token punctuation">.</span>set<span class="token punctuation">(</span>xlim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ylim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>            xticks<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">,</span> yticks<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/308a2f3dd32f77b25254d6650cce7be8.jpg" alt=""></p>
<p>为子图标题使用不同的模板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"size"</span><span class="token punctuation">,</span> col_wrap<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> <span class="token punctuation">(</span>g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> bins<span class="token operator">=</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"c"</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>       <span class="token punctuation">.</span>set_titles<span class="token punctuation">(</span><span class="token string">"{col_name} diners"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b68bba1b9871f75b818870d08a9e3523.jpg" alt=""></p>
<p>收紧每个子图:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"smoker"</span><span class="token punctuation">,</span> row<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   margin_titles<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> <span class="token punctuation">(</span>g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> <span class="token string">"total_bill"</span><span class="token punctuation">,</span> <span class="token string">"tip"</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"m"</span><span class="token punctuation">,</span> <span class="token operator">**</span>kws<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>       <span class="token punctuation">.</span>set<span class="token punctuation">(</span>xlim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ylim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>            xticks<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">,</span> yticks<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>       <span class="token punctuation">.</span>fig<span class="token punctuation">.</span>subplots_adjust<span class="token punctuation">(</span>wspace<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">05</span><span class="token punctuation">,</span> hspace<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">05</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/30bd1c7aa657fabb90851a094c8d0a1e.jpg" alt=""></p>
<p>方法</p>
<p>| <code>__init__</code>(data[, row, col, hue, col_wrap, …]) | 初始化matplotlib画布和FacetGrid对象。 |</p>
<p>| <code>add_legend</code>([legend_data, title, label_order]) | 绘制一个图例，可能将其放在轴外并调整图形大小。|</p>
<p>| <code>despine</code>(**kwargs) | 从子图中移除轴的边缘框架。 |</p>
<p>| <code>facet_axis</code>(row_i, col_j) | 使这些索引识别的轴处于活动状态并返回。 |</p>
<p>| <code>facet_data</code>() | 用于每个子图的名称索引和数据子集的生成器。 |</p>
<p>| <code>map</code>(func, <em>args, *</em>kwargs) | 将绘图功能应用于每个子图的数据子集。 |</p>
<p>| <code>map_dataframe</code>(func, <em>args, *</em>kwargs) | 像<code>.map</code>一样，但是将args作为字符串传递并在kwargs中插入数据。 |</p>
<p>| <code>savefig</code>(<em>args, *</em>kwargs) | 保存图片。 |</p>
<p>| <code>set</code>(**kwargs) | 在每个子图集坐标轴上设置属性。|</p>
<p>| <code>set_axis_labels</code>([x_var, y_var]) | 在网格的左列和底行设置轴标签。 |</p>
<p>| <code>set_titles</code>([template, row_template, …]) | 在每个子图上方或网格边缘绘制标题。 |</p>
<p>| <code>set_xlabels</code>([label]) | 在网格的底行标记x轴。 |</p>
<p>| <code>set_xticklabels</code>([labels, step]) | 在网格的底行设置x轴刻度标签。 |</p>
<p>| <code>set_ylabels</code>([label]) | 在网格的左列标记y轴。 |</p>
<p>| <code>set_yticklabels</code>([labels]) | 在网格的左列上设置y轴刻度标签。 |</p>
<p>属性</p>
<p>| <code>ax</code> | 轻松访问单个坐标轴。 |</p>
<h1 id="seaborn-FacetGrid-map"><a href="#seaborn-FacetGrid-map" class="headerlink" title="seaborn.FacetGrid.map"></a>seaborn.FacetGrid.map</h1><pre class="line-numbers language-python"><code class="language-python">FacetGrid<span class="token punctuation">.</span>map<span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Apply a plotting function to each facet’s subset of the data.</p>
<p>参数：<code>func</code>：callable</p>
<blockquote>
<p>A plotting function that takes data and keyword arguments. It must plot to the currently active matplotlib Axes and take a <cite>color</cite> keyword argument. If faceting on the <cite>hue</cite> dimension, it must also take a <cite>label</cite> keyword argument.</p>
</blockquote>
<p><code>args</code>：strings</p>
<blockquote>
<p>Column names in self.data that identify variables with data to plot. The data for each variable is passed to <cite>func</cite> in the order the variables are specified in the call.</p>
</blockquote>
<p><code>kwargs</code>：keyword arguments</p>
<blockquote>
<p>All keyword arguments are passed to the plotting function.</p>
</blockquote>
<p>返回值：<code>self</code>：object</p>
<blockquote>
<p>Returns self.</p>
</blockquote>
<h1 id="seaborn-FacetGrid-map-dataframe"><a href="#seaborn-FacetGrid-map-dataframe" class="headerlink" title="seaborn.FacetGrid.map_dataframe"></a>seaborn.FacetGrid.map_dataframe</h1><pre class="line-numbers language-python"><code class="language-python">FacetGrid<span class="token punctuation">.</span>map_dataframe<span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Like <code>.map</code> but passes args as strings and inserts data in kwargs.</p>
<p>This method is suitable for plotting with functions that accept a long-form DataFrame as a <cite>data</cite> keyword argument and access the data in that DataFrame using string variable names.</p>
<p>参数：<code>func</code>：callable</p>
<blockquote>
<p>A plotting function that takes data and keyword arguments. Unlike the <cite>map</cite> method, a function used here must “understand” Pandas objects. It also must plot to the currently active matplotlib Axes and take a <cite>color</cite> keyword argument. If faceting on the <cite>hue</cite> dimension, it must also take a <cite>label</cite> keyword argument.</p>
</blockquote>
<p><code>args</code>：strings</p>
<blockquote>
<p>Column names in self.data that identify variables with data to plot. The data for each variable is passed to <cite>func</cite> in the order the variables are specified in the call.</p>
</blockquote>
<p><code>kwargs</code>：keyword arguments</p>
<blockquote>
<p>All keyword arguments are passed to the plotting function.</p>
</blockquote>
<p>返回值：<code>self</code>：object</p>
<blockquote>
<p>Returns self.</p>
</blockquote>
<h1 id="seaborn-PairGrid"><a href="#seaborn-PairGrid" class="headerlink" title="seaborn.PairGrid"></a>seaborn.PairGrid</h1><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">seaborn</span><span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>data<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> vars<span class="token operator">=</span>None<span class="token punctuation">,</span> x_vars<span class="token operator">=</span>None<span class="token punctuation">,</span> y_vars<span class="token operator">=</span>None<span class="token punctuation">,</span> diag_sharey<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">2.5</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> despine<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> dropna<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> size<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Subplot grid for plotting pairwise relationships in a dataset.</p>
<p>This class maps each variable in a dataset onto a column and row in a grid of multiple axes. Different axes-level plotting functions can be used to draw bivariate plots in the upper and lower triangles, and the the marginal distribution of each variable can be shown on the diagonal.</p>
<p>It can also represent an additional level of conditionalization with the <code>hue</code> parameter, which plots different subets of data in different colors. This uses color to resolve elements on a third dimension, but only draws subsets on top of each other and will not tailor the <code>hue</code> parameter for the specific visualization the way that axes-level functions that accept <code>hue</code> will.</p>
<pre class="line-numbers language-python"><code class="language-python">__init__<span class="token punctuation">(</span>data<span class="token punctuation">,</span> hue<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_order<span class="token operator">=</span>None<span class="token punctuation">,</span> palette<span class="token operator">=</span>None<span class="token punctuation">,</span> hue_kws<span class="token operator">=</span>None<span class="token punctuation">,</span> vars<span class="token operator">=</span>None<span class="token punctuation">,</span> x_vars<span class="token operator">=</span>None<span class="token punctuation">,</span> y_vars<span class="token operator">=</span>None<span class="token punctuation">,</span> diag_sharey<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">2.5</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> despine<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> dropna<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> size<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Initialize the plot figure and PairGrid object.</p>
<p>参数：<code>data</code>：DataFrame</p>
<blockquote>
<p>Tidy (long-form) dataframe where each column is a variable and each row is an observation.</p>
</blockquote>
<p><code>hue</code>：string (variable name), optional</p>
<blockquote>
<p>Variable in <code>data</code> to map plot aspects to different colors.</p>
</blockquote>
<p><code>hue_order</code>：list of strings</p>
<blockquote>
<p>Order for the levels of the hue variable in the palette</p>
</blockquote>
<p><code>palette</code>：dict or seaborn color palette</p>
<blockquote>
<p>Set of colors for mapping the <code>hue</code> variable. If a dict, keys should be values in the <code>hue</code> variable.</p>
</blockquote>
<p><code>hue_kws</code>：dictionary of param -&gt; list of values mapping</p>
<blockquote>
<p>Other keyword arguments to insert into the plotting call to let other plot attributes vary across levels of the hue variable (e.g. the markers in a scatterplot).</p>
</blockquote>
<p><code>vars</code>：list of variable names, optional</p>
<blockquote>
<p>Variables within <code>data</code> to use, otherwise use every column with a numeric datatype.</p>
</blockquote>
<p><code>{x, y}_vars</code>：lists of variable names, optional</p>
<blockquote>
<p>Variables within <code>data</code> to use separately for the rows and columns of the figure; i.e. to make a non-square plot.</p>
</blockquote>
<p><code>height</code>：scalar, optional</p>
<blockquote>
<p>Height (in inches) of each facet.</p>
</blockquote>
<p><code>aspect</code>：scalar, optional</p>
<blockquote>
<p>Aspect * height gives the width (in inches) of each facet.</p>
</blockquote>
<p><code>despine</code>：boolean, optional</p>
<blockquote>
<p>Remove the top and right spines from the plots.</p>
</blockquote>
<p><code>dropna</code>：boolean, optional</p>
<blockquote>
<p>Drop missing values from the data before plotting.</p>
</blockquote>
<p>See also</p>
<p>Easily drawing common uses of <code>PairGrid</code>.Subplot grid for plotting conditional relationships.</p>
<p>Examples</p>
<p>Draw a scatterplot for each pairwise relationship:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> iris <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"iris"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>iris<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/34fc6de3cfc117757cc0e5f658a06928.jpg" alt=""></p>
<p>Show a univariate distribution on the diagonal:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>iris<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map_diag<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map_offdiag<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/7e2b84efc57efecba1f8c1bfad570874.jpg" alt=""></p>
<p>(It’s not actually necessary to catch the return value every time, as it is the same object, but it makes it easier to deal with the doctests).</p>
<p>Color the points using a categorical variable:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"species"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map_diag<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map_offdiag<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6df84055fcde05fec3e0b9794967ad71.jpg" alt=""></p>
<p>Use a different style to show multiple histograms:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"species"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map_diag<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">,</span> histtype<span class="token operator">=</span><span class="token string">"step"</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map_offdiag<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/b269cdc188b02e86196c919d1bd87402.jpg" alt=""></p>
<p>Plot a subset of variables</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"sepal_length"</span><span class="token punctuation">,</span> <span class="token string">"sepal_width"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/81ab9afd2faa6448de3c2b5a73ea3320.jpg" alt=""></p>
<p>Pass additional keyword arguments to the functions</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>iris<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map_diag<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"w"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map_offdiag<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"w"</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ff58dc3588f11a9e3f9291926a0c86ff.jpg" alt=""></p>
<p>Use different variables for the rows and columns:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>iris<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  x_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"sepal_length"</span><span class="token punctuation">,</span> <span class="token string">"sepal_width"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  y_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"petal_length"</span><span class="token punctuation">,</span> <span class="token string">"petal_width"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/0d8364e9bb731fa5d89b998087ba0635.jpg" alt=""></p>
<p>Use different functions on the upper and lower triangles:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>iris<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map_upper<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map_lower<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">"Blues_d"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map_diag<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/58e8af844e6f097dc5995d7a2be70b0e.jpg" alt=""></p>
<p>Use different colors and markers for each categorical level:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"species"</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">"Set2"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  hue_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"marker"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"o"</span><span class="token punctuation">,</span> <span class="token string">"s"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>map<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> linewidths<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"w"</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>add_legend<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/c9a2068151affcefc99a7b280ab0a52b.jpg" alt=""></p>
<p>Methods</p>
<p>| <code>__init__</code>(data[, hue, hue_order, palette, …]) | Initialize the plot figure and PairGrid object. || <code>add_legend</code>([legend_data, title, label_order]) | Draw a legend, maybe placing it outside axes and resizing the figure. || <code>map</code>(func, <strong>kwargs) | Plot with the same function in every subplot. || <code>map_diag</code>(func,</strong> kwargs) | Plot with a univariate function on each diagonal subplot. || <code>map_lower</code>(func, <strong>kwargs) | Plot with a bivariate function on the lower diagonal subplots. || <code>map_offdiag</code>(func,</strong> kwargs) | Plot with a bivariate function on the off-diagonal subplots. || <code>map_upper</code>(func, <strong>kwargs) | Plot with a bivariate function on the upper diagonal subplots. || <code>savefig</code>(*args,</strong> kwargs) | Save the figure. || <code>set</code>(**kwargs) | Set attributes on each subplot Axes. |</p>
<h1 id="seaborn-PairGrid-map"><a href="#seaborn-PairGrid-map" class="headerlink" title="seaborn.PairGrid.map"></a>seaborn.PairGrid.map</h1><pre class="line-numbers language-python"><code class="language-python">PairGrid<span class="token punctuation">.</span>map<span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Plot with the same function in every subplot.</p>
<p>参数：<code>func</code>：callable plotting function</p>
<blockquote>
<p>Must take x, y arrays as positional arguments and draw onto the “currently active” matplotlib Axes. Also needs to accept kwargs called <code>color</code> and <code>label</code></p>
</blockquote>
<h1 id="seaborn-PairGrid-map-diag"><a href="#seaborn-PairGrid-map-diag" class="headerlink" title="seaborn.PairGrid.map_diag"></a>seaborn.PairGrid.map_diag</h1><pre class="line-numbers language-python"><code class="language-python">PairGrid<span class="token punctuation">.</span>map_diag<span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Plot with a univariate function on each diagonal subplot.</p>
<p>参数：<code>func</code>：callable plotting function</p>
<blockquote>
<p>Must take an x array as a positional argument and draw onto the “currently active” matplotlib Axes. Also needs to accept kwargs called <code>color</code> and <code>label</code>.</p>
</blockquote>
<h1 id="seaborn-PairGrid-map-offdiag"><a href="#seaborn-PairGrid-map-offdiag" class="headerlink" title="seaborn.PairGrid.map_offdiag"></a>seaborn.PairGrid.map_offdiag</h1><pre class="line-numbers language-python"><code class="language-python">PairGrid<span class="token punctuation">.</span>map_offdiag<span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Plot with a bivariate function on the off-diagonal subplots.</p>
<p>参数：<code>func</code>：callable plotting function</p>
<blockquote>
<p>Must take x, y arrays as positional arguments and draw onto the “currently active” matplotlib Axes. Also needs to accept kwargs called <code>color</code> and <code>label</code>.</p>
</blockquote>
<h1 id="seaborn-PairGrid-map-lower"><a href="#seaborn-PairGrid-map-lower" class="headerlink" title="seaborn.PairGrid.map_lower"></a>seaborn.PairGrid.map_lower</h1><pre class="line-numbers language-python"><code class="language-python">PairGrid<span class="token punctuation">.</span>map_lower<span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Plot with a bivariate function on the lower diagonal subplots.</p>
<p>参数：<code>func</code>：callable plotting function</p>
<blockquote>
<p>Must take x, y arrays as positional arguments and draw onto the “currently active” matplotlib Axes. Also needs to accept kwargs called <code>color</code> and <code>label</code>.</p>
</blockquote>
<h1 id="seaborn-PairGrid-map-upper"><a href="#seaborn-PairGrid-map-upper" class="headerlink" title="seaborn.PairGrid.map_upper"></a>seaborn.PairGrid.map_upper</h1><pre class="line-numbers language-python"><code class="language-python">PairGrid<span class="token punctuation">.</span>map_upper<span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Plot with a bivariate function on the upper diagonal subplots.</p>
<p>参数：<code>func</code>：callable plotting function</p>
<blockquote>
<p>Must take x, y arrays as positional arguments and draw onto the “currently active” matplotlib Axes. Also needs to accept kwargs called <code>color</code> and <code>label</code>.</p>
</blockquote>
<h1 id="seaborn-JointGrid"><a href="#seaborn-JointGrid" class="headerlink" title="seaborn.JointGrid"></a>seaborn.JointGrid</h1><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">seaborn</span><span class="token punctuation">.</span>JointGrid<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> ratio<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> space<span class="token operator">=</span><span class="token number">0.2</span><span class="token punctuation">,</span> dropna<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> xlim<span class="token operator">=</span>None<span class="token punctuation">,</span> ylim<span class="token operator">=</span>None<span class="token punctuation">,</span> size<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Grid for drawing a bivariate plot with marginal univariate plots.</p>
<pre class="line-numbers language-python"><code class="language-python">__init__<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> data<span class="token operator">=</span>None<span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> ratio<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> space<span class="token operator">=</span><span class="token number">0.2</span><span class="token punctuation">,</span> dropna<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> xlim<span class="token operator">=</span>None<span class="token punctuation">,</span> ylim<span class="token operator">=</span>None<span class="token punctuation">,</span> size<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Set up the grid of subplots.</p>
<p>参数：<code>x, y</code>：strings or vectors</p>
<blockquote>
<p>Data or names of variables in <code>data</code>.</p>
</blockquote>
<p><code>data</code>：DataFrame, optional</p>
<blockquote>
<p>DataFrame when <code>x</code> and <code>y</code> are variable names.</p>
</blockquote>
<p><code>height</code>：numeric</p>
<blockquote>
<p>Size of each side of the figure in inches (it will be square).</p>
</blockquote>
<p><code>ratio</code>：numeric</p>
<blockquote>
<p>Ratio of joint axes size to marginal axes height.</p>
</blockquote>
<p><code>space</code>：numeric, optional</p>
<blockquote>
<p>Space between the joint and marginal axes</p>
</blockquote>
<p><code>dropna</code>：bool, optional</p>
<blockquote>
<p>If True, remove observations that are missing from <cite>x</cite> and <cite>y</cite>.</p>
</blockquote>
<p><code>{x, y}lim</code>：two-tuples, optional</p>
<blockquote>
<p>Axis limits to set before plotting.</p>
</blockquote>
<p>See also</p>
<p>High-level interface for drawing bivariate plots with several different default plot kinds.</p>
<p>Examples</p>
<p>Initialize the figure but don’t draw any plots onto it:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"ticks"</span><span class="token punctuation">,</span> color_codes<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>JointGrid<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a0e79dac9add2a97da1c95241a6122ab.jpg" alt=""></p>
<p>Add plots using default parameters:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>JointGrid<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>regplot<span class="token punctuation">,</span> sns<span class="token punctuation">.</span>distplot<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f984c858bd63441ea9761d632cb76d2c.jpg" alt=""></p>
<p>Draw the join and marginal plots separately, which allows finer-level control other parameters:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>JointGrid<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot_joint<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">".5"</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot_marginals<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>distplot<span class="token punctuation">,</span> kde<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">".5"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/3e159b4a38edb79ede76d93a55e2acb9.jpg" alt=""></p>
<p>Draw the two marginal plots separately:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>JointGrid<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot_joint<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"m"</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> _ <span class="token operator">=</span> g<span class="token punctuation">.</span>ax_marg_x<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>tips<span class="token punctuation">[</span><span class="token string">"total_bill"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"b"</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">6</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      bins<span class="token operator">=</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> _ <span class="token operator">=</span> g<span class="token punctuation">.</span>ax_marg_y<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>tips<span class="token punctuation">[</span><span class="token string">"tip"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"r"</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">6</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      orientation<span class="token operator">=</span><span class="token string">"horizontal"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                      bins<span class="token operator">=</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/1db698012d05626321ac93ffb7668a2c.jpg" alt=""></p>
<p>Add an annotation with a statistic summarizing the bivariate relationship:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> scipy <span class="token keyword">import</span> stats
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>JointGrid<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot_joint<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  color<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot_marginals<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>distplot<span class="token punctuation">,</span> kde<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>annotate<span class="token punctuation">(</span>stats<span class="token punctuation">.</span>pearsonr<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/fa99a0a13450712a4f2b13d983b1e766.jpg" alt=""></p>
<p>Use a custom function and formatting for the annotation</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>JointGrid<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot_joint<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                  color<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot_marginals<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>distplot<span class="token punctuation">,</span> kde<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> rsquare <span class="token operator">=</span> <span class="token keyword">lambda</span> a<span class="token punctuation">,</span> b<span class="token punctuation">:</span> stats<span class="token punctuation">.</span>pearsonr<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">**</span> <span class="token number">2</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>annotate<span class="token punctuation">(</span>rsquare<span class="token punctuation">,</span> template<span class="token operator">=</span><span class="token string">"{stat}: {val:.2f}"</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                stat<span class="token operator">=</span><span class="token string">"$R^2$"</span><span class="token punctuation">,</span> loc<span class="token operator">=</span><span class="token string">"upper left"</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/a8307f7ba7809b63c523168fde9e9379.jpg" alt=""></p>
<p>Remove the space between the joint and marginal axes:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>JointGrid<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> space<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot_joint<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">"Blues_d"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot_marginals<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">,</span> shade<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5beaabfceb79e2eef9563fc3044dd5f6.jpg" alt=""></p>
<p>Draw a smaller plot with relatively larger marginal axes:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>JointGrid<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   height<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> ratio<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot_joint<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">"Reds_d"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot_marginals<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"r"</span><span class="token punctuation">,</span> shade<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/bfc4c60af4e09992569375d51943de88.jpg" alt=""></p>
<p>Set limits on the axes:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> sns<span class="token punctuation">.</span>JointGrid<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"tip"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                   xlim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ylim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot_joint<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">"Purples_d"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot_marginals<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"m"</span><span class="token punctuation">,</span> shade<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/3a85305cd59104b4d9403deb570373cc.jpg" alt=""></p>
<p>Methods</p>
<p>| <code>__init__</code>(x, y[, data, height, ratio, space, …]) | Set up the grid of subplots. || <code>annotate</code>(func[, template, stat, loc]) | Annotate the plot with a statistic about the relationship. || <code>plot</code>(joint_func, marginal_func[, annot_func]) | Shortcut to draw the full plot. || <code>plot_joint</code>(func, <strong>kwargs) | Draw a bivariate plot of <cite>x</cite> and <cite>y</cite>. || <code>plot_marginals</code>(func,</strong> kwargs) | Draw univariate plots for <cite>x</cite> and <cite>y</cite> separately. || <code>savefig</code>(<em>args, *</em>kwargs) | Wrap figure.savefig defaulting to tight bounding box. || <code>set_axis_labels</code>([xlabel, ylabel]) | Set the axis labels on the bivariate axes. |</p>
<h1 id="seaborn-JointGrid-plot"><a href="#seaborn-JointGrid-plot" class="headerlink" title="seaborn.JointGrid.plot"></a>seaborn.JointGrid.plot</h1><pre class="line-numbers language-python"><code class="language-python">JointGrid<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>joint_func<span class="token punctuation">,</span> marginal_func<span class="token punctuation">,</span> annot_func<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Shortcut to draw the full plot.</p>
<p>Use <cite>plot_joint</cite> and <cite>plot_marginals</cite> directly for more control.</p>
<p>参数：<strong>joint_func, marginal_func：callables</strong></p>
<blockquote>
<p>Functions to draw the bivariate and univariate plots.</p>
</blockquote>
<p>返回值：<code>self</code>：JointGrid instance</p>
<h1 id="seaborn-JointGrid-plot-joint"><a href="#seaborn-JointGrid-plot-joint" class="headerlink" title="seaborn.JointGrid.plot_joint"></a>seaborn.JointGrid.plot_joint</h1><pre class="line-numbers language-python"><code class="language-python">JointGrid<span class="token punctuation">.</span>plot_joint<span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Draw a bivariate plot of <cite>x</cite> and <cite>y</cite>.</p>
<p>参数：<code>func</code>：plotting callable</p>
<blockquote>
<p>This must take two 1d arrays of data as the first two positional arguments, and it must plot on the “current” axes.</p>
</blockquote>
<p><code>kwargs</code>：key, value mappings</p>
<blockquote>
<p>Keyword argument are passed to the plotting function.</p>
</blockquote>
<p>返回值：<code>self</code>：JointGrid instance</p>
<h1 id="seaborn-JointGrid-plot-marginals"><a href="#seaborn-JointGrid-plot-marginals" class="headerlink" title="seaborn.JointGrid.plot_marginals"></a>seaborn.JointGrid.plot_marginals</h1><pre class="line-numbers language-python"><code class="language-python">JointGrid<span class="token punctuation">.</span>plot_marginals<span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Draw univariate plots for <cite>x</cite> and <cite>y</cite> separately.</p>
<p>参数：<code>func</code>：plotting callable</p>
<blockquote>
<p>This must take a 1d array of data as the first positional argument, it must plot on the “current” axes, and it must accept a “vertical” keyword argument to orient the measure dimension of the plot vertically.</p>
</blockquote>
<p><code>kwargs</code>：key, value mappings</p>
<blockquote>
<p>Keyword argument are passed to the plotting function.</p>
</blockquote>
<p>返回值：<code>self</code>：JointGrid instance</p>
<blockquote>
<p>Returns <cite>self</cite>.</p>
</blockquote>
<h1 id="seaborn-set"><a href="#seaborn-set" class="headerlink" title="seaborn.set"></a>seaborn.set</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>set<span class="token punctuation">(</span>context<span class="token operator">=</span><span class="token string">'notebook'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'darkgrid'</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">'deep'</span><span class="token punctuation">,</span> font<span class="token operator">=</span><span class="token string">'sans-serif'</span><span class="token punctuation">,</span> font_scale<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> color_codes<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> rc<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Set aesthetic parameters in one step.</p>
<p>Each set of parameters can be set directly or temporarily, see the referenced functions below for more information.</p>
<p>参数：<code>context</code>：string or dict</p>
<blockquote>
<p>Plotting context parameters, see <code>plotting_context()</code></p>
</blockquote>
<p><code>style</code>：string or dict</p>
<blockquote>
<p>Axes style parameters, see <code>axes_style()</code></p>
</blockquote>
<p><code>palette</code>：string or sequence</p>
<blockquote>
<p>Color palette, see <code>color_palette()</code></p>
</blockquote>
<p><code>font</code>：string</p>
<blockquote>
<p>Font family, see matplotlib font manager.</p>
</blockquote>
<p><code>font_scale</code>：float, optional</p>
<blockquote>
<p>Separate scaling factor to independently scale the size of the font elements.</p>
</blockquote>
<p><code>color_codes</code>：bool</p>
<blockquote>
<p>If <code>True</code> and <code>palette</code> is a seaborn palette, remap the shorthand color codes (e.g. “b”, “g”, “r”, etc.) to the colors from this palette.</p>
</blockquote>
<p><code>rc</code>：dict or None</p>
<blockquote>
<p>Dictionary of rc parameter mappings to override the above.</p>
</blockquote>
<h1 id="seaborn-axes-style"><a href="#seaborn-axes-style" class="headerlink" title="seaborn.axes_style"></a>seaborn.axes_style</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>axes_style<span class="token punctuation">(</span>style<span class="token operator">=</span>None<span class="token punctuation">,</span> rc<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Return a parameter dict for the aesthetic style of the plots.</p>
<p>This affects things like the color of the axes, whether a grid is enabled by default, and other aesthetic elements.</p>
<p>This function returns an object that can be used in a <code>with</code> statement to temporarily change the style parameters.</p>
<p>参数：<code>style</code>：dict, None, or one of {darkgrid, whitegrid, dark, white, ticks}</p>
<blockquote>
<p>A dictionary of parameters or the name of a preconfigured set.</p>
</blockquote>
<p><code>rc</code>：dict, optional</p>
<blockquote>
<p>Parameter mappings to override the values in the preset seaborn style dictionaries. This only updates parameters that are considered part of the style definition.</p>
</blockquote>
<p>See also</p>
<p>set the matplotlib parameters for a seaborn themereturn a parameter dict to to scale plot elementsdefine the color palette for a plot</p>
<p>Examples</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> st <span class="token operator">=</span> axes_style<span class="token punctuation">(</span><span class="token string">"whitegrid"</span><span class="token punctuation">)</span>

<span class="token operator">>></span><span class="token operator">></span> set_style<span class="token punctuation">(</span><span class="token string">"ticks"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">"xtick.major.size"</span><span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">"ytick.major.size"</span><span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">with</span> axes_style<span class="token punctuation">(</span><span class="token string">"white"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     f<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     ax<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="seaborn-set-style"><a href="#seaborn-set-style" class="headerlink" title="seaborn.set_style"></a>seaborn.set_style</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>set_style<span class="token punctuation">(</span>style<span class="token operator">=</span>None<span class="token punctuation">,</span> rc<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Set the aesthetic style of the plots.</p>
<p>This affects things like the color of the axes, whether a grid is enabled by default, and other aesthetic elements.</p>
<p>参数：<code>style</code>：dict, None, or one of {darkgrid, whitegrid, dark, white, ticks}</p>
<blockquote>
<p>A dictionary of parameters or the name of a preconfigured set.</p>
</blockquote>
<p><code>rc</code>：dict, optional</p>
<blockquote>
<p>Parameter mappings to override the values in the preset seaborn style dictionaries. This only updates parameters that are considered part of the style definition.</p>
</blockquote>
<p>See also</p>
<p>return a dict of parameters or use in a <code>with</code> statement to temporarily set the style.set parameters to scale plot elementsset the default color palette for figures</p>
<p>Examples</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> set_style<span class="token punctuation">(</span><span class="token string">"whitegrid"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> set_style<span class="token punctuation">(</span><span class="token string">"ticks"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">"xtick.major.size"</span><span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">"ytick.major.size"</span><span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h1 id="seaborn-plotting-context"><a href="#seaborn-plotting-context" class="headerlink" title="seaborn.plotting_context"></a>seaborn.plotting_context</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>plotting_context<span class="token punctuation">(</span>context<span class="token operator">=</span>None<span class="token punctuation">,</span> font_scale<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> rc<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Return a parameter dict to scale elements of the figure.</p>
<p>This affects things like the size of the labels, lines, and other elements of the plot, but not the overall style. The base context is “notebook”, and the other contexts are “paper”, “talk”, and “poster”, which are version of the notebook parameters scaled by .8, 1.3, and 1.6, respectively.</p>
<p>This function returns an object that can be used in a <code>with</code> statement to temporarily change the context parameters.</p>
<p>参数：<code>context</code>：dict, None, or one of {paper, notebook, talk, poster}</p>
<blockquote>
<p>A dictionary of parameters or the name of a preconfigured set.</p>
</blockquote>
<p><code>font_scale</code>：float, optional</p>
<blockquote>
<p>Separate scaling factor to independently scale the size of the font elements.</p>
</blockquote>
<p><code>rc</code>：dict, optional</p>
<blockquote>
<p>Parameter mappings to override the values in the preset seaborn context dictionaries. This only updates parameters that are considered part of the context definition.</p>
</blockquote>
<p>See also</p>
<p>set the matplotlib parameters to scale plot elementsreturn a dict of parameters defining a figure styledefine the color palette for a plot</p>
<p>Examples</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> c <span class="token operator">=</span> plotting_context<span class="token punctuation">(</span><span class="token string">"poster"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> c <span class="token operator">=</span> plotting_context<span class="token punctuation">(</span><span class="token string">"notebook"</span><span class="token punctuation">,</span> font_scale<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> c <span class="token operator">=</span> plotting_context<span class="token punctuation">(</span><span class="token string">"talk"</span><span class="token punctuation">,</span> rc<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"lines.linewidth"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">with</span> plotting_context<span class="token punctuation">(</span><span class="token string">"paper"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     f<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     ax<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="seaborn-set-context"><a href="#seaborn-set-context" class="headerlink" title="seaborn.set_context"></a>seaborn.set_context</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>set_context<span class="token punctuation">(</span>context<span class="token operator">=</span>None<span class="token punctuation">,</span> font_scale<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> rc<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Set the plotting context parameters.</p>
<p>This affects things like the size of the labels, lines, and other elements of the plot, but not the overall style. The base context is “notebook”, and the other contexts are “paper”, “talk”, and “poster”, which are version of the notebook parameters scaled by .8, 1.3, and 1.6, respectively.</p>
<p>参数：<code>context</code>：dict, None, or one of {paper, notebook, talk, poster}</p>
<blockquote>
<p>A dictionary of parameters or the name of a preconfigured set.</p>
</blockquote>
<p><code>font_scale</code>：float, optional</p>
<blockquote>
<p>Separate scaling factor to independently scale the size of the font elements.</p>
</blockquote>
<p><code>rc</code>：dict, optional</p>
<blockquote>
<p>Parameter mappings to override the values in the preset seaborn context dictionaries. This only updates parameters that are considered part of the context definition.</p>
</blockquote>
<p>See also</p>
<p>return a dictionary of rc parameters, or use in a <code>with</code> statement to temporarily set the context.set the default parameters for figure styleset the default color palette for figures</p>
<p>Examples</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> set_context<span class="token punctuation">(</span><span class="token string">"paper"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> set_context<span class="token punctuation">(</span><span class="token string">"talk"</span><span class="token punctuation">,</span> font_scale<span class="token operator">=</span><span class="token number">1.4</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> set_context<span class="token punctuation">(</span><span class="token string">"talk"</span><span class="token punctuation">,</span> rc<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"lines.linewidth"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h1 id="seaborn-set-color-codes"><a href="#seaborn-set-color-codes" class="headerlink" title="seaborn.set_color_codes"></a>seaborn.set_color_codes</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>set_color_codes<span class="token punctuation">(</span>palette<span class="token operator">=</span><span class="token string">'deep'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Change how matplotlib color shorthands are interpreted.</p>
<p>Calling this will change how shorthand codes like “b” or “g” are interpreted by matplotlib in subsequent plots.</p>
<p>参数：<code>palette</code>：{deep, muted, pastel, dark, bright, colorblind}</p>
<blockquote>
<p>Named seaborn palette to use as the source of colors.</p>
</blockquote>
<p>See also</p>
<p>Color codes can be set through the high-level seaborn style manager.Color codes can also be set through the function that sets the matplotlib color cycle.</p>
<p>Examples</p>
<p>Map matplotlib color codes to the default seaborn palette.</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>set_color_codes<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> _ <span class="token operator">=</span> plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"r"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f7331a33eaedf9eae59191642f7a64e4.jpg" alt=""></p>
<p>Use a different seaborn palette.</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>set_color_codes<span class="token punctuation">(</span><span class="token string">"dark"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> _ <span class="token operator">=</span> plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> _ <span class="token operator">=</span> plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"m"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/35544ecf6de962c91ab860527035f39f.jpg" alt=""></p>
<h1 id="seaborn-reset-defaults"><a href="#seaborn-reset-defaults" class="headerlink" title="seaborn.reset_defaults"></a>seaborn.reset_defaults</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>reset_defaults<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Restore all RC params to default settings.</p>
<h1 id="seaborn-reset-orig"><a href="#seaborn-reset-orig" class="headerlink" title="seaborn.reset_orig"></a>seaborn.reset_orig</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>reset_orig<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Restore all RC params to original settings (respects custom rc).</p>
<h1 id="seaborn-set-palette"><a href="#seaborn-set-palette" class="headerlink" title="seaborn.set_palette"></a>seaborn.set_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>set_palette<span class="token punctuation">(</span>palette<span class="token punctuation">,</span> n_colors<span class="token operator">=</span>None<span class="token punctuation">,</span> desat<span class="token operator">=</span>None<span class="token punctuation">,</span> color_codes<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>通过searborn调色板设置matplotlib色彩循环</p>
<p>参数：<code>palette</code>：seaborn color paltte | matplotlib colormap | hls | husl</p>
<blockquote>
<p>调色板参数。 应该可以被 <code>color_palette()</code> 函数处理。</p>
</blockquote>
<p><code>n_colors</code>：int</p>
<blockquote>
<p>色彩循环中的颜色数量。默认数量与<code>palette</code>模式有关, 查看<code>color_palette()</code>文档了解更多内容。</p>
</blockquote>
<p><code>desat</code>：float</p>
<blockquote>
<p>每种颜色去饱和的比例。</p>
</blockquote>
<p><code>color_codes</code>：bool</p>
<blockquote>
<p>如果为<code>True</code>，并且<code>palette</code>是seaborn调色板, 则将颜色代码简写 (例如“b”, “g”, “r”等等)映射到当前调色板上。</p>
</blockquote>
<p>另外</p>
<p>在<code>with</code>语句中临时设置调色板或色彩循环。设置参数以调整绘图元素的默认参数。</p>
<p>例子</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> set_palette<span class="token punctuation">(</span><span class="token string">"Reds"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> set_palette<span class="token punctuation">(</span><span class="token string">"Set1"</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token number">75</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h1 id="seaborn-color-palette"><a href="#seaborn-color-palette" class="headerlink" title="seaborn.color_palette"></a>seaborn.color_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span>palette<span class="token operator">=</span>None<span class="token punctuation">,</span> n_colors<span class="token operator">=</span>None<span class="token punctuation">,</span> desat<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>返回一个颜色列表来定义一个调色板。</p>
<pre><code>Available seaborn palette names:</code></pre><p>有 deep, muted, bright, pastel, dark, colorblind 六种颜色模式</p>
<pre><code>Other options:</code></pre><p>matplotlib Colormap 的名字、‘ch:’, ‘hls’, ‘husl’，或任一 matplotlib 接受的不同格式颜色列表。</p>
<p>调用此函数并设置 <code>palette=None</code> 会返回当前 matplotlib 色彩循环。</p>
<p>matplotlib 调色板的顺序可以通过在调色板名称后添加 “_r” 来倒置，同样，添加 “_d” 可以将调色板设置为深色模式。（这些选项为互斥属性，返回的颜色列表同样可以被取反）</p>
<p>可以在 <code>with</code> 语句中使用此函数来为一个或多个点临时改变调色板。</p>
<p>参数：<strong>palette：None, string, or sequence, optional</strong></p>
<blockquote>
<p>调色板或者 None 值来返回给当前调色板。如果是序列，输入颜色会被使用，可能会被循环化并降低饱和度。</p>
</blockquote>
<p><code>n_colors</code>：int, 可选</p>
<blockquote>
<p>调色板中的颜色数。如果为 None，则默认值将取决于调色板的指定方式。已命名调色板默认有 6 种颜色，抓取当前调色板或传递颜色列表不会更改颜色数，除非作出指定。要求比调色板中存在的颜色更多的颜色会导致调色板循环化。</p>
</blockquote>
<p><code>desat</code>：float, 可选</p>
<blockquote>
<p>每种颜色的去饱和比例。</p>
</blockquote>
<p>返回值：<code>palette</code>：RGB 元组序列。</p>
<blockquote>
<p>调色板。操作类似于列表，但可以用作上下文管理器，并具有转换为十六进制颜色代码的 <code>as_hex</code> 方法。</p>
</blockquote>
<p>另外</p>
<p>设置所有的默认颜色循环。重新分配颜色代码，如 “b”、“g” 等。从seaborn 调色板中选择颜色。</p>
<p>例子</p>
<p>不带参数的调用将返回当前默认颜色循环中的所有颜色：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/9a5bb2b7fbd94af1db1d911dfbec1f7c-16308473598621.jpg" alt=""></p>
<p>显示另一个 “seaborn 调色板”，具有与默认 matplotlib 颜色循环相同的基本色调顺序，但颜色更吸引人。默认情况下，使用调色板名称进行调用将返回6种颜色：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"muted"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f675cc14d11fb5585e5b1829cb29b569-16308473598623.jpg" alt=""></p>
<p>使用一个内置 matplotlib clolormap 的离散值：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"RdBu"</span><span class="token punctuation">,</span> n_colors<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/0aa3ba1dbc0e103e4d7b96c4de278ec9-16308473598625.jpg" alt=""></p>
<p>创建自定义 cubehelix 调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"ch:2.5,-.2,dark=.3"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6e3b5f94591e119cae1ead4b24d26c9e-16308473598627.jpg" alt=""></p>
<p>使用一个明确的 matplotlib 调色板并降低一些饱和度：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"Set1"</span><span class="token punctuation">,</span> n_colors<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">,</span> desat<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ce60a356e2dcd3cbe9cc67f1128c09c7-16308473598639.jpg" alt=""></p>
<p>创建 “dark”（深色）matplotlib 顺序调色板变体。(当对应于有序变量的多条线或点进行着色时，如果您不希望最轻的线不可见，则可以使用此选项)：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"Blues_d"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/fcc8ab8bf79674eb14cd31eead15dfd1-163084735986311.jpg" alt=""></p>
<p>作为上下文管理器使用：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token punctuation">,</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">with</span> sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"husl"</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    _ <span class="token operator">=</span> plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>np<span class="token punctuation">.</span>c_<span class="token punctuation">[</span>np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>T<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5900496ed8560e0dbee0628adb29f5e9-163084735986313.jpg" alt=""></p>
<h1 id="seaborn-husl-palette"><a href="#seaborn-husl-palette" class="headerlink" title="seaborn.husl_palette"></a>seaborn.husl_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>husl_palette<span class="token punctuation">(</span>n_colors<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> h<span class="token operator">=</span><span class="token number">0.01</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span> l<span class="token operator">=</span><span class="token number">0.65</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>在 HUSL 色调空间中获得一组均匀间隔的颜色。</p>
<p>h, s, 和 l 值应该在 0 和 1 之间。</p>
<p>参数：<code>n_colors</code>：int</p>
<blockquote>
<p>调色板中的颜色数</p>
</blockquote>
<p><code>h</code>：float</p>
<blockquote>
<p>第一个色调</p>
</blockquote>
<p><code>s</code>：float</p>
<blockquote>
<p>饱和度</p>
</blockquote>
<p><code>l</code>：float</p>
<blockquote>
<p>亮度</p>
</blockquote>
<p>返回值：<code>palette</code>：seaborn 调色板</p>
<blockquote>
<p>类似列表的颜色对象的 RGB 元组。</p>
</blockquote>
<p>另外</p>
<p>在 HSL 系统中使用等间距圆形色调创建一个调色板。</p>
<p>例子</p>
<p>使用默认参数创建一个有 10 种颜色的调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>husl_palette<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6c7a1ce9ff5aa3607ad3bf275bd012fc-163084747791915.jpg" alt=""></p>
<p>创建一个以不同色调值开头的 10 种颜色的调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>husl_palette<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> h<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/e576eaf00adad68b231a4c2b8845d6e0-163084747792017.jpg" alt=""></p>
<p>创建一个比默认颜色更暗的 10 种颜色的调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>husl_palette<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> l<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/752dc56ea71ef769a622efe0d5ea1b56-163084747792019.jpg" alt=""></p>
<p>创建 10 种颜色的调色板，其饱和度低于默认值：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>husl_palette<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/47c55edddae366e8d447c323d69b197f-163084747792021.jpg" alt=""></p>
<h1 id="seaborn-hls-palette"><a href="#seaborn-hls-palette" class="headerlink" title="seaborn.hls_palette"></a>seaborn.hls_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>hls_palette<span class="token punctuation">(</span>n_colors<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> h<span class="token operator">=</span><span class="token number">0.01</span><span class="token punctuation">,</span> l<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">0.65</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>在 HLS 色调空间中获取一组均匀间隔的颜色。</p>
<p>h, s, 和 l 值应该在 0 和 1 之间。</p>
<p>参数：<code>n_colors</code>：int</p>
<blockquote>
<p>调色板中的颜色数</p>
</blockquote>
<p><code>h</code>：float</p>
<blockquote>
<p>第一个色调</p>
</blockquote>
<p><code>l</code>：float</p>
<blockquote>
<p>亮度</p>
</blockquote>
<p><code>s</code>：float</p>
<blockquote>
<p>饱和度</p>
</blockquote>
<p>返回值：<code>palette</code>：seaborn 调色板</p>
<blockquote>
<p>类似列表的颜色对象的 RGB 元组。</p>
</blockquote>
<p>另外</p>
<p>在 HUSL 系统中使用等间距圆形色调创建一个调色板。</p>
<p>例子</p>
<p>使用默认参数创建一个有 10 种颜色的调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>hls_palette<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/5147a9e7a6cd2453c2e80dd967724f7e-163084752319823.jpg" alt=""></p>
<p>创建一个以不同色调值开头的 10 种颜色的调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>hls_palette<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> h<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/077b00661754439549e60127485a6a4a-163084752319825.jpg" alt=""></p>
<p>创建一个比默认颜色更暗的 10 种颜色的调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>hls_palette<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> l<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/fdcac2831e87bea8b0a208095eb15adc-163084752319827.jpg" alt=""></p>
<p>创建 10 种颜色的调色板，其饱和度低于默认值：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>hls_palette<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/98715db5f9ee15781a7c49624ec8dafc-163084752319929.jpg" alt=""></p>
<h1 id="seaborn-cubehelix-palette"><a href="#seaborn-cubehelix-palette" class="headerlink" title="seaborn.cubehelix_palette"></a>seaborn.cubehelix_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span>n_colors<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> start<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> rot<span class="token operator">=</span><span class="token number">0.4</span><span class="token punctuation">,</span> gamma<span class="token operator">=</span><span class="token number">1.0</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> light<span class="token operator">=</span><span class="token number">0.85</span><span class="token punctuation">,</span> dark<span class="token operator">=</span><span class="token number">0.15</span><span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>用 cubehelix 系统制作顺序调色板。</p>
<p>生成亮度呈线性减小(或增大)的 colormap。这意味着 colormap在转换为黑白模式时(用于打印)的信息将得到保留，且对色盲友好。“cubehelix” 也可以作为基于 matplotlib 的调色板使用，但此函数使用户可以更好地控制调色板的外观，并且具有一组不同的默认值。</p>
<p>除了使用这个函数，还可以在 seaborn 中使用字符串速记生成 cubehelix 调色板。 请参见下面的示例。</p>
<p>参数：<code>n_colors</code>：int</p>
<blockquote>
<p>调色板中的颜色数。</p>
</blockquote>
<p><code>start</code>：float, 0 &lt;= start &lt;= 3</p>
<blockquote>
<p>第一个色调。</p>
</blockquote>
<p><code>rot</code>：float</p>
<blockquote>
<p>围绕调色板范围内的色相控制盘旋转。</p>
</blockquote>
<p><code>gamma</code>：float 0 &lt;= gamma</p>
<blockquote>
<p>Gamma 系数用以强调较深 (Gamma &lt; 1) 或较浅 (Gamma &gt; 1) 的颜色。</p>
</blockquote>
<p><code>hue</code>：float, 0 &lt;= hue &lt;= 1</p>
<blockquote>
<p>颜色的饱和度。</p>
</blockquote>
<p><code>dark</code>：float 0 &lt;= dark &lt;= 1</p>
<blockquote>
<p>调色板中最暗颜色的强度。</p>
</blockquote>
<p><code>light</code>：float 0 &lt;= light &lt;= 1</p>
<blockquote>
<p>调色板中最浅颜色的强度。</p>
</blockquote>
<p><code>reverse</code>：bool</p>
<blockquote>
<p>如果为 True 值，则调色板将从暗到亮。</p>
</blockquote>
<p><code>as_cmap</code>：bool</p>
<blockquote>
<p>如果为 True 值，则返回 matplotlib colormap 而不是颜色列表。</p>
</blockquote>
<p>返回值：<code>palette or cmap</code>：seaborn 调色板或者 matplotlib colormap</p>
<blockquote>
<p>类似列表的颜色对象的 RGB 元组，或者可以将连续值映射到颜色的 colormap 对象，具体取决于 <code>as_cmap</code> 参数的值。</p>
</blockquote>
<p>另外</p>
<p>启动交互式小部件以调整 cubehelix 调色板参数。创建具有暗低值的连续调色板。创建具有亮低值的连续调色板。</p>
<p>参考</p>
<p>Green, D. A. (2011). “一种用于显示天文强度图像的配色方案”. Bulletin of the Astromical Society of India, Vol. 39, p. 289-295.</p>
<p>例子</p>
<p>生成默认调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/144ee4446ca7ff02dd03b831c6144dbb-163084755751731.jpg" alt=""></p>
<p>从相同的起始位置向后旋转：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span>rot<span class="token operator">=</span><span class="token operator">-</span><span class="token punctuation">.</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/e558f322ef6826a8b67e10ff25919759-163084755751833.jpg" alt=""></p>
<p>使用不同的起点和较短的旋转：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span>start<span class="token operator">=</span><span class="token number">2.8</span><span class="token punctuation">,</span> rot<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/664ee3a6a4dfcace7697e385779f371b-163084755751835.jpg" alt=""></p>
<p>反转亮度渐变方向：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span>reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/13804c3cf58c9d108ea1d638b643451f-163084755751837.jpg" alt=""></p>
<p>生成一个 colormap 对象：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> numpy <span class="token keyword">import</span> arange
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> arange<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> cmap <span class="token operator">=</span> sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span>as_cmap<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>x<span class="token punctuation">,</span> cmap<span class="token operator">=</span>cmap<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/17fa14f23873e6b75933971c609b4fe5-163084755751839.jpg" alt=""></p>
<p>使用完整的亮度范围：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> cmap <span class="token operator">=</span> sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span>dark<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> light<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>x<span class="token punctuation">,</span> cmap<span class="token operator">=</span>cmap<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/ced91ab8985cc6cb41a2b85e098f14e4-163084755751841.jpg" alt=""></p>
<p>使用 <code>color_palette()</code> 函数接口：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">"ch:2,r=.2,l=.6"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/da5c0a4d6279edb54b0bac3bdfe7fed5-163084755751843.jpg" alt=""></p>
<h1 id="seaborn-dark-palette"><a href="#seaborn-dark-palette" class="headerlink" title="seaborn.dark_palette"></a>seaborn.dark_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>dark_palette<span class="token punctuation">(</span>color<span class="token punctuation">,</span> n_colors<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> input<span class="token operator">=</span><span class="token string">'rgb'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>制作一个混合深色和 <code>color</code> 模式的顺序调色板。</p>
<p>这种调色板适用于数据集的范围从相对低值(不感兴趣)到相对高值(很感兴趣)时。</p>
<p>可以通过多种方式指定 <code>color</code> 参数，包括用于在 matplotlib 中定义颜色的所有选项，以及由 seborn 处理的其他几个颜色空间。也可以使用 XKCD color survey 中的颜色名字数据库。</p>
<p>如果您在使用 IPython notebook，您还可以通过 <code>choose_dark_palette()</code> 函数交互式选择调色板。</p>
<p>参数：<code>color</code>：高值的基色</p>
<blockquote>
<p>十六进制、RGB 元组或者颜色名字。</p>
</blockquote>
<p><code>n_colors</code>：int, 可选</p>
<blockquote>
<p>调色板中的颜色数。</p>
</blockquote>
<p><code>reverse</code>：bool, 可选</p>
<blockquote>
<p>如果为 True 值，则反转混合的方向。</p>
</blockquote>
<p><code>as_cmap</code>：bool, optional</p>
<blockquote>
<p>如果为 True 值，则返回 matplotlib colormap 而不是列表。</p>
</blockquote>
<p><code>input</code>：{‘rgb’, ‘hls’, ‘husl’, xkcd’}</p>
<blockquote>
<p>用于解释输入颜色的颜色空间。前三个选项适用于元组输入，后者适用于字符串输入。</p>
</blockquote>
<p>返回值：<code>palette or cmap</code>：seaborn color palette or matplotlib colormap</p>
<blockquote>
<p>类似列表的颜色对象的 RGB 元组，或者可以将连续值映射到颜色的 colormap 对象，具体取决于 as_cmap 参数的值。</p>
</blockquote>
<p>另外</p>
<p>创建具有暗低值的连续调色板。创建有两种颜色的发散调色板。</p>
<p>例子</p>
<p>从一个 HTML 颜色生成一个调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>dark_palette<span class="token punctuation">(</span><span class="token string">"purple"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/d206a78223b0280bfffbfd7cdb262145-163084761893145.jpg" alt=""></p>
<p>生成亮度降低的调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>dark_palette<span class="token punctuation">(</span><span class="token string">"seagreen"</span><span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/eac4541fd6a3e7b30eb535e0a1aab99f-163084761893147.jpg" alt=""></p>
<p>从 HUSL 空间种子生成选项板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>dark_palette<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">260</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> input<span class="token operator">=</span><span class="token string">"husl"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/6e81b4c302189f59de63f96dbee3a197-163084761893149.jpg" alt=""></p>
<p>生成一个 colormap 对象：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> numpy <span class="token keyword">import</span> arange
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> arange<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> cmap <span class="token operator">=</span> sns<span class="token punctuation">.</span>dark_palette<span class="token punctuation">(</span><span class="token string">"#2ecc71"</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>x<span class="token punctuation">,</span> cmap<span class="token operator">=</span>cmap<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f153ef2783202a95337d9ea723fe2984-163084761893151.jpg" alt=""></p>
<h1 id="seaborn-light-palette"><a href="#seaborn-light-palette" class="headerlink" title="seaborn.light_palette"></a>seaborn.light_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>light_palette<span class="token punctuation">(</span>color<span class="token punctuation">,</span> n_colors<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> input<span class="token operator">=</span><span class="token string">'rgb'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>制作一个混合浅色和 <code>color</code> 模式的顺序调色板。</p>
<p>这种调色板适用于数据集的范围从相对低值(不感兴趣)到相对高值(很感兴趣)时。</p>
<p>可以通过多种方式指定 <code>color</code> 参数，包括用于在 matplotlib 中定义颜色的所有选项，以及由 seborn 处理的其他几个颜色空间。也可以使用 XKCD color survey 中的颜色名字数据库。</p>
<p>如果您在使用 IPython notebook，您还可以通过 <code>choose_light_palette()</code> 函数交互式选择调色板。</p>
<p>参数：<code>color</code>：高值的基色</p>
<blockquote>
<p>十六进制、<code>input</code> 中的元组或者颜色名字。</p>
</blockquote>
<p><code>n_colors</code>：int, 可选</p>
<blockquote>
<p>调色板中的颜色数。</p>
</blockquote>
<p><code>reverse</code>：bool, 可选</p>
<blockquote>
<p>如果为 True 值，则反转混合的方向。</p>
</blockquote>
<p><code>as_cmap</code>：bool, 可选</p>
<blockquote>
<p>如果为 True 值，则返回 matplotlib colormap 而不是列表。</p>
</blockquote>
<p><code>input</code>：{‘rgb’, ‘hls’, ‘husl’, xkcd’}</p>
<blockquote>
<p>用于解释输入颜色的颜色空间。前三个选项适用于元组输入，后者适用于字符串输入。</p>
</blockquote>
<p>返回值：<code>palette or cmap</code>：seaborn color palette or matplotlib colormap</p>
<blockquote>
<p>类似列表的颜色对象的 RGB 元组，或者可以将连续值映射到颜色的 colormap 对象，具体取决于 as_cmap 参数的值。</p>
</blockquote>
<p>另外</p>
<p>创建具有暗低值的连续调色板。创建有两种颜色的发散调色板。</p>
<p>例子</p>
<p>从一个 HTML 颜色生成一个调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>light_palette<span class="token punctuation">(</span><span class="token string">"purple"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/74a27bb78efdcf1f93f6c4c77035bb88-163084766821853.jpg" alt=""></p>
<p>生成亮度降低的调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>light_palette<span class="token punctuation">(</span><span class="token string">"seagreen"</span><span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/1b8a02d12771dd98fcd113bf3a601e27-163084766821855.jpg" alt=""></p>
<p>从 HUSL 空间种子生成选项板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>light_palette<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">260</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> input<span class="token operator">=</span><span class="token string">"husl"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2d899c79eea5f0341a72b193b32ee84b-163084766821857.jpg" alt=""></p>
<p>生成一个 colormap 对象：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> numpy <span class="token keyword">import</span> arange
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> arange<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> cmap <span class="token operator">=</span> sns<span class="token punctuation">.</span>light_palette<span class="token punctuation">(</span><span class="token string">"#2ecc71"</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>x<span class="token punctuation">,</span> cmap<span class="token operator">=</span>cmap<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/dc9db2a17529e652fe4c5a187892a2eb-163084766821859.jpg" alt=""></p>
<h1 id="seaborn-diverging-palette"><a href="#seaborn-diverging-palette" class="headerlink" title="seaborn.diverging_palette"></a>seaborn.diverging_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>diverging_palette<span class="token punctuation">(</span>h_neg<span class="token punctuation">,</span> h_pos<span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">75</span><span class="token punctuation">,</span> l<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> n<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> center<span class="token operator">=</span><span class="token string">'light'</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>在两个 HUSL 颜色直接建立一个发散调色板。</p>
<p>如果您在使用 IPython notebook，您还可以通过 <code>choose_diverging_palette()</code> 函数交互式选择调色板。</p>
<p>参数：<code>h_neg, h_pos</code>：float in [0, 359]</p>
<blockquote>
<p>图的正负范围的锚定色调</p>
</blockquote>
<p><code>s</code>：[0, 100] 范围内的浮点数，可选</p>
<blockquote>
<p>图的两个范围的锚定饱和度</p>
</blockquote>
<p><code>l</code>：[0, 100] 范围内的浮点数，可选</p>
<blockquote>
<p>图的两个范围的锚定亮度</p>
</blockquote>
<p><code>n</code>：int，可选</p>
<blockquote>
<p>调色板中的颜色数（如果为not，返回一个colormap）</p>
</blockquote>
<p><code>center</code>：{“light”, “dark”}, 可选</p>
<blockquote>
<p>调色板中心为亮或暗</p>
</blockquote>
<p><code>as_cmap</code>：bool, 可选</p>
<blockquote>
<p>如果为 true，返回一个 matplotlib colormap 而不是一个颜色列表。</p>
</blockquote>
<p>返回值：<code>palette or cmap</code>：seaborn color palette or matplotlib colormap</p>
<blockquote>
<p>类似列表的颜色对象的 RGB 元组，或者可以将连续值映射到颜色的 colormap 对象，具体取决于 <code>as_cmap</code> 参数的值。</p>
</blockquote>
<p>另外</p>
<p>创建具有暗值的连续调色板。创建具有亮值的连续调色板。</p>
<p>例子</p>
<p>生成一个蓝-白-红调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>diverging_palette<span class="token punctuation">(</span><span class="token number">240</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> n<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/35c6cb5f121884b387bc70e68ed2a22d-163084770528861.jpg" alt=""></p>
<p>生成一个更亮的绿-白-紫调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>diverging_palette<span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">275</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">,</span> l<span class="token operator">=</span><span class="token number">55</span><span class="token punctuation">,</span> n<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/bc461a32c1b91013ce1dbb7e3a78d94c-163084770528963.jpg" alt=""></p>
<p>生成一个蓝-黑-红调色板:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>diverging_palette<span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">75</span><span class="token punctuation">,</span> l<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>                                   n<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">,</span> center<span class="token operator">=</span><span class="token string">"dark"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/9003952e6b318f40954e978ce39dd033-163084770528965.jpg" alt=""></p>
<p>生成一个 colormap 对象:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> numpy <span class="token keyword">import</span> arange
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> arange<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> cmap <span class="token operator">=</span> sns<span class="token punctuation">.</span>diverging_palette<span class="token punctuation">(</span><span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>x<span class="token punctuation">,</span> cmap<span class="token operator">=</span>cmap<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/f0eb41dc444960d4e07f9de19e5e8568-163084770528967.jpg" alt=""></p>
<h1 id="seaborn-blend-palette"><a href="#seaborn-blend-palette" class="headerlink" title="seaborn.blend_palette"></a>seaborn.blend_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>blend_palette<span class="token punctuation">(</span>colors<span class="token punctuation">,</span> n_colors<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> input<span class="token operator">=</span><span class="token string">'rgb'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>创建在颜色列表之间混合的调色板。</p>
<p>参数：<code>colors</code>：由 <code>input</code> 解释的各种格式的颜色序列。</p>
<blockquote>
<p>十六进制码，html 颜色名字，或者 <code>input</code> 空间中的元组。</p>
</blockquote>
<p><code>n_colors</code>：int, 可选</p>
<blockquote>
<p>调色板中的颜色数。</p>
</blockquote>
<p><code>as_cmap</code>：bool, 可选</p>
<blockquote>
<p>如果为 True 值，则返回 matplotlib colormap 而不是列表。</p>
</blockquote>
<p>返回值：<code>palette or cmap</code>：seaborn 调色板或 matplotlib colormap</p>
<blockquote>
<p>类似列表的颜色对象的 RGB 元组，或者可以将连续值映射到颜色的 colormap 对象，具体取决于 <code>as_cmap</code> 参数的值。</p>
</blockquote>
<h1 id="seaborn-xkcd-palette"><a href="#seaborn-xkcd-palette" class="headerlink" title="seaborn.xkcd_palette"></a>seaborn.xkcd_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>xkcd_palette<span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>使用来自xkcd color survey的颜色名字生成调色板。</p>
<p>查看完整的 xkcd 颜色列表： <a href="https://xkcd.com/color/rgb/" target="_blank" rel="noopener">https://xkcd.com/color/rgb/</a></p>
<p>这是一个简单的 <code>seaborn.xkcd_rgb</code> 字典的装饰器。</p>
<p>参数：<code>colors</code>：字符串列表</p>
<blockquote>
<p><code>seaborn.xkcd_rgb</code> 字典中的 key 的列表。</p>
</blockquote>
<p>返回值：<code>palette</code>：seaborn 调色板</p>
<blockquote>
<p>类似列表的颜色对象的 RGB 元组，或者可以将连续值映射到颜色的 colormap 对象，具体取决于 <code>as_cmap</code> 参数的值。</p>
</blockquote>
<p>另外</p>
<p>使用 Crayola crayon colors 创建调色板。</p>
<h1 id="seaborn-crayon-palette"><a href="#seaborn-crayon-palette" class="headerlink" title="seaborn.crayon_palette"></a>seaborn.crayon_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>crayon_palette<span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>通过 Crayola crayons 颜色名字生成调色板。</p>
<p>颜色列表在这里获取： <a href="https://en.wikipedia.org/wiki/List_of_Crayola_crayon_colors" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/List_of_Crayola_crayon_colors</a></p>
<p>这是一个简单的 <code>seaborn.crayons</code> 字典的装饰器。</p>
<p>参数：<code>colors</code>：字符串列表</p>
<blockquote>
<p>List of keys in the <code>seaborn.crayons</code> dictionary.</p>
</blockquote>
<p>返回值：<code>palette</code>：seaborn 调色板</p>
<blockquote>
<p>Returns the list of colors as rgb tuples in an object that behaves like other seaborn color palettes.返回一个类似 serborn 调色板的对象，其中包括 RGB 元组构成的的颜色列表。</p>
</blockquote>
<p>另外</p>
<p>使用来自xkcd color survey的颜色名字创建调色板。</p>
<h1 id="seaborn-mpl-palette"><a href="#seaborn-mpl-palette" class="headerlink" title="seaborn.mpl_palette"></a>seaborn.mpl_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>mpl_palette<span class="token punctuation">(</span>name<span class="token punctuation">,</span> n_colors<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>从一个 matplotlib 调色板中返回离散颜色。</p>
<p>请注意，这会正确处理定性的 colorbrewer 调色板，但如果您要求的颜色多于特定的定性调色板，提供的颜色将会比您预期的少。相反，使用 <code>color_palette()</code> 函数请求一个定性 colorbrewer 调色板将会返回预期数目的颜色，但是是循环型的。</p>
<p>如果您在使用 IPython notebook，您还可以通过 <code>choose_colorbrewer_palette()</code> 函数交互式选择调色板。</p>
<p>参数：<code>name</code>：string</p>
<blockquote>
<p>调色板名字，应该是一个被命名的 matplotlib colormap。</p>
</blockquote>
<p><code>n_colors</code>：int</p>
<blockquote>
<p>调色板中离散颜色的个数。</p>
</blockquote>
<p>返回值：<code>palette or cmap</code>：seaborn 调色板或者 matplotlib colormap</p>
<blockquote>
<p>类似列表的颜色对象的 RGB 元组，或者可以将连续值映射到颜色的 colormap 对象，具体取决于 <code>as_cmap</code> 参数的值。</p>
</blockquote>
<p>例子</p>
<p>生成一个含有 8 种颜色的定性 colorbrewer 调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns<span class="token punctuation">;</span> sns<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>mpl_palette<span class="token punctuation">(</span><span class="token string">"Set2"</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/df633411e4b51b4749de8c5349b438cc-163084787943169.jpg" alt=""></p>
<p>生成一个连续的 colorbrewer 调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>mpl_palette<span class="token punctuation">(</span><span class="token string">"Blues"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/e369a8cb7348d971f2471d297addf456-163084787943171.jpg" alt=""></p>
<p>生成一个发散调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>mpl_palette<span class="token punctuation">(</span><span class="token string">"seismic"</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/2690d286a343ff53a43d15d54fc86e91-163084787943273.jpg" alt=""></p>
<p>生成一个 “dark” 顺序调色板：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>mpl_palette<span class="token punctuation">(</span><span class="token string">"GnBu_d"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/loading.gif" data-original="../images/language/dc21c66a962fb741f9f8f63c0374fae1-163084787943275.jpg" alt=""></p>
<h1 id="seaborn-choose-colorbrewer-palette"><a href="#seaborn-choose-colorbrewer-palette" class="headerlink" title="seaborn.choose_colorbrewer_palette"></a>seaborn.choose_colorbrewer_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>choose_colorbrewer_palette<span class="token punctuation">(</span>data_type<span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>在 ColorBrewer 集中选择一个调色板。</p>
<p>这些调色板内置于 matplotlib 库中，可以通过名字在 seaborn 函数中调用，或者作为对象返回给这个函数。</p>
<p>参数：<code>data_type</code>：{‘sequential’, ‘diverging’, ‘qualitative’}</p>
<blockquote>
<p>描述您想要实现可视化的数据类型。查看 serborn 调色板文档来了解更多如何取值。注意，您可以传递子字符串（例如，‘q’ 代表 ‘qualitative‘）</p>
</blockquote>
<p><code>as_cmap</code>：bool</p>
<blockquote>
<p>如果为 True 值，则返回 matplotlib colormap 而不是离散颜色的列表。</p>
</blockquote>
<p>返回值：<code>pal or cmap</code>：颜色列表或 matplotlib colormap</p>
<blockquote>
<p>可以被传递给 plotting 函数的对象。</p>
</blockquote>
<p>另外</p>
<p>创建具有暗低值的连续调色板。创建具有亮低值的连续调色板。从选中的颜色中创建发散调色板。使用 cubehelix 创建连续调色板或者 colormap。</p>
<h1 id="seaborn-choose-cubehelix-palette"><a href="#seaborn-choose-cubehelix-palette" class="headerlink" title="seaborn.choose_cubehelix_palette"></a>seaborn.choose_cubehelix_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>choose_cubehelix_palette<span class="token punctuation">(</span>as_cmap<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>启动交互式小部件以创建顺序 cubehelix 调色板。</p>
<p>这与 <code>cubehelix_palette()</code> 函数相对应。这种调色板在数据集的范围从相对低值(不感兴趣)到相对高值(很感兴趣)时很有用。cubehelix 系统允许调色板在整个范围内具有更多的色调变化，这有助于区分更广泛的值。</p>
<p>需要 2.0 以上版本 IPython，必须在 notebook 中使用。</p>
<p>参数：<code>as_cmap</code>：bool</p>
<blockquote>
<p>如果为 True 值，则返回 matplotlib colormap 而不是离散颜色的列表。</p>
</blockquote>
<p>返回值：<code>pal or cmap</code>：颜色列表或 matplotlib colormap</p>
<blockquote>
<p>可以被传递给 plotting 函数的对象。</p>
</blockquote>
<p>另外</p>
<p>使用 cubehelix 创建连续调色板或者 colormap。</p>
<h1 id="seaborn-choose-light-palette"><a href="#seaborn-choose-light-palette" class="headerlink" title="seaborn.choose_light_palette"></a>seaborn.choose_light_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>choose_light_palette<span class="token punctuation">(</span>input<span class="token operator">=</span><span class="token string">'husl'</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>启动交互式小部件以创建亮色顺序调色板。</p>
<p>与 <code>light_palette()</code> 函数相对应。 这种调色板在数据集的范围从相对低值(不感兴趣)到相对高值(很感兴趣)时很有用。</p>
<p>需要 2.0 以上版本 IPython，必须在 notebook 中使用。</p>
<p>参数：<code>input</code>：{‘husl’, ‘hls’, ‘rgb’}</p>
<blockquote>
<p>色彩空间用于定义种子值。请注意，此默认值与 <code>light_palette()</code> 的默认输入值不同。</p>
</blockquote>
<p>参数：<code>as_cmap</code>：bool</p>
<blockquote>
<p>如果为 True 值，则返回 matplotlib colormap 而不是离散颜色的列表。</p>
</blockquote>
<p>返回值：<code>pal or cmap</code>：颜色列表或 matplotlib colormap</p>
<blockquote>
<p>可以被传递给 plotting 函数的对象。</p>
</blockquote>
<p>另外</p>
<p>创建具有暗低值的连续调色板。创建具有亮低值的连续调色板。使用 cubehelix 创建连续调色板或者 colormap。</p>
<h1 id="seaborn-choose-dark-palette"><a href="#seaborn-choose-dark-palette" class="headerlink" title="seaborn.choose_dark_palette"></a>seaborn.choose_dark_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>choose_dark_palette<span class="token punctuation">(</span>input<span class="token operator">=</span><span class="token string">'husl'</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>启动交互式小部件以创建暗色顺序调色板。</p>
<p>与 <code>dark_palette()</code> 函数相对应。这种调色板在数据集的范围从相对低值(不感兴趣)到相对高值(很感兴趣)时很有用。</p>
<p>需要 2.0 以上版本 IPython，必须在 notebook 中使用。</p>
<p>参数：<code>input</code>：{‘husl’, ‘hls’, ‘rgb’}</p>
<blockquote>
<p>色彩空间用于定义种子值。请注意，此默认值与 <code>dark_palette()</code> 的默认输入值不同。</p>
</blockquote>
<p>参数：<code>as_cmap</code>：bool</p>
<blockquote>
<p>如果为 True 值，则返回 matplotlib colormap 而不是离散颜色的列表。</p>
</blockquote>
<p>返回值：<code>pal or cmap</code>：颜色列表或 matplotlib colormap</p>
<blockquote>
<p>可以被传递给 plotting 函数的对象。</p>
</blockquote>
<p>另外</p>
<p>创建具有暗低值的连续调色板。创建具有亮低值的连续调色板。使用 cubehelix 创建连续调色板或者 colormap。</p>
<h1 id="seaborn-choose-diverging-palette"><a href="#seaborn-choose-diverging-palette" class="headerlink" title="seaborn.choose_diverging_palette"></a>seaborn.choose_diverging_palette</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>choose_diverging_palette<span class="token punctuation">(</span>as_cmap<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>启动交互式小部件以创建一个发散调色板。</p>
<p>这与 <code>diverging_palette()</code> 函数相对应。这种调色板适用于对低值和高值都感兴趣并且中间点也有意义的数据。（例如，相对与某些基准值的分数变化）。</p>
<p>需要 2.0 以上版本 IPython，必须在 notebook 中使用。</p>
<p>参数：<code>as_cmap</code>：bool</p>
<blockquote>
<p>如果为 True 值，则返回 matplotlib colormap 而不是离散颜色的列表。</p>
</blockquote>
<p>返回值：<code>pal or cmap</code>：颜色列表或 matplotlib colormap</p>
<blockquote>
<p>可以被传递给 plotting 函数的对象。</p>
</blockquote>
<p>另外</p>
<p>生成一个发散调色板或者 colormap。从 colorbrewer 集中交互式选择调色板，包括发散调色板。</p>
<h1 id="seaborn-load-dataset"><a href="#seaborn-load-dataset" class="headerlink" title="seaborn.load_dataset"></a>seaborn.load_dataset</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span>name<span class="token punctuation">,</span> cache<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> data_home<span class="token operator">=</span>None<span class="token punctuation">,</span> <span class="token operator">**</span>kws<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>从在线库中获取数据集（需要联网）。</p>
<p>参数：<code>name</code>：字符串</p>
<blockquote>
<p>数据集的名字 (<cite>name</cite>.csv on <a href="https://github.com/mwaskom/seaborn-data)。" target="_blank" rel="noopener">https://github.com/mwaskom/seaborn-data)。</a> 您可以通过 <code>get_dataset_names()</code> 获取可用的数据集。</p>
</blockquote>
<p><code>cache</code>：boolean, 可选</p>
<blockquote>
<p>如果为True，则在本地缓存数据并在后续调用中使用缓存。</p>
</blockquote>
<p><code>data_home</code>：string, 可选</p>
<blockquote>
<p>用于存储缓存数据的目录。 默认情况下使用 ~/seaborn-data/</p>
</blockquote>
<p><code>kws</code>：dict, 可选</p>
<blockquote>
<p>传递给 pandas.read_csv</p>
</blockquote>
<h1 id="seaborn-despine"><a href="#seaborn-despine" class="headerlink" title="seaborn.despine"></a>seaborn.despine</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>despine<span class="token punctuation">(</span>fig<span class="token operator">=</span>None<span class="token punctuation">,</span> ax<span class="token operator">=</span>None<span class="token punctuation">,</span> top<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> right<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> left<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> bottom<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> offset<span class="token operator">=</span>None<span class="token punctuation">,</span> trim<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>从图中移除顶部和右侧脊柱。</p>
<pre><code>fig : matplotlib 值, 可选</code></pre><p>去除所有轴脊柱，默认使用当前数值。</p>
<pre><code>ax : matplotlib 轴, 可选</code></pre><p>去除特定的轴脊柱。</p>
<pre><code>top, right, left, bottom : boolean, 可选</code></pre><p>如果为 True，去除脊柱。</p>
<pre><code>offset : int or dict, 可选</code></pre><p>绝对距离（以磅为单位）应将脊椎移离轴线（负值向内移动脊柱）。 单个值适用于所有脊柱; 字典可用于设置每侧的偏移值。</p>
<pre><code>trim : bool, 可选</code></pre><p>如果为True，则将脊柱限制为每个非去除脊柱的轴上的最小和最大主刻度。</p>
<p>返回值：None || —- | —- |</p>
<h1 id="seaborn-desaturate"><a href="#seaborn-desaturate" class="headerlink" title="seaborn.desaturate"></a>seaborn.desaturate</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>desaturate<span class="token punctuation">(</span>color<span class="token punctuation">,</span> prop<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>减少颜色的饱和度。</p>
<p>参数：<code>color</code>：matplotlib 颜色</p>
<blockquote>
<p>十六进制，rgb 元组或者html颜色名字</p>
</blockquote>
<p><code>prop</code>：float</p>
<blockquote>
<p>颜色的饱和度将乘以该值</p>
</blockquote>
<p>返回值：<code>new_color</code>：rgb 元组</p>
<blockquote>
<p>RGB元组表示去饱和的颜色代码</p>
</blockquote>
<h1 id="seaborn-saturate"><a href="#seaborn-saturate" class="headerlink" title="seaborn.saturate"></a>seaborn.saturate</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>saturate<span class="token punctuation">(</span>color<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>返回具有相同色调的完全饱和的颜色。</p>
<p>参数：<code>color</code>：matplotlib 颜色</p>
<blockquote>
<p>十六进制，rgb 元组或者html颜色名字</p>
</blockquote>
<p>返回值：<code>new_color</code>：rgb 元组</p>
<blockquote>
<p>RGB元组表示的饱和颜色代码</p>
</blockquote>
<h1 id="seaborn-set-hls-values"><a href="#seaborn-set-hls-values" class="headerlink" title="seaborn.set_hls_values"></a>seaborn.set_hls_values</h1><pre class="line-numbers language-python"><code class="language-python">seaborn<span class="token punctuation">.</span>set_hls_values<span class="token punctuation">(</span>color<span class="token punctuation">,</span> h<span class="token operator">=</span>None<span class="token punctuation">,</span> l<span class="token operator">=</span>None<span class="token punctuation">,</span> s<span class="token operator">=</span>None<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>独立修改一个颜色的 h, l 或 s 值。</p>
<p>参数：<code>color</code>：matplotlib 颜色</p>
<blockquote>
<p>十六进制，rgb 元组或者html颜色名字</p>
</blockquote>
<p><code>h, l, s</code>：0 到 1 之间的浮点数，或者为 None</p>
<blockquote>
<p>hls 空间中的新值。</p>
</blockquote>
<p>返回值：<code>new_color</code>：rgb 元组</p>
<blockquote>
<p>RGB元组表示中的新颜色代码</p>
</blockquote>
<h1 id="Seaborn实战"><a href="#Seaborn实战" class="headerlink" title="Seaborn实战"></a>Seaborn实战</h1><ul>
<li><a href="https://mp.weixin.qq.com/s/WlqlglM41eK6wU5CUjk3Dg" target="_blank" rel="noopener">Seaborn 绘制 21 种超实用精美图表</a></li>
</ul>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://jackhcc.github.io" rel="external nofollow noreferrer">杰克成</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://jackhcc.github.io/posts/blog-python17.html">https://jackhcc.github.io/posts/blog-python17.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="https://jackhcc.github.io" target="_blank">杰克成</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Seaborn/">
                                    <span class="chip bg-color">Seaborn</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/reward/aliqr.png" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/reward/wxqr.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            
        </div>
    </div>

    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: '3821a0bbb773038a51fc',
        clientSecret: '4b30b507d67ec5497ec0e77f43f80cb3e0d7dd3a',
        repo: 'JackHCC.github.io',
        owner: 'JackHCC',
        admin: "JackHCC",
        id: '2021-09-05T17-08-10',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>
    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/posts/awesome-bcsd.html">
                    <div class="card-image">
                        
                        
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/featureimages/22.jpg" class="responsive-img" alt="Awesome BCSD 2021">
                        
                        <span class="card-title">Awesome BCSD 2021</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Binary Code Similarity Detection 2021 研究汇总
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-09-07
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Awesome/" class="post-category">
                                    Awesome
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/BCSD/">
                        <span class="chip bg-color">BCSD</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/posts/windows-software.html">
                    <div class="card-image">
                        
                        
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/featureimages/7.jpg" class="responsive-img" alt="Windows装机软件">
                        
                        <span class="card-title">Windows装机软件</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Windows高效办公程序员装机软件推荐
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-09-04
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Basic/" class="post-category">
                                    Basic
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Software/">
                        <span class="chip bg-color">Software</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('4'),
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



    <footer class="page-footer bg-color">
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2020</span>
            <a href="https://jackhcc.github.io" target="_blank">杰克成</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">3591.2k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2020";
                    var startMonth = "2";
                    var startDate = "27";
                    var startHour = "6";
                    var startMinute = "30";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/JackHCC" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:jackcc0701@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>



    <a href="https://www.facebook.com/profile.php?id=100046343443643" class="tooltipped" target="_blank" data-tooltip="关注我的Facebook: https://www.facebook.com/profile.php?id=100046343443643" data-position="top" data-delay="50">
        <i class="fab fa-facebook-f"></i>
    </a>



    <a href="https://twitter.com/JackChe66021834" class="tooltipped" target="_blank" data-tooltip="关注我的Twitter: https://twitter.com/JackChe66021834" data-position="top" data-delay="50">
        <i class="fab fa-twitter"></i>
    </a>



    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2508074836" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2508074836" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>



    <a href="https://weibo.com/u/6885584679" class="tooltipped" target="_blank" data-tooltip="关注我的微博: https://weibo.com/u/6885584679" data-position="top" data-delay="50">
        <i class="fab fa-weibo"></i>
    </a>



    <a href="https://www.zhihu.com/people/8f8482f01f0d6a04e844efe32e0f0710" class="tooltipped" target="_blank" data-tooltip="关注我的知乎: https://www.zhihu.com/people/8f8482f01f0d6a04e844efe32e0f0710" data-position="top" data-delay="50">
        <i class="fab fa-zhihu1">知</i>
    </a>



</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/materialize/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/aos/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/js/matery.js"></script>

    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas>
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
    <script type="text/javascript" src="/js/fireworks.js"></script>

    <script type="text/javascript">
        //只在桌面版网页启用特效
        var windowWidth = $(window).width();
        if (windowWidth > 768) {
            document.write('<script type="text/javascript" src="/js/sakura.js"><\/script>'); }
    </script>

    <!-- weather -->
	<script type="text/javascript">
	WIDGET = {FID: 'TToslpmkVO'}
	</script>
	<script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111"></script>


    <!-- Global site tag (gtag.js) - Google Analytics -->


    <!-- Baidu Analytics -->

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

    <!-- Baidu Push -->

    
    
    <script async src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/others/busuanzi.pure.mini.js"></script>
    

    
        <script src="//code.tidio.co/kqhlkxviiccyoa0czpfpu4ijuey9hfre.js"></script>
        <script> 
            $(document).ready(function () {
                setInterval(change_Tidio, 50);  
                function change_Tidio() { 
                    var tidio=$("#tidio-chat iframe");
                    if(tidio.css("display")=="block"&& $(window).width()>977 ){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" &&$(window).width()>977)>0? "-40px" : ($("div.toc-title").length&&$(window).width()>977)>0?"85px":"20px";   
                        document.getElementById("tidio-chat-iframe").style.right="-15px";   
                        document.getElementById("tidio-chat-iframe").style.height=parseInt(tidio.css("height"))>=520?"520px":tidio.css("height");
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    } 
                    else if(tidio.css("display")=="block"&&$(window).width()>601 &&$(window).width()<992 ){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" && 601< $(window).width()<992)>0? "-40px":"20px" ;   
                        document.getElementById("tidio-chat-iframe").style.right="-15px"; 
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    }
                    else if(tidio.css("display")=="block"&&$(window).width()<601 && parseInt(tidio.css("height"))<230){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" && $(window).width()<601)>0? "-10px":"45px" ;   
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    }
                    if( tidio.css("display")=="block"&&$(window).width()<601 && parseInt(tidio.css("height"))>=230){
                        document.getElementById("tidio-chat-iframe").style.zIndex="998";
                    }
                } 
            }); 
        </script>
    

    

    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/background/canvas-nest.js"></script>
    

    

    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/background/ribbon-dynamic.js" async="async"></script>
    
    
    
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/instantpage/instantpage.js" type="module"></script>
    

        <script src="//cdn.jsdelivr.net/npm/js-base64/base64.min.js"></script>
        <script>
        $('a').each(function() {
          const $this = $(this);
          const href = $this.attr('href');
          if (href && href.match('^((http|https|thunder|qqdl|ed2k|Flashget|qbrowser|ftp|rtsp|mms)://)')) {
            const strs = href.split('/');
            if (strs.length >= 3) {
                const host = strs[2];
                if (host !== 'your_domain' || window.location.host) {
                    $this.attr('href', '/go.html?u='+Base64.encode(href)+'').attr('rel', 'external nofollow noopener noreferrer');
                    if (true) {
                        $this.attr('target', '_blank');
                    }
                }
            }
          }
        });
        </script><script>!function(e){var c=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){for(var r=0;r<c.length;r++)t=c[r],0<=(n=t.getBoundingClientRect()).bottom&&0<=n.left&&n.top<=(e.innerHeight||document.documentElement.clientHeight)&&function(){var t,n,e,i,o=c[r];t=o,n=function(){c=c.filter(function(t){return o!==t})},e=new Image,i=t.getAttribute("data-original"),e.onload=function(){t.src=i,n&&n()},e.src=i}();var t,n}i(),e.addEventListener("scroll",function(){var t,n;t=i,n=e,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)})}(this);</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script></body>

</html>

